(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var w_={exports:{}},md={},__={exports:{}},oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pl=Symbol.for("react.element"),OS=Symbol.for("react.portal"),LS=Symbol.for("react.fragment"),FS=Symbol.for("react.strict_mode"),US=Symbol.for("react.profiler"),BS=Symbol.for("react.provider"),$S=Symbol.for("react.context"),zS=Symbol.for("react.forward_ref"),qS=Symbol.for("react.suspense"),HS=Symbol.for("react.memo"),WS=Symbol.for("react.lazy"),lx=Symbol.iterator;function KS(t){return t===null||typeof t!="object"?null:(t=lx&&t[lx]||t["@@iterator"],typeof t=="function"?t:null)}var b_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E_=Object.assign,T_={};function po(t,e,n){this.props=t,this.context=e,this.refs=T_,this.updater=n||b_}po.prototype.isReactComponent={};po.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};po.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function N_(){}N_.prototype=po.prototype;function Ip(t,e,n){this.props=t,this.context=e,this.refs=T_,this.updater=n||b_}var Sp=Ip.prototype=new N_;Sp.constructor=Ip;E_(Sp,po.prototype);Sp.isPureReactComponent=!0;var cx=Array.isArray,I_=Object.prototype.hasOwnProperty,Cp={current:null},S_={key:!0,ref:!0,__self:!0,__source:!0};function C_(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)I_.call(e,r)&&!S_.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];s.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:pl,type:t,key:i,ref:o,props:s,_owner:Cp.current}}function GS(t,e){return{$$typeof:pl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ap(t){return typeof t=="object"&&t!==null&&t.$$typeof===pl}function QS(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ux=/\/+/g;function Ah(t,e){return typeof t=="object"&&t!==null&&t.key!=null?QS(""+t.key):e.toString(36)}function Vc(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case pl:case OS:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Ah(o,0):r,cx(s)?(n="",t!=null&&(n=t.replace(ux,"$&/")+"/"),Vc(s,e,n,"",function(d){return d})):s!=null&&(Ap(s)&&(s=GS(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(ux,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",cx(t))for(var l=0;l<t.length;l++){i=t[l];var c=r+Ah(i,l);o+=Vc(i,e,n,c,s)}else if(c=KS(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=r+Ah(i,l++),o+=Vc(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function rc(t,e,n){if(t==null)return t;var r=[],s=0;return Vc(t,r,"","",function(i){return e.call(n,i,s++)}),r}function YS(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ct={current:null},Mc={transition:null},XS={ReactCurrentDispatcher:Ct,ReactCurrentBatchConfig:Mc,ReactCurrentOwner:Cp};function A_(){throw Error("act(...) is not supported in production builds of React.")}oe.Children={map:rc,forEach:function(t,e,n){rc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return rc(t,function(){e++}),e},toArray:function(t){return rc(t,function(e){return e})||[]},only:function(t){if(!Ap(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};oe.Component=po;oe.Fragment=LS;oe.Profiler=US;oe.PureComponent=Ip;oe.StrictMode=FS;oe.Suspense=qS;oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XS;oe.act=A_;oe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=E_({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Cp.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)I_.call(e,c)&&!S_.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:pl,type:t.type,key:s,ref:i,props:r,_owner:o}};oe.createContext=function(t){return t={$$typeof:$S,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:BS,_context:t},t.Consumer=t};oe.createElement=C_;oe.createFactory=function(t){var e=C_.bind(null,t);return e.type=t,e};oe.createRef=function(){return{current:null}};oe.forwardRef=function(t){return{$$typeof:zS,render:t}};oe.isValidElement=Ap;oe.lazy=function(t){return{$$typeof:WS,_payload:{_status:-1,_result:t},_init:YS}};oe.memo=function(t,e){return{$$typeof:HS,type:t,compare:e===void 0?null:e}};oe.startTransition=function(t){var e=Mc.transition;Mc.transition={};try{t()}finally{Mc.transition=e}};oe.unstable_act=A_;oe.useCallback=function(t,e){return Ct.current.useCallback(t,e)};oe.useContext=function(t){return Ct.current.useContext(t)};oe.useDebugValue=function(){};oe.useDeferredValue=function(t){return Ct.current.useDeferredValue(t)};oe.useEffect=function(t,e){return Ct.current.useEffect(t,e)};oe.useId=function(){return Ct.current.useId()};oe.useImperativeHandle=function(t,e,n){return Ct.current.useImperativeHandle(t,e,n)};oe.useInsertionEffect=function(t,e){return Ct.current.useInsertionEffect(t,e)};oe.useLayoutEffect=function(t,e){return Ct.current.useLayoutEffect(t,e)};oe.useMemo=function(t,e){return Ct.current.useMemo(t,e)};oe.useReducer=function(t,e,n){return Ct.current.useReducer(t,e,n)};oe.useRef=function(t){return Ct.current.useRef(t)};oe.useState=function(t){return Ct.current.useState(t)};oe.useSyncExternalStore=function(t,e,n){return Ct.current.useSyncExternalStore(t,e,n)};oe.useTransition=function(){return Ct.current.useTransition()};oe.version="18.3.1";__.exports=oe;var k=__.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JS=k,ZS=Symbol.for("react.element"),eC=Symbol.for("react.fragment"),tC=Object.prototype.hasOwnProperty,nC=JS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,rC={key:!0,ref:!0,__self:!0,__source:!0};function P_(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)tC.call(e,r)&&!rC.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:ZS,type:t,key:i,ref:o,props:s,_owner:nC.current}}md.Fragment=eC;md.jsx=P_;md.jsxs=P_;w_.exports=md;var a=w_.exports,k_={exports:{}},Kt={},R_={exports:{}},j_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(q,X){var J=q.length;q.push(X);e:for(;0<J;){var ye=J-1>>>1,F=q[ye];if(0<s(F,X))q[ye]=X,q[J]=F,J=ye;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var X=q[0],J=q.pop();if(J!==X){q[0]=J;e:for(var ye=0,F=q.length,V=F>>>1;ye<V;){var W=2*(ye+1)-1,ie=q[W],Be=W+1,Wn=q[Be];if(0>s(ie,J))Be<F&&0>s(Wn,ie)?(q[ye]=Wn,q[Be]=J,ye=Be):(q[ye]=ie,q[W]=J,ye=W);else if(Be<F&&0>s(Wn,J))q[ye]=Wn,q[Be]=J,ye=Be;else break e}}return X}function s(q,X){var J=q.sortIndex-X.sortIndex;return J!==0?J:q.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],h=1,m=null,f=3,g=!1,v=!1,C=!1,A=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(q){for(var X=n(d);X!==null;){if(X.callback===null)r(d);else if(X.startTime<=q)r(d),X.sortIndex=X.expirationTime,e(c,X);else break;X=n(d)}}function R(q){if(C=!1,N(q),!v)if(n(c)!==null)v=!0,Ut(j);else{var X=n(d);X!==null&&ae(R,X.startTime-q)}}function j(q,X){v=!1,C&&(C=!1,T(x),x=-1),g=!0;var J=f;try{for(N(X),m=n(c);m!==null&&(!(m.expirationTime>X)||q&&!I());){var ye=m.callback;if(typeof ye=="function"){m.callback=null,f=m.priorityLevel;var F=ye(m.expirationTime<=X);X=t.unstable_now(),typeof F=="function"?m.callback=F:m===n(c)&&r(c),N(X)}else r(c);m=n(c)}if(m!==null)var V=!0;else{var W=n(d);W!==null&&ae(R,W.startTime-X),V=!1}return V}finally{m=null,f=J,g=!1}}var O=!1,w=null,x=-1,E=5,_=-1;function I(){return!(t.unstable_now()-_<E)}function D(){if(w!==null){var q=t.unstable_now();_=q;var X=!0;try{X=w(!0,q)}finally{X?P():(O=!1,w=null)}}else O=!1}var P;if(typeof b=="function")P=function(){b(D)};else if(typeof MessageChannel<"u"){var he=new MessageChannel,et=he.port2;he.port1.onmessage=D,P=function(){et.postMessage(null)}}else P=function(){A(D,0)};function Ut(q){w=q,O||(O=!0,P())}function ae(q,X){x=A(function(){q(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_continueExecution=function(){v||g||(v=!0,Ut(j))},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(q){switch(f){case 1:case 2:case 3:var X=3;break;default:X=f}var J=f;f=X;try{return q()}finally{f=J}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(q,X){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var J=f;f=q;try{return X()}finally{f=J}},t.unstable_scheduleCallback=function(q,X,J){var ye=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?ye+J:ye):J=ye,q){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=J+F,q={id:h++,callback:X,priorityLevel:q,startTime:J,expirationTime:F,sortIndex:-1},J>ye?(q.sortIndex=J,e(d,q),n(c)===null&&q===n(d)&&(C?(T(x),x=-1):C=!0,ae(R,J-ye))):(q.sortIndex=F,e(c,q),v||g||(v=!0,Ut(j))),q},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(q){var X=f;return function(){var J=f;f=X;try{return q.apply(this,arguments)}finally{f=J}}}})(j_);R_.exports=j_;var sC=R_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iC=k,Wt=sC;function $(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var D_=new Set,Da={};function Js(t,e){Wi(t,e),Wi(t+"Capture",e)}function Wi(t,e){for(Da[t]=e,t=0;t<e.length;t++)D_.add(e[t])}var lr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jm=Object.prototype.hasOwnProperty,oC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,dx={},hx={};function aC(t){return jm.call(hx,t)?!0:jm.call(dx,t)?!1:oC.test(t)?hx[t]=!0:(dx[t]=!0,!1)}function lC(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function cC(t,e,n,r){if(e===null||typeof e>"u"||lC(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function At(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var at={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){at[t]=new At(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];at[e]=new At(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){at[t]=new At(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){at[t]=new At(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){at[t]=new At(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){at[t]=new At(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){at[t]=new At(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){at[t]=new At(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){at[t]=new At(t,5,!1,t.toLowerCase(),null,!1,!1)});var Pp=/[\-:]([a-z])/g;function kp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Pp,kp);at[e]=new At(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Pp,kp);at[e]=new At(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Pp,kp);at[e]=new At(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){at[t]=new At(t,1,!1,t.toLowerCase(),null,!1,!1)});at.xlinkHref=new At("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){at[t]=new At(t,1,!1,t.toLowerCase(),null,!0,!0)});function Rp(t,e,n,r){var s=at.hasOwnProperty(e)?at[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(cC(e,n,s,r)&&(n=null),r||s===null?aC(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var br=iC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,sc=Symbol.for("react.element"),xi=Symbol.for("react.portal"),vi=Symbol.for("react.fragment"),jp=Symbol.for("react.strict_mode"),Dm=Symbol.for("react.profiler"),V_=Symbol.for("react.provider"),M_=Symbol.for("react.context"),Dp=Symbol.for("react.forward_ref"),Vm=Symbol.for("react.suspense"),Mm=Symbol.for("react.suspense_list"),Vp=Symbol.for("react.memo"),Ar=Symbol.for("react.lazy"),O_=Symbol.for("react.offscreen"),mx=Symbol.iterator;function qo(t){return t===null||typeof t!="object"?null:(t=mx&&t[mx]||t["@@iterator"],typeof t=="function"?t:null)}var Re=Object.assign,Ph;function na(t){if(Ph===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ph=e&&e[1]||""}return`
`+Ph+t}var kh=!1;function Rh(t,e){if(!t||kh)return"";kh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{kh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?na(t):""}function uC(t){switch(t.tag){case 5:return na(t.type);case 16:return na("Lazy");case 13:return na("Suspense");case 19:return na("SuspenseList");case 0:case 2:case 15:return t=Rh(t.type,!1),t;case 11:return t=Rh(t.type.render,!1),t;case 1:return t=Rh(t.type,!0),t;default:return""}}function Om(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case vi:return"Fragment";case xi:return"Portal";case Dm:return"Profiler";case jp:return"StrictMode";case Vm:return"Suspense";case Mm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case M_:return(t.displayName||"Context")+".Consumer";case V_:return(t._context.displayName||"Context")+".Provider";case Dp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Vp:return e=t.displayName||null,e!==null?e:Om(t.type)||"Memo";case Ar:e=t._payload,t=t._init;try{return Om(t(e))}catch{}}return null}function dC(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Om(e);case 8:return e===jp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Zr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function L_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function hC(t){var e=L_(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ic(t){t._valueTracker||(t._valueTracker=hC(t))}function F_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=L_(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function hu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Lm(t,e){var n=e.checked;return Re({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function fx(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Zr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function U_(t,e){e=e.checked,e!=null&&Rp(t,"checked",e,!1)}function Fm(t,e){U_(t,e);var n=Zr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Um(t,e.type,n):e.hasOwnProperty("defaultValue")&&Um(t,e.type,Zr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function px(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Um(t,e,n){(e!=="number"||hu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ra=Array.isArray;function Mi(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Zr(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Bm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error($(91));return Re({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function gx(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error($(92));if(ra(n)){if(1<n.length)throw Error($(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Zr(n)}}function B_(t,e){var n=Zr(e.value),r=Zr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function yx(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function $_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $m(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?$_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var oc,z_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(oc=oc||document.createElement("div"),oc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=oc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Va(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var da={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mC=["Webkit","ms","Moz","O"];Object.keys(da).forEach(function(t){mC.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),da[e]=da[t]})});function q_(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||da.hasOwnProperty(t)&&da[t]?(""+e).trim():e+"px"}function H_(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=q_(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var fC=Re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zm(t,e){if(e){if(fC[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error($(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error($(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error($(61))}if(e.style!=null&&typeof e.style!="object")throw Error($(62))}}function qm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hm=null;function Mp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Wm=null,Oi=null,Li=null;function xx(t){if(t=xl(t)){if(typeof Wm!="function")throw Error($(280));var e=t.stateNode;e&&(e=xd(e),Wm(t.stateNode,t.type,e))}}function W_(t){Oi?Li?Li.push(t):Li=[t]:Oi=t}function K_(){if(Oi){var t=Oi,e=Li;if(Li=Oi=null,xx(t),e)for(t=0;t<e.length;t++)xx(e[t])}}function G_(t,e){return t(e)}function Q_(){}var jh=!1;function Y_(t,e,n){if(jh)return t(e,n);jh=!0;try{return G_(t,e,n)}finally{jh=!1,(Oi!==null||Li!==null)&&(Q_(),K_())}}function Ma(t,e){var n=t.stateNode;if(n===null)return null;var r=xd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error($(231,e,typeof n));return n}var Km=!1;if(lr)try{var Ho={};Object.defineProperty(Ho,"passive",{get:function(){Km=!0}}),window.addEventListener("test",Ho,Ho),window.removeEventListener("test",Ho,Ho)}catch{Km=!1}function pC(t,e,n,r,s,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(h){this.onError(h)}}var ha=!1,mu=null,fu=!1,Gm=null,gC={onError:function(t){ha=!0,mu=t}};function yC(t,e,n,r,s,i,o,l,c){ha=!1,mu=null,pC.apply(gC,arguments)}function xC(t,e,n,r,s,i,o,l,c){if(yC.apply(this,arguments),ha){if(ha){var d=mu;ha=!1,mu=null}else throw Error($(198));fu||(fu=!0,Gm=d)}}function Zs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function X_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function vx(t){if(Zs(t)!==t)throw Error($(188))}function vC(t){var e=t.alternate;if(!e){if(e=Zs(t),e===null)throw Error($(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return vx(s),t;if(i===r)return vx(s),e;i=i.sibling}throw Error($(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error($(189))}}if(n.alternate!==r)throw Error($(190))}if(n.tag!==3)throw Error($(188));return n.stateNode.current===n?t:e}function J_(t){return t=vC(t),t!==null?Z_(t):null}function Z_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Z_(t);if(e!==null)return e;t=t.sibling}return null}var eb=Wt.unstable_scheduleCallback,wx=Wt.unstable_cancelCallback,wC=Wt.unstable_shouldYield,_C=Wt.unstable_requestPaint,Ue=Wt.unstable_now,bC=Wt.unstable_getCurrentPriorityLevel,Op=Wt.unstable_ImmediatePriority,tb=Wt.unstable_UserBlockingPriority,pu=Wt.unstable_NormalPriority,EC=Wt.unstable_LowPriority,nb=Wt.unstable_IdlePriority,fd=null,Cn=null;function TC(t){if(Cn&&typeof Cn.onCommitFiberRoot=="function")try{Cn.onCommitFiberRoot(fd,t,void 0,(t.current.flags&128)===128)}catch{}}var xn=Math.clz32?Math.clz32:SC,NC=Math.log,IC=Math.LN2;function SC(t){return t>>>=0,t===0?32:31-(NC(t)/IC|0)|0}var ac=64,lc=4194304;function sa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function gu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=sa(l):(i&=o,i!==0&&(r=sa(i)))}else o=n&~s,o!==0?r=sa(o):i!==0&&(r=sa(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-xn(e),s=1<<n,r|=t[n],e&=~s;return r}function CC(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function AC(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-xn(i),l=1<<o,c=s[o];c===-1?(!(l&n)||l&r)&&(s[o]=CC(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function Qm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function rb(){var t=ac;return ac<<=1,!(ac&4194240)&&(ac=64),t}function Dh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function gl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-xn(e),t[e]=n}function PC(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-xn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Lp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-xn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var ge=0;function sb(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ib,Fp,ob,ab,lb,Ym=!1,cc=[],Br=null,$r=null,zr=null,Oa=new Map,La=new Map,kr=[],kC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _x(t,e){switch(t){case"focusin":case"focusout":Br=null;break;case"dragenter":case"dragleave":$r=null;break;case"mouseover":case"mouseout":zr=null;break;case"pointerover":case"pointerout":Oa.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":La.delete(e.pointerId)}}function Wo(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=xl(e),e!==null&&Fp(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function RC(t,e,n,r,s){switch(e){case"focusin":return Br=Wo(Br,t,e,n,r,s),!0;case"dragenter":return $r=Wo($r,t,e,n,r,s),!0;case"mouseover":return zr=Wo(zr,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Oa.set(i,Wo(Oa.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,La.set(i,Wo(La.get(i)||null,t,e,n,r,s)),!0}return!1}function cb(t){var e=Cs(t.target);if(e!==null){var n=Zs(e);if(n!==null){if(e=n.tag,e===13){if(e=X_(n),e!==null){t.blockedOn=e,lb(t.priority,function(){ob(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Oc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Xm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Hm=r,n.target.dispatchEvent(r),Hm=null}else return e=xl(n),e!==null&&Fp(e),t.blockedOn=n,!1;e.shift()}return!0}function bx(t,e,n){Oc(t)&&n.delete(e)}function jC(){Ym=!1,Br!==null&&Oc(Br)&&(Br=null),$r!==null&&Oc($r)&&($r=null),zr!==null&&Oc(zr)&&(zr=null),Oa.forEach(bx),La.forEach(bx)}function Ko(t,e){t.blockedOn===e&&(t.blockedOn=null,Ym||(Ym=!0,Wt.unstable_scheduleCallback(Wt.unstable_NormalPriority,jC)))}function Fa(t){function e(s){return Ko(s,t)}if(0<cc.length){Ko(cc[0],t);for(var n=1;n<cc.length;n++){var r=cc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Br!==null&&Ko(Br,t),$r!==null&&Ko($r,t),zr!==null&&Ko(zr,t),Oa.forEach(e),La.forEach(e),n=0;n<kr.length;n++)r=kr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<kr.length&&(n=kr[0],n.blockedOn===null);)cb(n),n.blockedOn===null&&kr.shift()}var Fi=br.ReactCurrentBatchConfig,yu=!0;function DC(t,e,n,r){var s=ge,i=Fi.transition;Fi.transition=null;try{ge=1,Up(t,e,n,r)}finally{ge=s,Fi.transition=i}}function VC(t,e,n,r){var s=ge,i=Fi.transition;Fi.transition=null;try{ge=4,Up(t,e,n,r)}finally{ge=s,Fi.transition=i}}function Up(t,e,n,r){if(yu){var s=Xm(t,e,n,r);if(s===null)qh(t,e,r,xu,n),_x(t,r);else if(RC(s,t,e,n,r))r.stopPropagation();else if(_x(t,r),e&4&&-1<kC.indexOf(t)){for(;s!==null;){var i=xl(s);if(i!==null&&ib(i),i=Xm(t,e,n,r),i===null&&qh(t,e,r,xu,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else qh(t,e,r,null,n)}}var xu=null;function Xm(t,e,n,r){if(xu=null,t=Mp(r),t=Cs(t),t!==null)if(e=Zs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=X_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return xu=t,null}function ub(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bC()){case Op:return 1;case tb:return 4;case pu:case EC:return 16;case nb:return 536870912;default:return 16}default:return 16}}var Lr=null,Bp=null,Lc=null;function db(){if(Lc)return Lc;var t,e=Bp,n=e.length,r,s="value"in Lr?Lr.value:Lr.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Lc=s.slice(t,1<r?1-r:void 0)}function Fc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function uc(){return!0}function Ex(){return!1}function Gt(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?uc:Ex,this.isPropagationStopped=Ex,this}return Re(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=uc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=uc)},persist:function(){},isPersistent:uc}),e}var go={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$p=Gt(go),yl=Re({},go,{view:0,detail:0}),MC=Gt(yl),Vh,Mh,Go,pd=Re({},yl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Go&&(Go&&t.type==="mousemove"?(Vh=t.screenX-Go.screenX,Mh=t.screenY-Go.screenY):Mh=Vh=0,Go=t),Vh)},movementY:function(t){return"movementY"in t?t.movementY:Mh}}),Tx=Gt(pd),OC=Re({},pd,{dataTransfer:0}),LC=Gt(OC),FC=Re({},yl,{relatedTarget:0}),Oh=Gt(FC),UC=Re({},go,{animationName:0,elapsedTime:0,pseudoElement:0}),BC=Gt(UC),$C=Re({},go,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),zC=Gt($C),qC=Re({},go,{data:0}),Nx=Gt(qC),HC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},WC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},KC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function GC(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=KC[t])?!!e[t]:!1}function zp(){return GC}var QC=Re({},yl,{key:function(t){if(t.key){var e=HC[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Fc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?WC[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zp,charCode:function(t){return t.type==="keypress"?Fc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Fc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),YC=Gt(QC),XC=Re({},pd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ix=Gt(XC),JC=Re({},yl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zp}),ZC=Gt(JC),eA=Re({},go,{propertyName:0,elapsedTime:0,pseudoElement:0}),tA=Gt(eA),nA=Re({},pd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),rA=Gt(nA),sA=[9,13,27,32],qp=lr&&"CompositionEvent"in window,ma=null;lr&&"documentMode"in document&&(ma=document.documentMode);var iA=lr&&"TextEvent"in window&&!ma,hb=lr&&(!qp||ma&&8<ma&&11>=ma),Sx=" ",Cx=!1;function mb(t,e){switch(t){case"keyup":return sA.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fb(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var wi=!1;function oA(t,e){switch(t){case"compositionend":return fb(e);case"keypress":return e.which!==32?null:(Cx=!0,Sx);case"textInput":return t=e.data,t===Sx&&Cx?null:t;default:return null}}function aA(t,e){if(wi)return t==="compositionend"||!qp&&mb(t,e)?(t=db(),Lc=Bp=Lr=null,wi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return hb&&e.locale!=="ko"?null:e.data;default:return null}}var lA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ax(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!lA[t.type]:e==="textarea"}function pb(t,e,n,r){W_(r),e=vu(e,"onChange"),0<e.length&&(n=new $p("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var fa=null,Ua=null;function cA(t){Ib(t,0)}function gd(t){var e=Ei(t);if(F_(e))return t}function uA(t,e){if(t==="change")return e}var gb=!1;if(lr){var Lh;if(lr){var Fh="oninput"in document;if(!Fh){var Px=document.createElement("div");Px.setAttribute("oninput","return;"),Fh=typeof Px.oninput=="function"}Lh=Fh}else Lh=!1;gb=Lh&&(!document.documentMode||9<document.documentMode)}function kx(){fa&&(fa.detachEvent("onpropertychange",yb),Ua=fa=null)}function yb(t){if(t.propertyName==="value"&&gd(Ua)){var e=[];pb(e,Ua,t,Mp(t)),Y_(cA,e)}}function dA(t,e,n){t==="focusin"?(kx(),fa=e,Ua=n,fa.attachEvent("onpropertychange",yb)):t==="focusout"&&kx()}function hA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return gd(Ua)}function mA(t,e){if(t==="click")return gd(e)}function fA(t,e){if(t==="input"||t==="change")return gd(e)}function pA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var wn=typeof Object.is=="function"?Object.is:pA;function Ba(t,e){if(wn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!jm.call(e,s)||!wn(t[s],e[s]))return!1}return!0}function Rx(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function jx(t,e){var n=Rx(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Rx(n)}}function xb(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?xb(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function vb(){for(var t=window,e=hu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=hu(t.document)}return e}function Hp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function gA(t){var e=vb(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&xb(n.ownerDocument.documentElement,n)){if(r!==null&&Hp(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=jx(n,i);var o=jx(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var yA=lr&&"documentMode"in document&&11>=document.documentMode,_i=null,Jm=null,pa=null,Zm=!1;function Dx(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Zm||_i==null||_i!==hu(r)||(r=_i,"selectionStart"in r&&Hp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),pa&&Ba(pa,r)||(pa=r,r=vu(Jm,"onSelect"),0<r.length&&(e=new $p("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=_i)))}function dc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var bi={animationend:dc("Animation","AnimationEnd"),animationiteration:dc("Animation","AnimationIteration"),animationstart:dc("Animation","AnimationStart"),transitionend:dc("Transition","TransitionEnd")},Uh={},wb={};lr&&(wb=document.createElement("div").style,"AnimationEvent"in window||(delete bi.animationend.animation,delete bi.animationiteration.animation,delete bi.animationstart.animation),"TransitionEvent"in window||delete bi.transitionend.transition);function yd(t){if(Uh[t])return Uh[t];if(!bi[t])return t;var e=bi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in wb)return Uh[t]=e[n];return t}var _b=yd("animationend"),bb=yd("animationiteration"),Eb=yd("animationstart"),Tb=yd("transitionend"),Nb=new Map,Vx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function us(t,e){Nb.set(t,e),Js(e,[t])}for(var Bh=0;Bh<Vx.length;Bh++){var $h=Vx[Bh],xA=$h.toLowerCase(),vA=$h[0].toUpperCase()+$h.slice(1);us(xA,"on"+vA)}us(_b,"onAnimationEnd");us(bb,"onAnimationIteration");us(Eb,"onAnimationStart");us("dblclick","onDoubleClick");us("focusin","onFocus");us("focusout","onBlur");us(Tb,"onTransitionEnd");Wi("onMouseEnter",["mouseout","mouseover"]);Wi("onMouseLeave",["mouseout","mouseover"]);Wi("onPointerEnter",["pointerout","pointerover"]);Wi("onPointerLeave",["pointerout","pointerover"]);Js("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Js("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Js("onBeforeInput",["compositionend","keypress","textInput","paste"]);Js("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Js("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Js("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ia="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wA=new Set("cancel close invalid load scroll toggle".split(" ").concat(ia));function Mx(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,xC(r,e,void 0,t),t.currentTarget=null}function Ib(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;Mx(s,l,d),i=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;Mx(s,l,d),i=c}}}if(fu)throw t=Gm,fu=!1,Gm=null,t}function Ee(t,e){var n=e[sf];n===void 0&&(n=e[sf]=new Set);var r=t+"__bubble";n.has(r)||(Sb(e,t,2,!1),n.add(r))}function zh(t,e,n){var r=0;e&&(r|=4),Sb(n,t,r,e)}var hc="_reactListening"+Math.random().toString(36).slice(2);function $a(t){if(!t[hc]){t[hc]=!0,D_.forEach(function(n){n!=="selectionchange"&&(wA.has(n)||zh(n,!1,t),zh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[hc]||(e[hc]=!0,zh("selectionchange",!1,e))}}function Sb(t,e,n,r){switch(ub(e)){case 1:var s=DC;break;case 4:s=VC;break;default:s=Up}n=s.bind(null,e,n,t),s=void 0,!Km||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function qh(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Cs(l),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}l=l.parentNode}}r=r.return}Y_(function(){var d=i,h=Mp(n),m=[];e:{var f=Nb.get(t);if(f!==void 0){var g=$p,v=t;switch(t){case"keypress":if(Fc(n)===0)break e;case"keydown":case"keyup":g=YC;break;case"focusin":v="focus",g=Oh;break;case"focusout":v="blur",g=Oh;break;case"beforeblur":case"afterblur":g=Oh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Tx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=LC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=ZC;break;case _b:case bb:case Eb:g=BC;break;case Tb:g=tA;break;case"scroll":g=MC;break;case"wheel":g=rA;break;case"copy":case"cut":case"paste":g=zC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Ix}var C=(e&4)!==0,A=!C&&t==="scroll",T=C?f!==null?f+"Capture":null:f;C=[];for(var b=d,N;b!==null;){N=b;var R=N.stateNode;if(N.tag===5&&R!==null&&(N=R,T!==null&&(R=Ma(b,T),R!=null&&C.push(za(b,R,N)))),A)break;b=b.return}0<C.length&&(f=new g(f,v,null,n,h),m.push({event:f,listeners:C}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",f&&n!==Hm&&(v=n.relatedTarget||n.fromElement)&&(Cs(v)||v[cr]))break e;if((g||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=d,v=v?Cs(v):null,v!==null&&(A=Zs(v),v!==A||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=d),g!==v)){if(C=Tx,R="onMouseLeave",T="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(C=Ix,R="onPointerLeave",T="onPointerEnter",b="pointer"),A=g==null?f:Ei(g),N=v==null?f:Ei(v),f=new C(R,b+"leave",g,n,h),f.target=A,f.relatedTarget=N,R=null,Cs(h)===d&&(C=new C(T,b+"enter",v,n,h),C.target=N,C.relatedTarget=A,R=C),A=R,g&&v)t:{for(C=g,T=v,b=0,N=C;N;N=hi(N))b++;for(N=0,R=T;R;R=hi(R))N++;for(;0<b-N;)C=hi(C),b--;for(;0<N-b;)T=hi(T),N--;for(;b--;){if(C===T||T!==null&&C===T.alternate)break t;C=hi(C),T=hi(T)}C=null}else C=null;g!==null&&Ox(m,f,g,C,!1),v!==null&&A!==null&&Ox(m,A,v,C,!0)}}e:{if(f=d?Ei(d):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var j=uA;else if(Ax(f))if(gb)j=fA;else{j=hA;var O=dA}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(j=mA);if(j&&(j=j(t,d))){pb(m,j,n,h);break e}O&&O(t,f,d),t==="focusout"&&(O=f._wrapperState)&&O.controlled&&f.type==="number"&&Um(f,"number",f.value)}switch(O=d?Ei(d):window,t){case"focusin":(Ax(O)||O.contentEditable==="true")&&(_i=O,Jm=d,pa=null);break;case"focusout":pa=Jm=_i=null;break;case"mousedown":Zm=!0;break;case"contextmenu":case"mouseup":case"dragend":Zm=!1,Dx(m,n,h);break;case"selectionchange":if(yA)break;case"keydown":case"keyup":Dx(m,n,h)}var w;if(qp)e:{switch(t){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else wi?mb(t,n)&&(x="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(hb&&n.locale!=="ko"&&(wi||x!=="onCompositionStart"?x==="onCompositionEnd"&&wi&&(w=db()):(Lr=h,Bp="value"in Lr?Lr.value:Lr.textContent,wi=!0)),O=vu(d,x),0<O.length&&(x=new Nx(x,t,null,n,h),m.push({event:x,listeners:O}),w?x.data=w:(w=fb(n),w!==null&&(x.data=w)))),(w=iA?oA(t,n):aA(t,n))&&(d=vu(d,"onBeforeInput"),0<d.length&&(h=new Nx("onBeforeInput","beforeinput",null,n,h),m.push({event:h,listeners:d}),h.data=w))}Ib(m,e)})}function za(t,e,n){return{instance:t,listener:e,currentTarget:n}}function vu(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ma(t,n),i!=null&&r.unshift(za(t,i,s)),i=Ma(t,e),i!=null&&r.push(za(t,i,s))),t=t.return}return r}function hi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ox(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,d=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&d!==null&&(l=d,s?(c=Ma(n,i),c!=null&&o.unshift(za(n,c,l))):s||(c=Ma(n,i),c!=null&&o.push(za(n,c,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var _A=/\r\n?/g,bA=/\u0000|\uFFFD/g;function Lx(t){return(typeof t=="string"?t:""+t).replace(_A,`
`).replace(bA,"")}function mc(t,e,n){if(e=Lx(e),Lx(t)!==e&&n)throw Error($(425))}function wu(){}var ef=null,tf=null;function nf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var rf=typeof setTimeout=="function"?setTimeout:void 0,EA=typeof clearTimeout=="function"?clearTimeout:void 0,Fx=typeof Promise=="function"?Promise:void 0,TA=typeof queueMicrotask=="function"?queueMicrotask:typeof Fx<"u"?function(t){return Fx.resolve(null).then(t).catch(NA)}:rf;function NA(t){setTimeout(function(){throw t})}function Hh(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Fa(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Fa(e)}function qr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Ux(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var yo=Math.random().toString(36).slice(2),Sn="__reactFiber$"+yo,qa="__reactProps$"+yo,cr="__reactContainer$"+yo,sf="__reactEvents$"+yo,IA="__reactListeners$"+yo,SA="__reactHandles$"+yo;function Cs(t){var e=t[Sn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[cr]||n[Sn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Ux(t);t!==null;){if(n=t[Sn])return n;t=Ux(t)}return e}t=n,n=t.parentNode}return null}function xl(t){return t=t[Sn]||t[cr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ei(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error($(33))}function xd(t){return t[qa]||null}var of=[],Ti=-1;function ds(t){return{current:t}}function Ne(t){0>Ti||(t.current=of[Ti],of[Ti]=null,Ti--)}function _e(t,e){Ti++,of[Ti]=t.current,t.current=e}var es={},wt=ds(es),Mt=ds(!1),$s=es;function Ki(t,e){var n=t.type.contextTypes;if(!n)return es;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Ot(t){return t=t.childContextTypes,t!=null}function _u(){Ne(Mt),Ne(wt)}function Bx(t,e,n){if(wt.current!==es)throw Error($(168));_e(wt,e),_e(Mt,n)}function Cb(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error($(108,dC(t)||"Unknown",s));return Re({},n,r)}function bu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||es,$s=wt.current,_e(wt,t),_e(Mt,Mt.current),!0}function $x(t,e,n){var r=t.stateNode;if(!r)throw Error($(169));n?(t=Cb(t,e,$s),r.__reactInternalMemoizedMergedChildContext=t,Ne(Mt),Ne(wt),_e(wt,t)):Ne(Mt),_e(Mt,n)}var Xn=null,vd=!1,Wh=!1;function Ab(t){Xn===null?Xn=[t]:Xn.push(t)}function CA(t){vd=!0,Ab(t)}function hs(){if(!Wh&&Xn!==null){Wh=!0;var t=0,e=ge;try{var n=Xn;for(ge=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Xn=null,vd=!1}catch(s){throw Xn!==null&&(Xn=Xn.slice(t+1)),eb(Op,hs),s}finally{ge=e,Wh=!1}}return null}var Ni=[],Ii=0,Eu=null,Tu=0,Jt=[],Zt=0,zs=null,Zn=1,er="";function Es(t,e){Ni[Ii++]=Tu,Ni[Ii++]=Eu,Eu=t,Tu=e}function Pb(t,e,n){Jt[Zt++]=Zn,Jt[Zt++]=er,Jt[Zt++]=zs,zs=t;var r=Zn;t=er;var s=32-xn(r)-1;r&=~(1<<s),n+=1;var i=32-xn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Zn=1<<32-xn(e)+s|n<<s|r,er=i+t}else Zn=1<<i|n<<s|r,er=t}function Wp(t){t.return!==null&&(Es(t,1),Pb(t,1,0))}function Kp(t){for(;t===Eu;)Eu=Ni[--Ii],Ni[Ii]=null,Tu=Ni[--Ii],Ni[Ii]=null;for(;t===zs;)zs=Jt[--Zt],Jt[Zt]=null,er=Jt[--Zt],Jt[Zt]=null,Zn=Jt[--Zt],Jt[Zt]=null}var Ht=null,zt=null,Ie=!1,fn=null;function kb(t,e){var n=tn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function zx(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ht=t,zt=qr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ht=t,zt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=zs!==null?{id:Zn,overflow:er}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=tn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ht=t,zt=null,!0):!1;default:return!1}}function af(t){return(t.mode&1)!==0&&(t.flags&128)===0}function lf(t){if(Ie){var e=zt;if(e){var n=e;if(!zx(t,e)){if(af(t))throw Error($(418));e=qr(n.nextSibling);var r=Ht;e&&zx(t,e)?kb(r,n):(t.flags=t.flags&-4097|2,Ie=!1,Ht=t)}}else{if(af(t))throw Error($(418));t.flags=t.flags&-4097|2,Ie=!1,Ht=t}}}function qx(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ht=t}function fc(t){if(t!==Ht)return!1;if(!Ie)return qx(t),Ie=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!nf(t.type,t.memoizedProps)),e&&(e=zt)){if(af(t))throw Rb(),Error($(418));for(;e;)kb(t,e),e=qr(e.nextSibling)}if(qx(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error($(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){zt=qr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}zt=null}}else zt=Ht?qr(t.stateNode.nextSibling):null;return!0}function Rb(){for(var t=zt;t;)t=qr(t.nextSibling)}function Gi(){zt=Ht=null,Ie=!1}function Gp(t){fn===null?fn=[t]:fn.push(t)}var AA=br.ReactCurrentBatchConfig;function Qo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error($(309));var r=n.stateNode}if(!r)throw Error($(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error($(284));if(!n._owner)throw Error($(290,t))}return t}function pc(t,e){throw t=Object.prototype.toString.call(e),Error($(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Hx(t){var e=t._init;return e(t._payload)}function jb(t){function e(T,b){if(t){var N=T.deletions;N===null?(T.deletions=[b],T.flags|=16):N.push(b)}}function n(T,b){if(!t)return null;for(;b!==null;)e(T,b),b=b.sibling;return null}function r(T,b){for(T=new Map;b!==null;)b.key!==null?T.set(b.key,b):T.set(b.index,b),b=b.sibling;return T}function s(T,b){return T=Gr(T,b),T.index=0,T.sibling=null,T}function i(T,b,N){return T.index=N,t?(N=T.alternate,N!==null?(N=N.index,N<b?(T.flags|=2,b):N):(T.flags|=2,b)):(T.flags|=1048576,b)}function o(T){return t&&T.alternate===null&&(T.flags|=2),T}function l(T,b,N,R){return b===null||b.tag!==6?(b=Zh(N,T.mode,R),b.return=T,b):(b=s(b,N),b.return=T,b)}function c(T,b,N,R){var j=N.type;return j===vi?h(T,b,N.props.children,R,N.key):b!==null&&(b.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Ar&&Hx(j)===b.type)?(R=s(b,N.props),R.ref=Qo(T,b,N),R.return=T,R):(R=Wc(N.type,N.key,N.props,null,T.mode,R),R.ref=Qo(T,b,N),R.return=T,R)}function d(T,b,N,R){return b===null||b.tag!==4||b.stateNode.containerInfo!==N.containerInfo||b.stateNode.implementation!==N.implementation?(b=em(N,T.mode,R),b.return=T,b):(b=s(b,N.children||[]),b.return=T,b)}function h(T,b,N,R,j){return b===null||b.tag!==7?(b=Ms(N,T.mode,R,j),b.return=T,b):(b=s(b,N),b.return=T,b)}function m(T,b,N){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Zh(""+b,T.mode,N),b.return=T,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case sc:return N=Wc(b.type,b.key,b.props,null,T.mode,N),N.ref=Qo(T,null,b),N.return=T,N;case xi:return b=em(b,T.mode,N),b.return=T,b;case Ar:var R=b._init;return m(T,R(b._payload),N)}if(ra(b)||qo(b))return b=Ms(b,T.mode,N,null),b.return=T,b;pc(T,b)}return null}function f(T,b,N,R){var j=b!==null?b.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return j!==null?null:l(T,b,""+N,R);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case sc:return N.key===j?c(T,b,N,R):null;case xi:return N.key===j?d(T,b,N,R):null;case Ar:return j=N._init,f(T,b,j(N._payload),R)}if(ra(N)||qo(N))return j!==null?null:h(T,b,N,R,null);pc(T,N)}return null}function g(T,b,N,R,j){if(typeof R=="string"&&R!==""||typeof R=="number")return T=T.get(N)||null,l(b,T,""+R,j);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case sc:return T=T.get(R.key===null?N:R.key)||null,c(b,T,R,j);case xi:return T=T.get(R.key===null?N:R.key)||null,d(b,T,R,j);case Ar:var O=R._init;return g(T,b,N,O(R._payload),j)}if(ra(R)||qo(R))return T=T.get(N)||null,h(b,T,R,j,null);pc(b,R)}return null}function v(T,b,N,R){for(var j=null,O=null,w=b,x=b=0,E=null;w!==null&&x<N.length;x++){w.index>x?(E=w,w=null):E=w.sibling;var _=f(T,w,N[x],R);if(_===null){w===null&&(w=E);break}t&&w&&_.alternate===null&&e(T,w),b=i(_,b,x),O===null?j=_:O.sibling=_,O=_,w=E}if(x===N.length)return n(T,w),Ie&&Es(T,x),j;if(w===null){for(;x<N.length;x++)w=m(T,N[x],R),w!==null&&(b=i(w,b,x),O===null?j=w:O.sibling=w,O=w);return Ie&&Es(T,x),j}for(w=r(T,w);x<N.length;x++)E=g(w,T,x,N[x],R),E!==null&&(t&&E.alternate!==null&&w.delete(E.key===null?x:E.key),b=i(E,b,x),O===null?j=E:O.sibling=E,O=E);return t&&w.forEach(function(I){return e(T,I)}),Ie&&Es(T,x),j}function C(T,b,N,R){var j=qo(N);if(typeof j!="function")throw Error($(150));if(N=j.call(N),N==null)throw Error($(151));for(var O=j=null,w=b,x=b=0,E=null,_=N.next();w!==null&&!_.done;x++,_=N.next()){w.index>x?(E=w,w=null):E=w.sibling;var I=f(T,w,_.value,R);if(I===null){w===null&&(w=E);break}t&&w&&I.alternate===null&&e(T,w),b=i(I,b,x),O===null?j=I:O.sibling=I,O=I,w=E}if(_.done)return n(T,w),Ie&&Es(T,x),j;if(w===null){for(;!_.done;x++,_=N.next())_=m(T,_.value,R),_!==null&&(b=i(_,b,x),O===null?j=_:O.sibling=_,O=_);return Ie&&Es(T,x),j}for(w=r(T,w);!_.done;x++,_=N.next())_=g(w,T,x,_.value,R),_!==null&&(t&&_.alternate!==null&&w.delete(_.key===null?x:_.key),b=i(_,b,x),O===null?j=_:O.sibling=_,O=_);return t&&w.forEach(function(D){return e(T,D)}),Ie&&Es(T,x),j}function A(T,b,N,R){if(typeof N=="object"&&N!==null&&N.type===vi&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case sc:e:{for(var j=N.key,O=b;O!==null;){if(O.key===j){if(j=N.type,j===vi){if(O.tag===7){n(T,O.sibling),b=s(O,N.props.children),b.return=T,T=b;break e}}else if(O.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Ar&&Hx(j)===O.type){n(T,O.sibling),b=s(O,N.props),b.ref=Qo(T,O,N),b.return=T,T=b;break e}n(T,O);break}else e(T,O);O=O.sibling}N.type===vi?(b=Ms(N.props.children,T.mode,R,N.key),b.return=T,T=b):(R=Wc(N.type,N.key,N.props,null,T.mode,R),R.ref=Qo(T,b,N),R.return=T,T=R)}return o(T);case xi:e:{for(O=N.key;b!==null;){if(b.key===O)if(b.tag===4&&b.stateNode.containerInfo===N.containerInfo&&b.stateNode.implementation===N.implementation){n(T,b.sibling),b=s(b,N.children||[]),b.return=T,T=b;break e}else{n(T,b);break}else e(T,b);b=b.sibling}b=em(N,T.mode,R),b.return=T,T=b}return o(T);case Ar:return O=N._init,A(T,b,O(N._payload),R)}if(ra(N))return v(T,b,N,R);if(qo(N))return C(T,b,N,R);pc(T,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,b!==null&&b.tag===6?(n(T,b.sibling),b=s(b,N),b.return=T,T=b):(n(T,b),b=Zh(N,T.mode,R),b.return=T,T=b),o(T)):n(T,b)}return A}var Qi=jb(!0),Db=jb(!1),Nu=ds(null),Iu=null,Si=null,Qp=null;function Yp(){Qp=Si=Iu=null}function Xp(t){var e=Nu.current;Ne(Nu),t._currentValue=e}function cf(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ui(t,e){Iu=t,Qp=Si=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(jt=!0),t.firstContext=null)}function on(t){var e=t._currentValue;if(Qp!==t)if(t={context:t,memoizedValue:e,next:null},Si===null){if(Iu===null)throw Error($(308));Si=t,Iu.dependencies={lanes:0,firstContext:t}}else Si=Si.next=t;return e}var As=null;function Jp(t){As===null?As=[t]:As.push(t)}function Vb(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Jp(e)):(n.next=s.next,s.next=n),e.interleaved=n,ur(t,r)}function ur(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Pr=!1;function Zp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Mb(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function rr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Hr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,me&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,ur(t,n)}return s=r.interleaved,s===null?(e.next=e,Jp(r)):(e.next=s.next,s.next=e),r.interleaved=e,ur(t,n)}function Uc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Lp(t,n)}}function Wx(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Su(t,e,n,r){var s=t.updateQueue;Pr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var h=t.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==o&&(l===null?h.firstBaseUpdate=d:l.next=d,h.lastBaseUpdate=c))}if(i!==null){var m=s.baseState;o=0,h=d=c=null,l=i;do{var f=l.lane,g=l.eventTime;if((r&f)===f){h!==null&&(h=h.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=t,C=l;switch(f=e,g=n,C.tag){case 1:if(v=C.payload,typeof v=="function"){m=v.call(g,m,f);break e}m=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=C.payload,f=typeof v=="function"?v.call(g,m,f):v,f==null)break e;m=Re({},m,f);break e;case 2:Pr=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else g={eventTime:g,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(d=h=g,c=m):h=h.next=g,o|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(h===null&&(c=m),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Hs|=o,t.lanes=o,t.memoizedState=m}}function Kx(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error($(191,s));s.call(r)}}}var vl={},An=ds(vl),Ha=ds(vl),Wa=ds(vl);function Ps(t){if(t===vl)throw Error($(174));return t}function eg(t,e){switch(_e(Wa,e),_e(Ha,t),_e(An,vl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:$m(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=$m(e,t)}Ne(An),_e(An,e)}function Yi(){Ne(An),Ne(Ha),Ne(Wa)}function Ob(t){Ps(Wa.current);var e=Ps(An.current),n=$m(e,t.type);e!==n&&(_e(Ha,t),_e(An,n))}function tg(t){Ha.current===t&&(Ne(An),Ne(Ha))}var Ae=ds(0);function Cu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Kh=[];function ng(){for(var t=0;t<Kh.length;t++)Kh[t]._workInProgressVersionPrimary=null;Kh.length=0}var Bc=br.ReactCurrentDispatcher,Gh=br.ReactCurrentBatchConfig,qs=0,ke=null,Ke=null,Je=null,Au=!1,ga=!1,Ka=0,PA=0;function ht(){throw Error($(321))}function rg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!wn(t[n],e[n]))return!1;return!0}function sg(t,e,n,r,s,i){if(qs=i,ke=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Bc.current=t===null||t.memoizedState===null?DA:VA,t=n(r,s),ga){i=0;do{if(ga=!1,Ka=0,25<=i)throw Error($(301));i+=1,Je=Ke=null,e.updateQueue=null,Bc.current=MA,t=n(r,s)}while(ga)}if(Bc.current=Pu,e=Ke!==null&&Ke.next!==null,qs=0,Je=Ke=ke=null,Au=!1,e)throw Error($(300));return t}function ig(){var t=Ka!==0;return Ka=0,t}function Nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Je===null?ke.memoizedState=Je=t:Je=Je.next=t,Je}function an(){if(Ke===null){var t=ke.alternate;t=t!==null?t.memoizedState:null}else t=Ke.next;var e=Je===null?ke.memoizedState:Je.next;if(e!==null)Je=e,Ke=t;else{if(t===null)throw Error($(310));Ke=t,t={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},Je===null?ke.memoizedState=Je=t:Je=Je.next=t}return Je}function Ga(t,e){return typeof e=="function"?e(t):e}function Qh(t){var e=an(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=Ke,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,c=null,d=i;do{var h=d.lane;if((qs&h)===h)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var m={lane:h,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=m,o=r):c=c.next=m,ke.lanes|=h,Hs|=h}d=d.next}while(d!==null&&d!==i);c===null?o=r:c.next=l,wn(r,e.memoizedState)||(jt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,ke.lanes|=i,Hs|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Yh(t){var e=an(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);wn(i,e.memoizedState)||(jt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function Lb(){}function Fb(t,e){var n=ke,r=an(),s=e(),i=!wn(r.memoizedState,s);if(i&&(r.memoizedState=s,jt=!0),r=r.queue,og($b.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Je!==null&&Je.memoizedState.tag&1){if(n.flags|=2048,Qa(9,Bb.bind(null,n,r,s,e),void 0,null),Ze===null)throw Error($(349));qs&30||Ub(n,e,s)}return s}function Ub(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ke.updateQueue,e===null?(e={lastEffect:null,stores:null},ke.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Bb(t,e,n,r){e.value=n,e.getSnapshot=r,zb(e)&&qb(t)}function $b(t,e,n){return n(function(){zb(e)&&qb(t)})}function zb(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!wn(t,n)}catch{return!0}}function qb(t){var e=ur(t,1);e!==null&&vn(e,t,1,-1)}function Gx(t){var e=Nn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ga,lastRenderedState:t},e.queue=t,t=t.dispatch=jA.bind(null,ke,t),[e.memoizedState,t]}function Qa(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ke.updateQueue,e===null?(e={lastEffect:null,stores:null},ke.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Hb(){return an().memoizedState}function $c(t,e,n,r){var s=Nn();ke.flags|=t,s.memoizedState=Qa(1|e,n,void 0,r===void 0?null:r)}function wd(t,e,n,r){var s=an();r=r===void 0?null:r;var i=void 0;if(Ke!==null){var o=Ke.memoizedState;if(i=o.destroy,r!==null&&rg(r,o.deps)){s.memoizedState=Qa(e,n,i,r);return}}ke.flags|=t,s.memoizedState=Qa(1|e,n,i,r)}function Qx(t,e){return $c(8390656,8,t,e)}function og(t,e){return wd(2048,8,t,e)}function Wb(t,e){return wd(4,2,t,e)}function Kb(t,e){return wd(4,4,t,e)}function Gb(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Qb(t,e,n){return n=n!=null?n.concat([t]):null,wd(4,4,Gb.bind(null,e,t),n)}function ag(){}function Yb(t,e){var n=an();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&rg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Xb(t,e){var n=an();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&rg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Jb(t,e,n){return qs&21?(wn(n,e)||(n=rb(),ke.lanes|=n,Hs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,jt=!0),t.memoizedState=n)}function kA(t,e){var n=ge;ge=n!==0&&4>n?n:4,t(!0);var r=Gh.transition;Gh.transition={};try{t(!1),e()}finally{ge=n,Gh.transition=r}}function Zb(){return an().memoizedState}function RA(t,e,n){var r=Kr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},eE(t))tE(e,n);else if(n=Vb(t,e,n,r),n!==null){var s=St();vn(n,t,r,s),nE(n,e,r)}}function jA(t,e,n){var r=Kr(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(eE(t))tE(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,wn(l,o)){var c=e.interleaved;c===null?(s.next=s,Jp(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=Vb(t,e,s,r),n!==null&&(s=St(),vn(n,t,r,s),nE(n,e,r))}}function eE(t){var e=t.alternate;return t===ke||e!==null&&e===ke}function tE(t,e){ga=Au=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function nE(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Lp(t,n)}}var Pu={readContext:on,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useInsertionEffect:ht,useLayoutEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useMutableSource:ht,useSyncExternalStore:ht,useId:ht,unstable_isNewReconciler:!1},DA={readContext:on,useCallback:function(t,e){return Nn().memoizedState=[t,e===void 0?null:e],t},useContext:on,useEffect:Qx,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,$c(4194308,4,Gb.bind(null,e,t),n)},useLayoutEffect:function(t,e){return $c(4194308,4,t,e)},useInsertionEffect:function(t,e){return $c(4,2,t,e)},useMemo:function(t,e){var n=Nn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Nn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=RA.bind(null,ke,t),[r.memoizedState,t]},useRef:function(t){var e=Nn();return t={current:t},e.memoizedState=t},useState:Gx,useDebugValue:ag,useDeferredValue:function(t){return Nn().memoizedState=t},useTransition:function(){var t=Gx(!1),e=t[0];return t=kA.bind(null,t[1]),Nn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ke,s=Nn();if(Ie){if(n===void 0)throw Error($(407));n=n()}else{if(n=e(),Ze===null)throw Error($(349));qs&30||Ub(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Qx($b.bind(null,r,i,t),[t]),r.flags|=2048,Qa(9,Bb.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Nn(),e=Ze.identifierPrefix;if(Ie){var n=er,r=Zn;n=(r&~(1<<32-xn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ka++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=PA++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},VA={readContext:on,useCallback:Yb,useContext:on,useEffect:og,useImperativeHandle:Qb,useInsertionEffect:Wb,useLayoutEffect:Kb,useMemo:Xb,useReducer:Qh,useRef:Hb,useState:function(){return Qh(Ga)},useDebugValue:ag,useDeferredValue:function(t){var e=an();return Jb(e,Ke.memoizedState,t)},useTransition:function(){var t=Qh(Ga)[0],e=an().memoizedState;return[t,e]},useMutableSource:Lb,useSyncExternalStore:Fb,useId:Zb,unstable_isNewReconciler:!1},MA={readContext:on,useCallback:Yb,useContext:on,useEffect:og,useImperativeHandle:Qb,useInsertionEffect:Wb,useLayoutEffect:Kb,useMemo:Xb,useReducer:Yh,useRef:Hb,useState:function(){return Yh(Ga)},useDebugValue:ag,useDeferredValue:function(t){var e=an();return Ke===null?e.memoizedState=t:Jb(e,Ke.memoizedState,t)},useTransition:function(){var t=Yh(Ga)[0],e=an().memoizedState;return[t,e]},useMutableSource:Lb,useSyncExternalStore:Fb,useId:Zb,unstable_isNewReconciler:!1};function hn(t,e){if(t&&t.defaultProps){e=Re({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function uf(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Re({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var _d={isMounted:function(t){return(t=t._reactInternals)?Zs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=St(),s=Kr(t),i=rr(r,s);i.payload=e,n!=null&&(i.callback=n),e=Hr(t,i,s),e!==null&&(vn(e,t,s,r),Uc(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=St(),s=Kr(t),i=rr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Hr(t,i,s),e!==null&&(vn(e,t,s,r),Uc(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=St(),r=Kr(t),s=rr(n,r);s.tag=2,e!=null&&(s.callback=e),e=Hr(t,s,r),e!==null&&(vn(e,t,r,n),Uc(e,t,r))}};function Yx(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Ba(n,r)||!Ba(s,i):!0}function rE(t,e,n){var r=!1,s=es,i=e.contextType;return typeof i=="object"&&i!==null?i=on(i):(s=Ot(e)?$s:wt.current,r=e.contextTypes,i=(r=r!=null)?Ki(t,s):es),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=_d,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Xx(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&_d.enqueueReplaceState(e,e.state,null)}function df(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Zp(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=on(i):(i=Ot(e)?$s:wt.current,s.context=Ki(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(uf(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&_d.enqueueReplaceState(s,s.state,null),Su(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Xi(t,e){try{var n="",r=e;do n+=uC(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Xh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function hf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var OA=typeof WeakMap=="function"?WeakMap:Map;function sE(t,e,n){n=rr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ru||(Ru=!0,bf=r),hf(t,e)},n}function iE(t,e,n){n=rr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){hf(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){hf(t,e),typeof r!="function"&&(Wr===null?Wr=new Set([this]):Wr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Jx(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new OA;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=XA.bind(null,t,e,n),e.then(t,t))}function Zx(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ev(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=rr(-1,1),e.tag=2,Hr(n,e,1))),n.lanes|=1),t)}var LA=br.ReactCurrentOwner,jt=!1;function Tt(t,e,n,r){e.child=t===null?Db(e,null,n,r):Qi(e,t.child,n,r)}function tv(t,e,n,r,s){n=n.render;var i=e.ref;return Ui(e,s),r=sg(t,e,n,r,i,s),n=ig(),t!==null&&!jt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,dr(t,e,s)):(Ie&&n&&Wp(e),e.flags|=1,Tt(t,e,r,s),e.child)}function nv(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!pg(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,oE(t,e,i,r,s)):(t=Wc(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ba,n(o,r)&&t.ref===e.ref)return dr(t,e,s)}return e.flags|=1,t=Gr(i,r),t.ref=e.ref,t.return=e,e.child=t}function oE(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Ba(i,r)&&t.ref===e.ref)if(jt=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(jt=!0);else return e.lanes=t.lanes,dr(t,e,s)}return mf(t,e,n,r,s)}function aE(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},_e(Ai,$t),$t|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,_e(Ai,$t),$t|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,_e(Ai,$t),$t|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,_e(Ai,$t),$t|=r;return Tt(t,e,s,n),e.child}function lE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function mf(t,e,n,r,s){var i=Ot(n)?$s:wt.current;return i=Ki(e,i),Ui(e,s),n=sg(t,e,n,r,i,s),r=ig(),t!==null&&!jt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,dr(t,e,s)):(Ie&&r&&Wp(e),e.flags|=1,Tt(t,e,n,s),e.child)}function rv(t,e,n,r,s){if(Ot(n)){var i=!0;bu(e)}else i=!1;if(Ui(e,s),e.stateNode===null)zc(t,e),rE(e,n,r),df(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=on(d):(d=Ot(n)?$s:wt.current,d=Ki(e,d));var h=n.getDerivedStateFromProps,m=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==d)&&Xx(e,o,r,d),Pr=!1;var f=e.memoizedState;o.state=f,Su(e,r,o,s),c=e.memoizedState,l!==r||f!==c||Mt.current||Pr?(typeof h=="function"&&(uf(e,n,h,r),c=e.memoizedState),(l=Pr||Yx(e,n,l,r,f,c,d))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=d,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Mb(t,e),l=e.memoizedProps,d=e.type===e.elementType?l:hn(e.type,l),o.props=d,m=e.pendingProps,f=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=on(c):(c=Ot(n)?$s:wt.current,c=Ki(e,c));var g=n.getDerivedStateFromProps;(h=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==m||f!==c)&&Xx(e,o,r,c),Pr=!1,f=e.memoizedState,o.state=f,Su(e,r,o,s);var v=e.memoizedState;l!==m||f!==v||Mt.current||Pr?(typeof g=="function"&&(uf(e,n,g,r),v=e.memoizedState),(d=Pr||Yx(e,n,d,r,f,v,c)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=c,r=d):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return ff(t,e,n,r,i,s)}function ff(t,e,n,r,s,i){lE(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&$x(e,n,!1),dr(t,e,i);r=e.stateNode,LA.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Qi(e,t.child,null,i),e.child=Qi(e,null,l,i)):Tt(t,e,l,i),e.memoizedState=r.state,s&&$x(e,n,!0),e.child}function cE(t){var e=t.stateNode;e.pendingContext?Bx(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Bx(t,e.context,!1),eg(t,e.containerInfo)}function sv(t,e,n,r,s){return Gi(),Gp(s),e.flags|=256,Tt(t,e,n,r),e.child}var pf={dehydrated:null,treeContext:null,retryLane:0};function gf(t){return{baseLanes:t,cachePool:null,transitions:null}}function uE(t,e,n){var r=e.pendingProps,s=Ae.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),_e(Ae,s&1),t===null)return lf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Td(o,r,0,null),t=Ms(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=gf(n),e.memoizedState=pf,t):lg(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return FA(t,e,o,r,l,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Gr(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Gr(l,i):(i=Ms(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?gf(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=pf,r}return i=t.child,t=i.sibling,r=Gr(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function lg(t,e){return e=Td({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function gc(t,e,n,r){return r!==null&&Gp(r),Qi(e,t.child,null,n),t=lg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function FA(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Xh(Error($(422))),gc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Td({mode:"visible",children:r.children},s,0,null),i=Ms(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Qi(e,t.child,null,o),e.child.memoizedState=gf(o),e.memoizedState=pf,i);if(!(e.mode&1))return gc(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error($(419)),r=Xh(i,r,void 0),gc(t,e,o,r)}if(l=(o&t.childLanes)!==0,jt||l){if(r=Ze,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ur(t,s),vn(r,t,s,-1))}return fg(),r=Xh(Error($(421))),gc(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=JA.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,zt=qr(s.nextSibling),Ht=e,Ie=!0,fn=null,t!==null&&(Jt[Zt++]=Zn,Jt[Zt++]=er,Jt[Zt++]=zs,Zn=t.id,er=t.overflow,zs=e),e=lg(e,r.children),e.flags|=4096,e)}function iv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),cf(t.return,e,n)}function Jh(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function dE(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Tt(t,e,r.children,n),r=Ae.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&iv(t,n,e);else if(t.tag===19)iv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(_e(Ae,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Cu(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Jh(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Cu(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Jh(e,!0,n,null,i);break;case"together":Jh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function zc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function dr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Hs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error($(153));if(e.child!==null){for(t=e.child,n=Gr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Gr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function UA(t,e,n){switch(e.tag){case 3:cE(e),Gi();break;case 5:Ob(e);break;case 1:Ot(e.type)&&bu(e);break;case 4:eg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;_e(Nu,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(_e(Ae,Ae.current&1),e.flags|=128,null):n&e.child.childLanes?uE(t,e,n):(_e(Ae,Ae.current&1),t=dr(t,e,n),t!==null?t.sibling:null);_e(Ae,Ae.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return dE(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),_e(Ae,Ae.current),r)break;return null;case 22:case 23:return e.lanes=0,aE(t,e,n)}return dr(t,e,n)}var hE,yf,mE,fE;hE=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};yf=function(){};mE=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Ps(An.current);var i=null;switch(n){case"input":s=Lm(t,s),r=Lm(t,r),i=[];break;case"select":s=Re({},s,{value:void 0}),r=Re({},r,{value:void 0}),i=[];break;case"textarea":s=Bm(t,s),r=Bm(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=wu)}zm(n,r);var o;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var l=s[d];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Da.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var c=r[d];if(l=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Da.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Ee("scroll",t),i||l===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};fE=function(t,e,n,r){n!==r&&(e.flags|=4)};function Yo(t,e){if(!Ie)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function mt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function BA(t,e,n){var r=e.pendingProps;switch(Kp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mt(e),null;case 1:return Ot(e.type)&&_u(),mt(e),null;case 3:return r=e.stateNode,Yi(),Ne(Mt),Ne(wt),ng(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(fc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,fn!==null&&(Nf(fn),fn=null))),yf(t,e),mt(e),null;case 5:tg(e);var s=Ps(Wa.current);if(n=e.type,t!==null&&e.stateNode!=null)mE(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error($(166));return mt(e),null}if(t=Ps(An.current),fc(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Sn]=e,r[qa]=i,t=(e.mode&1)!==0,n){case"dialog":Ee("cancel",r),Ee("close",r);break;case"iframe":case"object":case"embed":Ee("load",r);break;case"video":case"audio":for(s=0;s<ia.length;s++)Ee(ia[s],r);break;case"source":Ee("error",r);break;case"img":case"image":case"link":Ee("error",r),Ee("load",r);break;case"details":Ee("toggle",r);break;case"input":fx(r,i),Ee("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ee("invalid",r);break;case"textarea":gx(r,i),Ee("invalid",r)}zm(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&mc(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&mc(r.textContent,l,t),s=["children",""+l]):Da.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ee("scroll",r)}switch(n){case"input":ic(r),px(r,i,!0);break;case"textarea":ic(r),yx(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=wu)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=$_(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Sn]=e,t[qa]=r,hE(t,e,!1,!1),e.stateNode=t;e:{switch(o=qm(n,r),n){case"dialog":Ee("cancel",t),Ee("close",t),s=r;break;case"iframe":case"object":case"embed":Ee("load",t),s=r;break;case"video":case"audio":for(s=0;s<ia.length;s++)Ee(ia[s],t);s=r;break;case"source":Ee("error",t),s=r;break;case"img":case"image":case"link":Ee("error",t),Ee("load",t),s=r;break;case"details":Ee("toggle",t),s=r;break;case"input":fx(t,r),s=Lm(t,r),Ee("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Re({},r,{value:void 0}),Ee("invalid",t);break;case"textarea":gx(t,r),s=Bm(t,r),Ee("invalid",t);break;default:s=r}zm(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?H_(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&z_(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Va(t,c):typeof c=="number"&&Va(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Da.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Ee("scroll",t):c!=null&&Rp(t,i,c,o))}switch(n){case"input":ic(t),px(t,r,!1);break;case"textarea":ic(t),yx(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Zr(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Mi(t,!!r.multiple,i,!1):r.defaultValue!=null&&Mi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=wu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return mt(e),null;case 6:if(t&&e.stateNode!=null)fE(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error($(166));if(n=Ps(Wa.current),Ps(An.current),fc(e)){if(r=e.stateNode,n=e.memoizedProps,r[Sn]=e,(i=r.nodeValue!==n)&&(t=Ht,t!==null))switch(t.tag){case 3:mc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&mc(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Sn]=e,e.stateNode=r}return mt(e),null;case 13:if(Ne(Ae),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ie&&zt!==null&&e.mode&1&&!(e.flags&128))Rb(),Gi(),e.flags|=98560,i=!1;else if(i=fc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error($(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error($(317));i[Sn]=e}else Gi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;mt(e),i=!1}else fn!==null&&(Nf(fn),fn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ae.current&1?Ge===0&&(Ge=3):fg())),e.updateQueue!==null&&(e.flags|=4),mt(e),null);case 4:return Yi(),yf(t,e),t===null&&$a(e.stateNode.containerInfo),mt(e),null;case 10:return Xp(e.type._context),mt(e),null;case 17:return Ot(e.type)&&_u(),mt(e),null;case 19:if(Ne(Ae),i=e.memoizedState,i===null)return mt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Yo(i,!1);else{if(Ge!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Cu(t),o!==null){for(e.flags|=128,Yo(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return _e(Ae,Ae.current&1|2),e.child}t=t.sibling}i.tail!==null&&Ue()>Ji&&(e.flags|=128,r=!0,Yo(i,!1),e.lanes=4194304)}else{if(!r)if(t=Cu(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Yo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ie)return mt(e),null}else 2*Ue()-i.renderingStartTime>Ji&&n!==1073741824&&(e.flags|=128,r=!0,Yo(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Ue(),e.sibling=null,n=Ae.current,_e(Ae,r?n&1|2:n&1),e):(mt(e),null);case 22:case 23:return mg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?$t&1073741824&&(mt(e),e.subtreeFlags&6&&(e.flags|=8192)):mt(e),null;case 24:return null;case 25:return null}throw Error($(156,e.tag))}function $A(t,e){switch(Kp(e),e.tag){case 1:return Ot(e.type)&&_u(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Yi(),Ne(Mt),Ne(wt),ng(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return tg(e),null;case 13:if(Ne(Ae),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error($(340));Gi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ne(Ae),null;case 4:return Yi(),null;case 10:return Xp(e.type._context),null;case 22:case 23:return mg(),null;case 24:return null;default:return null}}var yc=!1,yt=!1,zA=typeof WeakSet=="function"?WeakSet:Set,Q=null;function Ci(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Me(t,e,r)}else n.current=null}function xf(t,e,n){try{n()}catch(r){Me(t,e,r)}}var ov=!1;function qA(t,e){if(ef=yu,t=vb(),Hp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,d=0,h=0,m=t,f=null;t:for(;;){for(var g;m!==n||s!==0&&m.nodeType!==3||(l=o+s),m!==i||r!==0&&m.nodeType!==3||(c=o+r),m.nodeType===3&&(o+=m.nodeValue.length),(g=m.firstChild)!==null;)f=m,m=g;for(;;){if(m===t)break t;if(f===n&&++d===s&&(l=o),f===i&&++h===r&&(c=o),(g=m.nextSibling)!==null)break;m=f,f=m.parentNode}m=g}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(tf={focusedElem:t,selectionRange:n},yu=!1,Q=e;Q!==null;)if(e=Q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Q=t;else for(;Q!==null;){e=Q;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var C=v.memoizedProps,A=v.memoizedState,T=e.stateNode,b=T.getSnapshotBeforeUpdate(e.elementType===e.type?C:hn(e.type,C),A);T.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var N=e.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(R){Me(e,e.return,R)}if(t=e.sibling,t!==null){t.return=e.return,Q=t;break}Q=e.return}return v=ov,ov=!1,v}function ya(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&xf(e,n,i)}s=s.next}while(s!==r)}}function bd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function vf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function pE(t){var e=t.alternate;e!==null&&(t.alternate=null,pE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Sn],delete e[qa],delete e[sf],delete e[IA],delete e[SA])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function gE(t){return t.tag===5||t.tag===3||t.tag===4}function av(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||gE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function wf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=wu));else if(r!==4&&(t=t.child,t!==null))for(wf(t,e,n),t=t.sibling;t!==null;)wf(t,e,n),t=t.sibling}function _f(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(_f(t,e,n),t=t.sibling;t!==null;)_f(t,e,n),t=t.sibling}var nt=null,mn=!1;function Ir(t,e,n){for(n=n.child;n!==null;)yE(t,e,n),n=n.sibling}function yE(t,e,n){if(Cn&&typeof Cn.onCommitFiberUnmount=="function")try{Cn.onCommitFiberUnmount(fd,n)}catch{}switch(n.tag){case 5:yt||Ci(n,e);case 6:var r=nt,s=mn;nt=null,Ir(t,e,n),nt=r,mn=s,nt!==null&&(mn?(t=nt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):nt.removeChild(n.stateNode));break;case 18:nt!==null&&(mn?(t=nt,n=n.stateNode,t.nodeType===8?Hh(t.parentNode,n):t.nodeType===1&&Hh(t,n),Fa(t)):Hh(nt,n.stateNode));break;case 4:r=nt,s=mn,nt=n.stateNode.containerInfo,mn=!0,Ir(t,e,n),nt=r,mn=s;break;case 0:case 11:case 14:case 15:if(!yt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&xf(n,e,o),s=s.next}while(s!==r)}Ir(t,e,n);break;case 1:if(!yt&&(Ci(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Me(n,e,l)}Ir(t,e,n);break;case 21:Ir(t,e,n);break;case 22:n.mode&1?(yt=(r=yt)||n.memoizedState!==null,Ir(t,e,n),yt=r):Ir(t,e,n);break;default:Ir(t,e,n)}}function lv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new zA),e.forEach(function(r){var s=ZA.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function un(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:nt=l.stateNode,mn=!1;break e;case 3:nt=l.stateNode.containerInfo,mn=!0;break e;case 4:nt=l.stateNode.containerInfo,mn=!0;break e}l=l.return}if(nt===null)throw Error($(160));yE(i,o,s),nt=null,mn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){Me(s,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)xE(e,t),e=e.sibling}function xE(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(un(e,t),Tn(t),r&4){try{ya(3,t,t.return),bd(3,t)}catch(C){Me(t,t.return,C)}try{ya(5,t,t.return)}catch(C){Me(t,t.return,C)}}break;case 1:un(e,t),Tn(t),r&512&&n!==null&&Ci(n,n.return);break;case 5:if(un(e,t),Tn(t),r&512&&n!==null&&Ci(n,n.return),t.flags&32){var s=t.stateNode;try{Va(s,"")}catch(C){Me(t,t.return,C)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&U_(s,i),qm(l,o);var d=qm(l,i);for(o=0;o<c.length;o+=2){var h=c[o],m=c[o+1];h==="style"?H_(s,m):h==="dangerouslySetInnerHTML"?z_(s,m):h==="children"?Va(s,m):Rp(s,h,m,d)}switch(l){case"input":Fm(s,i);break;case"textarea":B_(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?Mi(s,!!i.multiple,g,!1):f!==!!i.multiple&&(i.defaultValue!=null?Mi(s,!!i.multiple,i.defaultValue,!0):Mi(s,!!i.multiple,i.multiple?[]:"",!1))}s[qa]=i}catch(C){Me(t,t.return,C)}}break;case 6:if(un(e,t),Tn(t),r&4){if(t.stateNode===null)throw Error($(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(C){Me(t,t.return,C)}}break;case 3:if(un(e,t),Tn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Fa(e.containerInfo)}catch(C){Me(t,t.return,C)}break;case 4:un(e,t),Tn(t);break;case 13:un(e,t),Tn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(dg=Ue())),r&4&&lv(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(yt=(d=yt)||h,un(e,t),yt=d):un(e,t),Tn(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!h&&t.mode&1)for(Q=t,h=t.child;h!==null;){for(m=Q=h;Q!==null;){switch(f=Q,g=f.child,f.tag){case 0:case 11:case 14:case 15:ya(4,f,f.return);break;case 1:Ci(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(C){Me(r,n,C)}}break;case 5:Ci(f,f.return);break;case 22:if(f.memoizedState!==null){uv(m);continue}}g!==null?(g.return=f,Q=g):uv(m)}h=h.sibling}e:for(h=null,m=t;;){if(m.tag===5){if(h===null){h=m;try{s=m.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=m.stateNode,c=m.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=q_("display",o))}catch(C){Me(t,t.return,C)}}}else if(m.tag===6){if(h===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(C){Me(t,t.return,C)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;h===m&&(h=null),m=m.return}h===m&&(h=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:un(e,t),Tn(t),r&4&&lv(t);break;case 21:break;default:un(e,t),Tn(t)}}function Tn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(gE(n)){var r=n;break e}n=n.return}throw Error($(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Va(s,""),r.flags&=-33);var i=av(t);_f(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=av(t);wf(t,l,o);break;default:throw Error($(161))}}catch(c){Me(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function HA(t,e,n){Q=t,vE(t)}function vE(t,e,n){for(var r=(t.mode&1)!==0;Q!==null;){var s=Q,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||yc;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||yt;l=yc;var d=yt;if(yc=o,(yt=c)&&!d)for(Q=s;Q!==null;)o=Q,c=o.child,o.tag===22&&o.memoizedState!==null?dv(s):c!==null?(c.return=o,Q=c):dv(s);for(;i!==null;)Q=i,vE(i),i=i.sibling;Q=s,yc=l,yt=d}cv(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Q=i):cv(t)}}function cv(t){for(;Q!==null;){var e=Q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:yt||bd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!yt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:hn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Kx(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Kx(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var h=d.memoizedState;if(h!==null){var m=h.dehydrated;m!==null&&Fa(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}yt||e.flags&512&&vf(e)}catch(f){Me(e,e.return,f)}}if(e===t){Q=null;break}if(n=e.sibling,n!==null){n.return=e.return,Q=n;break}Q=e.return}}function uv(t){for(;Q!==null;){var e=Q;if(e===t){Q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Q=n;break}Q=e.return}}function dv(t){for(;Q!==null;){var e=Q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{bd(4,e)}catch(c){Me(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){Me(e,s,c)}}var i=e.return;try{vf(e)}catch(c){Me(e,i,c)}break;case 5:var o=e.return;try{vf(e)}catch(c){Me(e,o,c)}}}catch(c){Me(e,e.return,c)}if(e===t){Q=null;break}var l=e.sibling;if(l!==null){l.return=e.return,Q=l;break}Q=e.return}}var WA=Math.ceil,ku=br.ReactCurrentDispatcher,cg=br.ReactCurrentOwner,nn=br.ReactCurrentBatchConfig,me=0,Ze=null,qe=null,ot=0,$t=0,Ai=ds(0),Ge=0,Ya=null,Hs=0,Ed=0,ug=0,xa=null,kt=null,dg=0,Ji=1/0,Yn=null,Ru=!1,bf=null,Wr=null,xc=!1,Fr=null,ju=0,va=0,Ef=null,qc=-1,Hc=0;function St(){return me&6?Ue():qc!==-1?qc:qc=Ue()}function Kr(t){return t.mode&1?me&2&&ot!==0?ot&-ot:AA.transition!==null?(Hc===0&&(Hc=rb()),Hc):(t=ge,t!==0||(t=window.event,t=t===void 0?16:ub(t.type)),t):1}function vn(t,e,n,r){if(50<va)throw va=0,Ef=null,Error($(185));gl(t,n,r),(!(me&2)||t!==Ze)&&(t===Ze&&(!(me&2)&&(Ed|=n),Ge===4&&Rr(t,ot)),Lt(t,r),n===1&&me===0&&!(e.mode&1)&&(Ji=Ue()+500,vd&&hs()))}function Lt(t,e){var n=t.callbackNode;AC(t,e);var r=gu(t,t===Ze?ot:0);if(r===0)n!==null&&wx(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&wx(n),e===1)t.tag===0?CA(hv.bind(null,t)):Ab(hv.bind(null,t)),TA(function(){!(me&6)&&hs()}),n=null;else{switch(sb(r)){case 1:n=Op;break;case 4:n=tb;break;case 16:n=pu;break;case 536870912:n=nb;break;default:n=pu}n=SE(n,wE.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function wE(t,e){if(qc=-1,Hc=0,me&6)throw Error($(327));var n=t.callbackNode;if(Bi()&&t.callbackNode!==n)return null;var r=gu(t,t===Ze?ot:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Du(t,r);else{e=r;var s=me;me|=2;var i=bE();(Ze!==t||ot!==e)&&(Yn=null,Ji=Ue()+500,Vs(t,e));do try{QA();break}catch(l){_E(t,l)}while(!0);Yp(),ku.current=i,me=s,qe!==null?e=0:(Ze=null,ot=0,e=Ge)}if(e!==0){if(e===2&&(s=Qm(t),s!==0&&(r=s,e=Tf(t,s))),e===1)throw n=Ya,Vs(t,0),Rr(t,r),Lt(t,Ue()),n;if(e===6)Rr(t,r);else{if(s=t.current.alternate,!(r&30)&&!KA(s)&&(e=Du(t,r),e===2&&(i=Qm(t),i!==0&&(r=i,e=Tf(t,i))),e===1))throw n=Ya,Vs(t,0),Rr(t,r),Lt(t,Ue()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error($(345));case 2:Ts(t,kt,Yn);break;case 3:if(Rr(t,r),(r&130023424)===r&&(e=dg+500-Ue(),10<e)){if(gu(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){St(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=rf(Ts.bind(null,t,kt,Yn),e);break}Ts(t,kt,Yn);break;case 4:if(Rr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-xn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Ue()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*WA(r/1960))-r,10<r){t.timeoutHandle=rf(Ts.bind(null,t,kt,Yn),r);break}Ts(t,kt,Yn);break;case 5:Ts(t,kt,Yn);break;default:throw Error($(329))}}}return Lt(t,Ue()),t.callbackNode===n?wE.bind(null,t):null}function Tf(t,e){var n=xa;return t.current.memoizedState.isDehydrated&&(Vs(t,e).flags|=256),t=Du(t,e),t!==2&&(e=kt,kt=n,e!==null&&Nf(e)),t}function Nf(t){kt===null?kt=t:kt.push.apply(kt,t)}function KA(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!wn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Rr(t,e){for(e&=~ug,e&=~Ed,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-xn(e),r=1<<n;t[n]=-1,e&=~r}}function hv(t){if(me&6)throw Error($(327));Bi();var e=gu(t,0);if(!(e&1))return Lt(t,Ue()),null;var n=Du(t,e);if(t.tag!==0&&n===2){var r=Qm(t);r!==0&&(e=r,n=Tf(t,r))}if(n===1)throw n=Ya,Vs(t,0),Rr(t,e),Lt(t,Ue()),n;if(n===6)throw Error($(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ts(t,kt,Yn),Lt(t,Ue()),null}function hg(t,e){var n=me;me|=1;try{return t(e)}finally{me=n,me===0&&(Ji=Ue()+500,vd&&hs())}}function Ws(t){Fr!==null&&Fr.tag===0&&!(me&6)&&Bi();var e=me;me|=1;var n=nn.transition,r=ge;try{if(nn.transition=null,ge=1,t)return t()}finally{ge=r,nn.transition=n,me=e,!(me&6)&&hs()}}function mg(){$t=Ai.current,Ne(Ai)}function Vs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,EA(n)),qe!==null)for(n=qe.return;n!==null;){var r=n;switch(Kp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&_u();break;case 3:Yi(),Ne(Mt),Ne(wt),ng();break;case 5:tg(r);break;case 4:Yi();break;case 13:Ne(Ae);break;case 19:Ne(Ae);break;case 10:Xp(r.type._context);break;case 22:case 23:mg()}n=n.return}if(Ze=t,qe=t=Gr(t.current,null),ot=$t=e,Ge=0,Ya=null,ug=Ed=Hs=0,kt=xa=null,As!==null){for(e=0;e<As.length;e++)if(n=As[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}As=null}return t}function _E(t,e){do{var n=qe;try{if(Yp(),Bc.current=Pu,Au){for(var r=ke.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Au=!1}if(qs=0,Je=Ke=ke=null,ga=!1,Ka=0,cg.current=null,n===null||n.return===null){Ge=1,Ya=e,qe=null;break}e:{var i=t,o=n.return,l=n,c=e;if(e=ot,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,h=l,m=h.tag;if(!(h.mode&1)&&(m===0||m===11||m===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var g=Zx(o);if(g!==null){g.flags&=-257,ev(g,o,l,i,e),g.mode&1&&Jx(i,d,e),e=g,c=d;var v=e.updateQueue;if(v===null){var C=new Set;C.add(c),e.updateQueue=C}else v.add(c);break e}else{if(!(e&1)){Jx(i,d,e),fg();break e}c=Error($(426))}}else if(Ie&&l.mode&1){var A=Zx(o);if(A!==null){!(A.flags&65536)&&(A.flags|=256),ev(A,o,l,i,e),Gp(Xi(c,l));break e}}i=c=Xi(c,l),Ge!==4&&(Ge=2),xa===null?xa=[i]:xa.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var T=sE(i,c,e);Wx(i,T);break e;case 1:l=c;var b=i.type,N=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(Wr===null||!Wr.has(N)))){i.flags|=65536,e&=-e,i.lanes|=e;var R=iE(i,l,e);Wx(i,R);break e}}i=i.return}while(i!==null)}TE(n)}catch(j){e=j,qe===n&&n!==null&&(qe=n=n.return);continue}break}while(!0)}function bE(){var t=ku.current;return ku.current=Pu,t===null?Pu:t}function fg(){(Ge===0||Ge===3||Ge===2)&&(Ge=4),Ze===null||!(Hs&268435455)&&!(Ed&268435455)||Rr(Ze,ot)}function Du(t,e){var n=me;me|=2;var r=bE();(Ze!==t||ot!==e)&&(Yn=null,Vs(t,e));do try{GA();break}catch(s){_E(t,s)}while(!0);if(Yp(),me=n,ku.current=r,qe!==null)throw Error($(261));return Ze=null,ot=0,Ge}function GA(){for(;qe!==null;)EE(qe)}function QA(){for(;qe!==null&&!wC();)EE(qe)}function EE(t){var e=IE(t.alternate,t,$t);t.memoizedProps=t.pendingProps,e===null?TE(t):qe=e,cg.current=null}function TE(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=$A(n,e),n!==null){n.flags&=32767,qe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ge=6,qe=null;return}}else if(n=BA(n,e,$t),n!==null){qe=n;return}if(e=e.sibling,e!==null){qe=e;return}qe=e=t}while(e!==null);Ge===0&&(Ge=5)}function Ts(t,e,n){var r=ge,s=nn.transition;try{nn.transition=null,ge=1,YA(t,e,n,r)}finally{nn.transition=s,ge=r}return null}function YA(t,e,n,r){do Bi();while(Fr!==null);if(me&6)throw Error($(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error($(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(PC(t,i),t===Ze&&(qe=Ze=null,ot=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||xc||(xc=!0,SE(pu,function(){return Bi(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=nn.transition,nn.transition=null;var o=ge;ge=1;var l=me;me|=4,cg.current=null,qA(t,n),xE(n,t),gA(tf),yu=!!ef,tf=ef=null,t.current=n,HA(n),_C(),me=l,ge=o,nn.transition=i}else t.current=n;if(xc&&(xc=!1,Fr=t,ju=s),i=t.pendingLanes,i===0&&(Wr=null),TC(n.stateNode),Lt(t,Ue()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Ru)throw Ru=!1,t=bf,bf=null,t;return ju&1&&t.tag!==0&&Bi(),i=t.pendingLanes,i&1?t===Ef?va++:(va=0,Ef=t):va=0,hs(),null}function Bi(){if(Fr!==null){var t=sb(ju),e=nn.transition,n=ge;try{if(nn.transition=null,ge=16>t?16:t,Fr===null)var r=!1;else{if(t=Fr,Fr=null,ju=0,me&6)throw Error($(331));var s=me;for(me|=4,Q=t.current;Q!==null;){var i=Q,o=i.child;if(Q.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(Q=d;Q!==null;){var h=Q;switch(h.tag){case 0:case 11:case 15:ya(8,h,i)}var m=h.child;if(m!==null)m.return=h,Q=m;else for(;Q!==null;){h=Q;var f=h.sibling,g=h.return;if(pE(h),h===d){Q=null;break}if(f!==null){f.return=g,Q=f;break}Q=g}}}var v=i.alternate;if(v!==null){var C=v.child;if(C!==null){v.child=null;do{var A=C.sibling;C.sibling=null,C=A}while(C!==null)}}Q=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Q=o;else e:for(;Q!==null;){if(i=Q,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ya(9,i,i.return)}var T=i.sibling;if(T!==null){T.return=i.return,Q=T;break e}Q=i.return}}var b=t.current;for(Q=b;Q!==null;){o=Q;var N=o.child;if(o.subtreeFlags&2064&&N!==null)N.return=o,Q=N;else e:for(o=b;Q!==null;){if(l=Q,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:bd(9,l)}}catch(j){Me(l,l.return,j)}if(l===o){Q=null;break e}var R=l.sibling;if(R!==null){R.return=l.return,Q=R;break e}Q=l.return}}if(me=s,hs(),Cn&&typeof Cn.onPostCommitFiberRoot=="function")try{Cn.onPostCommitFiberRoot(fd,t)}catch{}r=!0}return r}finally{ge=n,nn.transition=e}}return!1}function mv(t,e,n){e=Xi(n,e),e=sE(t,e,1),t=Hr(t,e,1),e=St(),t!==null&&(gl(t,1,e),Lt(t,e))}function Me(t,e,n){if(t.tag===3)mv(t,t,n);else for(;e!==null;){if(e.tag===3){mv(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Wr===null||!Wr.has(r))){t=Xi(n,t),t=iE(e,t,1),e=Hr(e,t,1),t=St(),e!==null&&(gl(e,1,t),Lt(e,t));break}}e=e.return}}function XA(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=St(),t.pingedLanes|=t.suspendedLanes&n,Ze===t&&(ot&n)===n&&(Ge===4||Ge===3&&(ot&130023424)===ot&&500>Ue()-dg?Vs(t,0):ug|=n),Lt(t,e)}function NE(t,e){e===0&&(t.mode&1?(e=lc,lc<<=1,!(lc&130023424)&&(lc=4194304)):e=1);var n=St();t=ur(t,e),t!==null&&(gl(t,e,n),Lt(t,n))}function JA(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),NE(t,n)}function ZA(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error($(314))}r!==null&&r.delete(e),NE(t,n)}var IE;IE=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Mt.current)jt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return jt=!1,UA(t,e,n);jt=!!(t.flags&131072)}else jt=!1,Ie&&e.flags&1048576&&Pb(e,Tu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;zc(t,e),t=e.pendingProps;var s=Ki(e,wt.current);Ui(e,n),s=sg(null,e,r,t,s,n);var i=ig();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ot(r)?(i=!0,bu(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Zp(e),s.updater=_d,e.stateNode=s,s._reactInternals=e,df(e,r,t,n),e=ff(null,e,r,!0,i,n)):(e.tag=0,Ie&&i&&Wp(e),Tt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(zc(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=tP(r),t=hn(r,t),s){case 0:e=mf(null,e,r,t,n);break e;case 1:e=rv(null,e,r,t,n);break e;case 11:e=tv(null,e,r,t,n);break e;case 14:e=nv(null,e,r,hn(r.type,t),n);break e}throw Error($(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:hn(r,s),mf(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:hn(r,s),rv(t,e,r,s,n);case 3:e:{if(cE(e),t===null)throw Error($(387));r=e.pendingProps,i=e.memoizedState,s=i.element,Mb(t,e),Su(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Xi(Error($(423)),e),e=sv(t,e,r,n,s);break e}else if(r!==s){s=Xi(Error($(424)),e),e=sv(t,e,r,n,s);break e}else for(zt=qr(e.stateNode.containerInfo.firstChild),Ht=e,Ie=!0,fn=null,n=Db(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Gi(),r===s){e=dr(t,e,n);break e}Tt(t,e,r,n)}e=e.child}return e;case 5:return Ob(e),t===null&&lf(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,nf(r,s)?o=null:i!==null&&nf(r,i)&&(e.flags|=32),lE(t,e),Tt(t,e,o,n),e.child;case 6:return t===null&&lf(e),null;case 13:return uE(t,e,n);case 4:return eg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Qi(e,null,r,n):Tt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:hn(r,s),tv(t,e,r,s,n);case 7:return Tt(t,e,e.pendingProps,n),e.child;case 8:return Tt(t,e,e.pendingProps.children,n),e.child;case 12:return Tt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,_e(Nu,r._currentValue),r._currentValue=o,i!==null)if(wn(i.value,o)){if(i.children===s.children&&!Mt.current){e=dr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=rr(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var h=d.pending;h===null?c.next=c:(c.next=h.next,h.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),cf(i.return,n,e),l.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error($(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),cf(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Tt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Ui(e,n),s=on(s),r=r(s),e.flags|=1,Tt(t,e,r,n),e.child;case 14:return r=e.type,s=hn(r,e.pendingProps),s=hn(r.type,s),nv(t,e,r,s,n);case 15:return oE(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:hn(r,s),zc(t,e),e.tag=1,Ot(r)?(t=!0,bu(e)):t=!1,Ui(e,n),rE(e,r,s),df(e,r,s,n),ff(null,e,r,!0,t,n);case 19:return dE(t,e,n);case 22:return aE(t,e,n)}throw Error($(156,e.tag))};function SE(t,e){return eb(t,e)}function eP(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tn(t,e,n,r){return new eP(t,e,n,r)}function pg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function tP(t){if(typeof t=="function")return pg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Dp)return 11;if(t===Vp)return 14}return 2}function Gr(t,e){var n=t.alternate;return n===null?(n=tn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Wc(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")pg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case vi:return Ms(n.children,s,i,e);case jp:o=8,s|=8;break;case Dm:return t=tn(12,n,e,s|2),t.elementType=Dm,t.lanes=i,t;case Vm:return t=tn(13,n,e,s),t.elementType=Vm,t.lanes=i,t;case Mm:return t=tn(19,n,e,s),t.elementType=Mm,t.lanes=i,t;case O_:return Td(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case V_:o=10;break e;case M_:o=9;break e;case Dp:o=11;break e;case Vp:o=14;break e;case Ar:o=16,r=null;break e}throw Error($(130,t==null?t:typeof t,""))}return e=tn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Ms(t,e,n,r){return t=tn(7,t,r,e),t.lanes=n,t}function Td(t,e,n,r){return t=tn(22,t,r,e),t.elementType=O_,t.lanes=n,t.stateNode={isHidden:!1},t}function Zh(t,e,n){return t=tn(6,t,null,e),t.lanes=n,t}function em(t,e,n){return e=tn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function nP(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Dh(0),this.expirationTimes=Dh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dh(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function gg(t,e,n,r,s,i,o,l,c){return t=new nP(t,e,n,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=tn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zp(i),t}function rP(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function CE(t){if(!t)return es;t=t._reactInternals;e:{if(Zs(t)!==t||t.tag!==1)throw Error($(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ot(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error($(171))}if(t.tag===1){var n=t.type;if(Ot(n))return Cb(t,n,e)}return e}function AE(t,e,n,r,s,i,o,l,c){return t=gg(n,r,!0,t,s,i,o,l,c),t.context=CE(null),n=t.current,r=St(),s=Kr(n),i=rr(r,s),i.callback=e??null,Hr(n,i,s),t.current.lanes=s,gl(t,s,r),Lt(t,r),t}function Nd(t,e,n,r){var s=e.current,i=St(),o=Kr(s);return n=CE(n),e.context===null?e.context=n:e.pendingContext=n,e=rr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Hr(s,e,o),t!==null&&(vn(t,s,o,i),Uc(t,s,o)),o}function Vu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function fv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function yg(t,e){fv(t,e),(t=t.alternate)&&fv(t,e)}function sP(){return null}var PE=typeof reportError=="function"?reportError:function(t){console.error(t)};function xg(t){this._internalRoot=t}Id.prototype.render=xg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error($(409));Nd(t,e,null,null)};Id.prototype.unmount=xg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ws(function(){Nd(null,t,null,null)}),e[cr]=null}};function Id(t){this._internalRoot=t}Id.prototype.unstable_scheduleHydration=function(t){if(t){var e=ab();t={blockedOn:null,target:t,priority:e};for(var n=0;n<kr.length&&e!==0&&e<kr[n].priority;n++);kr.splice(n,0,t),n===0&&cb(t)}};function vg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Sd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function pv(){}function iP(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var d=Vu(o);i.call(d)}}var o=AE(e,r,t,0,null,!1,!1,"",pv);return t._reactRootContainer=o,t[cr]=o.current,$a(t.nodeType===8?t.parentNode:t),Ws(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var d=Vu(c);l.call(d)}}var c=gg(t,0,!1,null,null,!1,!1,"",pv);return t._reactRootContainer=c,t[cr]=c.current,$a(t.nodeType===8?t.parentNode:t),Ws(function(){Nd(e,c,n,r)}),c}function Cd(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=Vu(o);l.call(c)}}Nd(e,o,t,s)}else o=iP(n,e,t,s,r);return Vu(o)}ib=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=sa(e.pendingLanes);n!==0&&(Lp(e,n|1),Lt(e,Ue()),!(me&6)&&(Ji=Ue()+500,hs()))}break;case 13:Ws(function(){var r=ur(t,1);if(r!==null){var s=St();vn(r,t,1,s)}}),yg(t,1)}};Fp=function(t){if(t.tag===13){var e=ur(t,134217728);if(e!==null){var n=St();vn(e,t,134217728,n)}yg(t,134217728)}};ob=function(t){if(t.tag===13){var e=Kr(t),n=ur(t,e);if(n!==null){var r=St();vn(n,t,e,r)}yg(t,e)}};ab=function(){return ge};lb=function(t,e){var n=ge;try{return ge=t,e()}finally{ge=n}};Wm=function(t,e,n){switch(e){case"input":if(Fm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=xd(r);if(!s)throw Error($(90));F_(r),Fm(r,s)}}}break;case"textarea":B_(t,n);break;case"select":e=n.value,e!=null&&Mi(t,!!n.multiple,e,!1)}};G_=hg;Q_=Ws;var oP={usingClientEntryPoint:!1,Events:[xl,Ei,xd,W_,K_,hg]},Xo={findFiberByHostInstance:Cs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},aP={bundleType:Xo.bundleType,version:Xo.version,rendererPackageName:Xo.rendererPackageName,rendererConfig:Xo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:br.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=J_(t),t===null?null:t.stateNode},findFiberByHostInstance:Xo.findFiberByHostInstance||sP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vc.isDisabled&&vc.supportsFiber)try{fd=vc.inject(aP),Cn=vc}catch{}}Kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oP;Kt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vg(e))throw Error($(200));return rP(t,e,null,n)};Kt.createRoot=function(t,e){if(!vg(t))throw Error($(299));var n=!1,r="",s=PE;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=gg(t,1,!1,null,null,n,!1,r,s),t[cr]=e.current,$a(t.nodeType===8?t.parentNode:t),new xg(e)};Kt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error($(188)):(t=Object.keys(t).join(","),Error($(268,t)));return t=J_(e),t=t===null?null:t.stateNode,t};Kt.flushSync=function(t){return Ws(t)};Kt.hydrate=function(t,e,n){if(!Sd(e))throw Error($(200));return Cd(null,t,e,!0,n)};Kt.hydrateRoot=function(t,e,n){if(!vg(t))throw Error($(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=PE;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=AE(e,null,t,1,n??null,s,!1,i,o),t[cr]=e.current,$a(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Id(e)};Kt.render=function(t,e,n){if(!Sd(e))throw Error($(200));return Cd(null,t,e,!1,n)};Kt.unmountComponentAtNode=function(t){if(!Sd(t))throw Error($(40));return t._reactRootContainer?(Ws(function(){Cd(null,null,t,!1,function(){t._reactRootContainer=null,t[cr]=null})}),!0):!1};Kt.unstable_batchedUpdates=hg;Kt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Sd(n))throw Error($(200));if(t==null||t._reactInternals===void 0)throw Error($(38));return Cd(t,e,n,!1,r)};Kt.version="18.3.1-next-f1338f8080-20240426";function kE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(kE)}catch(t){console.error(t)}}kE(),k_.exports=Kt;var lP=k_.exports,RE,gv=lP;RE=gv.createRoot,gv.hydrateRoot;/**
 * react-router v7.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var yv="popstate";function cP(t={}){function e(r,s){let{pathname:i,search:o,hash:l}=r.location;return If("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Xa(s)}return dP(e,n,null,t)}function Ce(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function _n(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function uP(){return Math.random().toString(36).substring(2,10)}function xv(t,e){return{usr:t.state,key:t.key,idx:e}}function If(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?xo(e):e,state:n,key:e&&e.key||r||uP()}}function Xa({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function xo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function dP(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,l="POP",c=null,d=h();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function h(){return(o.state||{idx:null}).idx}function m(){l="POP";let A=h(),T=A==null?null:A-d;d=A,c&&c({action:l,location:C.location,delta:T})}function f(A,T){l="PUSH";let b=If(C.location,A,T);d=h()+1;let N=xv(b,d),R=C.createHref(b);try{o.pushState(N,"",R)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(R)}i&&c&&c({action:l,location:C.location,delta:1})}function g(A,T){l="REPLACE";let b=If(C.location,A,T);d=h();let N=xv(b,d),R=C.createHref(b);o.replaceState(N,"",R),i&&c&&c({action:l,location:C.location,delta:0})}function v(A){return hP(A)}let C={get action(){return l},get location(){return t(s,o)},listen(A){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(yv,m),c=A,()=>{s.removeEventListener(yv,m),c=null}},createHref(A){return e(s,A)},createURL:v,encodeLocation(A){let T=v(A);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:f,replace:g,go(A){return o.go(A)}};return C}function hP(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ce(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Xa(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function jE(t,e,n="/"){return mP(t,e,n,!1)}function mP(t,e,n,r){let s=typeof e=="string"?xo(e):e,i=hr(s.pathname||"/",n);if(i==null)return null;let o=DE(t);fP(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=NP(i);l=EP(o[c],d,r)}return l}function DE(t,e=[],n=[],r=""){let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Ce(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length));let d=sr([r,c.relativePath]),h=n.concat(c);i.children&&i.children.length>0&&(Ce(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),DE(i.children,e,h,d)),!(i.path==null&&!i.index)&&e.push({path:d,score:_P(d,i.index),routesMeta:h})};return t.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of VE(i.path))s(i,o,c)}),e}function VE(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=VE(r.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function fP(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:bP(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var pP=/^:[\w-]+$/,gP=3,yP=2,xP=1,vP=10,wP=-2,vv=t=>t==="*";function _P(t,e){let n=t.split("/"),r=n.length;return n.some(vv)&&(r+=wP),e&&(r+=yP),n.filter(s=>!vv(s)).reduce((s,i)=>s+(pP.test(i)?gP:i===""?xP:vP),r)}function bP(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function EP(t,e,n=!1){let{routesMeta:r}=t,s={},i="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],d=l===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",m=Mu({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},h),f=c.route;if(!m&&d&&n&&!r[r.length-1].route.index&&(m=Mu({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!m)return null;Object.assign(s,m.params),o.push({params:s,pathname:sr([i,m.pathname]),pathnameBase:AP(sr([i,m.pathnameBase])),route:f}),m.pathnameBase!=="/"&&(i=sr([i,m.pathnameBase]))}return o}function Mu(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=TP(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((d,{paramName:h,isOptional:m},f)=>{if(h==="*"){let v=l[f]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const g=l[f];return m&&!g?d[h]=void 0:d[h]=(g||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:t}}function TP(t,e=!1,n=!0){_n(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function NP(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return _n(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function hr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function IP(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?xo(t):t;return{pathname:n?n.startsWith("/")?n:SP(n,e):e,search:PP(r),hash:kP(s)}}function SP(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function tm(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function CP(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function wg(t){let e=CP(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function _g(t,e,n,r=!1){let s;typeof t=="string"?s=xo(t):(s={...t},Ce(!s.pathname||!s.pathname.includes("?"),tm("?","pathname","search",s)),Ce(!s.pathname||!s.pathname.includes("#"),tm("#","pathname","hash",s)),Ce(!s.search||!s.search.includes("#"),tm("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=n;else{let m=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),m-=1;s.pathname=f.join("/")}l=m>=0?e[m]:"/"}let c=IP(s,l),d=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||h)&&(c.pathname+="/"),c}var sr=t=>t.join("/").replace(/\/\/+/g,"/"),AP=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),PP=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,kP=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function RP(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var ME=["POST","PUT","PATCH","DELETE"];new Set(ME);var jP=["GET",...ME];new Set(jP);var vo=k.createContext(null);vo.displayName="DataRouter";var Ad=k.createContext(null);Ad.displayName="DataRouterState";k.createContext(!1);var OE=k.createContext({isTransitioning:!1});OE.displayName="ViewTransition";var DP=k.createContext(new Map);DP.displayName="Fetchers";var VP=k.createContext(null);VP.displayName="Await";var En=k.createContext(null);En.displayName="Navigation";var wl=k.createContext(null);wl.displayName="Location";var $n=k.createContext({outlet:null,matches:[],isDataRoute:!1});$n.displayName="Route";var bg=k.createContext(null);bg.displayName="RouteError";function MP(t,{relative:e}={}){Ce(wo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=k.useContext(En),{hash:s,pathname:i,search:o}=_l(t,{relative:e}),l=i;return n!=="/"&&(l=i==="/"?n:sr([n,i])),r.createHref({pathname:l,search:o,hash:s})}function wo(){return k.useContext(wl)!=null}function ms(){return Ce(wo(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(wl).location}var LE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function FE(t){k.useContext(En).static||k.useLayoutEffect(t)}function Eg(){let{isDataRoute:t}=k.useContext($n);return t?QP():OP()}function OP(){Ce(wo(),"useNavigate() may be used only in the context of a <Router> component.");let t=k.useContext(vo),{basename:e,navigator:n}=k.useContext(En),{matches:r}=k.useContext($n),{pathname:s}=ms(),i=JSON.stringify(wg(r)),o=k.useRef(!1);return FE(()=>{o.current=!0}),k.useCallback((c,d={})=>{if(_n(o.current,LE),!o.current)return;if(typeof c=="number"){n.go(c);return}let h=_g(c,JSON.parse(i),s,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:sr([e,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[e,n,i,s,t])}k.createContext(null);function _l(t,{relative:e}={}){let{matches:n}=k.useContext($n),{pathname:r}=ms(),s=JSON.stringify(wg(n));return k.useMemo(()=>_g(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function LP(t,e){return UE(t,e)}function UE(t,e,n,r){var T;Ce(wo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=k.useContext(En),{matches:i}=k.useContext($n),o=i[i.length-1],l=o?o.params:{},c=o?o.pathname:"/",d=o?o.pathnameBase:"/",h=o&&o.route;{let b=h&&h.path||"";BE(c,!h||b.endsWith("*")||b.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${b}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${b}"> to <Route path="${b==="/"?"*":`${b}/*`}">.`)}let m=ms(),f;if(e){let b=typeof e=="string"?xo(e):e;Ce(d==="/"||((T=b.pathname)==null?void 0:T.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${b.pathname}" was given in the \`location\` prop.`),f=b}else f=m;let g=f.pathname||"/",v=g;if(d!=="/"){let b=d.replace(/^\//,"").split("/");v="/"+g.replace(/^\//,"").split("/").slice(b.length).join("/")}let C=jE(t,{pathname:v});_n(h||C!=null,`No routes matched location "${f.pathname}${f.search}${f.hash}" `),_n(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${f.pathname}${f.search}${f.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=zP(C&&C.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:sr([d,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?d:sr([d,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,n,r);return e&&A?k.createElement(wl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...f},navigationType:"POP"}},A):A}function FP(){let t=GP(),e=RP(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=k.createElement(k.Fragment,null,k.createElement("p",null,"💿 Hey developer 👋"),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:i},"ErrorBoundary")," or"," ",k.createElement("code",{style:i},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:s},n):null,o)}var UP=k.createElement(FP,null),BP=class extends k.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?k.createElement($n.Provider,{value:this.props.routeContext},k.createElement(bg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function $P({routeContext:t,match:e,children:n}){let r=k.useContext(vo);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),k.createElement($n.Provider,{value:t},n)}function zP(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,i=n==null?void 0:n.errors;if(i!=null){let c=s.findIndex(d=>d.route.id&&(i==null?void 0:i[d.route.id])!==void 0);Ce(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),s=s.slice(0,Math.min(s.length,c+1))}let o=!1,l=-1;if(n)for(let c=0;c<s.length;c++){let d=s[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(l=c),d.route.id){let{loaderData:h,errors:m}=n,f=d.route.loader&&!h.hasOwnProperty(d.route.id)&&(!m||m[d.route.id]===void 0);if(d.route.lazy||f){o=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}return s.reduceRight((c,d,h)=>{let m,f=!1,g=null,v=null;n&&(m=i&&d.route.id?i[d.route.id]:void 0,g=d.route.errorElement||UP,o&&(l<0&&h===0?(BE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),f=!0,v=null):l===h&&(f=!0,v=d.route.hydrateFallbackElement||null)));let C=e.concat(s.slice(0,h+1)),A=()=>{let T;return m?T=g:f?T=v:d.route.Component?T=k.createElement(d.route.Component,null):d.route.element?T=d.route.element:T=c,k.createElement($P,{match:d,routeContext:{outlet:c,matches:C,isDataRoute:n!=null},children:T})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?k.createElement(BP,{location:n.location,revalidation:n.revalidation,component:g,error:m,children:A(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):A()},null)}function Tg(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qP(t){let e=k.useContext(vo);return Ce(e,Tg(t)),e}function HP(t){let e=k.useContext(Ad);return Ce(e,Tg(t)),e}function WP(t){let e=k.useContext($n);return Ce(e,Tg(t)),e}function Ng(t){let e=WP(t),n=e.matches[e.matches.length-1];return Ce(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function KP(){return Ng("useRouteId")}function GP(){var r;let t=k.useContext(bg),e=HP("useRouteError"),n=Ng("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function QP(){let{router:t}=qP("useNavigate"),e=Ng("useNavigate"),n=k.useRef(!1);return FE(()=>{n.current=!0}),k.useCallback(async(s,i={})=>{_n(n.current,LE),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...i}))},[t,e])}var wv={};function BE(t,e,n){!e&&!wv[t]&&(wv[t]=!0,_n(!1,n))}k.memo(YP);function YP({routes:t,future:e,state:n}){return UE(t,void 0,n,e)}function _v({to:t,replace:e,state:n,relative:r}){Ce(wo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=k.useContext(En);_n(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=k.useContext($n),{pathname:o}=ms(),l=Eg(),c=_g(t,wg(i),o,r==="path"),d=JSON.stringify(c);return k.useEffect(()=>{l(JSON.parse(d),{replace:e,state:n,relative:r})},[l,d,r,e,n]),null}function Kc(t){Ce(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function XP({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:i=!1}){Ce(!wo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),l=k.useMemo(()=>({basename:o,navigator:s,static:i,future:{}}),[o,s,i]);typeof n=="string"&&(n=xo(n));let{pathname:c="/",search:d="",hash:h="",state:m=null,key:f="default"}=n,g=k.useMemo(()=>{let v=hr(c,o);return v==null?null:{location:{pathname:v,search:d,hash:h,state:m,key:f},navigationType:r}},[o,c,d,h,m,f,r]);return _n(g!=null,`<Router basename="${o}"> is not able to match the URL "${c}${d}${h}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:k.createElement(En.Provider,{value:l},k.createElement(wl.Provider,{children:e,value:g}))}function JP({children:t,location:e}){return LP(Sf(t),e)}function Sf(t,e=[]){let n=[];return k.Children.forEach(t,(r,s)=>{if(!k.isValidElement(r))return;let i=[...e,s];if(r.type===k.Fragment){n.push.apply(n,Sf(r.props.children,i));return}Ce(r.type===Kc,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ce(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Sf(r.props.children,i)),n.push(o)}),n}var Gc="get",Qc="application/x-www-form-urlencoded";function Pd(t){return t!=null&&typeof t.tagName=="string"}function ZP(t){return Pd(t)&&t.tagName.toLowerCase()==="button"}function ek(t){return Pd(t)&&t.tagName.toLowerCase()==="form"}function tk(t){return Pd(t)&&t.tagName.toLowerCase()==="input"}function nk(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function rk(t,e){return t.button===0&&(!e||e==="_self")&&!nk(t)}var wc=null;function sk(){if(wc===null)try{new FormData(document.createElement("form"),0),wc=!1}catch{wc=!0}return wc}var ik=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function nm(t){return t!=null&&!ik.has(t)?(_n(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Qc}"`),null):t}function ok(t,e){let n,r,s,i,o;if(ek(t)){let l=t.getAttribute("action");r=l?hr(l,e):null,n=t.getAttribute("method")||Gc,s=nm(t.getAttribute("enctype"))||Qc,i=new FormData(t)}else if(ZP(t)||tk(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||l.getAttribute("action");if(r=c?hr(c,e):null,n=t.getAttribute("formmethod")||l.getAttribute("method")||Gc,s=nm(t.getAttribute("formenctype"))||nm(l.getAttribute("enctype"))||Qc,i=new FormData(l,t),!sk()){let{name:d,type:h,value:m}=t;if(h==="image"){let f=d?`${d}.`:"";i.append(`${f}x`,"0"),i.append(`${f}y`,"0")}else d&&i.append(d,m)}}else{if(Pd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Gc,r=null,s=Qc,o=t}return i&&s==="text/plain"&&(o=i,i=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ig(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ak(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&hr(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function lk(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ck(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function uk(t,e,n){let r=await Promise.all(t.map(async s=>{let i=e.routes[s.route.id];if(i){let o=await lk(i,n);return o.links?o.links():[]}return[]}));return fk(r.flat(1).filter(ck).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function bv(t,e,n,r,s,i){let o=(c,d)=>n[d]?c.route.id!==n[d].route.id:!0,l=(c,d)=>{var h;return n[d].pathname!==c.pathname||((h=n[d].route.path)==null?void 0:h.endsWith("*"))&&n[d].params["*"]!==c.params["*"]};return i==="assets"?e.filter((c,d)=>o(c,d)||l(c,d)):i==="data"?e.filter((c,d)=>{var m;let h=r.routes[c.route.id];if(!h||!h.hasLoader)return!1;if(o(c,d)||l(c,d))return!0;if(c.route.shouldRevalidate){let f=c.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((m=n[0])==null?void 0:m.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function dk(t,e,{includeHydrateFallback:n}={}){return hk(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function hk(t){return[...new Set(t)]}function mk(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function fk(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let i=JSON.stringify(mk(s));return n.has(i)||(n.add(i),r.push({key:i,link:s})),r},[])}function $E(){let t=k.useContext(vo);return Ig(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function pk(){let t=k.useContext(Ad);return Ig(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Sg=k.createContext(void 0);Sg.displayName="FrameworkContext";function zE(){let t=k.useContext(Sg);return Ig(t,"You must render this element inside a <HydratedRouter> element"),t}function gk(t,e){let n=k.useContext(Sg),[r,s]=k.useState(!1),[i,o]=k.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:d,onMouseLeave:h,onTouchStart:m}=e,f=k.useRef(null);k.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let C=T=>{T.forEach(b=>{o(b.isIntersecting)})},A=new IntersectionObserver(C,{threshold:.5});return f.current&&A.observe(f.current),()=>{A.disconnect()}}},[t]),k.useEffect(()=>{if(r){let C=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(C)}}},[r]);let g=()=>{s(!0)},v=()=>{s(!1),o(!1)};return n?t!=="intent"?[i,f,{}]:[i,f,{onFocus:Jo(l,g),onBlur:Jo(c,v),onMouseEnter:Jo(d,g),onMouseLeave:Jo(h,v),onTouchStart:Jo(m,g)}]:[!1,f,{}]}function Jo(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function yk({page:t,...e}){let{router:n}=$E(),r=k.useMemo(()=>jE(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?k.createElement(vk,{page:t,matches:r,...e}):null}function xk(t){let{manifest:e,routeModules:n}=zE(),[r,s]=k.useState([]);return k.useEffect(()=>{let i=!1;return uk(t,e,n).then(o=>{i||s(o)}),()=>{i=!0}},[t,e,n]),r}function vk({page:t,matches:e,...n}){let r=ms(),{manifest:s,routeModules:i}=zE(),{basename:o}=$E(),{loaderData:l,matches:c}=pk(),d=k.useMemo(()=>bv(t,e,c,s,r,"data"),[t,e,c,s,r]),h=k.useMemo(()=>bv(t,e,c,s,r,"assets"),[t,e,c,s,r]),m=k.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let v=new Set,C=!1;if(e.forEach(T=>{var N;let b=s.routes[T.route.id];!b||!b.hasLoader||(!d.some(R=>R.route.id===T.route.id)&&T.route.id in l&&((N=i[T.route.id])!=null&&N.shouldRevalidate)||b.hasClientLoader?C=!0:v.add(T.route.id))}),v.size===0)return[];let A=ak(t,o,"data");return C&&v.size>0&&A.searchParams.set("_routes",e.filter(T=>v.has(T.route.id)).map(T=>T.route.id).join(",")),[A.pathname+A.search]},[o,l,r,s,d,e,t,i]),f=k.useMemo(()=>dk(h,s),[h,s]),g=xk(h);return k.createElement(k.Fragment,null,m.map(v=>k.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...n})),f.map(v=>k.createElement("link",{key:v,rel:"modulepreload",href:v,...n})),g.map(({key:v,link:C})=>k.createElement("link",{key:v,...C})))}function wk(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var qE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{qE&&(window.__reactRouterVersion="7.7.0")}catch{}function _k({basename:t,children:e,window:n}){let r=k.useRef();r.current==null&&(r.current=cP({window:n,v5Compat:!0}));let s=r.current,[i,o]=k.useState({action:s.action,location:s.location}),l=k.useCallback(c=>{k.startTransition(()=>o(c))},[o]);return k.useLayoutEffect(()=>s.listen(l),[s,l]),k.createElement(XP,{basename:t,children:e,location:i.location,navigationType:i.action,navigator:s})}var HE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,WE=k.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:h,viewTransition:m,...f},g){let{basename:v}=k.useContext(En),C=typeof d=="string"&&HE.test(d),A,T=!1;if(typeof d=="string"&&C&&(A=d,qE))try{let E=new URL(window.location.href),_=d.startsWith("//")?new URL(E.protocol+d):new URL(d),I=hr(_.pathname,v);_.origin===E.origin&&I!=null?d=I+_.search+_.hash:T=!0}catch{_n(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let b=MP(d,{relative:s}),[N,R,j]=gk(r,f),O=Nk(d,{replace:o,state:l,target:c,preventScrollReset:h,relative:s,viewTransition:m});function w(E){e&&e(E),E.defaultPrevented||O(E)}let x=k.createElement("a",{...f,...j,href:A||b,onClick:T||i?e:w,ref:wk(g,R),target:c,"data-discover":!C&&n==="render"?"true":void 0});return N&&!C?k.createElement(k.Fragment,null,x,k.createElement(yk,{page:b})):x});WE.displayName="Link";var bk=k.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:i,to:o,viewTransition:l,children:c,...d},h){let m=_l(o,{relative:d.relative}),f=ms(),g=k.useContext(Ad),{navigator:v,basename:C}=k.useContext(En),A=g!=null&&Pk(m)&&l===!0,T=v.encodeLocation?v.encodeLocation(m).pathname:m.pathname,b=f.pathname,N=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;n||(b=b.toLowerCase(),N=N?N.toLowerCase():null,T=T.toLowerCase()),N&&C&&(N=hr(N,C)||N);const R=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let j=b===T||!s&&b.startsWith(T)&&b.charAt(R)==="/",O=N!=null&&(N===T||!s&&N.startsWith(T)&&N.charAt(T.length)==="/"),w={isActive:j,isPending:O,isTransitioning:A},x=j?e:void 0,E;typeof r=="function"?E=r(w):E=[r,j?"active":null,O?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let _=typeof i=="function"?i(w):i;return k.createElement(WE,{...d,"aria-current":x,className:E,ref:h,style:_,to:o,viewTransition:l},typeof c=="function"?c(w):c)});bk.displayName="NavLink";var Ek=k.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:i,method:o=Gc,action:l,onSubmit:c,relative:d,preventScrollReset:h,viewTransition:m,...f},g)=>{let v=Ck(),C=Ak(l,{relative:d}),A=o.toLowerCase()==="get"?"get":"post",T=typeof l=="string"&&HE.test(l),b=N=>{if(c&&c(N),N.defaultPrevented)return;N.preventDefault();let R=N.nativeEvent.submitter,j=(R==null?void 0:R.getAttribute("formmethod"))||o;v(R||N.currentTarget,{fetcherKey:e,method:j,navigate:n,replace:s,state:i,relative:d,preventScrollReset:h,viewTransition:m})};return k.createElement("form",{ref:g,method:A,action:C,onSubmit:r?c:b,...f,"data-discover":!T&&t==="render"?"true":void 0})});Ek.displayName="Form";function Tk(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function KE(t){let e=k.useContext(vo);return Ce(e,Tk(t)),e}function Nk(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:i,viewTransition:o}={}){let l=Eg(),c=ms(),d=_l(t,{relative:i});return k.useCallback(h=>{if(rk(h,e)){h.preventDefault();let m=n!==void 0?n:Xa(c)===Xa(d);l(t,{replace:m,state:r,preventScrollReset:s,relative:i,viewTransition:o})}},[c,l,d,n,r,e,t,s,i,o])}var Ik=0,Sk=()=>`__${String(++Ik)}__`;function Ck(){let{router:t}=KE("useSubmit"),{basename:e}=k.useContext(En),n=KP();return k.useCallback(async(r,s={})=>{let{action:i,method:o,encType:l,formData:c,body:d}=ok(r,e);if(s.navigate===!1){let h=s.fetcherKey||Sk();await t.fetch(h,n,s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:d,formMethod:s.method||o,formEncType:s.encType||l,flushSync:s.flushSync})}else await t.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:d,formMethod:s.method||o,formEncType:s.encType||l,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function Ak(t,{relative:e}={}){let{basename:n}=k.useContext(En),r=k.useContext($n);Ce(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),i={..._l(t||".",{relative:e})},o=ms();if(t==null){i.search=o.search;let l=new URLSearchParams(i.search),c=l.getAll("index");if(c.some(h=>h==="")){l.delete("index"),c.filter(m=>m).forEach(m=>l.append("index",m));let h=l.toString();i.search=h?`?${h}`:""}}return(!t||t===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:sr([n,i.pathname])),Xa(i)}function Pk(t,e={}){let n=k.useContext(OE);Ce(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=KE("useViewTransitionState"),s=_l(t,{relative:e.relative});if(!n.isTransitioning)return!1;let i=hr(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=hr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Mu(s.pathname,o)!=null||Mu(s.pathname,i)!=null}let kk={data:""},Rk=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||kk,jk=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Dk=/\/\*[^]*?\*\/|  +/g,Ev=/\n+/g,jr=(t,e)=>{let n="",r="",s="";for(let i in t){let o=t[i];i[0]=="@"?i[1]=="i"?n=i+" "+o+";":r+=i[1]=="f"?jr(o,i):i+"{"+jr(o,i[1]=="k"?"":e)+"}":typeof o=="object"?r+=jr(o,e?e.replace(/([^,])+/g,l=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=jr.p?jr.p(i,o):i+":"+o+";")}return n+(e&&s?e+"{"+s+"}":s)+r},Qn={},GE=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+GE(t[n]);return e}return t},Vk=(t,e,n,r,s)=>{let i=GE(t),o=Qn[i]||(Qn[i]=(c=>{let d=0,h=11;for(;d<c.length;)h=101*h+c.charCodeAt(d++)>>>0;return"go"+h})(i));if(!Qn[o]){let c=i!==t?t:(d=>{let h,m,f=[{}];for(;h=jk.exec(d.replace(Dk,""));)h[4]?f.shift():h[3]?(m=h[3].replace(Ev," ").trim(),f.unshift(f[0][m]=f[0][m]||{})):f[0][h[1]]=h[2].replace(Ev," ").trim();return f[0]})(t);Qn[o]=jr(s?{["@keyframes "+o]:c}:c,n?"":"."+o)}let l=n&&Qn.g?Qn.g:null;return n&&(Qn.g=Qn[o]),((c,d,h,m)=>{m?d.data=d.data.replace(m,c):d.data.indexOf(c)===-1&&(d.data=h?c+d.data:d.data+c)})(Qn[o],e,r,l),o},Mk=(t,e,n)=>t.reduce((r,s,i)=>{let o=e[i];if(o&&o.call){let l=o(n),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=c?"."+c:l&&typeof l=="object"?l.props?"":jr(l,""):l===!1?"":l}return r+s+(o??"")},"");function kd(t){let e=this||{},n=t.call?t(e.p):t;return Vk(n.unshift?n.raw?Mk(n,[].slice.call(arguments,1),e.p):n.reduce((r,s)=>Object.assign(r,s&&s.call?s(e.p):s),{}):n,Rk(e.target),e.g,e.o,e.k)}let QE,Cf,Af;kd.bind({g:1});let mr=kd.bind({k:1});function Ok(t,e,n,r){jr.p=e,QE=t,Cf=n,Af=r}function fs(t,e){let n=this||{};return function(){let r=arguments;function s(i,o){let l=Object.assign({},i),c=l.className||s.className;n.p=Object.assign({theme:Cf&&Cf()},l),n.o=/ *go\d+/.test(c),l.className=kd.apply(n,r)+(c?" "+c:"");let d=t;return t[0]&&(d=l.as||t,delete l.as),Af&&d[0]&&Af(l),QE(d,l)}return s}}var Lk=t=>typeof t=="function",Ou=(t,e)=>Lk(t)?t(e):t,Fk=(()=>{let t=0;return()=>(++t).toString()})(),YE=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),Uk=20,XE=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,Uk)};case 1:return{...t,toasts:t.toasts.map(i=>i.id===e.toast.id?{...i,...e.toast}:i)};case 2:let{toast:n}=e;return XE(t,{type:t.toasts.find(i=>i.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=e;return{...t,toasts:t.toasts.map(i=>i.id===r||r===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(i=>i.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let s=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+s}))}}},Yc=[],ks={toasts:[],pausedAt:void 0},ei=t=>{ks=XE(ks,t),Yc.forEach(e=>{e(ks)})},Bk={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},$k=(t={})=>{let[e,n]=k.useState(ks),r=k.useRef(ks);k.useEffect(()=>(r.current!==ks&&n(ks),Yc.push(n),()=>{let i=Yc.indexOf(n);i>-1&&Yc.splice(i,1)}),[]);let s=e.toasts.map(i=>{var o,l,c;return{...t,...t[i.type],...i,removeDelay:i.removeDelay||((o=t[i.type])==null?void 0:o.removeDelay)||(t==null?void 0:t.removeDelay),duration:i.duration||((l=t[i.type])==null?void 0:l.duration)||(t==null?void 0:t.duration)||Bk[i.type],style:{...t.style,...(c=t[i.type])==null?void 0:c.style,...i.style}}});return{...e,toasts:s}},zk=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||Fk()}),bl=t=>(e,n)=>{let r=zk(e,t,n);return ei({type:2,toast:r}),r.id},Nt=(t,e)=>bl("blank")(t,e);Nt.error=bl("error");Nt.success=bl("success");Nt.loading=bl("loading");Nt.custom=bl("custom");Nt.dismiss=t=>{ei({type:3,toastId:t})};Nt.remove=t=>ei({type:4,toastId:t});Nt.promise=(t,e,n)=>{let r=Nt.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(s=>{let i=e.success?Ou(e.success,s):void 0;return i?Nt.success(i,{id:r,...n,...n==null?void 0:n.success}):Nt.dismiss(r),s}).catch(s=>{let i=e.error?Ou(e.error,s):void 0;i?Nt.error(i,{id:r,...n,...n==null?void 0:n.error}):Nt.dismiss(r)}),t};var qk=(t,e)=>{ei({type:1,toast:{id:t,height:e}})},Hk=()=>{ei({type:5,time:Date.now()})},wa=new Map,Wk=1e3,Kk=(t,e=Wk)=>{if(wa.has(t))return;let n=setTimeout(()=>{wa.delete(t),ei({type:4,toastId:t})},e);wa.set(t,n)},Gk=t=>{let{toasts:e,pausedAt:n}=$k(t);k.useEffect(()=>{if(n)return;let i=Date.now(),o=e.map(l=>{if(l.duration===1/0)return;let c=(l.duration||0)+l.pauseDuration-(i-l.createdAt);if(c<0){l.visible&&Nt.dismiss(l.id);return}return setTimeout(()=>Nt.dismiss(l.id),c)});return()=>{o.forEach(l=>l&&clearTimeout(l))}},[e,n]);let r=k.useCallback(()=>{n&&ei({type:6,time:Date.now()})},[n]),s=k.useCallback((i,o)=>{let{reverseOrder:l=!1,gutter:c=8,defaultPosition:d}=o||{},h=e.filter(g=>(g.position||d)===(i.position||d)&&g.height),m=h.findIndex(g=>g.id===i.id),f=h.filter((g,v)=>v<m&&g.visible).length;return h.filter(g=>g.visible).slice(...l?[f+1]:[0,f]).reduce((g,v)=>g+(v.height||0)+c,0)},[e]);return k.useEffect(()=>{e.forEach(i=>{if(i.dismissed)Kk(i.id,i.removeDelay);else{let o=wa.get(i.id);o&&(clearTimeout(o),wa.delete(i.id))}})},[e]),{toasts:e,handlers:{updateHeight:qk,startPause:Hk,endPause:r,calculateOffset:s}}},Qk=mr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Yk=mr`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Xk=mr`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Jk=fs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Qk} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Yk} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Xk} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Zk=mr`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,eR=fs("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${Zk} 1s linear infinite;
`,tR=mr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,nR=mr`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,rR=fs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${tR} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${nR} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,sR=fs("div")`
  position: absolute;
`,iR=fs("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,oR=mr`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,aR=fs("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${oR} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,lR=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?k.createElement(aR,null,e):e:n==="blank"?null:k.createElement(iR,null,k.createElement(eR,{...r}),n!=="loading"&&k.createElement(sR,null,n==="error"?k.createElement(Jk,{...r}):k.createElement(rR,{...r})))},cR=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,uR=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,dR="0%{opacity:0;} 100%{opacity:1;}",hR="0%{opacity:1;} 100%{opacity:0;}",mR=fs("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,fR=fs("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,pR=(t,e)=>{let n=t.includes("top")?1:-1,[r,s]=YE()?[dR,hR]:[cR(n),uR(n)];return{animation:e?`${mr(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${mr(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},gR=k.memo(({toast:t,position:e,style:n,children:r})=>{let s=t.height?pR(t.position||e||"top-center",t.visible):{opacity:0},i=k.createElement(lR,{toast:t}),o=k.createElement(fR,{...t.ariaProps},Ou(t.message,t));return k.createElement(mR,{className:t.className,style:{...s,...n,...t.style}},typeof r=="function"?r({icon:i,message:o}):k.createElement(k.Fragment,null,i,o))});Ok(k.createElement);var yR=({id:t,className:e,style:n,onHeightUpdate:r,children:s})=>{let i=k.useCallback(o=>{if(o){let l=()=>{let c=o.getBoundingClientRect().height;r(t,c)};l(),new MutationObserver(l).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return k.createElement("div",{ref:i,className:e,style:n},s)},xR=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},s=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:YE()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...s}},vR=kd`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,_c=16,wR=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:s,containerStyle:i,containerClassName:o})=>{let{toasts:l,handlers:c}=Gk(n);return k.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:_c,left:_c,right:_c,bottom:_c,pointerEvents:"none",...i},className:o,onMouseEnter:c.startPause,onMouseLeave:c.endPause},l.map(d=>{let h=d.position||e,m=c.calculateOffset(d,{reverseOrder:t,gutter:r,defaultPosition:e}),f=xR(h,m);return k.createElement(yR,{id:d.id,key:d.id,onHeightUpdate:c.updateHeight,className:d.visible?vR:"",style:f},d.type==="custom"?Ou(d.message,d):s?s(d):k.createElement(gR,{toast:d,position:h}))}))},z=Nt;const _R=()=>{};var Tv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},bR=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],l=t[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},ZE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,l=o?t[s+1]:0,c=s+2<t.length,d=c?t[s+2]:0,h=i>>2,m=(i&3)<<4|l>>4;let f=(l&15)<<2|d>>6,g=d&63;c||(g=64,o||(f=64)),r.push(n[h],n[m],n[f],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(JE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):bR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const d=s<t.length?n[t.charAt(s)]:64;++s;const m=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||l==null||d==null||m==null)throw new ER;const f=i<<2|l>>4;if(r.push(f),d!==64){const g=l<<4&240|d>>2;if(r.push(g),m!==64){const v=d<<6&192|m;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class ER extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const TR=function(t){const e=JE(t);return ZE.encodeByteArray(e,!0)},Lu=function(t){return TR(t).replace(/\./g,"")},eT=function(t){try{return ZE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR=()=>NR().__FIREBASE_DEFAULTS__,SR=()=>{if(typeof process>"u"||typeof Tv>"u")return;const t=Tv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},CR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&eT(t[1]);return e&&JSON.parse(e)},Rd=()=>{try{return _R()||IR()||SR()||CR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},tT=t=>{var e,n;return(n=(e=Rd())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},nT=t=>{const e=tT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},rT=()=>{var t;return(t=Rd())==null?void 0:t.config},sT=t=>{var e;return(e=Rd())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ti(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Cg(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Lu(JSON.stringify(n)),Lu(JSON.stringify(o)),""].join(".")}const _a={};function PR(){const t={prod:[],emulator:[]};for(const e of Object.keys(_a))_a[e]?t.emulator.push(e):t.prod.push(e);return t}function kR(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Nv=!1;function Ag(t,e){if(typeof window>"u"||typeof document>"u"||!ti(window.location.host)||_a[t]===e||_a[t]||Nv)return;_a[t]=e;function n(f){return`__firebase__banner__${f}`}const r="__firebase__banner",i=PR().prod.length>0;function o(){const f=document.getElementById(r);f&&f.remove()}function l(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function c(f,g){f.setAttribute("width","24"),f.setAttribute("id",g),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function d(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{Nv=!0,o()},f}function h(f,g){f.setAttribute("id",g),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function m(){const f=kR(r),g=n("text"),v=document.getElementById(g)||document.createElement("span"),C=n("learnmore"),A=document.getElementById(C)||document.createElement("a"),T=n("preprendIcon"),b=document.getElementById(T)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const N=f.element;l(N),h(A,C);const R=d();c(b,T),N.append(b,v,A,R),document.body.appendChild(N)}i?(v.innerText="Preview backend disconnected.",b.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(b.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,v.innerText="Preview backend running in this workspace."),v.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function RR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_t())}function jR(){var e;const t=(e=Rd())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function DR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function VR(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function MR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function OR(){const t=_t();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function LR(){return!jR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function FR(){try{return typeof indexedDB=="object"}catch{return!1}}function UR(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR="FirebaseError";class zn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=BR,Object.setPrototypeOf(this,zn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,El.prototype.create)}}class El{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?$R(i,r):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new zn(s,l,r)}}function $R(t,e){return t.replace(zR,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const zR=/\{\$([^}]+)}/g;function qR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ks(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Iv(i)&&Iv(o)){if(!Ks(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Iv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function HR(t,e){const n=new WR(t,e);return n.subscribe.bind(n)}class WR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");KR(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=rm),s.error===void 0&&(s.error=rm),s.complete===void 0&&(s.complete=rm);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function KR(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function rm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ye(t){return t&&t._delegate?t._delegate:t}class ts{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new AR;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(YR(e))try{this.getOrInitializeService({instanceIdentifier:Ns})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Ns){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ns){return this.instances.has(e)}getOptions(e=Ns){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:QR(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ns){return this.component?this.component.multipleInstances?e:Ns:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function QR(t){return t===Ns?void 0:t}function YR(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new GR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var le;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(le||(le={}));const JR={debug:le.DEBUG,verbose:le.VERBOSE,info:le.INFO,warn:le.WARN,error:le.ERROR,silent:le.SILENT},ZR=le.INFO,ej={[le.DEBUG]:"log",[le.VERBOSE]:"log",[le.INFO]:"info",[le.WARN]:"warn",[le.ERROR]:"error"},tj=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=ej[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Pg{constructor(e){this.name=e,this._logLevel=ZR,this._logHandler=tj,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?JR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,le.DEBUG,...e),this._logHandler(this,le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,le.VERBOSE,...e),this._logHandler(this,le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,le.INFO,...e),this._logHandler(this,le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,le.WARN,...e),this._logHandler(this,le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,le.ERROR,...e),this._logHandler(this,le.ERROR,...e)}}const nj=(t,e)=>e.some(n=>t instanceof n);let Sv,Cv;function rj(){return Sv||(Sv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function sj(){return Cv||(Cv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const oT=new WeakMap,Pf=new WeakMap,aT=new WeakMap,sm=new WeakMap,kg=new WeakMap;function ij(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Qr(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&oT.set(n,t)}).catch(()=>{}),kg.set(e,t),e}function oj(t){if(Pf.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Pf.set(t,e)}let kf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Pf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||aT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function aj(t){kf=t(kf)}function lj(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(im(this),e,...n);return aT.set(r,e.sort?e.sort():[e]),Qr(r)}:sj().includes(t)?function(...e){return t.apply(im(this),e),Qr(oT.get(this))}:function(...e){return Qr(t.apply(im(this),e))}}function cj(t){return typeof t=="function"?lj(t):(t instanceof IDBTransaction&&oj(t),nj(t,rj())?new Proxy(t,kf):t)}function Qr(t){if(t instanceof IDBRequest)return ij(t);if(sm.has(t))return sm.get(t);const e=cj(t);return e!==t&&(sm.set(t,e),kg.set(e,t)),e}const im=t=>kg.get(t);function uj(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),l=Qr(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Qr(o.result),c.oldVersion,c.newVersion,Qr(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const dj=["get","getKey","getAll","getAllKeys","count"],hj=["put","add","delete","clear"],om=new Map;function Av(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(om.get(e))return om.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=hj.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||dj.includes(n)))return;const i=async function(o,...l){const c=this.transaction(o,s?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(l.shift())),(await Promise.all([d[n](...l),s&&c.done]))[0]};return om.set(e,i),i}aj(t=>({...t,get:(e,n,r)=>Av(e,n)||t.get(e,n,r),has:(e,n)=>!!Av(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mj{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(fj(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function fj(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Rf="@firebase/app",Pv="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fr=new Pg("@firebase/app"),pj="@firebase/app-compat",gj="@firebase/analytics-compat",yj="@firebase/analytics",xj="@firebase/app-check-compat",vj="@firebase/app-check",wj="@firebase/auth",_j="@firebase/auth-compat",bj="@firebase/database",Ej="@firebase/data-connect",Tj="@firebase/database-compat",Nj="@firebase/functions",Ij="@firebase/functions-compat",Sj="@firebase/installations",Cj="@firebase/installations-compat",Aj="@firebase/messaging",Pj="@firebase/messaging-compat",kj="@firebase/performance",Rj="@firebase/performance-compat",jj="@firebase/remote-config",Dj="@firebase/remote-config-compat",Vj="@firebase/storage",Mj="@firebase/storage-compat",Oj="@firebase/firestore",Lj="@firebase/ai",Fj="@firebase/firestore-compat",Uj="firebase",Bj="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jf="[DEFAULT]",$j={[Rf]:"fire-core",[pj]:"fire-core-compat",[yj]:"fire-analytics",[gj]:"fire-analytics-compat",[vj]:"fire-app-check",[xj]:"fire-app-check-compat",[wj]:"fire-auth",[_j]:"fire-auth-compat",[bj]:"fire-rtdb",[Ej]:"fire-data-connect",[Tj]:"fire-rtdb-compat",[Nj]:"fire-fn",[Ij]:"fire-fn-compat",[Sj]:"fire-iid",[Cj]:"fire-iid-compat",[Aj]:"fire-fcm",[Pj]:"fire-fcm-compat",[kj]:"fire-perf",[Rj]:"fire-perf-compat",[jj]:"fire-rc",[Dj]:"fire-rc-compat",[Vj]:"fire-gcs",[Mj]:"fire-gcs-compat",[Oj]:"fire-fst",[Fj]:"fire-fst-compat",[Lj]:"fire-vertex","fire-js":"fire-js",[Uj]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fu=new Map,zj=new Map,Df=new Map;function kv(t,e){try{t.container.addComponent(e)}catch(n){fr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Gs(t){const e=t.name;if(Df.has(e))return fr.debug(`There were multiple attempts to register component ${e}.`),!1;Df.set(e,t);for(const n of Fu.values())kv(n,t);for(const n of zj.values())kv(n,t);return!0}function jd(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function pn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Yr=new El("app","Firebase",qj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hj{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ts("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Yr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ni=Bj;function lT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:jf,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Yr.create("bad-app-name",{appName:String(s)});if(n||(n=rT()),!n)throw Yr.create("no-options");const i=Fu.get(s);if(i){if(Ks(n,i.options)&&Ks(r,i.config))return i;throw Yr.create("duplicate-app",{appName:s})}const o=new XR(s);for(const c of Df.values())o.addComponent(c);const l=new Hj(n,r,o);return Fu.set(s,l),l}function Rg(t=jf){const e=Fu.get(t);if(!e&&t===jf&&rT())return lT();if(!e)throw Yr.create("no-app",{appName:t});return e}function Pn(t,e,n){let r=$j[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fr.warn(o.join(" "));return}Gs(new ts(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wj="firebase-heartbeat-database",Kj=1,Ja="firebase-heartbeat-store";let am=null;function cT(){return am||(am=uj(Wj,Kj,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ja)}catch(n){console.warn(n)}}}}).catch(t=>{throw Yr.create("idb-open",{originalErrorMessage:t.message})})),am}async function Gj(t){try{const n=(await cT()).transaction(Ja),r=await n.objectStore(Ja).get(uT(t));return await n.done,r}catch(e){if(e instanceof zn)fr.warn(e.message);else{const n=Yr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});fr.warn(n.message)}}}async function Rv(t,e){try{const r=(await cT()).transaction(Ja,"readwrite");await r.objectStore(Ja).put(e,uT(t)),await r.done}catch(n){if(n instanceof zn)fr.warn(n.message);else{const r=Yr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});fr.warn(r.message)}}}function uT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qj=1024,Yj=30;class Xj{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Zj(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=jv();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>Yj){const o=e4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){fr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=jv(),{heartbeatsToSend:r,unsentEntries:s}=Jj(this._heartbeatsCache.heartbeats),i=Lu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return fr.warn(n),""}}}function jv(){return new Date().toISOString().substring(0,10)}function Jj(t,e=Qj){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Dv(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Dv(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Zj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return FR()?UR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Gj(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Rv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Rv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Dv(t){return Lu(JSON.stringify({version:2,heartbeats:t})).length}function e4(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t4(t){Gs(new ts("platform-logger",e=>new mj(e),"PRIVATE")),Gs(new ts("heartbeat",e=>new Xj(e),"PRIVATE")),Pn(Rf,Pv,t),Pn(Rf,Pv,"esm2020"),Pn("fire-js","")}t4("");function dT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const n4=dT,hT=new El("auth","Firebase",dT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uu=new Pg("@firebase/auth");function r4(t,...e){Uu.logLevel<=le.WARN&&Uu.warn(`Auth (${ni}): ${t}`,...e)}function Xc(t,...e){Uu.logLevel<=le.ERROR&&Uu.error(`Auth (${ni}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pr(t,...e){throw jg(t,...e)}function kn(t,...e){return jg(t,...e)}function mT(t,e,n){const r={...n4(),[e]:n};return new El("auth","Firebase",r).create(e,{appName:t.name})}function Os(t){return mT(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function jg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return hT.create(t,...e)}function te(t,e,...n){if(!t)throw jg(e,...n)}function tr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Xc(e),new Error(e)}function gr(t,e){t||tr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vf(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function s4(){return Vv()==="http:"||Vv()==="https:"}function Vv(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(s4()||VR()||"connection"in navigator)?navigator.onLine:!0}function o4(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(e,n){this.shortDelay=e,this.longDelay=n,gr(n>e,"Short delay should be less than long delay!"),this.isMobile=RR()||MR()}get(){return i4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dg(t,e){gr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;tr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;tr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;tr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],c4=new Nl(3e4,6e4);function Vg(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function _o(t,e,n,r,s={}){return pT(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const l=Tl({key:t.config.apiKey,...o}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:c,...i};return DR()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&ti(t.emulatorConfig.host)&&(d.credentials="include"),fT.fetch()(await gT(t,t.config.apiHost,n,l),d)})}async function pT(t,e,n){t._canInitEmulator=!1;const r={...a4,...e};try{const s=new d4(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw bc(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const l=i.ok?o.errorMessage:o.error.message,[c,d]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw bc(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw bc(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw bc(t,"user-disabled",o);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw mT(t,h,d);pr(t,h)}}catch(s){if(s instanceof zn)throw s;pr(t,"network-request-failed",{message:String(s)})}}async function u4(t,e,n,r,s={}){const i=await _o(t,e,n,r,s);return"mfaPendingCredential"in i&&pr(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function gT(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?Dg(t.config,s):`${t.config.apiScheme}://${s}`;return l4.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}class d4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(kn(this.auth,"network-request-failed")),c4.get())})}}function bc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=kn(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h4(t,e){return _o(t,"POST","/v1/accounts:delete",e)}async function Bu(t,e){return _o(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ba(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function m4(t,e=!1){const n=Ye(t),r=await n.getIdToken(e),s=Mg(r);te(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:ba(lm(s.auth_time)),issuedAtTime:ba(lm(s.iat)),expirationTime:ba(lm(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function lm(t){return Number(t)*1e3}function Mg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Xc("JWT malformed, contained fewer than 3 sections"),null;try{const s=eT(n);return s?JSON.parse(s):(Xc("Failed to decode base64 JWT payload"),null)}catch(s){return Xc("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Mv(t){const e=Mg(t);return te(e,"internal-error"),te(typeof e.exp<"u","internal-error"),te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Za(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof zn&&f4(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function f4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ba(this.lastLoginAt),this.creationTime=ba(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $u(t){var m;const e=t.auth,n=await t.getIdToken(),r=await Za(t,Bu(e,{idToken:n}));te(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(m=s.providerUserInfo)!=null&&m.length?yT(s.providerUserInfo):[],o=y4(t.providerData,i),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),d=l?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Mf(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function g4(t){const e=Ye(t);await $u(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function y4(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function yT(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x4(t,e){const n=await pT(t,{},async()=>{const r=Tl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await gT(t,s,"/v1/token",`key=${i}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:r};return t.emulatorConfig&&ti(t.emulatorConfig.host)&&(c.credentials="include"),fT.fetch()(o,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function v4(t,e){return _o(t,"POST","/v2/accounts:revokeToken",Vg(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){te(e.idToken,"internal-error"),te(typeof e.idToken<"u","internal-error"),te(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Mv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){te(e.length!==0,"internal-error");const n=Mv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await x4(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new $i;return r&&(te(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(te(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(te(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new $i,this.toJSON())}_performRefresh(){return tr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sr(t,e){te(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class gn{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new p4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Mf(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Za(this,this.stsTokenManager.getToken(this.auth,e));return te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return m4(this,e)}reload(){return g4(this)}_assign(e){this!==e&&(te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new gn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await $u(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(pn(this.auth.app))return Promise.reject(Os(this.auth));const e=await this.getIdToken();return await Za(this,h4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,l=n.tenantId??void 0,c=n._redirectEventId??void 0,d=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:m,emailVerified:f,isAnonymous:g,providerData:v,stsTokenManager:C}=n;te(m&&C,e,"internal-error");const A=$i.fromJSON(this.name,C);te(typeof m=="string",e,"internal-error"),Sr(r,e.name),Sr(s,e.name),te(typeof f=="boolean",e,"internal-error"),te(typeof g=="boolean",e,"internal-error"),Sr(i,e.name),Sr(o,e.name),Sr(l,e.name),Sr(c,e.name),Sr(d,e.name),Sr(h,e.name);const T=new gn({uid:m,auth:e,email:s,emailVerified:f,displayName:r,isAnonymous:g,photoURL:o,phoneNumber:i,tenantId:l,stsTokenManager:A,createdAt:d,lastLoginAt:h});return v&&Array.isArray(v)&&(T.providerData=v.map(b=>({...b}))),c&&(T._redirectEventId=c),T}static async _fromIdTokenResponse(e,n,r=!1){const s=new $i;s.updateFromServerResponse(n);const i=new gn({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await $u(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];te(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?yT(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),l=new $i;l.updateFromIdToken(r);const c=new gn({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:o}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Mf(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov=new Map;function nr(t){gr(t instanceof Function,"Expected a class definition");let e=Ov.get(t);return e?(gr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Ov.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}xT.type="NONE";const Lv=xT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jc(t,e,n){return`firebase:${t}:${e}:${n}`}class zi{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Jc(this.userKey,s.apiKey,i),this.fullPersistenceKey=Jc("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Bu(this.auth,{idToken:e}).catch(()=>{});return n?gn._fromGetAccountInfoResponse(this.auth,n,e):null}return gn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new zi(nr(Lv),e,r);const s=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let i=s[0]||nr(Lv);const o=Jc(r,e.config.apiKey,e.name);let l=null;for(const d of n)try{const h=await d._get(o);if(h){let m;if(typeof h=="string"){const f=await Bu(e,{idToken:h}).catch(()=>{});if(!f)break;m=await gn._fromGetAccountInfoResponse(e,f,h)}else m=gn._fromJSON(e,h);d!==i&&(l=m),i=d;break}}catch{}const c=s.filter(d=>d._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new zi(i,e,r):(i=c[0],l&&await i._set(o,l.toJSON()),await Promise.all(n.map(async d=>{if(d!==i)try{await d._remove(o)}catch{}})),new zi(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fv(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(bT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(vT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(TT(e))return"Blackberry";if(NT(e))return"Webos";if(wT(e))return"Safari";if((e.includes("chrome/")||_T(e))&&!e.includes("edge/"))return"Chrome";if(ET(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function vT(t=_t()){return/firefox\//i.test(t)}function wT(t=_t()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _T(t=_t()){return/crios\//i.test(t)}function bT(t=_t()){return/iemobile/i.test(t)}function ET(t=_t()){return/android/i.test(t)}function TT(t=_t()){return/blackberry/i.test(t)}function NT(t=_t()){return/webos/i.test(t)}function Og(t=_t()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function w4(t=_t()){var e;return Og(t)&&!!((e=window.navigator)!=null&&e.standalone)}function _4(){return OR()&&document.documentMode===10}function IT(t=_t()){return Og(t)||ET(t)||NT(t)||TT(t)||/windows phone/i.test(t)||bT(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ST(t,e=[]){let n;switch(t){case"Browser":n=Fv(_t());break;case"Worker":n=`${Fv(_t())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ni}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,l)=>{try{const c=e(i);o(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E4(t,e={}){return _o(t,"GET","/v2/passwordPolicy",Vg(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T4=6;class N4{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??T4,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Uv(this),this.idTokenSubscription=new Uv(this),this.beforeStateQueue=new b4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=hT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=nr(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await zi.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Bu(this,{idToken:e}),r=await gn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(pn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,l=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&(c!=null&&c.user)&&(r=c.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await $u(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=o4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(pn(this.app))return Promise.reject(Os(this));const n=e?Ye(e):null;return n&&te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return pn(this.app)?Promise.reject(Os(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return pn(this.app)?Promise.reject(Os(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(nr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await E4(this),n=new N4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new El("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await v4(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&nr(e)||this._popupRedirectResolver;te(n,this,"argument-error"),this.redirectPersistenceManager=await zi.create(this,[nr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(te(l,this,"internal-error"),l.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ST(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(pn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&r4(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Lg(t){return Ye(t)}class Uv{constructor(e){this.auth=e,this.observer=null,this.addObserver=HR(n=>this.observer=n)}get next(){return te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function S4(t){Fg=t}function C4(t){return Fg.loadJS(t)}function A4(){return Fg.gapiScript}function P4(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k4(t,e){const n=jd(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Ks(i,e??{}))return s;pr(s,"already-initialized")}return n.initialize({options:e})}function R4(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(nr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function j4(t,e,n){const r=Lg(t);te(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=CT(e),{host:o,port:l}=D4(e),c=l===null?"":`:${l}`,d={url:`${i}//${o}${c}/`},h=Object.freeze({host:o,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){te(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),te(Ks(d,r.config.emulator)&&Ks(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,ti(o)?(Cg(`${i}//${o}${c}`),Ag("Auth",!0)):V4()}function CT(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function D4(t){const e=CT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:Bv(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:Bv(o)}}}function Bv(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function V4(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return tr("not implemented")}_getIdTokenResponse(e){return tr("not implemented")}_linkToIdToken(e,n){return tr("not implemented")}_getReauthenticationResolver(e){return tr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qi(t,e){return u4(t,"POST","/v1/accounts:signInWithIdp",Vg(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M4="http://localhost";class Qs extends AT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Qs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):pr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new Qs(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return qi(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,qi(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,qi(e,n)}buildRequest(){const e={requestUri:M4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Tl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il extends PT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr extends Il{constructor(){super("facebook.com")}static credential(e){return Qs._fromParams({providerId:Dr.PROVIDER_ID,signInMethod:Dr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Dr.credentialFromTaggedObject(e)}static credentialFromError(e){return Dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Dr.credential(e.oauthAccessToken)}catch{return null}}}Dr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Dr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr extends Il{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Qs._fromParams({providerId:Vr.PROVIDER_ID,signInMethod:Vr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Vr.credentialFromTaggedObject(e)}static credentialFromError(e){return Vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Vr.credential(n,r)}catch{return null}}}Vr.GOOGLE_SIGN_IN_METHOD="google.com";Vr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr extends Il{constructor(){super("github.com")}static credential(e){return Qs._fromParams({providerId:Mr.PROVIDER_ID,signInMethod:Mr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mr.credentialFromTaggedObject(e)}static credentialFromError(e){return Mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Mr.credential(e.oauthAccessToken)}catch{return null}}}Mr.GITHUB_SIGN_IN_METHOD="github.com";Mr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or extends Il{constructor(){super("twitter.com")}static credential(e,n){return Qs._fromParams({providerId:Or.PROVIDER_ID,signInMethod:Or.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Or.credentialFromTaggedObject(e)}static credentialFromError(e){return Or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Or.credential(n,r)}catch{return null}}}Or.TWITTER_SIGN_IN_METHOD="twitter.com";Or.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await gn._fromIdTokenResponse(e,r,s),o=$v(r);return new Zi({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=$v(r);return new Zi({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function $v(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu extends zn{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,zu.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new zu(e,n,r,s)}}function kT(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?zu._fromErrorAndOperation(t,i,e,r):i})}async function O4(t,e,n=!1){const r=await Za(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Zi._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L4(t,e,n=!1){const{auth:r}=t;if(pn(r.app))return Promise.reject(Os(r));const s="reauthenticate";try{const i=await Za(t,kT(r,s,e,t),n);te(i.idToken,r,"internal-error");const o=Mg(i.idToken);te(o,r,"internal-error");const{sub:l}=o;return te(t.uid===l,r,"user-mismatch"),Zi._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&pr(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F4(t,e,n=!1){if(pn(t.app))return Promise.reject(Os(t));const r="signIn",s=await kT(t,r,e),i=await Zi._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}function U4(t,e,n,r){return Ye(t).onIdTokenChanged(e,n,r)}function B4(t,e,n){return Ye(t).beforeAuthStateChanged(e,n)}function $4(t,e,n,r){return Ye(t).onAuthStateChanged(e,n,r)}function z4(t){return Ye(t).signOut()}const qu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(qu,"1"),this.storage.removeItem(qu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q4=1e3,H4=10;class jT extends RT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=IT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);_4()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,H4):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},q4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}jT.type="LOCAL";const W4=jT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT extends RT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}DT.type="SESSION";const VT=DT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K4(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Dd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const l=Array.from(o).map(async d=>d(n.origin,i)),c=await K4(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Dd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ug(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((l,c)=>{const d=Ug("",20);s.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(m){const f=m;if(f.data.eventId===d)switch(f.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(f.data.response);break;default:clearTimeout(h),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(){return window}function Q4(t){Rn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MT(){return typeof Rn().WorkerGlobalScope<"u"&&typeof Rn().importScripts=="function"}async function Y4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function X4(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function J4(){return MT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT="firebaseLocalStorageDb",Z4=1,Hu="firebaseLocalStorage",LT="fbase_key";class Sl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Vd(t,e){return t.transaction([Hu],e?"readwrite":"readonly").objectStore(Hu)}function eD(){const t=indexedDB.deleteDatabase(OT);return new Sl(t).toPromise()}function Of(){const t=indexedDB.open(OT,Z4);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Hu,{keyPath:LT})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Hu)?e(r):(r.close(),await eD(),e(await Of()))})})}async function zv(t,e,n){const r=Vd(t,!0).put({[LT]:e,value:n});return new Sl(r).toPromise()}async function tD(t,e){const n=Vd(t,!1).get(e),r=await new Sl(n).toPromise();return r===void 0?null:r.value}function qv(t,e){const n=Vd(t,!0).delete(e);return new Sl(n).toPromise()}const nD=800,rD=3;class FT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Of(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>rD)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return MT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Dd._getInstance(J4()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await Y4(),!this.activeServiceWorker)return;this.sender=new G4(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||X4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Of();return await zv(e,qu,"1"),await qv(e,qu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>zv(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>tD(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>qv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Vd(s,!1).getAll();return new Sl(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),nD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}FT.type="LOCAL";const sD=FT;new Nl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iD(t,e){return e?nr(e):(te(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg extends AT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return qi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return qi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return qi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function oD(t){return F4(t.auth,new Bg(t),t.bypassAuthState)}function aD(t){const{auth:e,user:n}=t;return te(n,e,"internal-error"),L4(n,new Bg(t),t.bypassAuthState)}async function lD(t){const{auth:e,user:n}=t;return te(n,e,"internal-error"),O4(n,new Bg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return oD;case"linkViaPopup":case"linkViaRedirect":return lD;case"reauthViaPopup":case"reauthViaRedirect":return aD;default:pr(this.auth,"internal-error")}}resolve(e){gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cD=new Nl(2e3,1e4);class Pi extends UT{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Pi.currentPopupAction&&Pi.currentPopupAction.cancel(),Pi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return te(e,this.auth,"internal-error"),e}async onExecution(){gr(this.filter.length===1,"Popup operations only handle one event");const e=Ug();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(kn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(kn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Pi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(kn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,cD.get())};e()}}Pi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uD="pendingRedirect",Zc=new Map;class dD extends UT{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Zc.get(this.auth._key());if(!e){try{const r=await hD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Zc.set(this.auth._key(),e)}return this.bypassAuthState||Zc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function hD(t,e){const n=pD(e),r=fD(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function mD(t,e){Zc.set(t._key(),e)}function fD(t){return nr(t._redirectPersistence)}function pD(t){return Jc(uD,t.config.apiKey,t.name)}async function gD(t,e,n=!1){if(pn(t.app))return Promise.reject(Os(t));const r=Lg(t),s=iD(r,e),o=await new dD(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yD=10*60*1e3;class xD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!vD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!BT(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(kn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=yD&&this.cachedEventUids.clear(),this.cachedEventUids.has(Hv(e))}saveEventToCache(e){this.cachedEventUids.add(Hv(e)),this.lastProcessedEventTime=Date.now()}}function Hv(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function BT({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function vD(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return BT(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wD(t,e={}){return _o(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _D=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bD=/^https?/;async function ED(t){if(t.config.emulator)return;const{authorizedDomains:e}=await wD(t);for(const n of e)try{if(TD(n))return}catch{}pr(t,"unauthorized-domain")}function TD(t){const e=Vf(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!bD.test(n))return!1;if(_D.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND=new Nl(3e4,6e4);function Wv(){const t=Rn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function ID(t){return new Promise((e,n)=>{var s,i,o;function r(){Wv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Wv(),n(kn(t,"network-request-failed"))},timeout:ND.get()})}if((i=(s=Rn().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=Rn().gapi)!=null&&o.load)r();else{const l=P4("iframefcb");return Rn()[l]=()=>{gapi.load?r():n(kn(t,"network-request-failed"))},C4(`${A4()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw eu=null,e})}let eu=null;function SD(t){return eu=eu||ID(t),eu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CD=new Nl(5e3,15e3),AD="__/auth/iframe",PD="emulator/auth/iframe",kD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},RD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jD(t){const e=t.config;te(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Dg(e,PD):`https://${t.config.authDomain}/${AD}`,r={apiKey:e.apiKey,appName:t.name,v:ni},s=RD.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Tl(r).slice(1)}`}async function DD(t){const e=await SD(t),n=Rn().gapi;return te(n,t,"internal-error"),e.open({where:document.body,url:jD(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:kD,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=kn(t,"network-request-failed"),l=Rn().setTimeout(()=>{i(o)},CD.get());function c(){Rn().clearTimeout(l),s(r)}r.ping(c).then(c,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},MD=500,OD=600,LD="_blank",FD="http://localhost";class Kv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function UD(t,e,n,r=MD,s=OD){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c={...VD,width:r.toString(),height:s.toString(),top:i,left:o},d=_t().toLowerCase();n&&(l=_T(d)?LD:n),vT(d)&&(e=e||FD,c.scrollbars="yes");const h=Object.entries(c).reduce((f,[g,v])=>`${f}${g}=${v},`,"");if(w4(d)&&l!=="_self")return BD(e||"",l),new Kv(null);const m=window.open(e||"",l,h);te(m,t,"popup-blocked");try{m.focus()}catch{}return new Kv(m)}function BD(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D="__/auth/handler",zD="emulator/auth/handler",qD=encodeURIComponent("fac");async function Gv(t,e,n,r,s,i){te(t.config.authDomain,t,"auth-domain-config-required"),te(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ni,eventId:s};if(e instanceof PT){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",qR(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,m]of Object.entries({}))o[h]=m}if(e instanceof Il){const h=e.getScopes().filter(m=>m!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const h of Object.keys(l))l[h]===void 0&&delete l[h];const c=await t._getAppCheckToken(),d=c?`#${qD}=${encodeURIComponent(c)}`:"";return`${HD(t)}?${Tl(l).slice(1)}${d}`}function HD({config:t}){return t.emulator?Dg(t,zD):`https://${t.authDomain}/${$D}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cm="webStorageSupport";class WD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=VT,this._completeRedirectFn=gD,this._overrideRedirectResult=mD}async _openPopup(e,n,r,s){var o;gr((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await Gv(e,n,r,Vf(),s);return UD(e,i,Ug())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await Gv(e,n,r,Vf(),s);return Q4(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(gr(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await DD(e),r=new xD(e);return n.register("authEvent",s=>(te(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(cm,{type:cm},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[cm];i!==void 0&&n(!!i),pr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=ED(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return IT()||wT()||Og()}}const KD=WD;var Qv="@firebase/auth",Yv="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QD(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function YD(t){Gs(new ts("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;te(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ST(t)},d=new I4(r,s,i,c);return R4(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Gs(new ts("auth-internal",e=>{const n=Lg(e.getProvider("auth").getImmediate());return(r=>new GD(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Pn(Qv,Yv,QD(t)),Pn(Qv,Yv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD=5*60,JD=sT("authIdTokenMaxAge")||XD;let Xv=null;const ZD=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>JD)return;const s=n==null?void 0:n.token;Xv!==s&&(Xv=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function e3(t=Rg()){const e=jd(t,"auth");if(e.isInitialized())return e.getImmediate();const n=k4(t,{popupRedirectResolver:KD,persistence:[sD,W4,VT]}),r=sT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=ZD(i.toString());B4(n,o,()=>o(n.currentUser)),U4(n,l=>o(l))}}const s=tT("auth");return s&&j4(n,`http://${s}`),n}function t3(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}S4({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=kn("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",t3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});YD("Browser");var Jv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Xr,$T;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(w,x){function E(){}E.prototype=x.prototype,w.D=x.prototype,w.prototype=new E,w.prototype.constructor=w,w.C=function(_,I,D){for(var P=Array(arguments.length-2),he=2;he<arguments.length;he++)P[he-2]=arguments[he];return x.prototype[I].apply(_,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(w,x,E){E||(E=0);var _=Array(16);if(typeof x=="string")for(var I=0;16>I;++I)_[I]=x.charCodeAt(E++)|x.charCodeAt(E++)<<8|x.charCodeAt(E++)<<16|x.charCodeAt(E++)<<24;else for(I=0;16>I;++I)_[I]=x[E++]|x[E++]<<8|x[E++]<<16|x[E++]<<24;x=w.g[0],E=w.g[1],I=w.g[2];var D=w.g[3],P=x+(D^E&(I^D))+_[0]+3614090360&4294967295;x=E+(P<<7&4294967295|P>>>25),P=D+(I^x&(E^I))+_[1]+3905402710&4294967295,D=x+(P<<12&4294967295|P>>>20),P=I+(E^D&(x^E))+_[2]+606105819&4294967295,I=D+(P<<17&4294967295|P>>>15),P=E+(x^I&(D^x))+_[3]+3250441966&4294967295,E=I+(P<<22&4294967295|P>>>10),P=x+(D^E&(I^D))+_[4]+4118548399&4294967295,x=E+(P<<7&4294967295|P>>>25),P=D+(I^x&(E^I))+_[5]+1200080426&4294967295,D=x+(P<<12&4294967295|P>>>20),P=I+(E^D&(x^E))+_[6]+2821735955&4294967295,I=D+(P<<17&4294967295|P>>>15),P=E+(x^I&(D^x))+_[7]+4249261313&4294967295,E=I+(P<<22&4294967295|P>>>10),P=x+(D^E&(I^D))+_[8]+1770035416&4294967295,x=E+(P<<7&4294967295|P>>>25),P=D+(I^x&(E^I))+_[9]+2336552879&4294967295,D=x+(P<<12&4294967295|P>>>20),P=I+(E^D&(x^E))+_[10]+4294925233&4294967295,I=D+(P<<17&4294967295|P>>>15),P=E+(x^I&(D^x))+_[11]+2304563134&4294967295,E=I+(P<<22&4294967295|P>>>10),P=x+(D^E&(I^D))+_[12]+1804603682&4294967295,x=E+(P<<7&4294967295|P>>>25),P=D+(I^x&(E^I))+_[13]+4254626195&4294967295,D=x+(P<<12&4294967295|P>>>20),P=I+(E^D&(x^E))+_[14]+2792965006&4294967295,I=D+(P<<17&4294967295|P>>>15),P=E+(x^I&(D^x))+_[15]+1236535329&4294967295,E=I+(P<<22&4294967295|P>>>10),P=x+(I^D&(E^I))+_[1]+4129170786&4294967295,x=E+(P<<5&4294967295|P>>>27),P=D+(E^I&(x^E))+_[6]+3225465664&4294967295,D=x+(P<<9&4294967295|P>>>23),P=I+(x^E&(D^x))+_[11]+643717713&4294967295,I=D+(P<<14&4294967295|P>>>18),P=E+(D^x&(I^D))+_[0]+3921069994&4294967295,E=I+(P<<20&4294967295|P>>>12),P=x+(I^D&(E^I))+_[5]+3593408605&4294967295,x=E+(P<<5&4294967295|P>>>27),P=D+(E^I&(x^E))+_[10]+38016083&4294967295,D=x+(P<<9&4294967295|P>>>23),P=I+(x^E&(D^x))+_[15]+3634488961&4294967295,I=D+(P<<14&4294967295|P>>>18),P=E+(D^x&(I^D))+_[4]+3889429448&4294967295,E=I+(P<<20&4294967295|P>>>12),P=x+(I^D&(E^I))+_[9]+568446438&4294967295,x=E+(P<<5&4294967295|P>>>27),P=D+(E^I&(x^E))+_[14]+3275163606&4294967295,D=x+(P<<9&4294967295|P>>>23),P=I+(x^E&(D^x))+_[3]+4107603335&4294967295,I=D+(P<<14&4294967295|P>>>18),P=E+(D^x&(I^D))+_[8]+1163531501&4294967295,E=I+(P<<20&4294967295|P>>>12),P=x+(I^D&(E^I))+_[13]+2850285829&4294967295,x=E+(P<<5&4294967295|P>>>27),P=D+(E^I&(x^E))+_[2]+4243563512&4294967295,D=x+(P<<9&4294967295|P>>>23),P=I+(x^E&(D^x))+_[7]+1735328473&4294967295,I=D+(P<<14&4294967295|P>>>18),P=E+(D^x&(I^D))+_[12]+2368359562&4294967295,E=I+(P<<20&4294967295|P>>>12),P=x+(E^I^D)+_[5]+4294588738&4294967295,x=E+(P<<4&4294967295|P>>>28),P=D+(x^E^I)+_[8]+2272392833&4294967295,D=x+(P<<11&4294967295|P>>>21),P=I+(D^x^E)+_[11]+1839030562&4294967295,I=D+(P<<16&4294967295|P>>>16),P=E+(I^D^x)+_[14]+4259657740&4294967295,E=I+(P<<23&4294967295|P>>>9),P=x+(E^I^D)+_[1]+2763975236&4294967295,x=E+(P<<4&4294967295|P>>>28),P=D+(x^E^I)+_[4]+1272893353&4294967295,D=x+(P<<11&4294967295|P>>>21),P=I+(D^x^E)+_[7]+4139469664&4294967295,I=D+(P<<16&4294967295|P>>>16),P=E+(I^D^x)+_[10]+3200236656&4294967295,E=I+(P<<23&4294967295|P>>>9),P=x+(E^I^D)+_[13]+681279174&4294967295,x=E+(P<<4&4294967295|P>>>28),P=D+(x^E^I)+_[0]+3936430074&4294967295,D=x+(P<<11&4294967295|P>>>21),P=I+(D^x^E)+_[3]+3572445317&4294967295,I=D+(P<<16&4294967295|P>>>16),P=E+(I^D^x)+_[6]+76029189&4294967295,E=I+(P<<23&4294967295|P>>>9),P=x+(E^I^D)+_[9]+3654602809&4294967295,x=E+(P<<4&4294967295|P>>>28),P=D+(x^E^I)+_[12]+3873151461&4294967295,D=x+(P<<11&4294967295|P>>>21),P=I+(D^x^E)+_[15]+530742520&4294967295,I=D+(P<<16&4294967295|P>>>16),P=E+(I^D^x)+_[2]+3299628645&4294967295,E=I+(P<<23&4294967295|P>>>9),P=x+(I^(E|~D))+_[0]+4096336452&4294967295,x=E+(P<<6&4294967295|P>>>26),P=D+(E^(x|~I))+_[7]+1126891415&4294967295,D=x+(P<<10&4294967295|P>>>22),P=I+(x^(D|~E))+_[14]+2878612391&4294967295,I=D+(P<<15&4294967295|P>>>17),P=E+(D^(I|~x))+_[5]+4237533241&4294967295,E=I+(P<<21&4294967295|P>>>11),P=x+(I^(E|~D))+_[12]+1700485571&4294967295,x=E+(P<<6&4294967295|P>>>26),P=D+(E^(x|~I))+_[3]+2399980690&4294967295,D=x+(P<<10&4294967295|P>>>22),P=I+(x^(D|~E))+_[10]+4293915773&4294967295,I=D+(P<<15&4294967295|P>>>17),P=E+(D^(I|~x))+_[1]+2240044497&4294967295,E=I+(P<<21&4294967295|P>>>11),P=x+(I^(E|~D))+_[8]+1873313359&4294967295,x=E+(P<<6&4294967295|P>>>26),P=D+(E^(x|~I))+_[15]+4264355552&4294967295,D=x+(P<<10&4294967295|P>>>22),P=I+(x^(D|~E))+_[6]+2734768916&4294967295,I=D+(P<<15&4294967295|P>>>17),P=E+(D^(I|~x))+_[13]+1309151649&4294967295,E=I+(P<<21&4294967295|P>>>11),P=x+(I^(E|~D))+_[4]+4149444226&4294967295,x=E+(P<<6&4294967295|P>>>26),P=D+(E^(x|~I))+_[11]+3174756917&4294967295,D=x+(P<<10&4294967295|P>>>22),P=I+(x^(D|~E))+_[2]+718787259&4294967295,I=D+(P<<15&4294967295|P>>>17),P=E+(D^(I|~x))+_[9]+3951481745&4294967295,w.g[0]=w.g[0]+x&4294967295,w.g[1]=w.g[1]+(I+(P<<21&4294967295|P>>>11))&4294967295,w.g[2]=w.g[2]+I&4294967295,w.g[3]=w.g[3]+D&4294967295}r.prototype.u=function(w,x){x===void 0&&(x=w.length);for(var E=x-this.blockSize,_=this.B,I=this.h,D=0;D<x;){if(I==0)for(;D<=E;)s(this,w,D),D+=this.blockSize;if(typeof w=="string"){for(;D<x;)if(_[I++]=w.charCodeAt(D++),I==this.blockSize){s(this,_),I=0;break}}else for(;D<x;)if(_[I++]=w[D++],I==this.blockSize){s(this,_),I=0;break}}this.h=I,this.o+=x},r.prototype.v=function(){var w=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);w[0]=128;for(var x=1;x<w.length-8;++x)w[x]=0;var E=8*this.o;for(x=w.length-8;x<w.length;++x)w[x]=E&255,E/=256;for(this.u(w),w=Array(16),x=E=0;4>x;++x)for(var _=0;32>_;_+=8)w[E++]=this.g[x]>>>_&255;return w};function i(w,x){var E=l;return Object.prototype.hasOwnProperty.call(E,w)?E[w]:E[w]=x(w)}function o(w,x){this.h=x;for(var E=[],_=!0,I=w.length-1;0<=I;I--){var D=w[I]|0;_&&D==x||(E[I]=D,_=!1)}this.g=E}var l={};function c(w){return-128<=w&&128>w?i(w,function(x){return new o([x|0],0>x?-1:0)}):new o([w|0],0>w?-1:0)}function d(w){if(isNaN(w)||!isFinite(w))return m;if(0>w)return A(d(-w));for(var x=[],E=1,_=0;w>=E;_++)x[_]=w/E|0,E*=4294967296;return new o(x,0)}function h(w,x){if(w.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(w.charAt(0)=="-")return A(h(w.substring(1),x));if(0<=w.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=d(Math.pow(x,8)),_=m,I=0;I<w.length;I+=8){var D=Math.min(8,w.length-I),P=parseInt(w.substring(I,I+D),x);8>D?(D=d(Math.pow(x,D)),_=_.j(D).add(d(P))):(_=_.j(E),_=_.add(d(P)))}return _}var m=c(0),f=c(1),g=c(16777216);t=o.prototype,t.m=function(){if(C(this))return-A(this).m();for(var w=0,x=1,E=0;E<this.g.length;E++){var _=this.i(E);w+=(0<=_?_:4294967296+_)*x,x*=4294967296}return w},t.toString=function(w){if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(v(this))return"0";if(C(this))return"-"+A(this).toString(w);for(var x=d(Math.pow(w,6)),E=this,_="";;){var I=R(E,x).g;E=T(E,I.j(x));var D=((0<E.g.length?E.g[0]:E.h)>>>0).toString(w);if(E=I,v(E))return D+_;for(;6>D.length;)D="0"+D;_=D+_}},t.i=function(w){return 0>w?0:w<this.g.length?this.g[w]:this.h};function v(w){if(w.h!=0)return!1;for(var x=0;x<w.g.length;x++)if(w.g[x]!=0)return!1;return!0}function C(w){return w.h==-1}t.l=function(w){return w=T(this,w),C(w)?-1:v(w)?0:1};function A(w){for(var x=w.g.length,E=[],_=0;_<x;_++)E[_]=~w.g[_];return new o(E,~w.h).add(f)}t.abs=function(){return C(this)?A(this):this},t.add=function(w){for(var x=Math.max(this.g.length,w.g.length),E=[],_=0,I=0;I<=x;I++){var D=_+(this.i(I)&65535)+(w.i(I)&65535),P=(D>>>16)+(this.i(I)>>>16)+(w.i(I)>>>16);_=P>>>16,D&=65535,P&=65535,E[I]=P<<16|D}return new o(E,E[E.length-1]&-2147483648?-1:0)};function T(w,x){return w.add(A(x))}t.j=function(w){if(v(this)||v(w))return m;if(C(this))return C(w)?A(this).j(A(w)):A(A(this).j(w));if(C(w))return A(this.j(A(w)));if(0>this.l(g)&&0>w.l(g))return d(this.m()*w.m());for(var x=this.g.length+w.g.length,E=[],_=0;_<2*x;_++)E[_]=0;for(_=0;_<this.g.length;_++)for(var I=0;I<w.g.length;I++){var D=this.i(_)>>>16,P=this.i(_)&65535,he=w.i(I)>>>16,et=w.i(I)&65535;E[2*_+2*I]+=P*et,b(E,2*_+2*I),E[2*_+2*I+1]+=D*et,b(E,2*_+2*I+1),E[2*_+2*I+1]+=P*he,b(E,2*_+2*I+1),E[2*_+2*I+2]+=D*he,b(E,2*_+2*I+2)}for(_=0;_<x;_++)E[_]=E[2*_+1]<<16|E[2*_];for(_=x;_<2*x;_++)E[_]=0;return new o(E,0)};function b(w,x){for(;(w[x]&65535)!=w[x];)w[x+1]+=w[x]>>>16,w[x]&=65535,x++}function N(w,x){this.g=w,this.h=x}function R(w,x){if(v(x))throw Error("division by zero");if(v(w))return new N(m,m);if(C(w))return x=R(A(w),x),new N(A(x.g),A(x.h));if(C(x))return x=R(w,A(x)),new N(A(x.g),x.h);if(30<w.g.length){if(C(w)||C(x))throw Error("slowDivide_ only works with positive integers.");for(var E=f,_=x;0>=_.l(w);)E=j(E),_=j(_);var I=O(E,1),D=O(_,1);for(_=O(_,2),E=O(E,2);!v(_);){var P=D.add(_);0>=P.l(w)&&(I=I.add(E),D=P),_=O(_,1),E=O(E,1)}return x=T(w,I.j(x)),new N(I,x)}for(I=m;0<=w.l(x);){for(E=Math.max(1,Math.floor(w.m()/x.m())),_=Math.ceil(Math.log(E)/Math.LN2),_=48>=_?1:Math.pow(2,_-48),D=d(E),P=D.j(x);C(P)||0<P.l(w);)E-=_,D=d(E),P=D.j(x);v(D)&&(D=f),I=I.add(D),w=T(w,P)}return new N(I,w)}t.A=function(w){return R(this,w).h},t.and=function(w){for(var x=Math.max(this.g.length,w.g.length),E=[],_=0;_<x;_++)E[_]=this.i(_)&w.i(_);return new o(E,this.h&w.h)},t.or=function(w){for(var x=Math.max(this.g.length,w.g.length),E=[],_=0;_<x;_++)E[_]=this.i(_)|w.i(_);return new o(E,this.h|w.h)},t.xor=function(w){for(var x=Math.max(this.g.length,w.g.length),E=[],_=0;_<x;_++)E[_]=this.i(_)^w.i(_);return new o(E,this.h^w.h)};function j(w){for(var x=w.g.length+1,E=[],_=0;_<x;_++)E[_]=w.i(_)<<1|w.i(_-1)>>>31;return new o(E,w.h)}function O(w,x){var E=x>>5;x%=32;for(var _=w.g.length-E,I=[],D=0;D<_;D++)I[D]=0<x?w.i(D+E)>>>x|w.i(D+E+1)<<32-x:w.i(D+E);return new o(I,w.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,$T=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=h,Xr=o}).apply(typeof Jv<"u"?Jv:typeof self<"u"?self:typeof window<"u"?window:{});var Ec=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zT,oa,qT,tu,Lf,HT,WT,KT;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,y){return u==Array.prototype||u==Object.prototype||(u[p]=y.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ec=="object"&&Ec];for(var p=0;p<u.length;++p){var y=u[p];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var r=n(this);function s(u,p){if(p)e:{var y=r;u=u.split(".");for(var S=0;S<u.length-1;S++){var M=u[S];if(!(M in y))break e;y=y[M]}u=u[u.length-1],S=y[u],p=p(S),p!=S&&p!=null&&e(y,u,{configurable:!0,writable:!0,value:p})}}function i(u,p){u instanceof String&&(u+="");var y=0,S=!1,M={next:function(){if(!S&&y<u.length){var L=y++;return{value:p(L,u[L]),done:!1}}return S=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}s("Array.prototype.values",function(u){return u||function(){return i(this,function(p,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function c(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function d(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function h(u,p,y){return u.call.apply(u.bind,arguments)}function m(u,p,y){if(!u)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,S),u.apply(p,M)}}return function(){return u.apply(p,arguments)}}function f(u,p,y){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:m,f.apply(null,arguments)}function g(u,p){var y=Array.prototype.slice.call(arguments,1);return function(){var S=y.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function v(u,p){function y(){}y.prototype=p.prototype,u.aa=p.prototype,u.prototype=new y,u.prototype.constructor=u,u.Qb=function(S,M,L){for(var H=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)H[xe-2]=arguments[xe];return p.prototype[M].apply(S,H)}}function C(u){const p=u.length;if(0<p){const y=Array(p);for(let S=0;S<p;S++)y[S]=u[S];return y}return[]}function A(u,p){for(let y=1;y<arguments.length;y++){const S=arguments[y];if(c(S)){const M=u.length||0,L=S.length||0;u.length=M+L;for(let H=0;H<L;H++)u[M+H]=S[H]}else u.push(S)}}class T{constructor(p,y){this.i=p,this.j=y,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function b(u){return/^[\s\xa0]*$/.test(u)}function N(){var u=l.navigator;return u&&(u=u.userAgent)?u:""}function R(u){return R[" "](u),u}R[" "]=function(){};var j=N().indexOf("Gecko")!=-1&&!(N().toLowerCase().indexOf("webkit")!=-1&&N().indexOf("Edge")==-1)&&!(N().indexOf("Trident")!=-1||N().indexOf("MSIE")!=-1)&&N().indexOf("Edge")==-1;function O(u,p,y){for(const S in u)p.call(y,u[S],S,u)}function w(u,p){for(const y in u)p.call(void 0,u[y],y,u)}function x(u){const p={};for(const y in u)p[y]=u[y];return p}const E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _(u,p){let y,S;for(let M=1;M<arguments.length;M++){S=arguments[M];for(y in S)u[y]=S[y];for(let L=0;L<E.length;L++)y=E[L],Object.prototype.hasOwnProperty.call(S,y)&&(u[y]=S[y])}}function I(u){var p=1;u=u.split(":");const y=[];for(;0<p&&u.length;)y.push(u.shift()),p--;return u.length&&y.push(u.join(":")),y}function D(u){l.setTimeout(()=>{throw u},0)}function P(){var u=X;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class he{constructor(){this.h=this.g=null}add(p,y){const S=et.get();S.set(p,y),this.h?this.h.next=S:this.g=S,this.h=S}}var et=new T(()=>new Ut,u=>u.reset());class Ut{constructor(){this.next=this.g=this.h=null}set(p,y){this.h=p,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,q=!1,X=new he,J=()=>{const u=l.Promise.resolve(void 0);ae=()=>{u.then(ye)}};var ye=()=>{for(var u;u=P();){try{u.h.call(u.g)}catch(y){D(y)}var p=et;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}q=!1};function F(){this.s=this.s,this.C=this.C}F.prototype.s=!1,F.prototype.ma=function(){this.s||(this.s=!0,this.N())},F.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var W=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};l.addEventListener("test",y,p),l.removeEventListener("test",y,p)}catch{}return u}();function ie(u,p){if(V.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var y=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(j){e:{try{R(p.nodeName);var M=!0;break e}catch{}M=!1}M||(p=null)}}else y=="mouseover"?p=u.fromElement:y=="mouseout"&&(p=u.toElement);this.relatedTarget=p,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Be[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&ie.aa.h.call(this)}}v(ie,V);var Be={2:"touch",3:"pen",4:"mouse"};ie.prototype.h=function(){ie.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Wn="closure_listenable_"+(1e6*Math.random()|0),oS=0;function aS(u,p,y,S,M){this.listener=u,this.proxy=null,this.src=p,this.type=y,this.capture=!!S,this.ha=M,this.key=++oS,this.da=this.fa=!1}function Fl(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ul(u){this.src=u,this.g={},this.h=0}Ul.prototype.add=function(u,p,y,S,M){var L=u.toString();u=this.g[L],u||(u=this.g[L]=[],this.h++);var H=ah(u,p,S,M);return-1<H?(p=u[H],y||(p.fa=!1)):(p=new aS(p,this.src,L,!!S,M),p.fa=y,u.push(p)),p};function oh(u,p){var y=p.type;if(y in u.g){var S=u.g[y],M=Array.prototype.indexOf.call(S,p,void 0),L;(L=0<=M)&&Array.prototype.splice.call(S,M,1),L&&(Fl(p),u.g[y].length==0&&(delete u.g[y],u.h--))}}function ah(u,p,y,S){for(var M=0;M<u.length;++M){var L=u[M];if(!L.da&&L.listener==p&&L.capture==!!y&&L.ha==S)return M}return-1}var lh="closure_lm_"+(1e6*Math.random()|0),ch={};function c0(u,p,y,S,M){if(Array.isArray(p)){for(var L=0;L<p.length;L++)c0(u,p[L],y,S,M);return null}return y=h0(y),u&&u[Wn]?u.K(p,y,d(S)?!!S.capture:!!S,M):lS(u,p,y,!1,S,M)}function lS(u,p,y,S,M,L){if(!p)throw Error("Invalid event type");var H=d(M)?!!M.capture:!!M,xe=dh(u);if(xe||(u[lh]=xe=new Ul(u)),y=xe.add(p,y,S,H,L),y.proxy)return y;if(S=cS(),y.proxy=S,S.src=u,S.listener=y,u.addEventListener)W||(M=H),M===void 0&&(M=!1),u.addEventListener(p.toString(),S,M);else if(u.attachEvent)u.attachEvent(d0(p.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return y}function cS(){function u(y){return p.call(u.src,u.listener,y)}const p=uS;return u}function u0(u,p,y,S,M){if(Array.isArray(p))for(var L=0;L<p.length;L++)u0(u,p[L],y,S,M);else S=d(S)?!!S.capture:!!S,y=h0(y),u&&u[Wn]?(u=u.i,p=String(p).toString(),p in u.g&&(L=u.g[p],y=ah(L,y,S,M),-1<y&&(Fl(L[y]),Array.prototype.splice.call(L,y,1),L.length==0&&(delete u.g[p],u.h--)))):u&&(u=dh(u))&&(p=u.g[p.toString()],u=-1,p&&(u=ah(p,y,S,M)),(y=-1<u?p[u]:null)&&uh(y))}function uh(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[Wn])oh(p.i,u);else{var y=u.type,S=u.proxy;p.removeEventListener?p.removeEventListener(y,S,u.capture):p.detachEvent?p.detachEvent(d0(y),S):p.addListener&&p.removeListener&&p.removeListener(S),(y=dh(p))?(oh(y,u),y.h==0&&(y.src=null,p[lh]=null)):Fl(u)}}}function d0(u){return u in ch?ch[u]:ch[u]="on"+u}function uS(u,p){if(u.da)u=!0;else{p=new ie(p,this);var y=u.listener,S=u.ha||u.src;u.fa&&uh(u),u=y.call(S,p)}return u}function dh(u){return u=u[lh],u instanceof Ul?u:null}var hh="__closure_events_fn_"+(1e9*Math.random()>>>0);function h0(u){return typeof u=="function"?u:(u[hh]||(u[hh]=function(p){return u.handleEvent(p)}),u[hh])}function ct(){F.call(this),this.i=new Ul(this),this.M=this,this.F=null}v(ct,F),ct.prototype[Wn]=!0,ct.prototype.removeEventListener=function(u,p,y,S){u0(this,u,p,y,S)};function bt(u,p){var y,S=u.F;if(S)for(y=[];S;S=S.F)y.push(S);if(u=u.M,S=p.type||p,typeof p=="string")p=new V(p,u);else if(p instanceof V)p.target=p.target||u;else{var M=p;p=new V(S,u),_(p,M)}if(M=!0,y)for(var L=y.length-1;0<=L;L--){var H=p.g=y[L];M=Bl(H,S,!0,p)&&M}if(H=p.g=u,M=Bl(H,S,!0,p)&&M,M=Bl(H,S,!1,p)&&M,y)for(L=0;L<y.length;L++)H=p.g=y[L],M=Bl(H,S,!1,p)&&M}ct.prototype.N=function(){if(ct.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var y=u.g[p],S=0;S<y.length;S++)Fl(y[S]);delete u.g[p],u.h--}}this.F=null},ct.prototype.K=function(u,p,y,S){return this.i.add(String(u),p,!1,y,S)},ct.prototype.L=function(u,p,y,S){return this.i.add(String(u),p,!0,y,S)};function Bl(u,p,y,S){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var M=!0,L=0;L<p.length;++L){var H=p[L];if(H&&!H.da&&H.capture==y){var xe=H.listener,tt=H.ha||H.src;H.fa&&oh(u.i,H),M=xe.call(tt,S)!==!1&&M}}return M&&!S.defaultPrevented}function m0(u,p,y){if(typeof u=="function")y&&(u=f(u,y));else if(u&&typeof u.handleEvent=="function")u=f(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:l.setTimeout(u,p||0)}function f0(u){u.g=m0(()=>{u.g=null,u.i&&(u.i=!1,f0(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class dS extends F{constructor(p,y){super(),this.m=p,this.l=y,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:f0(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ko(u){F.call(this),this.h=u,this.g={}}v(ko,F);var p0=[];function g0(u){O(u.g,function(p,y){this.g.hasOwnProperty(y)&&uh(p)},u),u.g={}}ko.prototype.N=function(){ko.aa.N.call(this),g0(this)},ko.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var mh=l.JSON.stringify,hS=l.JSON.parse,mS=class{stringify(u){return l.JSON.stringify(u,void 0)}parse(u){return l.JSON.parse(u,void 0)}};function fh(){}fh.prototype.h=null;function y0(u){return u.h||(u.h=u.i())}function x0(){}var Ro={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ph(){V.call(this,"d")}v(ph,V);function gh(){V.call(this,"c")}v(gh,V);var xs={},v0=null;function $l(){return v0=v0||new ct}xs.La="serverreachability";function w0(u){V.call(this,xs.La,u)}v(w0,V);function jo(u){const p=$l();bt(p,new w0(p))}xs.STAT_EVENT="statevent";function _0(u,p){V.call(this,xs.STAT_EVENT,u),this.stat=p}v(_0,V);function Et(u){const p=$l();bt(p,new _0(p,u))}xs.Ma="timingevent";function b0(u,p){V.call(this,xs.Ma,u),this.size=p}v(b0,V);function Do(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){u()},p)}function Vo(){this.g=!0}Vo.prototype.xa=function(){this.g=!1};function fS(u,p,y,S,M,L){u.info(function(){if(u.g)if(L)for(var H="",xe=L.split("&"),tt=0;tt<xe.length;tt++){var fe=xe[tt].split("=");if(1<fe.length){var ut=fe[0];fe=fe[1];var dt=ut.split("_");H=2<=dt.length&&dt[1]=="type"?H+(ut+"="+fe+"&"):H+(ut+"=redacted&")}}else H=null;else H=L;return"XMLHTTP REQ ("+S+") [attempt "+M+"]: "+p+`
`+y+`
`+H})}function pS(u,p,y,S,M,L,H){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+M+"]: "+p+`
`+y+`
`+L+" "+H})}function li(u,p,y,S){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+yS(u,y)+(S?" "+S:"")})}function gS(u,p){u.info(function(){return"TIMEOUT: "+p})}Vo.prototype.info=function(){};function yS(u,p){if(!u.g)return p;if(!p)return null;try{var y=JSON.parse(p);if(y){for(u=0;u<y.length;u++)if(Array.isArray(y[u])){var S=y[u];if(!(2>S.length)){var M=S[1];if(Array.isArray(M)&&!(1>M.length)){var L=M[0];if(L!="noop"&&L!="stop"&&L!="close")for(var H=1;H<M.length;H++)M[H]=""}}}}return mh(y)}catch{return p}}var zl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},E0={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},yh;function ql(){}v(ql,fh),ql.prototype.g=function(){return new XMLHttpRequest},ql.prototype.i=function(){return{}},yh=new ql;function Er(u,p,y,S){this.j=u,this.i=p,this.l=y,this.R=S||1,this.U=new ko(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new T0}function T0(){this.i=null,this.g="",this.h=!1}var N0={},xh={};function vh(u,p,y){u.L=1,u.v=Gl(Kn(p)),u.m=y,u.P=!0,I0(u,null)}function I0(u,p){u.F=Date.now(),Hl(u),u.A=Kn(u.v);var y=u.A,S=u.R;Array.isArray(S)||(S=[String(S)]),U0(y.i,"t",S),u.C=0,y=u.j.J,u.h=new T0,u.g=sx(u.j,y?p:null,!u.m),0<u.O&&(u.M=new dS(f(u.Y,u,u.g),u.O)),p=u.U,y=u.g,S=u.ca;var M="readystatechange";Array.isArray(M)||(M&&(p0[0]=M.toString()),M=p0);for(var L=0;L<M.length;L++){var H=c0(y,M[L],S||p.handleEvent,!1,p.h||p);if(!H)break;p.g[H.key]=H}p=u.H?x(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),jo(),fS(u.i,u.u,u.A,u.l,u.R,u.m)}Er.prototype.ca=function(u){u=u.target;const p=this.M;p&&Gn(u)==3?p.j():this.Y(u)},Er.prototype.Y=function(u){try{if(u==this.g)e:{const dt=Gn(this.g);var p=this.g.Ba();const di=this.g.Z();if(!(3>dt)&&(dt!=3||this.g&&(this.h.h||this.g.oa()||K0(this.g)))){this.J||dt!=4||p==7||(p==8||0>=di?jo(3):jo(2)),wh(this);var y=this.g.Z();this.X=y;t:if(S0(this)){var S=K0(this.g);u="";var M=S.length,L=Gn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){vs(this),Mo(this);var H="";break t}this.h.i=new l.TextDecoder}for(p=0;p<M;p++)this.h.h=!0,u+=this.h.i.decode(S[p],{stream:!(L&&p==M-1)});S.length=0,this.h.g+=u,this.C=0,H=this.h.g}else H=this.g.oa();if(this.o=y==200,pS(this.i,this.u,this.A,this.l,this.R,dt,y),this.o){if(this.T&&!this.K){t:{if(this.g){var xe,tt=this.g;if((xe=tt.g?tt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(xe)){var fe=xe;break t}}fe=null}if(y=fe)li(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,_h(this,y);else{this.o=!1,this.s=3,Et(12),vs(this),Mo(this);break e}}if(this.P){y=!0;let cn;for(;!this.J&&this.C<H.length;)if(cn=xS(this,H),cn==xh){dt==4&&(this.s=4,Et(14),y=!1),li(this.i,this.l,null,"[Incomplete Response]");break}else if(cn==N0){this.s=4,Et(15),li(this.i,this.l,H,"[Invalid Chunk]"),y=!1;break}else li(this.i,this.l,cn,null),_h(this,cn);if(S0(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),dt!=4||H.length!=0||this.h.h||(this.s=1,Et(16),y=!1),this.o=this.o&&y,!y)li(this.i,this.l,H,"[Invalid Chunked Response]"),vs(this),Mo(this);else if(0<H.length&&!this.W){this.W=!0;var ut=this.j;ut.g==this&&ut.ba&&!ut.M&&(ut.j.info("Great, no buffering proxy detected. Bytes received: "+H.length),Sh(ut),ut.M=!0,Et(11))}}else li(this.i,this.l,H,null),_h(this,H);dt==4&&vs(this),this.o&&!this.J&&(dt==4?ex(this.j,this):(this.o=!1,Hl(this)))}else VS(this.g),y==400&&0<H.indexOf("Unknown SID")?(this.s=3,Et(12)):(this.s=0,Et(13)),vs(this),Mo(this)}}}catch{}finally{}};function S0(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function xS(u,p){var y=u.C,S=p.indexOf(`
`,y);return S==-1?xh:(y=Number(p.substring(y,S)),isNaN(y)?N0:(S+=1,S+y>p.length?xh:(p=p.slice(S,S+y),u.C=S+y,p)))}Er.prototype.cancel=function(){this.J=!0,vs(this)};function Hl(u){u.S=Date.now()+u.I,C0(u,u.I)}function C0(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Do(f(u.ba,u),p)}function wh(u){u.B&&(l.clearTimeout(u.B),u.B=null)}Er.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(gS(this.i,this.A),this.L!=2&&(jo(),Et(17)),vs(this),this.s=2,Mo(this)):C0(this,this.S-u)};function Mo(u){u.j.G==0||u.J||ex(u.j,u)}function vs(u){wh(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,g0(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function _h(u,p){try{var y=u.j;if(y.G!=0&&(y.g==u||bh(y.h,u))){if(!u.K&&bh(y.h,u)&&y.G==3){try{var S=y.Da.g.parse(p)}catch{S=null}if(Array.isArray(S)&&S.length==3){var M=S;if(M[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<u.F)ec(y),Jl(y);else break e;Ih(y),Et(18)}}else y.za=M[1],0<y.za-y.T&&37500>M[2]&&y.F&&y.v==0&&!y.C&&(y.C=Do(f(y.Za,y),6e3));if(1>=k0(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else _s(y,11)}else if((u.K||y.g==u)&&ec(y),!b(p))for(M=y.Da.g.parse(p),p=0;p<M.length;p++){let fe=M[p];if(y.T=fe[0],fe=fe[1],y.G==2)if(fe[0]=="c"){y.K=fe[1],y.ia=fe[2];const ut=fe[3];ut!=null&&(y.la=ut,y.j.info("VER="+y.la));const dt=fe[4];dt!=null&&(y.Aa=dt,y.j.info("SVER="+y.Aa));const di=fe[5];di!=null&&typeof di=="number"&&0<di&&(S=1.5*di,y.L=S,y.j.info("backChannelRequestTimeoutMs_="+S)),S=y;const cn=u.g;if(cn){const nc=cn.g?cn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(nc){var L=S.h;L.g||nc.indexOf("spdy")==-1&&nc.indexOf("quic")==-1&&nc.indexOf("h2")==-1||(L.j=L.l,L.g=new Set,L.h&&(Eh(L,L.h),L.h=null))}if(S.D){const Ch=cn.g?cn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ch&&(S.ya=Ch,be(S.I,S.D,Ch))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-u.F,y.j.info("Handshake RTT: "+y.R+"ms")),S=y;var H=u;if(S.qa=rx(S,S.J?S.ia:null,S.W),H.K){R0(S.h,H);var xe=H,tt=S.L;tt&&(xe.I=tt),xe.B&&(wh(xe),Hl(xe)),S.g=H}else J0(S);0<y.i.length&&Zl(y)}else fe[0]!="stop"&&fe[0]!="close"||_s(y,7);else y.G==3&&(fe[0]=="stop"||fe[0]=="close"?fe[0]=="stop"?_s(y,7):Nh(y):fe[0]!="noop"&&y.l&&y.l.ta(fe),y.v=0)}}jo(4)}catch{}}var vS=class{constructor(u,p){this.g=u,this.map=p}};function A0(u){this.l=u||10,l.PerformanceNavigationTiming?(u=l.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function P0(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function k0(u){return u.h?1:u.g?u.g.size:0}function bh(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function Eh(u,p){u.g?u.g.add(p):u.h=p}function R0(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}A0.prototype.cancel=function(){if(this.i=j0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function j0(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const y of u.g.values())p=p.concat(y.D);return p}return C(u.i)}function wS(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(c(u)){for(var p=[],y=u.length,S=0;S<y;S++)p.push(u[S]);return p}p=[],y=0;for(S in u)p[y++]=u[S];return p}function _S(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(c(u)||typeof u=="string"){var p=[];u=u.length;for(var y=0;y<u;y++)p.push(y);return p}p=[],y=0;for(const S in u)p[y++]=S;return p}}}function D0(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(c(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var y=_S(u),S=wS(u),M=S.length,L=0;L<M;L++)p.call(void 0,S[L],y&&y[L],u)}var V0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function bS(u,p){if(u){u=u.split("&");for(var y=0;y<u.length;y++){var S=u[y].indexOf("="),M=null;if(0<=S){var L=u[y].substring(0,S);M=u[y].substring(S+1)}else L=u[y];p(L,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function ws(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof ws){this.h=u.h,Wl(this,u.j),this.o=u.o,this.g=u.g,Kl(this,u.s),this.l=u.l;var p=u.i,y=new Fo;y.i=p.i,p.g&&(y.g=new Map(p.g),y.h=p.h),M0(this,y),this.m=u.m}else u&&(p=String(u).match(V0))?(this.h=!1,Wl(this,p[1]||"",!0),this.o=Oo(p[2]||""),this.g=Oo(p[3]||"",!0),Kl(this,p[4]),this.l=Oo(p[5]||"",!0),M0(this,p[6]||"",!0),this.m=Oo(p[7]||"")):(this.h=!1,this.i=new Fo(null,this.h))}ws.prototype.toString=function(){var u=[],p=this.j;p&&u.push(Lo(p,O0,!0),":");var y=this.g;return(y||p=="file")&&(u.push("//"),(p=this.o)&&u.push(Lo(p,O0,!0),"@"),u.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&u.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(Lo(y,y.charAt(0)=="/"?NS:TS,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",Lo(y,SS)),u.join("")};function Kn(u){return new ws(u)}function Wl(u,p,y){u.j=y?Oo(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function Kl(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function M0(u,p,y){p instanceof Fo?(u.i=p,CS(u.i,u.h)):(y||(p=Lo(p,IS)),u.i=new Fo(p,u.h))}function be(u,p,y){u.i.set(p,y)}function Gl(u){return be(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Oo(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Lo(u,p,y){return typeof u=="string"?(u=encodeURI(u).replace(p,ES),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function ES(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var O0=/[#\/\?@]/g,TS=/[#\?:]/g,NS=/[#\?]/g,IS=/[#\?@]/g,SS=/#/g;function Fo(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function Tr(u){u.g||(u.g=new Map,u.h=0,u.i&&bS(u.i,function(p,y){u.add(decodeURIComponent(p.replace(/\+/g," ")),y)}))}t=Fo.prototype,t.add=function(u,p){Tr(this),this.i=null,u=ci(this,u);var y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(p),this.h+=1,this};function L0(u,p){Tr(u),p=ci(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function F0(u,p){return Tr(u),p=ci(u,p),u.g.has(p)}t.forEach=function(u,p){Tr(this),this.g.forEach(function(y,S){y.forEach(function(M){u.call(p,M,S,this)},this)},this)},t.na=function(){Tr(this);const u=Array.from(this.g.values()),p=Array.from(this.g.keys()),y=[];for(let S=0;S<p.length;S++){const M=u[S];for(let L=0;L<M.length;L++)y.push(p[S])}return y},t.V=function(u){Tr(this);let p=[];if(typeof u=="string")F0(this,u)&&(p=p.concat(this.g.get(ci(this,u))));else{u=Array.from(this.g.values());for(let y=0;y<u.length;y++)p=p.concat(u[y])}return p},t.set=function(u,p){return Tr(this),this.i=null,u=ci(this,u),F0(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},t.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function U0(u,p,y){L0(u,p),0<y.length&&(u.i=null,u.g.set(ci(u,p),C(y)),u.h+=y.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(var y=0;y<p.length;y++){var S=p[y];const L=encodeURIComponent(String(S)),H=this.V(S);for(S=0;S<H.length;S++){var M=L;H[S]!==""&&(M+="="+encodeURIComponent(String(H[S]))),u.push(M)}}return this.i=u.join("&")};function ci(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function CS(u,p){p&&!u.j&&(Tr(u),u.i=null,u.g.forEach(function(y,S){var M=S.toLowerCase();S!=M&&(L0(this,S),U0(this,M,y))},u)),u.j=p}function AS(u,p){const y=new Vo;if(l.Image){const S=new Image;S.onload=g(Nr,y,"TestLoadImage: loaded",!0,p,S),S.onerror=g(Nr,y,"TestLoadImage: error",!1,p,S),S.onabort=g(Nr,y,"TestLoadImage: abort",!1,p,S),S.ontimeout=g(Nr,y,"TestLoadImage: timeout",!1,p,S),l.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else p(!1)}function PS(u,p){const y=new Vo,S=new AbortController,M=setTimeout(()=>{S.abort(),Nr(y,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:S.signal}).then(L=>{clearTimeout(M),L.ok?Nr(y,"TestPingServer: ok",!0,p):Nr(y,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(M),Nr(y,"TestPingServer: error",!1,p)})}function Nr(u,p,y,S,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),S(y)}catch{}}function kS(){this.g=new mS}function RS(u,p,y){const S=y||"";try{D0(u,function(M,L){let H=M;d(M)&&(H=mh(M)),p.push(S+L+"="+encodeURIComponent(H))})}catch(M){throw p.push(S+"type="+encodeURIComponent("_badmap")),M}}function Ql(u){this.l=u.Ub||null,this.j=u.eb||!1}v(Ql,fh),Ql.prototype.g=function(){return new Yl(this.l,this.j)},Ql.prototype.i=function(u){return function(){return u}}({});function Yl(u,p){ct.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(Yl,ct),t=Yl.prototype,t.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,Bo(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||l).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Uo(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Bo(this)),this.g&&(this.readyState=3,Bo(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;B0(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function B0(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?Uo(this):Bo(this),this.readyState==3&&B0(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,Uo(this))},t.Qa=function(u){this.g&&(this.response=u,Uo(this))},t.ga=function(){this.g&&Uo(this)};function Uo(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Bo(u)}t.setRequestHeader=function(u,p){this.u.append(u,p)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var y=p.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=p.next();return u.join(`\r
`)};function Bo(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Yl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function $0(u){let p="";return O(u,function(y,S){p+=S,p+=":",p+=y,p+=`\r
`}),p}function Th(u,p,y){e:{for(S in y){var S=!1;break e}S=!0}S||(y=$0(y),typeof u=="string"?y!=null&&encodeURIComponent(String(y)):be(u,p,y))}function De(u){ct.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(De,ct);var jS=/^https?$/i,DS=["POST","PUT"];t=De.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,p,y,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():yh.g(),this.v=this.o?y0(this.o):y0(yh),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(L){z0(this,L);return}if(u=y||"",y=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var M in S)y.set(M,S[M]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const L of S.keys())y.set(L,S.get(L));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(y.keys()).find(L=>L.toLowerCase()=="content-type"),M=l.FormData&&u instanceof l.FormData,!(0<=Array.prototype.indexOf.call(DS,p,void 0))||S||M||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[L,H]of y)this.g.setRequestHeader(L,H);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{W0(this),this.u=!0,this.g.send(u),this.u=!1}catch(L){z0(this,L)}};function z0(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,q0(u),Xl(u)}function q0(u){u.A||(u.A=!0,bt(u,"complete"),bt(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,bt(this,"complete"),bt(this,"abort"),Xl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xl(this,!0)),De.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?H0(this):this.bb())},t.bb=function(){H0(this)};function H0(u){if(u.h&&typeof o<"u"&&(!u.v[1]||Gn(u)!=4||u.Z()!=2)){if(u.u&&Gn(u)==4)m0(u.Ea,0,u);else if(bt(u,"readystatechange"),Gn(u)==4){u.h=!1;try{const H=u.Z();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var y;if(!(y=p)){var S;if(S=H===0){var M=String(u.D).match(V0)[1]||null;!M&&l.self&&l.self.location&&(M=l.self.location.protocol.slice(0,-1)),S=!jS.test(M?M.toLowerCase():"")}y=S}if(y)bt(u,"complete"),bt(u,"success");else{u.m=6;try{var L=2<Gn(u)?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.Z()+"]",q0(u)}}finally{Xl(u)}}}}function Xl(u,p){if(u.g){W0(u);const y=u.g,S=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||bt(u,"ready");try{y.onreadystatechange=S}catch{}}}function W0(u){u.I&&(l.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function Gn(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<Gn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),hS(p)}};function K0(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function VS(u){const p={};u=(u.g&&2<=Gn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(b(u[S]))continue;var y=I(u[S]);const M=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const L=p[M]||[];p[M]=L,L.push(y)}w(p,function(S){return S.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function $o(u,p,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||p}function G0(u){this.Aa=0,this.i=[],this.j=new Vo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=$o("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=$o("baseRetryDelayMs",5e3,u),this.cb=$o("retryDelaySeedMs",1e4,u),this.Wa=$o("forwardChannelMaxRetries",2,u),this.wa=$o("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new A0(u&&u.concurrentRequestLimit),this.Da=new kS,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=G0.prototype,t.la=8,t.G=1,t.connect=function(u,p,y,S){Et(0),this.W=u,this.H=p||{},y&&S!==void 0&&(this.H.OSID=y,this.H.OAID=S),this.F=this.X,this.I=rx(this,null,this.W),Zl(this)};function Nh(u){if(Q0(u),u.G==3){var p=u.U++,y=Kn(u.I);if(be(y,"SID",u.K),be(y,"RID",p),be(y,"TYPE","terminate"),zo(u,y),p=new Er(u,u.j,p),p.L=2,p.v=Gl(Kn(y)),y=!1,l.navigator&&l.navigator.sendBeacon)try{y=l.navigator.sendBeacon(p.v.toString(),"")}catch{}!y&&l.Image&&(new Image().src=p.v,y=!0),y||(p.g=sx(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Hl(p)}nx(u)}function Jl(u){u.g&&(Sh(u),u.g.cancel(),u.g=null)}function Q0(u){Jl(u),u.u&&(l.clearTimeout(u.u),u.u=null),ec(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&l.clearTimeout(u.s),u.s=null)}function Zl(u){if(!P0(u.h)&&!u.s){u.s=!0;var p=u.Ga;ae||J(),q||(ae(),q=!0),X.add(p,u),u.B=0}}function MS(u,p){return k0(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Do(f(u.Ga,u,p),tx(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const M=new Er(this,this.j,u);let L=this.o;if(this.S&&(L?(L=x(L),_(L,this.S)):L=this.S),this.m!==null||this.O||(M.H=L,L=null),this.P)e:{for(var p=0,y=0;y<this.i.length;y++){t:{var S=this.i[y];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(p+=S,4096<p){p=y;break e}if(p===4096||y===this.i.length-1){p=y+1;break e}}p=1e3}else p=1e3;p=X0(this,M,p),y=Kn(this.I),be(y,"RID",u),be(y,"CVER",22),this.D&&be(y,"X-HTTP-Session-Id",this.D),zo(this,y),L&&(this.O?p="headers="+encodeURIComponent(String($0(L)))+"&"+p:this.m&&Th(y,this.m,L)),Eh(this.h,M),this.Ua&&be(y,"TYPE","init"),this.P?(be(y,"$req",p),be(y,"SID","null"),M.T=!0,vh(M,y,null)):vh(M,y,p),this.G=2}}else this.G==3&&(u?Y0(this,u):this.i.length==0||P0(this.h)||Y0(this))};function Y0(u,p){var y;p?y=p.l:y=u.U++;const S=Kn(u.I);be(S,"SID",u.K),be(S,"RID",y),be(S,"AID",u.T),zo(u,S),u.m&&u.o&&Th(S,u.m,u.o),y=new Er(u,u.j,y,u.B+1),u.m===null&&(y.H=u.o),p&&(u.i=p.D.concat(u.i)),p=X0(u,y,1e3),y.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Eh(u.h,y),vh(y,S,p)}function zo(u,p){u.H&&O(u.H,function(y,S){be(p,S,y)}),u.l&&D0({},function(y,S){be(p,S,y)})}function X0(u,p,y){y=Math.min(u.i.length,y);var S=u.l?f(u.l.Na,u.l,u):null;e:{var M=u.i;let L=-1;for(;;){const H=["count="+y];L==-1?0<y?(L=M[0].g,H.push("ofs="+L)):L=0:H.push("ofs="+L);let xe=!0;for(let tt=0;tt<y;tt++){let fe=M[tt].g;const ut=M[tt].map;if(fe-=L,0>fe)L=Math.max(0,M[tt].g-100),xe=!1;else try{RS(ut,H,"req"+fe+"_")}catch{S&&S(ut)}}if(xe){S=H.join("&");break e}}}return u=u.i.splice(0,y),p.D=u,S}function J0(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;ae||J(),q||(ae(),q=!0),X.add(p,u),u.v=0}}function Ih(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Do(f(u.Fa,u),tx(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,Z0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Do(f(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Et(10),Jl(this),Z0(this))};function Sh(u){u.A!=null&&(l.clearTimeout(u.A),u.A=null)}function Z0(u){u.g=new Er(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=Kn(u.qa);be(p,"RID","rpc"),be(p,"SID",u.K),be(p,"AID",u.T),be(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&be(p,"TO",u.ja),be(p,"TYPE","xmlhttp"),zo(u,p),u.m&&u.o&&Th(p,u.m,u.o),u.L&&(u.g.I=u.L);var y=u.g;u=u.ia,y.L=1,y.v=Gl(Kn(p)),y.m=null,y.P=!0,I0(y,u)}t.Za=function(){this.C!=null&&(this.C=null,Jl(this),Ih(this),Et(19))};function ec(u){u.C!=null&&(l.clearTimeout(u.C),u.C=null)}function ex(u,p){var y=null;if(u.g==p){ec(u),Sh(u),u.g=null;var S=2}else if(bh(u.h,p))y=p.D,R0(u.h,p),S=1;else return;if(u.G!=0){if(p.o)if(S==1){y=p.m?p.m.length:0,p=Date.now()-p.F;var M=u.B;S=$l(),bt(S,new b0(S,y)),Zl(u)}else J0(u);else if(M=p.s,M==3||M==0&&0<p.X||!(S==1&&MS(u,p)||S==2&&Ih(u)))switch(y&&0<y.length&&(p=u.h,p.i=p.i.concat(y)),M){case 1:_s(u,5);break;case 4:_s(u,10);break;case 3:_s(u,6);break;default:_s(u,2)}}}function tx(u,p){let y=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(y*=2),y*p}function _s(u,p){if(u.j.info("Error code "+p),p==2){var y=f(u.fb,u),S=u.Xa;const M=!S;S=new ws(S||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Wl(S,"https"),Gl(S),M?AS(S.toString(),y):PS(S.toString(),y)}else Et(2);u.G=0,u.l&&u.l.sa(p),nx(u),Q0(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function nx(u){if(u.G=0,u.ka=[],u.l){const p=j0(u.h);(p.length!=0||u.i.length!=0)&&(A(u.ka,p),A(u.ka,u.i),u.h.i.length=0,C(u.i),u.i.length=0),u.l.ra()}}function rx(u,p,y){var S=y instanceof ws?Kn(y):new ws(y);if(S.g!="")p&&(S.g=p+"."+S.g),Kl(S,S.s);else{var M=l.location;S=M.protocol,p=p?p+"."+M.hostname:M.hostname,M=+M.port;var L=new ws(null);S&&Wl(L,S),p&&(L.g=p),M&&Kl(L,M),y&&(L.l=y),S=L}return y=u.D,p=u.ya,y&&p&&be(S,y,p),be(S,"VER",u.la),zo(u,S),S}function sx(u,p,y){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new De(new Ql({eb:y})):new De(u.pa),p.Ha(u.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ix(){}t=ix.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function tc(){}tc.prototype.g=function(u,p){return new Bt(u,p)};function Bt(u,p){ct.call(this),this.g=new G0(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!b(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!b(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new ui(this)}v(Bt,ct),Bt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Bt.prototype.close=function(){Nh(this.g)},Bt.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.u&&(y={},y.__data__=mh(u),u=y);p.i.push(new vS(p.Ya++,u)),p.G==3&&Zl(p)},Bt.prototype.N=function(){this.g.l=null,delete this.j,Nh(this.g),delete this.g,Bt.aa.N.call(this)};function ox(u){ph.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const y in p){u=y;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}v(ox,ph);function ax(){gh.call(this),this.status=1}v(ax,gh);function ui(u){this.g=u}v(ui,ix),ui.prototype.ua=function(){bt(this.g,"a")},ui.prototype.ta=function(u){bt(this.g,new ox(u))},ui.prototype.sa=function(u){bt(this.g,new ax)},ui.prototype.ra=function(){bt(this.g,"b")},tc.prototype.createWebChannel=tc.prototype.g,Bt.prototype.send=Bt.prototype.o,Bt.prototype.open=Bt.prototype.m,Bt.prototype.close=Bt.prototype.close,KT=function(){return new tc},WT=function(){return $l()},HT=xs,Lf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},zl.NO_ERROR=0,zl.TIMEOUT=8,zl.HTTP_ERROR=6,tu=zl,E0.COMPLETE="complete",qT=E0,x0.EventType=Ro,Ro.OPEN="a",Ro.CLOSE="b",Ro.ERROR="c",Ro.MESSAGE="d",ct.prototype.listen=ct.prototype.K,oa=x0,De.prototype.listenOnce=De.prototype.L,De.prototype.getLastError=De.prototype.Ka,De.prototype.getLastErrorCode=De.prototype.Ba,De.prototype.getStatus=De.prototype.Z,De.prototype.getResponseJson=De.prototype.Oa,De.prototype.getResponseText=De.prototype.oa,De.prototype.send=De.prototype.ea,De.prototype.setWithCredentials=De.prototype.Ha,zT=De}).apply(typeof Ec<"u"?Ec:typeof self<"u"?self:typeof window<"u"?window:{});const Zv="@firebase/firestore",ew="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};pt.UNAUTHENTICATED=new pt(null),pt.GOOGLE_CREDENTIALS=new pt("google-credentials-uid"),pt.FIRST_PARTY=new pt("first-party-uid"),pt.MOCK_USER=new pt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bo="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ys=new Pg("@firebase/firestore");function mi(){return Ys.logLevel}function G(t,...e){if(Ys.logLevel<=le.DEBUG){const n=e.map($g);Ys.debug(`Firestore (${bo}): ${t}`,...n)}}function yr(t,...e){if(Ys.logLevel<=le.ERROR){const n=e.map($g);Ys.error(`Firestore (${bo}): ${t}`,...n)}}function eo(t,...e){if(Ys.logLevel<=le.WARN){const n=e.map($g);Ys.warn(`Firestore (${bo}): ${t}`,...n)}}function $g(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,GT(t,r,n)}function GT(t,e,n){let r=`FIRESTORE (${bo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw yr(r),new Error(r)}function pe(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||GT(e,s,r)}function se(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class K extends zn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class n3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(pt.UNAUTHENTICATED))}shutdown(){}}class r3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class s3{constructor(e){this.t=e,this.currentUser=pt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){pe(this.o===void 0,42304);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new ir;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new ir,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},l=c=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new ir)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(pe(typeof r.accessToken=="string",31837,{l:r}),new QT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return pe(e===null||typeof e=="string",2055,{h:e}),new pt(e)}}class i3{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=pt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class o3{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new i3(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(pt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class tw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class a3{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,pn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){pe(this.o===void 0,3512);const r=i=>{i.error!=null&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,G("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new tw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(pe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new tw(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=l3(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function ce(t,e){return t<e?-1:t>e?1:0}function Ff(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return um(s)===um(i)?ce(s,i):um(s)?1:-1}return ce(t.length,e.length)}const c3=55296,u3=57343;function um(t){const e=t.charCodeAt(0);return e>=c3&&e<=u3}function to(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw="__name__";class In{constructor(e,n,r){n===void 0?n=0:n>e.length&&Z(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Z(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return In.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof In?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=In.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return ce(e.length,n.length)}static compareSegments(e,n){const r=In.isNumericId(e),s=In.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?In.extractNumericId(e).compare(In.extractNumericId(n)):Ff(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Xr.fromString(e.substring(4,e.length-2))}}class we extends In{construct(e,n,r){return new we(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new K(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new we(n)}static emptyPath(){return new we([])}}const d3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class it extends In{construct(e,n,r){return new it(e,n,r)}static isValidIdentifier(e){return d3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),it.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===nw}static keyField(){return new it([nw])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new K(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new K(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new K(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else l==="`"?(o=!o,s++):l!=="."||o?(r+=l,s++):(i(),s++)}if(i(),o)throw new K(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new it(n)}static emptyPath(){return new it([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.path=e}static fromPath(e){return new Y(we.fromString(e))}static fromName(e){return new Y(we.fromString(e).popFirst(5))}static empty(){return new Y(we.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&we.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return we.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Y(new we(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YT(t,e,n){if(!n)throw new K(U.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function h3(t,e,n,r){if(e===!0&&r===!0)throw new K(U.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function rw(t){if(!Y.isDocumentKey(t))throw new K(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function sw(t){if(Y.isDocumentKey(t))throw new K(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function XT(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Md(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Z(12329,{type:typeof t})}function Ft(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new K(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Md(t);throw new K(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function We(t,e){const n={typeString:t};return e&&(n.value=e),n}function Cl(t,e){if(!XT(t))throw new K(U.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new K(U.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw=-62135596800,ow=1e6;class Te{static now(){return Te.fromMillis(Date.now())}static fromDate(e){return Te.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*ow);return new Te(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new K(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new K(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<iw)throw new K(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new K(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ow}_compareTo(e){return this.seconds===e.seconds?ce(this.nanoseconds,e.nanoseconds):ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Te._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Cl(e,Te._jsonSchema))return new Te(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-iw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Te._jsonSchemaVersion="firestore/timestamp/1.0",Te._jsonSchema={type:We("string",Te._jsonSchemaVersion),seconds:We("number"),nanoseconds:We("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{static fromTimestamp(e){return new ne(e)}static min(){return new ne(new Te(0,0))}static max(){return new ne(new Te(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const el=-1;function m3(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ne.fromTimestamp(r===1e9?new Te(n+1,0):new Te(n,r));return new ns(s,Y.empty(),e)}function f3(t){return new ns(t.readTime,t.key,el)}class ns{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ns(ne.min(),Y.empty(),el)}static max(){return new ns(ne.max(),Y.empty(),el)}}function p3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Y.comparator(t.documentKey,e.documentKey),n!==0?n:ce(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class y3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eo(t){if(t.code!==U.FAILED_PRECONDITION||t.message!==g3)throw t;G("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Z(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):B.reject(n)}static resolve(e){return new B((n,r)=>{n(e)})}static reject(e){return new B((n,r)=>{r(e)})}static waitFor(e){return new B((n,r)=>{let s=0,i=0,o=!1;e.forEach(l=>{++s,l.next(()=>{++i,o&&i===s&&n()},c=>r(c))}),o=!0,i===s&&n()})}static or(e){let n=B.resolve(!1);for(const r of e)n=n.next(s=>s?B.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new B((r,s)=>{const i=e.length,o=new Array(i);let l=0;for(let c=0;c<i;c++){const d=c;n(e[d]).next(h=>{o[d]=h,++l,l===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new B((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function x3(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function To(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Od.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qg=-1;function Ld(t){return t==null}function Wu(t){return t===0&&1/t==-1/0}function v3(t){return typeof t=="number"&&Number.isInteger(t)&&!Wu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT="";function w3(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=aw(e)),e=_3(t.get(n),e);return aw(e)}function _3(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case JT:n+="";break;default:n+=i}}return n}function aw(t){return t+JT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ps(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ZT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e,n){this.comparator=e,this.root=n||st.EMPTY}insert(e,n){return new je(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,st.BLACK,null,null))}remove(e){return new je(this.comparator,this.root.remove(e,this.comparator).copy(null,null,st.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Tc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Tc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Tc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Tc(this.root,e,this.comparator,!0)}}class Tc{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class st{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??st.RED,this.left=s??st.EMPTY,this.right=i??st.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new st(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return st.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return st.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,st.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,st.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Z(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Z(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Z(27949);return e+(this.isRed()?0:1)}}st.EMPTY=null,st.RED=!0,st.BLACK=!1;st.EMPTY=new class{constructor(){this.size=0}get key(){throw Z(57766)}get value(){throw Z(16141)}get color(){throw Z(16727)}get left(){throw Z(29726)}get right(){throw Z(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new st(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e){this.comparator=e,this.data=new je(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new cw(this.data.getIterator())}getIteratorFrom(e){return new cw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Qe)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Qe(this.comparator);return n.data=e,n}}class cw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.fields=e,e.sort(it.comparator)}static empty(){return new qt([])}unionWith(e){let n=new Qe(it.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new qt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return to(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new e2("Invalid base64 string: "+i):i}}(e);return new lt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new lt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}lt.EMPTY_BYTE_STRING=new lt("");const b3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rs(t){if(pe(!!t,39018),typeof t=="string"){let e=0;const n=b3.exec(t);if(pe(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Fe(t.seconds),nanos:Fe(t.nanos)}}function Fe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ss(t){return typeof t=="string"?lt.fromBase64String(t):lt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2="server_timestamp",n2="__type__",r2="__previous_value__",s2="__local_write_time__";function Hg(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[n2])==null?void 0:r.stringValue)===t2}function Fd(t){const e=t.mapValue.fields[r2];return Hg(e)?Fd(e):e}function tl(t){const e=rs(t.mapValue.fields[s2].timestampValue);return new Te(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E3{constructor(e,n,r,s,i,o,l,c,d,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=d,this.isUsingEmulator=h}}const Ku="(default)";class nl{constructor(e,n){this.projectId=e,this.database=n||Ku}static empty(){return new nl("","")}get isDefaultDatabase(){return this.database===Ku}isEqual(e){return e instanceof nl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2="__type__",o2="__max__",Nc={mapValue:{fields:{__type__:{stringValue:o2}}}},a2="__vector__",Gu="value";function is(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Hg(t)?4:N3(t)?9007199254740991:T3(t)?10:11:Z(28295,{value:t})}function Un(t,e){if(t===e)return!0;const n=is(t);if(n!==is(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return tl(t).isEqual(tl(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=rs(s.timestampValue),l=rs(i.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return ss(s.bytesValue).isEqual(ss(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Fe(s.geoPointValue.latitude)===Fe(i.geoPointValue.latitude)&&Fe(s.geoPointValue.longitude)===Fe(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Fe(s.integerValue)===Fe(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Fe(s.doubleValue),l=Fe(i.doubleValue);return o===l?Wu(o)===Wu(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return to(t.arrayValue.values||[],e.arrayValue.values||[],Un);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},l=i.mapValue.fields||{};if(lw(o)!==lw(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!Un(o[c],l[c])))return!1;return!0}(t,e);default:return Z(52216,{left:t})}}function rl(t,e){return(t.values||[]).find(n=>Un(n,e))!==void 0}function no(t,e){if(t===e)return 0;const n=is(t),r=is(e);if(n!==r)return ce(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ce(t.booleanValue,e.booleanValue);case 2:return function(i,o){const l=Fe(i.integerValue||i.doubleValue),c=Fe(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return uw(t.timestampValue,e.timestampValue);case 4:return uw(tl(t),tl(e));case 5:return Ff(t.stringValue,e.stringValue);case 6:return function(i,o){const l=ss(i),c=ss(o);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const l=i.split("/"),c=o.split("/");for(let d=0;d<l.length&&d<c.length;d++){const h=ce(l[d],c[d]);if(h!==0)return h}return ce(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const l=ce(Fe(i.latitude),Fe(o.latitude));return l!==0?l:ce(Fe(i.longitude),Fe(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return dw(t.arrayValue,e.arrayValue);case 10:return function(i,o){var f,g,v,C;const l=i.fields||{},c=o.fields||{},d=(f=l[Gu])==null?void 0:f.arrayValue,h=(g=c[Gu])==null?void 0:g.arrayValue,m=ce(((v=d==null?void 0:d.values)==null?void 0:v.length)||0,((C=h==null?void 0:h.values)==null?void 0:C.length)||0);return m!==0?m:dw(d,h)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Nc.mapValue&&o===Nc.mapValue)return 0;if(i===Nc.mapValue)return 1;if(o===Nc.mapValue)return-1;const l=i.fields||{},c=Object.keys(l),d=o.fields||{},h=Object.keys(d);c.sort(),h.sort();for(let m=0;m<c.length&&m<h.length;++m){const f=Ff(c[m],h[m]);if(f!==0)return f;const g=no(l[c[m]],d[h[m]]);if(g!==0)return g}return ce(c.length,h.length)}(t.mapValue,e.mapValue);default:throw Z(23264,{he:n})}}function uw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ce(t,e);const n=rs(t),r=rs(e),s=ce(n.seconds,r.seconds);return s!==0?s:ce(n.nanos,r.nanos)}function dw(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=no(n[s],r[s]);if(i)return i}return ce(n.length,r.length)}function ro(t){return Uf(t)}function Uf(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=rs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ss(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Y.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Uf(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Uf(n.fields[o])}`;return s+"}"}(t.mapValue):Z(61005,{value:t})}function nu(t){switch(is(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Fd(t);return e?16+nu(e):16;case 5:return 2*t.stringValue.length;case 6:return ss(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+nu(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return ps(r.fields,(i,o)=>{s+=i.length+nu(o)}),s}(t.mapValue);default:throw Z(13486,{value:t})}}function hw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Bf(t){return!!t&&"integerValue"in t}function Wg(t){return!!t&&"arrayValue"in t}function mw(t){return!!t&&"nullValue"in t}function fw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ru(t){return!!t&&"mapValue"in t}function T3(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[i2])==null?void 0:r.stringValue)===a2}function Ea(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ps(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ea(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ea(t.arrayValue.values[n]);return e}return{...t}}function N3(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===o2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.value=e}static empty(){return new Rt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ru(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ea(n)}setAll(e){let n=it.emptyPath(),r={},s=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=l.popLast()}o?r[l.lastSegment()]=Ea(o):s.push(l.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());ru(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Un(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];ru(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){ps(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Rt(Ea(this.value))}}function l2(t){const e=[];return ps(t.fields,(n,r)=>{const s=new it([n]);if(ru(r)){const i=l2(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new qt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e,n,r,s,i,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=l}static newInvalidDocument(e){return new xt(e,0,ne.min(),ne.min(),ne.min(),Rt.empty(),0)}static newFoundDocument(e,n,r,s){return new xt(e,1,n,ne.min(),r,s,0)}static newNoDocument(e,n){return new xt(e,2,n,ne.min(),ne.min(),Rt.empty(),0)}static newUnknownDocument(e,n){return new xt(e,3,n,ne.min(),ne.min(),Rt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof xt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new xt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(e,n){this.position=e,this.inclusive=n}}function pw(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=Y.comparator(Y.fromName(o.referenceValue),n.key):r=no(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function gw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Un(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(e,n="asc"){this.field=e,this.dir=n}}function I3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let c2=class{};class He extends c2{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new C3(e,n,r):n==="array-contains"?new k3(e,r):n==="in"?new R3(e,r):n==="not-in"?new j3(e,r):n==="array-contains-any"?new D3(e,r):new He(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new A3(e,r):new P3(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(no(n,this.value)):n!==null&&is(this.value)===is(n)&&this.matchesComparison(no(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Z(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class bn extends c2{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new bn(e,n)}matches(e){return u2(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function u2(t){return t.op==="and"}function d2(t){return S3(t)&&u2(t)}function S3(t){for(const e of t.filters)if(e instanceof bn)return!1;return!0}function $f(t){if(t instanceof He)return t.field.canonicalString()+t.op.toString()+ro(t.value);if(d2(t))return t.filters.map(e=>$f(e)).join(",");{const e=t.filters.map(n=>$f(n)).join(",");return`${t.op}(${e})`}}function h2(t,e){return t instanceof He?function(r,s){return s instanceof He&&r.op===s.op&&r.field.isEqual(s.field)&&Un(r.value,s.value)}(t,e):t instanceof bn?function(r,s){return s instanceof bn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,l)=>i&&h2(o,s.filters[l]),!0):!1}(t,e):void Z(19439)}function m2(t){return t instanceof He?function(n){return`${n.field.canonicalString()} ${n.op} ${ro(n.value)}`}(t):t instanceof bn?function(n){return n.op.toString()+" {"+n.getFilters().map(m2).join(" ,")+"}"}(t):"Filter"}class C3 extends He{constructor(e,n,r){super(e,n,r),this.key=Y.fromName(r.referenceValue)}matches(e){const n=Y.comparator(e.key,this.key);return this.matchesComparison(n)}}class A3 extends He{constructor(e,n){super(e,"in",n),this.keys=f2("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class P3 extends He{constructor(e,n){super(e,"not-in",n),this.keys=f2("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function f2(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>Y.fromName(r.referenceValue))}class k3 extends He{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Wg(n)&&rl(n.arrayValue,this.value)}}class R3 extends He{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&rl(this.value.arrayValue,n)}}class j3 extends He{constructor(e,n){super(e,"not-in",n)}matches(e){if(rl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!rl(this.value.arrayValue,n)}}class D3 extends He{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Wg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>rl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(e,n=null,r=[],s=[],i=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=l,this.Te=null}}function yw(t,e=null,n=[],r=[],s=null,i=null,o=null){return new V3(t,e,n,r,s,i,o)}function Kg(t){const e=se(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>$f(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Ld(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ro(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ro(r)).join(",")),e.Te=n}return e.Te}function Gg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!I3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!h2(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!gw(t.startAt,e.startAt)&&gw(t.endAt,e.endAt)}function zf(t){return Y.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e,n=null,r=[],s=[],i=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function M3(t,e,n,r,s,i,o,l){return new Al(t,e,n,r,s,i,o,l)}function Ud(t){return new Al(t)}function xw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function p2(t){return t.collectionGroup!==null}function Ta(t){const e=se(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new Qe(it.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(d=>{d.isInequality()&&(l=l.add(d.field))})}),l})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new Yu(i,r))}),n.has(it.keyField().canonicalString())||e.Ie.push(new Yu(it.keyField(),r))}return e.Ie}function jn(t){const e=se(t);return e.Ee||(e.Ee=O3(e,Ta(t))),e.Ee}function O3(t,e){if(t.limitType==="F")return yw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Yu(s.field,i)});const n=t.endAt?new Qu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Qu(t.startAt.position,t.startAt.inclusive):null;return yw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function qf(t,e){const n=t.filters.concat([e]);return new Al(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Hf(t,e,n){return new Al(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Bd(t,e){return Gg(jn(t),jn(e))&&t.limitType===e.limitType}function g2(t){return`${Kg(jn(t))}|lt:${t.limitType}`}function fi(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>m2(s)).join(", ")}]`),Ld(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>ro(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>ro(s)).join(",")),`Target(${r})`}(jn(t))}; limitType=${t.limitType})`}function $d(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):Y.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Ta(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,l,c){const d=pw(o,l,c);return o.inclusive?d<=0:d<0}(r.startAt,Ta(r),s)||r.endAt&&!function(o,l,c){const d=pw(o,l,c);return o.inclusive?d>=0:d>0}(r.endAt,Ta(r),s))}(t,e)}function L3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function y2(t){return(e,n)=>{let r=!1;for(const s of Ta(t)){const i=F3(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function F3(t,e,n){const r=t.field.isKeyField()?Y.comparator(e.key,n.key):function(i,o,l){const c=o.data.field(i),d=l.data.field(i);return c!==null&&d!==null?no(c,d):Z(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Z(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ps(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return ZT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U3=new je(Y.comparator);function xr(){return U3}const x2=new je(Y.comparator);function aa(...t){let e=x2;for(const n of t)e=e.insert(n.key,n);return e}function v2(t){let e=x2;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Rs(){return Na()}function w2(){return Na()}function Na(){return new ri(t=>t.toString(),(t,e)=>t.isEqual(e))}const B3=new je(Y.comparator),$3=new Qe(Y.comparator);function ue(...t){let e=$3;for(const n of t)e=e.add(n);return e}const z3=new Qe(ce);function q3(){return z3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wu(e)?"-0":e}}function _2(t){return{integerValue:""+t}}function H3(t,e){return v3(e)?_2(e):Qg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(){this._=void 0}}function W3(t,e,n){return t instanceof Xu?function(s,i){const o={fields:{[n2]:{stringValue:t2},[s2]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Hg(i)&&(i=Fd(i)),i&&(o.fields[r2]=i),{mapValue:o}}(n,e):t instanceof sl?E2(t,e):t instanceof il?T2(t,e):function(s,i){const o=b2(s,i),l=vw(o)+vw(s.Ae);return Bf(o)&&Bf(s.Ae)?_2(l):Qg(s.serializer,l)}(t,e)}function K3(t,e,n){return t instanceof sl?E2(t,e):t instanceof il?T2(t,e):n}function b2(t,e){return t instanceof Ju?function(r){return Bf(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Xu extends zd{}class sl extends zd{constructor(e){super(),this.elements=e}}function E2(t,e){const n=N2(e);for(const r of t.elements)n.some(s=>Un(s,r))||n.push(r);return{arrayValue:{values:n}}}class il extends zd{constructor(e){super(),this.elements=e}}function T2(t,e){let n=N2(e);for(const r of t.elements)n=n.filter(s=>!Un(s,r));return{arrayValue:{values:n}}}class Ju extends zd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function vw(t){return Fe(t.integerValue||t.doubleValue)}function N2(t){return Wg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function G3(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof sl&&s instanceof sl||r instanceof il&&s instanceof il?to(r.elements,s.elements,Un):r instanceof Ju&&s instanceof Ju?Un(r.Ae,s.Ae):r instanceof Xu&&s instanceof Xu}(t.transform,e.transform)}class Q3{constructor(e,n){this.version=e,this.transformResults=n}}class rn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new rn}static exists(e){return new rn(void 0,e)}static updateTime(e){return new rn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function su(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class qd{}function I2(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Yg(t.key,rn.none()):new Pl(t.key,t.data,rn.none());{const n=t.data,r=Rt.empty();let s=new Qe(it.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new gs(t.key,r,new qt(s.toArray()),rn.none())}}function Y3(t,e,n){t instanceof Pl?function(s,i,o){const l=s.value.clone(),c=_w(s.fieldTransforms,i,o.transformResults);l.setAll(c),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof gs?function(s,i,o){if(!su(s.precondition,i))return void i.convertToUnknownDocument(o.version);const l=_w(s.fieldTransforms,i,o.transformResults),c=i.data;c.setAll(S2(s)),c.setAll(l),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ia(t,e,n,r){return t instanceof Pl?function(i,o,l,c){if(!su(i.precondition,o))return l;const d=i.value.clone(),h=bw(i.fieldTransforms,c,o);return d.setAll(h),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof gs?function(i,o,l,c){if(!su(i.precondition,o))return l;const d=bw(i.fieldTransforms,c,o),h=o.data;return h.setAll(S2(i)),h.setAll(d),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(m=>m.field))}(t,e,n,r):function(i,o,l){return su(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function X3(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=b2(r.transform,s||null);i!=null&&(n===null&&(n=Rt.empty()),n.set(r.field,i))}return n||null}function ww(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&to(r,s,(i,o)=>G3(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Pl extends qd{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class gs extends qd{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function S2(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function _w(t,e,n){const r=new Map;pe(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,l=e.data.field(i.field);r.set(i.field,K3(o,l,n[s]))}return r}function bw(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,W3(i,o,e))}return r}class Yg extends qd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class J3 extends qd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z3{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&Y3(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ia(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ia(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=w2();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let l=this.applyToLocalView(o,i.mutatedFields);l=n.has(s.key)?null:l;const c=I2(o,l);c!==null&&r.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(ne.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ue())}isEqual(e){return this.batchId===e.batchId&&to(this.mutations,e.mutations,(n,r)=>ww(n,r))&&to(this.baseMutations,e.baseMutations,(n,r)=>ww(n,r))}}class Xg{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){pe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return B3}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Xg(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tV{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $e,de;function nV(t){switch(t){case U.OK:return Z(64938);case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0;default:return Z(15467,{code:t})}}function C2(t){if(t===void 0)return yr("GRPC error has no .code"),U.UNKNOWN;switch(t){case $e.OK:return U.OK;case $e.CANCELLED:return U.CANCELLED;case $e.UNKNOWN:return U.UNKNOWN;case $e.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case $e.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case $e.INTERNAL:return U.INTERNAL;case $e.UNAVAILABLE:return U.UNAVAILABLE;case $e.UNAUTHENTICATED:return U.UNAUTHENTICATED;case $e.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case $e.NOT_FOUND:return U.NOT_FOUND;case $e.ALREADY_EXISTS:return U.ALREADY_EXISTS;case $e.PERMISSION_DENIED:return U.PERMISSION_DENIED;case $e.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case $e.ABORTED:return U.ABORTED;case $e.OUT_OF_RANGE:return U.OUT_OF_RANGE;case $e.UNIMPLEMENTED:return U.UNIMPLEMENTED;case $e.DATA_LOSS:return U.DATA_LOSS;default:return Z(39323,{code:t})}}(de=$e||($e={}))[de.OK=0]="OK",de[de.CANCELLED=1]="CANCELLED",de[de.UNKNOWN=2]="UNKNOWN",de[de.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",de[de.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",de[de.NOT_FOUND=5]="NOT_FOUND",de[de.ALREADY_EXISTS=6]="ALREADY_EXISTS",de[de.PERMISSION_DENIED=7]="PERMISSION_DENIED",de[de.UNAUTHENTICATED=16]="UNAUTHENTICATED",de[de.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",de[de.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",de[de.ABORTED=10]="ABORTED",de[de.OUT_OF_RANGE=11]="OUT_OF_RANGE",de[de.UNIMPLEMENTED=12]="UNIMPLEMENTED",de[de.INTERNAL=13]="INTERNAL",de[de.UNAVAILABLE=14]="UNAVAILABLE",de[de.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sV=new Xr([4294967295,4294967295],0);function Ew(t){const e=rV().encode(t),n=new $T;return n.update(e),new Uint8Array(n.digest())}function Tw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Xr([n,r],0),new Xr([s,i],0)]}class Jg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new la(`Invalid padding: ${n}`);if(r<0)throw new la(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new la(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new la(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Xr.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Xr.fromNumber(r)));return s.compare(sV)===1&&(s=new Xr([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Ew(e),[r,s]=Tw(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Jg(i,s,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.ge===0)return;const n=Ew(e),[r,s]=Tw(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class la extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,kl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Hd(ne.min(),s,new je(ce),xr(),ue())}}class kl{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new kl(r,n,ue(),ue(),ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class A2{constructor(e,n){this.targetId=e,this.Ce=n}}class P2{constructor(e,n,r=lt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Nw{constructor(){this.ve=0,this.Fe=Iw(),this.Me=lt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ue(),n=ue(),r=ue();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Z(38017,{changeType:i})}}),new kl(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=Iw()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,pe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class iV{constructor(e){this.Ge=e,this.ze=new Map,this.je=xr(),this.Je=Ic(),this.He=Ic(),this.Ye=new je(ce)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Z(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(zf(i))if(r===0){const o=new Y(i.path);this.et(n,o,xt.newNoDocument(o,ne.min()))}else pe(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const l=this.ut(e),c=l?this.ct(l,e,o):1;if(c!==0){this.it(n);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,l;try{o=ss(r).toUint8Array()}catch(c){if(c instanceof e2)return eo("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new Jg(o,s,i)}catch(c){return eo(c instanceof la?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.ge===0?null:l}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),l=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const l=this.ot(o);if(l){if(i.current&&zf(l.target)){const c=new Y(l.target.path);this.It(c).has(o)||this.Et(o,c)||this.et(o,c,xt.newNoDocument(c,e))}i.Be&&(n.set(o,i.ke()),i.qe())}});let r=ue();this.He.forEach((i,o)=>{let l=!0;o.forEachWhile(c=>{const d=this.ot(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new Hd(e,n,this.Ye,this.je,r);return this.je=xr(),this.Je=Ic(),this.He=Ic(),this.Ye=new je(ce),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Nw,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Qe(ce),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Qe(ce),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||G("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Nw),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Ic(){return new je(Y.comparator)}function Iw(){return new je(Y.comparator)}const oV={asc:"ASCENDING",desc:"DESCENDING"},aV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lV={and:"AND",or:"OR"};class cV{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Wf(t,e){return t.useProto3Json||Ld(e)?e:{value:e}}function Zu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function k2(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function uV(t,e){return Zu(t,e.toTimestamp())}function Dn(t){return pe(!!t,49232),ne.fromTimestamp(function(n){const r=rs(n);return new Te(r.seconds,r.nanos)}(t))}function Zg(t,e){return Kf(t,e).canonicalString()}function Kf(t,e){const n=function(s){return new we(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function R2(t){const e=we.fromString(t);return pe(O2(e),10190,{key:e.toString()}),e}function Gf(t,e){return Zg(t.databaseId,e.path)}function dm(t,e){const n=R2(e);if(n.get(1)!==t.databaseId.projectId)throw new K(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new K(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Y(D2(n))}function j2(t,e){return Zg(t.databaseId,e)}function dV(t){const e=R2(t);return e.length===4?we.emptyPath():D2(e)}function Qf(t){return new we(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function D2(t){return pe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Sw(t,e,n){return{name:Gf(t,e),fields:n.value.mapValue.fields}}function hV(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Z(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(d,h){return d.useProto3Json?(pe(h===void 0||typeof h=="string",58123),lt.fromBase64String(h||"")):(pe(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),lt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(d){const h=d.code===void 0?U.UNKNOWN:C2(d.code);return new K(h,d.message||"")}(o);n=new P2(r,s,i,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=dm(t,r.document.name),i=Dn(r.document.updateTime),o=r.document.createTime?Dn(r.document.createTime):ne.min(),l=new Rt({mapValue:{fields:r.document.fields}}),c=xt.newFoundDocument(s,i,o,l),d=r.targetIds||[],h=r.removedTargetIds||[];n=new iu(d,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=dm(t,r.document),i=r.readTime?Dn(r.readTime):ne.min(),o=xt.newNoDocument(s,i),l=r.removedTargetIds||[];n=new iu([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=dm(t,r.document),i=r.removedTargetIds||[];n=new iu([],i,s,null)}else{if(!("filter"in e))return Z(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new tV(s,i),l=r.targetId;n=new A2(l,o)}}return n}function mV(t,e){let n;if(e instanceof Pl)n={update:Sw(t,e.key,e.value)};else if(e instanceof Yg)n={delete:Gf(t,e.key)};else if(e instanceof gs)n={update:Sw(t,e.key,e.data),updateMask:bV(e.fieldMask)};else{if(!(e instanceof J3))return Z(16599,{Vt:e.type});n={verify:Gf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const l=o.transform;if(l instanceof Xu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof sl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof il)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Ju)return{fieldPath:o.field.canonicalString(),increment:l.Ae};throw Z(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:uV(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Z(27497)}(t,e.precondition)),n}function fV(t,e){return t&&t.length>0?(pe(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?Dn(s.updateTime):Dn(i);return o.isEqual(ne.min())&&(o=Dn(i)),new Q3(o,s.transformResults||[])}(n,e))):[]}function pV(t,e){return{documents:[j2(t,e.path)]}}function gV(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=j2(t,s);const i=function(d){if(d.length!==0)return M2(bn.create(d,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(d){if(d.length!==0)return d.map(h=>function(f){return{field:pi(f.field),direction:vV(f.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=Wf(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{ft:n,parent:s}}function yV(t){let e=dV(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){pe(r===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(m){const f=V2(m);return f instanceof bn&&d2(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(m){return m.map(f=>function(v){return new Yu(gi(v.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(f))}(n.orderBy));let l=null;n.limit&&(l=function(m){let f;return f=typeof m=="object"?m.value:m,Ld(f)?null:f}(n.limit));let c=null;n.startAt&&(c=function(m){const f=!!m.before,g=m.values||[];return new Qu(g,f)}(n.startAt));let d=null;return n.endAt&&(d=function(m){const f=!m.before,g=m.values||[];return new Qu(g,f)}(n.endAt)),M3(e,s,o,i,l,"F",c,d)}function xV(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Z(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function V2(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=gi(n.unaryFilter.field);return He.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=gi(n.unaryFilter.field);return He.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=gi(n.unaryFilter.field);return He.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=gi(n.unaryFilter.field);return He.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Z(61313);default:return Z(60726)}}(t):t.fieldFilter!==void 0?function(n){return He.create(gi(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Z(58110);default:return Z(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return bn.create(n.compositeFilter.filters.map(r=>V2(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Z(1026)}}(n.compositeFilter.op))}(t):Z(30097,{filter:t})}function vV(t){return oV[t]}function wV(t){return aV[t]}function _V(t){return lV[t]}function pi(t){return{fieldPath:t.canonicalString()}}function gi(t){return it.fromServerFormat(t.fieldPath)}function M2(t){return t instanceof He?function(n){if(n.op==="=="){if(fw(n.value))return{unaryFilter:{field:pi(n.field),op:"IS_NAN"}};if(mw(n.value))return{unaryFilter:{field:pi(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(fw(n.value))return{unaryFilter:{field:pi(n.field),op:"IS_NOT_NAN"}};if(mw(n.value))return{unaryFilter:{field:pi(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pi(n.field),op:wV(n.op),value:n.value}}}(t):t instanceof bn?function(n){const r=n.getFilters().map(s=>M2(s));return r.length===1?r[0]:{compositeFilter:{op:_V(n.op),filters:r}}}(t):Z(54877,{filter:t})}function bV(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function O2(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e,n,r,s,i=ne.min(),o=ne.min(),l=lt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new Ur(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EV{constructor(e){this.yt=e}}function TV(t){const e=yV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Hf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NV{constructor(){this.Cn=new IV}addToCollectionParentIndex(e,n){return this.Cn.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(ns.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(ns.min())}updateCollectionGroup(e,n,r){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class IV{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Qe(we.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Qe(we.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},L2=41943040;class Pt{static withCacheSize(e){return new Pt(e,Pt.DEFAULT_COLLECTION_PERCENTILE,Pt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pt.DEFAULT_COLLECTION_PERCENTILE=10,Pt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pt.DEFAULT=new Pt(L2,Pt.DEFAULT_COLLECTION_PERCENTILE,Pt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pt.DISABLED=new Pt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new so(0)}static cr(){return new so(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw="LruGarbageCollector",SV=1048576;function Pw([t,e],[n,r]){const s=ce(t,n);return s===0?ce(e,r):s}class CV{constructor(e){this.Ir=e,this.buffer=new Qe(Pw),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Pw(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class AV{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){G(Aw,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){To(n)?G(Aw,"Ignoring IndexedDB error during garbage collection: ",n):await Eo(n)}await this.Vr(3e5)})}}class PV{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return B.resolve(Od.ce);const r=new CV(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(G("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(Cw)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(G("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Cw):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,l,c,d;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(G("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),s=this.params.maximumSequenceNumbersToCollect):s=m,o=Date.now(),this.nthSequenceNumber(e,s))).next(m=>(r=m,l=Date.now(),this.removeTargets(e,r,n))).next(m=>(i=m,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(m=>(d=Date.now(),mi()<=le.DEBUG&&G("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${s} in `+(l-o)+`ms
	Removed ${i} targets in `+(c-l)+`ms
	Removed ${m} documents in `+(d-c)+`ms
Total Duration: ${d-h}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:m})))}}function kV(t,e){return new PV(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RV{constructor(){this.changes=new ri(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,xt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?B.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Ia(r.mutation,s,qt.empty(),Te.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ue()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ue()){const s=Rs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=aa();return i.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Rs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ue()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,s){let i=xr();const o=Na(),l=function(){return Na()}();return n.forEach((c,d)=>{const h=r.get(d.key);s.has(d.key)&&(h===void 0||h.mutation instanceof gs)?i=i.insert(d.key,d):h!==void 0?(o.set(d.key,h.mutation.getFieldMask()),Ia(h.mutation,d,h.mutation.getFieldMask(),Te.now())):o.set(d.key,qt.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((d,h)=>o.set(d,h)),n.forEach((d,h)=>l.set(d,new jV(h,o.get(d)??null))),l))}recalculateAndSaveOverlays(e,n){const r=Na();let s=new je((o,l)=>o-l),i=ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(c=>{const d=n.get(c);if(d===null)return;let h=r.get(c)||qt.empty();h=l.applyToLocalView(d,h),r.set(c,h);const m=(s.get(l.batchId)||ue()).add(c);s=s.insert(l.batchId,m)})}).next(()=>{const o=[],l=s.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),d=c.key,h=c.value,m=w2();h.forEach(f=>{if(!i.has(f)){const g=I2(n.get(f),r.get(f));g!==null&&m.set(f,g),i=i.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,m))}return B.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return Y.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):p2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):B.resolve(Rs());let l=el,c=i;return o.next(d=>B.forEach(d,(h,m)=>(l<m.largestBatchId&&(l=m.largestBatchId),i.get(h)?B.resolve():this.remoteDocumentCache.getEntry(e,h).next(f=>{c=c.insert(h,f)}))).next(()=>this.populateOverlays(e,d,i)).next(()=>this.computeViews(e,c,d,ue())).next(h=>({batchId:l,changes:v2(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Y(n)).next(r=>{let s=aa();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=aa();return this.indexManager.getCollectionParents(e,i).next(l=>B.forEach(l,c=>{const d=function(m,f){return new Al(f,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next(h=>{h.forEach((m,f)=>{o=o.insert(m,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((c,d)=>{const h=d.getKey();o.get(h)===null&&(o=o.insert(h,xt.newInvalidDocument(h)))});let l=aa();return o.forEach((c,d)=>{const h=i.get(c);h!==void 0&&Ia(h.mutation,d,qt.empty(),Te.now()),$d(n,d)&&(l=l.insert(c,d))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VV{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return B.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Dn(s.createTime)}}(n)),B.resolve()}getNamedQuery(e,n){return B.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:TV(s.bundledQuery),readTime:Dn(s.readTime)}}(n)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MV{constructor(){this.overlays=new je(Y.comparator),this.qr=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Rs();return B.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),B.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),B.resolve()}getOverlaysForCollection(e,n,r){const s=Rs(),i=n.length+1,o=new Y(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,d=c.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return B.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new je((d,h)=>d-h);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let h=i.get(d.largestBatchId);h===null&&(h=Rs(),i=i.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const l=Rs(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,h)=>l.set(d,h)),!(l.size()>=s)););return B.resolve(l)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new eV(n,r));let i=this.qr.get(n);i===void 0&&(i=ue(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV{constructor(){this.sessionToken=lt.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,B.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(){this.Qr=new Qe(Xe.$r),this.Ur=new Qe(Xe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Xe(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new Xe(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new Y(new we([])),r=new Xe(n,e),s=new Xe(n,e+1),i=[];return this.Ur.forEachInRange([r,s],o=>{this.Gr(o),i.push(o.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Y(new we([])),r=new Xe(n,e),s=new Xe(n,e+1);let i=ue();return this.Ur.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Xe(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Xe{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Y.comparator(e.key,n.key)||ce(e.Yr,n.Yr)}static Kr(e,n){return ce(e.Yr,n.Yr)||Y.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Qe(Xe.$r)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Z3(i,n,r,s);this.mutationQueue.push(o);for(const l of s)this.Zr=this.Zr.add(new Xe(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return B.resolve(o)}lookupMutationBatch(e,n){return B.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return B.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?qg:this.tr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Xe(n,0),s=new Xe(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],o=>{const l=this.Xr(o.Yr);i.push(l)}),B.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Qe(ce);return n.forEach(s=>{const i=new Xe(s,0),o=new Xe(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],l=>{r=r.add(l.Yr)})}),B.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;Y.isDocumentKey(i)||(i=i.child(""));const o=new Xe(new Y(i),0);let l=new Qe(ce);return this.Zr.forEachWhile(c=>{const d=c.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(l=l.add(c.Yr)),!0)},o),B.resolve(this.ti(l))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){pe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return B.forEach(n.mutations,s=>{const i=new Xe(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new Xe(n,0),s=this.Zr.firstAfterOrEqual(r);return B.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FV{constructor(e){this.ri=e,this.docs=function(){return new je(Y.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return B.resolve(r?r.document.mutableCopy():xt.newInvalidDocument(n))}getEntries(e,n){let r=xr();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():xt.newInvalidDocument(s))}),B.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=xr();const o=n.path,l=new Y(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:d,value:{document:h}}=c.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||p3(f3(h),r)<=0||(s.has(h.key)||$d(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return B.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Z(9500)}ii(e,n){return B.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new UV(this)}getSize(e){return B.resolve(this.size)}}class UV extends RV{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),B.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV{constructor(e){this.persistence=e,this.si=new ri(n=>Kg(n),Gg),this.lastRemoteSnapshotVersion=ne.min(),this.highestTargetId=0,this.oi=0,this._i=new ey,this.targetCount=0,this.ai=so.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),B.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new so(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.Pr(n),B.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),B.waitFor(i).next(()=>s)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return B.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),B.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),B.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),B.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return B.resolve(r)}containsKey(e,n){return B.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(e,n){this.ui={},this.overlays={},this.ci=new Od(0),this.li=!1,this.li=!0,this.hi=new OV,this.referenceDelegate=e(this),this.Pi=new BV(this),this.indexManager=new NV,this.remoteDocumentCache=function(s){return new FV(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new EV(n),this.Ii=new VV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new MV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new LV(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){G("MemoryPersistence","Starting transaction:",e);const s=new $V(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,n){return B.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class $V extends y3{constructor(e){super(),this.currentSequenceNumber=e}}class ty{constructor(e){this.persistence=e,this.Ri=new ey,this.Vi=null}static mi(e){return new ty(e)}get fi(){if(this.Vi)return this.Vi;throw Z(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),B.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),B.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.fi,r=>{const s=Y.fromPath(r);return this.gi(e,s).next(i=>{i||n.removeEntry(s,ne.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return B.or([()=>B.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class ed{constructor(e,n){this.persistence=e,this.pi=new ri(r=>w3(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=kV(this,n)}static mi(e,n){return new ed(e,n)}Ei(){}di(e){return B.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return B.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?B.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,o=>this.br(e,o,n).next(l=>{l||(r++,i.removeEntry(o,ne.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),B.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),B.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),B.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),B.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=nu(e.data.value)),n}br(e,n,r){return B.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return B.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=ue(),s=ue();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new ny(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qV{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return LR()?8:x3(_t())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ws(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new zV;return this.Ss(e,n,o).next(l=>{if(i.result=l,this.Vs)return this.bs(e,n,o,l.size)})}).next(()=>i.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(mi()<=le.DEBUG&&G("QueryEngine","SDK will not create cache indexes for query:",fi(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),B.resolve()):(mi()<=le.DEBUG&&G("QueryEngine","Query:",fi(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(mi()<=le.DEBUG&&G("QueryEngine","The SDK decides to create cache indexes for query:",fi(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,jn(n))):B.resolve())}ys(e,n){if(xw(n))return B.resolve(null);let r=jn(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Hf(n,null,"F"),r=jn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=ue(...i);return this.ps.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const d=this.Ds(n,l);return this.Cs(n,d,o,c.readTime)?this.ys(e,Hf(n,null,"F")):this.vs(e,d,n,c)}))})))}ws(e,n,r,s){return xw(n)||s.isEqual(ne.min())?B.resolve(null):this.ps.getDocuments(e,r).next(i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?B.resolve(null):(mi()<=le.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),fi(n)),this.vs(e,o,n,m3(s,el)).next(l=>l))})}Ds(e,n){let r=new Qe(y2(e));return n.forEach((s,i)=>{$d(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return mi()<=le.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",fi(n)),this.ps.getDocumentsMatchingQuery(e,n,ns.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ry="LocalStore",HV=3e8;class WV{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new je(ce),this.xs=new ri(i=>Kg(i),Gg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new DV(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function KV(t,e,n,r){return new WV(t,e,n,r)}async function U2(t,e){const n=se(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],l=[];let c=ue();for(const d of s){o.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}for(const d of i){l.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next(d=>({Ls:d,removedBatchIds:o,addedBatchIds:l}))})})}function GV(t,e){const n=se(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(l,c,d,h){const m=d.batch,f=m.keys();let g=B.resolve();return f.forEach(v=>{g=g.next(()=>h.getEntry(c,v)).next(C=>{const A=d.docVersions.get(v);pe(A!==null,48541),C.version.compareTo(A)<0&&(m.applyToRemoteDocument(C,d),C.isValidDocument()&&(C.setReadTime(d.commitVersion),h.addEntry(C)))})}),g.next(()=>l.mutationQueue.removeMutationBatch(c,m))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=ue();for(let d=0;d<l.mutationResults.length;++d)l.mutationResults[d].transformResults.length>0&&(c=c.add(l.batch.mutations[d].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function B2(t){const e=se(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function QV(t,e){const n=se(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const l=[];e.targetChanges.forEach((h,m)=>{const f=s.get(m);if(!f)return;l.push(n.Pi.removeMatchingKeys(i,h.removedDocuments,m).next(()=>n.Pi.addMatchingKeys(i,h.addedDocuments,m)));let g=f.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(m)!==null?g=g.withResumeToken(lt.EMPTY_BYTE_STRING,ne.min()).withLastLimboFreeSnapshotVersion(ne.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,r)),s=s.insert(m,g),function(C,A,T){return C.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=HV?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(f,g,h)&&l.push(n.Pi.updateTargetData(i,g))});let c=xr(),d=ue();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),l.push(YV(i,o,e.documentUpdates).next(h=>{c=h.ks,d=h.qs})),!r.isEqual(ne.min())){const h=n.Pi.getLastRemoteSnapshotVersion(i).next(m=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));l.push(h)}return B.waitFor(l).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,d)).next(()=>c)}).then(i=>(n.Ms=s,i))}function YV(t,e,n){let r=ue(),s=ue();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=xr();return n.forEach((l,c)=>{const d=i.get(l);c.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(l)),c.isNoDocument()&&c.version.isEqual(ne.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):G(ry,"Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",c.version)}),{ks:o,qs:s}})}function XV(t,e){const n=se(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=qg),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function JV(t,e){const n=se(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(i=>i?(s=i,B.resolve(s)):n.Pi.allocateTargetId(r).next(o=>(s=new Ur(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function Yf(t,e,n){const r=se(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!To(o))throw o;G(ry,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function kw(t,e,n){const r=se(t);let s=ne.min(),i=ue();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,d,h){const m=se(c),f=m.xs.get(h);return f!==void 0?B.resolve(m.Ms.get(f)):m.Pi.getTargetData(d,h)}(r,o,jn(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,l.targetId).next(c=>{i=c})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:ne.min(),n?i:ue())).next(l=>(ZV(r,L3(e),l),{documents:l,Qs:i})))}function ZV(t,e,n){let r=t.Os.get(e)||ne.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}class Rw{constructor(){this.activeTargetIds=q3()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class eM{constructor(){this.Mo=new Rw,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Rw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw="ConnectivityMonitor";class Dw{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){G(jw,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){G(jw,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sc=null;function Xf(){return Sc===null?Sc=function(){return 268435456+Math.round(2147483648*Math.random())}():Sc++,"0x"+Sc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hm="RestConnection",nM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class rM{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===Ku?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=Xf(),l=this.zo(e,n.toUriEncodedString());G(hm,`Sending RPC '${e}' ${o}:`,l,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,s,i);const{host:d}=new URL(l),h=ti(d);return this.Jo(e,l,c,r,h).then(m=>(G(hm,`Received RPC '${e}' ${o}: `,m),m),m=>{throw eo(hm,`RPC '${e}' ${o} failed with error: `,m,"url: ",l,"request:",r),m})}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+bo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,n){const r=nM[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ft="WebChannelConnection";class iM extends rM{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=Xf();return new Promise((l,c)=>{const d=new zT;d.setWithCredentials(!0),d.listenOnce(qT.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case tu.NO_ERROR:const m=d.getResponseJson();G(ft,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(m)),l(m);break;case tu.TIMEOUT:G(ft,`RPC '${e}' ${o} timed out`),c(new K(U.DEADLINE_EXCEEDED,"Request time out"));break;case tu.HTTP_ERROR:const f=d.getStatus();if(G(ft,`RPC '${e}' ${o} failed with status:`,f,"response text:",d.getResponseText()),f>0){let g=d.getResponseJson();Array.isArray(g)&&(g=g[0]);const v=g==null?void 0:g.error;if(v&&v.status&&v.message){const C=function(T){const b=T.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(b)>=0?b:U.UNKNOWN}(v.status);c(new K(C,v.message))}else c(new K(U.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new K(U.UNAVAILABLE,"Connection failed."));break;default:Z(9055,{l_:e,streamId:o,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{G(ft,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(s);G(ft,`RPC '${e}' ${o} sending request:`,s),d.send(n,"POST",h,r,15)})}T_(e,n,r){const s=Xf(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=KT(),l=WT(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const h=i.join("");G(ft,`Creating RPC '${e}' stream ${s}: ${h}`,c);const m=o.createWebChannel(h,c);this.I_(m);let f=!1,g=!1;const v=new sM({Yo:A=>{g?G(ft,`Not sending because RPC '${e}' stream ${s} is closed:`,A):(f||(G(ft,`Opening RPC '${e}' stream ${s} transport.`),m.open(),f=!0),G(ft,`RPC '${e}' stream ${s} sending:`,A),m.send(A))},Zo:()=>m.close()}),C=(A,T,b)=>{A.listen(T,N=>{try{b(N)}catch(R){setTimeout(()=>{throw R},0)}})};return C(m,oa.EventType.OPEN,()=>{g||(G(ft,`RPC '${e}' stream ${s} transport opened.`),v.o_())}),C(m,oa.EventType.CLOSE,()=>{g||(g=!0,G(ft,`RPC '${e}' stream ${s} transport closed`),v.a_(),this.E_(m))}),C(m,oa.EventType.ERROR,A=>{g||(g=!0,eo(ft,`RPC '${e}' stream ${s} transport errored. Name:`,A.name,"Message:",A.message),v.a_(new K(U.UNAVAILABLE,"The operation could not be completed")))}),C(m,oa.EventType.MESSAGE,A=>{var T;if(!g){const b=A.data[0];pe(!!b,16349);const N=b,R=(N==null?void 0:N.error)||((T=N[0])==null?void 0:T.error);if(R){G(ft,`RPC '${e}' stream ${s} received error:`,R);const j=R.status;let O=function(E){const _=$e[E];if(_!==void 0)return C2(_)}(j),w=R.message;O===void 0&&(O=U.INTERNAL,w="Unknown error status: "+j+" with message "+R.message),g=!0,v.a_(new K(O,w)),m.close()}else G(ft,`RPC '${e}' stream ${s} received:`,b),v.u_(b)}}),C(l,HT.STAT_EVENT,A=>{A.stat===Lf.PROXY?G(ft,`RPC '${e}' stream ${s} detected buffering proxy`):A.stat===Lf.NOPROXY&&G(ft,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{v.__()},0),v}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function mm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wd(t){return new cV(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&G("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw="PersistentStream";class z2{constructor(e,n,r,s,i,o,l,c){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new $2(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(yr(n.toString()),yr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new K(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return G(Vw,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(G(Vw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class oM extends z2{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=hV(this.serializer,e),r=function(i){if(!("targetChange"in i))return ne.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ne.min():o.readTime?Dn(o.readTime):ne.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Qf(this.serializer),n.addTarget=function(i,o){let l;const c=o.target;if(l=zf(c)?{documents:pV(i,c)}:{query:gV(i,c).ft},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=k2(i,o.resumeToken);const d=Wf(i,o.expectedCount);d!==null&&(l.expectedCount=d)}else if(o.snapshotVersion.compareTo(ne.min())>0){l.readTime=Zu(i,o.snapshotVersion.toTimestamp());const d=Wf(i,o.expectedCount);d!==null&&(l.expectedCount=d)}return l}(this.serializer,e);const r=xV(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Qf(this.serializer),n.removeTarget=e,this.q_(n)}}class aM extends z2{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return pe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,pe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){pe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=fV(e.writeResults,e.commitTime),r=Dn(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Qf(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>mV(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{}class cM extends lM{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new K(U.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Go(e,Kf(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new K(U.UNKNOWN,i.toString())})}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Ho(e,Kf(n,r),s,o,l,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new K(U.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class uM{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(yr(n),this.aa=!1):G("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs="RemoteStore";class dM{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{si(this)&&(G(Xs,"Restarting streams for network reachability change."),await async function(c){const d=se(c);d.Ea.add(4),await Rl(d),d.Ra.set("Unknown"),d.Ea.delete(4),await Kd(d)}(this))})}),this.Ra=new uM(r,s)}}async function Kd(t){if(si(t))for(const e of t.da)await e(!0)}async function Rl(t){for(const e of t.da)await e(!1)}function q2(t,e){const n=se(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),ay(n)?oy(n):No(n).O_()&&iy(n,e))}function sy(t,e){const n=se(t),r=No(n);n.Ia.delete(e),r.O_()&&H2(n,e),n.Ia.size===0&&(r.O_()?r.L_():si(n)&&n.Ra.set("Unknown"))}function iy(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ne.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}No(t).Y_(e)}function H2(t,e){t.Va.Ue(e),No(t).Z_(e)}function oy(t){t.Va=new iV({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),No(t).start(),t.Ra.ua()}function ay(t){return si(t)&&!No(t).x_()&&t.Ia.size>0}function si(t){return se(t).Ea.size===0}function W2(t){t.Va=void 0}async function hM(t){t.Ra.set("Online")}async function mM(t){t.Ia.forEach((e,n)=>{iy(t,e)})}async function fM(t,e){W2(t),ay(t)?(t.Ra.ha(e),oy(t)):t.Ra.set("Unknown")}async function pM(t,e,n){if(t.Ra.set("Online"),e instanceof P2&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const l of i.targetIds)s.Ia.has(l)&&(await s.remoteSyncer.rejectListen(l,o),s.Ia.delete(l),s.Va.removeTarget(l))}(t,e)}catch(r){G(Xs,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await td(t,r)}else if(e instanceof iu?t.Va.Ze(e):e instanceof A2?t.Va.st(e):t.Va.tt(e),!n.isEqual(ne.min()))try{const r=await B2(t.localStore);n.compareTo(r)>=0&&await function(i,o){const l=i.Va.Tt(o);return l.targetChanges.forEach((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const h=i.Ia.get(d);h&&i.Ia.set(d,h.withResumeToken(c.resumeToken,o))}}),l.targetMismatches.forEach((c,d)=>{const h=i.Ia.get(c);if(!h)return;i.Ia.set(c,h.withResumeToken(lt.EMPTY_BYTE_STRING,h.snapshotVersion)),H2(i,c);const m=new Ur(h.target,c,d,h.sequenceNumber);iy(i,m)}),i.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){G(Xs,"Failed to raise snapshot:",r),await td(t,r)}}async function td(t,e,n){if(!To(e))throw e;t.Ea.add(1),await Rl(t),t.Ra.set("Offline"),n||(n=()=>B2(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{G(Xs,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Kd(t)})}function K2(t,e){return e().catch(n=>td(t,n,e))}async function Gd(t){const e=se(t),n=os(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:qg;for(;gM(e);)try{const s=await XV(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,yM(e,s)}catch(s){await td(e,s)}G2(e)&&Q2(e)}function gM(t){return si(t)&&t.Ta.length<10}function yM(t,e){t.Ta.push(e);const n=os(t);n.O_()&&n.X_&&n.ea(e.mutations)}function G2(t){return si(t)&&!os(t).x_()&&t.Ta.length>0}function Q2(t){os(t).start()}async function xM(t){os(t).ra()}async function vM(t){const e=os(t);for(const n of t.Ta)e.ea(n.mutations)}async function wM(t,e,n){const r=t.Ta.shift(),s=Xg.from(r,e,n);await K2(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Gd(t)}async function _M(t,e){e&&os(t).X_&&await async function(r,s){if(function(o){return nV(o)&&o!==U.ABORTED}(s.code)){const i=r.Ta.shift();os(r).B_(),await K2(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Gd(r)}}(t,e),G2(t)&&Q2(t)}async function Mw(t,e){const n=se(t);n.asyncQueue.verifyOperationInProgress(),G(Xs,"RemoteStore received new credentials");const r=si(n);n.Ea.add(3),await Rl(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Kd(n)}async function bM(t,e){const n=se(t);e?(n.Ea.delete(2),await Kd(n)):e||(n.Ea.add(2),await Rl(n),n.Ra.set("Unknown"))}function No(t){return t.ma||(t.ma=function(n,r,s){const i=se(n);return i.sa(),new oM(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:hM.bind(null,t),t_:mM.bind(null,t),r_:fM.bind(null,t),H_:pM.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),ay(t)?oy(t):t.Ra.set("Unknown")):(await t.ma.stop(),W2(t))})),t.ma}function os(t){return t.fa||(t.fa=function(n,r,s){const i=se(n);return i.sa(),new aM(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:xM.bind(null,t),r_:_M.bind(null,t),ta:vM.bind(null,t),na:wM.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Gd(t)):(await t.fa.stop(),t.Ta.length>0&&(G(Xs,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new ir,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,l=new ly(e,n,o,s,i);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new K(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cy(t,e){if(yr("AsyncQueue",`${e}: ${t}`),To(t))return new K(U.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{static emptySet(e){return new Hi(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Y.comparator(n.key,r.key):(n,r)=>Y.comparator(n.key,r.key),this.keyedMap=aa(),this.sortedSet=new je(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Hi)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Hi;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(){this.ga=new je(Y.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Z(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class io{constructor(e,n,r,s,i,o,l,c,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new io(e,n,Hi.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class TM{constructor(){this.queries=Lw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=se(n),i=s.queries;s.queries=Lw(),i.forEach((o,l)=>{for(const c of l.Sa)c.onError(r)})})(this,new K(U.ABORTED,"Firestore shutting down"))}}function Lw(){return new ri(t=>g2(t),Bd)}async function uy(t,e){const n=se(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new EM,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const l=cy(o,`Initialization of query '${fi(e.query)}' failed`);return void e.onError(l)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&hy(n)}async function dy(t,e){const n=se(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function NM(t,e){const n=se(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const l of o.Sa)l.Fa(s)&&(r=!0);o.wa=s}}r&&hy(n)}function IM(t,e,n){const r=se(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function hy(t){t.Ca.forEach(e=>{e.next()})}var Jf,Fw;(Fw=Jf||(Jf={})).Ma="default",Fw.Cache="cache";class my{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new io(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=io.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Jf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(e){this.key=e}}class X2{constructor(e){this.key=e}}class SM{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ue(),this.mutatedKeys=ue(),this.eu=y2(e),this.tu=new Hi(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new Ow,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,l=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,m)=>{const f=s.get(h),g=$d(this.query,m)?m:null,v=!!f&&this.mutatedKeys.has(f.key),C=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let A=!1;f&&g?f.data.isEqual(g.data)?v!==C&&(r.track({type:3,doc:g}),A=!0):this.su(f,g)||(r.track({type:2,doc:g}),A=!0,(c&&this.eu(g,c)>0||d&&this.eu(g,d)<0)&&(l=!0)):!f&&g?(r.track({type:0,doc:g}),A=!0):f&&!g&&(r.track({type:1,doc:f}),A=!0,(c||d)&&(l=!0)),A&&(g?(o=o.add(g),i=C?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Cs:l,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((h,m)=>function(g,v){const C=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Z(20277,{Rt:A})}};return C(g)-C(v)}(h.type,m.type)||this.eu(h.doc,m.doc)),this.ou(r),s=s??!1;const l=n&&!s?this._u():[],c=this.Xa.size===0&&this.current&&!s?1:0,d=c!==this.Za;return this.Za=c,o.length!==0||d?{snapshot:new io(this.query,e.tu,i,o,e.mutatedKeys,c===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Ow,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ue(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new X2(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new Y2(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=ue();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return io.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const fy="SyncEngine";class CM{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class AM{constructor(e){this.key=e,this.hu=!1}}class PM{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new ri(l=>g2(l),Bd),this.Iu=new Map,this.Eu=new Set,this.du=new je(Y.comparator),this.Au=new Map,this.Ru=new ey,this.Vu={},this.mu=new Map,this.fu=so.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function kM(t,e,n=!0){const r=rN(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await J2(r,e,n,!0),s}async function RM(t,e){const n=rN(t);await J2(n,e,!0,!1)}async function J2(t,e,n,r){const s=await JV(t.localStore,jn(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let l;return r&&(l=await jM(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&q2(t.remoteStore,s),l}async function jM(t,e,n,r,s){t.pu=(m,f,g)=>async function(C,A,T,b){let N=A.view.ru(T);N.Cs&&(N=await kw(C.localStore,A.query,!1).then(({documents:w})=>A.view.ru(w,N)));const R=b&&b.targetChanges.get(A.targetId),j=b&&b.targetMismatches.get(A.targetId)!=null,O=A.view.applyChanges(N,C.isPrimaryClient,R,j);return Bw(C,A.targetId,O.au),O.snapshot}(t,m,f,g);const i=await kw(t.localStore,e,!0),o=new SM(e,i.Qs),l=o.ru(i.documents),c=kl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),d=o.applyChanges(l,t.isPrimaryClient,c);Bw(t,n,d.au);const h=new CM(e,n,o);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function DM(t,e,n){const r=se(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!Bd(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Yf(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&sy(r.remoteStore,s.targetId),Zf(r,s.targetId)}).catch(Eo)):(Zf(r,s.targetId),await Yf(r.localStore,s.targetId,!0))}async function VM(t,e){const n=se(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),sy(n.remoteStore,r.targetId))}async function MM(t,e,n){const r=zM(t);try{const s=await function(o,l){const c=se(o),d=Te.now(),h=l.reduce((g,v)=>g.add(v.key),ue());let m,f;return c.persistence.runTransaction("Locally write mutations","readwrite",g=>{let v=xr(),C=ue();return c.Ns.getEntries(g,h).next(A=>{v=A,v.forEach((T,b)=>{b.isValidDocument()||(C=C.add(T))})}).next(()=>c.localDocuments.getOverlayedDocuments(g,v)).next(A=>{m=A;const T=[];for(const b of l){const N=X3(b,m.get(b.key).overlayedDocument);N!=null&&T.push(new gs(b.key,N,l2(N.value.mapValue),rn.exists(!0)))}return c.mutationQueue.addMutationBatch(g,d,T,l)}).next(A=>{f=A;const T=A.applyToLocalDocumentSet(m,C);return c.documentOverlayCache.saveOverlays(g,A.batchId,T)})}).then(()=>({batchId:f.batchId,changes:v2(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,l,c){let d=o.Vu[o.currentUser.toKey()];d||(d=new je(ce)),d=d.insert(l,c),o.Vu[o.currentUser.toKey()]=d}(r,s.batchId,n),await jl(r,s.changes),await Gd(r.remoteStore)}catch(s){const i=cy(s,"Failed to persist write");n.reject(i)}}async function Z2(t,e){const n=se(t);try{const r=await QV(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(pe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?pe(o.hu,14607):s.removedDocuments.size>0&&(pe(o.hu,42227),o.hu=!1))}),await jl(n,r,e)}catch(r){await Eo(r)}}function Uw(t,e,n){const r=se(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const l=o.view.va(e);l.snapshot&&s.push(l.snapshot)}),function(o,l){const c=se(o);c.onlineState=l;let d=!1;c.queries.forEach((h,m)=>{for(const f of m.Sa)f.va(l)&&(d=!0)}),d&&hy(c)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function OM(t,e,n){const r=se(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new je(Y.comparator);o=o.insert(i,xt.newNoDocument(i,ne.min()));const l=ue().add(i),c=new Hd(ne.min(),new Map,new je(ce),o,l);await Z2(r,c),r.du=r.du.remove(i),r.Au.delete(e),py(r)}else await Yf(r.localStore,e,!1).then(()=>Zf(r,e,n)).catch(Eo)}async function LM(t,e){const n=se(t),r=e.batch.batchId;try{const s=await GV(n.localStore,e);tN(n,r,null),eN(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await jl(n,s)}catch(s){await Eo(s)}}async function FM(t,e,n){const r=se(t);try{const s=await function(o,l){const c=se(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let h;return c.mutationQueue.lookupMutationBatch(d,l).next(m=>(pe(m!==null,37113),h=m.keys(),c.mutationQueue.removeMutationBatch(d,m))).next(()=>c.mutationQueue.performConsistencyCheck(d)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(d,h,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h)).next(()=>c.localDocuments.getDocuments(d,h))})}(r.localStore,e);tN(r,e,n),eN(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await jl(r,s)}catch(s){await Eo(s)}}function eN(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function tN(t,e,n){const r=se(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function Zf(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||nN(t,r)})}function nN(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(sy(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),py(t))}function Bw(t,e,n){for(const r of n)r instanceof Y2?(t.Ru.addReference(r.key,e),UM(t,r)):r instanceof X2?(G(fy,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||nN(t,r.key)):Z(19791,{wu:r})}function UM(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(G(fy,"New document in limbo: "+n),t.Eu.add(r),py(t))}function py(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Y(we.fromString(e)),r=t.fu.next();t.Au.set(r,new AM(n)),t.du=t.du.insert(n,r),q2(t.remoteStore,new Ur(jn(Ud(n.path)),r,"TargetPurposeLimboResolution",Od.ce))}}async function jl(t,e,n){const r=se(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((l,c)=>{o.push(r.pu(c,e,n).then(d=>{var h;if((d||n)&&r.isPrimaryClient){const m=d?!d.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,m?"current":"not-current")}if(d){s.push(d);const m=ny.As(c.targetId,d);i.push(m)}}))}),await Promise.all(o),r.Pu.H_(s),await async function(c,d){const h=se(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>B.forEach(d,f=>B.forEach(f.Es,g=>h.persistence.referenceDelegate.addReference(m,f.targetId,g)).next(()=>B.forEach(f.ds,g=>h.persistence.referenceDelegate.removeReference(m,f.targetId,g)))))}catch(m){if(!To(m))throw m;G(ry,"Failed to update sequence numbers: "+m)}for(const m of d){const f=m.targetId;if(!m.fromCache){const g=h.Ms.get(f),v=g.snapshotVersion,C=g.withLastLimboFreeSnapshotVersion(v);h.Ms=h.Ms.insert(f,C)}}}(r.localStore,i))}async function BM(t,e){const n=se(t);if(!n.currentUser.isEqual(e)){G(fy,"User change. New user:",e.toKey());const r=await U2(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(l=>{l.forEach(c=>{c.reject(new K(U.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await jl(n,r.Ls)}}function $M(t,e){const n=se(t),r=n.Au.get(e);if(r&&r.hu)return ue().add(r.key);{let s=ue();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const l=n.Tu.get(o);s=s.unionWith(l.view.nu)}return s}}function rN(t){const e=se(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Z2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$M.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=OM.bind(null,e),e.Pu.H_=NM.bind(null,e.eventManager),e.Pu.yu=IM.bind(null,e.eventManager),e}function zM(t){const e=se(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=LM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=FM.bind(null,e),e}class nd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Wd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return KV(this.persistence,new qV,e.initialUser,this.serializer)}Cu(e){return new F2(ty.mi,this.serializer)}Du(e){return new eM}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nd.provider={build:()=>new nd};class qM extends nd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){pe(this.persistence.referenceDelegate instanceof ed,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new AV(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Pt.withCacheSize(this.cacheSizeBytes):Pt.DEFAULT;return new F2(r=>ed.mi(r,n),this.serializer)}}class ep{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Uw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=BM.bind(null,this.syncEngine),await bM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new TM}()}createDatastore(e){const n=Wd(e.databaseInfo.databaseId),r=function(i){return new iM(i)}(e.databaseInfo);return function(i,o,l,c){return new cM(i,o,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,l){return new dM(r,s,i,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>Uw(this.syncEngine,n,0),function(){return Dw.v()?new Dw:new tM}())}createSyncEngine(e,n){return function(s,i,o,l,c,d,h){const m=new PM(s,i,o,l,c,d);return h&&(m.gu=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=se(s);G(Xs,"RemoteStore shutting down."),i.Ea.add(5),await Rl(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}ep.provider={build:()=>new ep};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):yr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const as="FirestoreClient";class HM{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=pt.UNAUTHENTICATED,this.clientId=zg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{G(as,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(G(as,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ir;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=cy(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function fm(t,e){t.asyncQueue.verifyOperationInProgress(),G(as,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await U2(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function $w(t,e){t.asyncQueue.verifyOperationInProgress();const n=await WM(t);G(as,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Mw(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>Mw(e.remoteStore,s)),t._onlineComponents=e}async function WM(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){G(as,"Using user provided OfflineComponentProvider");try{await fm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===U.FAILED_PRECONDITION||s.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;eo("Error using user provided cache. Falling back to memory cache: "+n),await fm(t,new nd)}}else G(as,"Using default OfflineComponentProvider"),await fm(t,new qM(void 0));return t._offlineComponents}async function sN(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(G(as,"Using user provided OnlineComponentProvider"),await $w(t,t._uninitializedComponentsProvider._online)):(G(as,"Using default OnlineComponentProvider"),await $w(t,new ep))),t._onlineComponents}function KM(t){return sN(t).then(e=>e.syncEngine)}async function rd(t){const e=await sN(t),n=e.eventManager;return n.onListen=kM.bind(null,e.syncEngine),n.onUnlisten=DM.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=RM.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=VM.bind(null,e.syncEngine),n}function GM(t,e,n={}){const r=new ir;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,l,c,d){const h=new gy({next:f=>{h.Nu(),o.enqueueAndForget(()=>dy(i,m));const g=f.docs.has(l);!g&&f.fromCache?d.reject(new K(U.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&f.fromCache&&c&&c.source==="server"?d.reject(new K(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(f)},error:f=>d.reject(f)}),m=new my(Ud(l.path),h,{includeMetadataChanges:!0,qa:!0});return uy(i,m)}(await rd(t),t.asyncQueue,e,n,r)),r.promise}function QM(t,e,n={}){const r=new ir;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,l,c,d){const h=new gy({next:f=>{h.Nu(),o.enqueueAndForget(()=>dy(i,m)),f.fromCache&&c.source==="server"?d.reject(new K(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(f)},error:f=>d.reject(f)}),m=new my(l,h,{includeMetadataChanges:!0,qa:!0});return uy(i,m)}(await rd(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iN(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN="firestore.googleapis.com",qw=!0;class Hw{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new K(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=oN,this.ssl=qw}else this.host=e.host,this.ssl=e.ssl??qw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=L2;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<SV)throw new K(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}h3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=iN(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new K(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new K(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new K(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Qd{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Hw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new K(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new K(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Hw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new n3;switch(r.type){case"firstParty":return new o3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new K(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=zw.get(n);r&&(G("ComponentProvider","Removing Datastore"),zw.delete(n),r.terminate())}(this),Promise.resolve()}}function YM(t,e,n,r={}){var d;t=Ft(t,Qd);const s=ti(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;s&&(Cg(`https://${l}`),Ag("Firestore",!0)),i.host!==oN&&i.host!==l&&eo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...i,host:l,ssl:s,emulatorOptions:r};if(!Ks(c,o)&&(t._setSettings(c),r.mockUserToken)){let h,m;if(typeof r.mockUserToken=="string")h=r.mockUserToken,m=pt.MOCK_USER;else{h=iT(r.mockUserToken,(d=t._app)==null?void 0:d.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new K(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new pt(f)}t._authCredentials=new r3(new QT(h,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ii(this.firestore,e,this._query)}}class Oe{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Jr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Oe(this.firestore,e,this._key)}toJSON(){return{type:Oe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Cl(n,Oe._jsonSchema))return new Oe(e,r||null,new Y(we.fromString(n.referencePath)))}}Oe._jsonSchemaVersion="firestore/documentReference/1.0",Oe._jsonSchema={type:We("string",Oe._jsonSchemaVersion),referencePath:We("string")};class Jr extends ii{constructor(e,n,r){super(e,n,Ud(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Oe(this.firestore,null,new Y(e))}withConverter(e){return new Jr(this.firestore,e,this._path)}}function Yt(t,e,...n){if(t=Ye(t),YT("collection","path",e),t instanceof Qd){const r=we.fromString(e,...n);return sw(r),new Jr(t,null,r)}{if(!(t instanceof Oe||t instanceof Jr))throw new K(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(we.fromString(e,...n));return sw(r),new Jr(t.firestore,null,r)}}function gt(t,e,...n){if(t=Ye(t),arguments.length===1&&(e=zg.newId()),YT("doc","path",e),t instanceof Qd){const r=we.fromString(e,...n);return rw(r),new Oe(t,null,new Y(r))}{if(!(t instanceof Oe||t instanceof Jr))throw new K(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(we.fromString(e,...n));return rw(r),new Oe(t.firestore,t instanceof Jr?t.converter:null,new Y(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww="AsyncQueue";class Kw{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new $2(this,"async_queue_retry"),this._c=()=>{const r=mm();r&&G(Ww,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=mm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=mm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new ir;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!To(e))throw e;G(Ww,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,yr("INTERNAL UNHANDLED ERROR: ",Gw(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=ly.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&Z(47125,{Pc:Gw(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Gw(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qw(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class vr extends Qd{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new Kw,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Kw(e),this._firestoreClient=void 0,await e}}}function XM(t,e){const n=typeof t=="object"?t:Rg(),r=typeof t=="string"?t:Ku,s=jd(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=nT("firestore");i&&YM(s,...i)}return s}function Yd(t){if(t._terminated)throw new K(U.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||JM(t),t._firestoreClient}function JM(t){var r,s,i;const e=t._freezeSettings(),n=function(l,c,d,h){return new E3(l,c,d,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,iN(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new HM(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this._byteString=e}static fromBase64String(e){try{return new en(lt.fromBase64String(e))}catch(n){throw new K(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new en(lt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:en._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Cl(e,en._jsonSchema))return en.fromBase64String(e.bytes)}}en._jsonSchemaVersion="firestore/bytes/1.0",en._jsonSchema={type:We("string",en._jsonSchemaVersion),bytes:We("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new K(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new it(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new K(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new K(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ce(this._lat,e._lat)||ce(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Vn._jsonSchemaVersion}}static fromJSON(e){if(Cl(e,Vn._jsonSchema))return new Vn(e.latitude,e.longitude)}}Vn._jsonSchemaVersion="firestore/geoPoint/1.0",Vn._jsonSchema={type:We("string",Vn._jsonSchemaVersion),latitude:We("number"),longitude:We("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Mn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Cl(e,Mn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Mn(e.vectorValues);throw new K(U.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Mn._jsonSchemaVersion="firestore/vectorValue/1.0",Mn._jsonSchema={type:We("string",Mn._jsonSchemaVersion),vectorValues:We("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZM=/^__.*__$/;class eO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new gs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Pl(e,this.data,n,this.fieldTransforms)}}class aN{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new gs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function lN(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Z(40011,{Ac:t})}}class xy{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new xy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return sd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(lN(this.Ac)&&ZM.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class tO{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Wd(e)}Cc(e,n,r,s=!1){return new xy({Ac:e,methodName:n,Dc:r,path:it.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Jd(t){const e=t._freezeSettings(),n=Wd(t._databaseId);return new tO(t._databaseId,!!e.ignoreUndefinedProperties,n)}function cN(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);vy("Data must be an object, but it was:",o,r);const l=uN(r,o);let c,d;if(i.merge)c=new qt(o.fieldMask),d=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const m of i.mergeFields){const f=tp(e,m,n);if(!o.contains(f))throw new K(U.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);hN(h,f)||h.push(f)}c=new qt(h),d=o.fieldTransforms.filter(m=>c.covers(m.field))}else c=null,d=o.fieldTransforms;return new eO(new Rt(l),c,d)}class Zd extends yy{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Zd}}function nO(t,e,n,r){const s=t.Cc(1,e,n);vy("Data must be an object, but it was:",s,r);const i=[],o=Rt.empty();ps(r,(c,d)=>{const h=wy(e,c,n);d=Ye(d);const m=s.yc(h);if(d instanceof Zd)i.push(h);else{const f=Dl(d,m);f!=null&&(i.push(h),o.set(h,f))}});const l=new qt(i);return new aN(o,l,s.fieldTransforms)}function rO(t,e,n,r,s,i){const o=t.Cc(1,e,n),l=[tp(e,r,n)],c=[s];if(i.length%2!=0)throw new K(U.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<i.length;f+=2)l.push(tp(e,i[f])),c.push(i[f+1]);const d=[],h=Rt.empty();for(let f=l.length-1;f>=0;--f)if(!hN(d,l[f])){const g=l[f];let v=c[f];v=Ye(v);const C=o.yc(g);if(v instanceof Zd)d.push(g);else{const A=Dl(v,C);A!=null&&(d.push(g),h.set(g,A))}}const m=new qt(d);return new aN(h,m,o.fieldTransforms)}function sO(t,e,n,r=!1){return Dl(n,t.Cc(r?4:3,e))}function Dl(t,e){if(dN(t=Ye(t)))return vy("Unsupported field value:",e,t),uN(t,e);if(t instanceof yy)return function(r,s){if(!lN(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const l of r){let c=Dl(l,s.wc(o));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Ye(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return H3(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Te.fromDate(r);return{timestampValue:Zu(s.serializer,i)}}if(r instanceof Te){const i=new Te(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Zu(s.serializer,i)}}if(r instanceof Vn)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof en)return{bytesValue:k2(s.serializer,r._byteString)};if(r instanceof Oe){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Zg(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Mn)return function(o,l){return{mapValue:{fields:{[i2]:{stringValue:a2},[Gu]:{arrayValue:{values:o.toArray().map(d=>{if(typeof d!="number")throw l.Sc("VectorValues must only contain numeric values.");return Qg(l.serializer,d)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${Md(r)}`)}(t,e)}function uN(t,e){const n={};return ZT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ps(t,(r,s)=>{const i=Dl(s,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function dN(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Te||t instanceof Vn||t instanceof en||t instanceof Oe||t instanceof yy||t instanceof Mn)}function vy(t,e,n){if(!dN(n)||!XT(n)){const r=Md(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function tp(t,e,n){if((e=Ye(e))instanceof Xd)return e._internalPath;if(typeof e=="string")return wy(t,e);throw sd("Field path arguments must be of type string or ",t,!1,void 0,n)}const iO=new RegExp("[~\\*/\\[\\]]");function wy(t,e,n){if(e.search(iO)>=0)throw sd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Xd(...e.split("."))._internalPath}catch{throw sd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function sd(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${r}`),o&&(c+=` in document ${s}`),c+=")"),new K(U.INVALID_ARGUMENT,l+t+c)}function hN(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Oe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new oO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(_y("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class oO extends mN{data(){return super.data()}}function _y(t,e){return typeof e=="string"?wy(t,e):e instanceof Xd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fN(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new K(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class by{}class aO extends by{}function pm(t,e,...n){let r=[];e instanceof by&&r.push(e),r=r.concat(n),function(i){const o=i.filter(c=>c instanceof Ey).length,l=i.filter(c=>c instanceof eh).length;if(o>1||o>0&&l>0)throw new K(U.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class eh extends aO{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new eh(e,n,r)}_apply(e){const n=this._parse(e);return pN(e._query,n),new ii(e.firestore,e.converter,qf(e._query,n))}_parse(e){const n=Jd(e.firestore);return function(i,o,l,c,d,h,m){let f;if(d.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new K(U.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){Xw(m,h);const v=[];for(const C of m)v.push(Yw(c,i,C));f={arrayValue:{values:v}}}else f=Yw(c,i,m)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||Xw(m,h),f=sO(l,o,m,h==="in"||h==="not-in");return He.create(d,h,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function gm(t,e,n){const r=e,s=_y("where",t);return eh._create(s,r,n)}class Ey extends by{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Ey(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:bn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const l=i.getFlattenedFilters();for(const c of l)pN(o,c),o=qf(o,c)}(e._query,n),new ii(e.firestore,e.converter,qf(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Yw(t,e,n){if(typeof(n=Ye(n))=="string"){if(n==="")throw new K(U.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!p2(e)&&n.indexOf("/")!==-1)throw new K(U.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(we.fromString(n));if(!Y.isDocumentKey(r))throw new K(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return hw(t,new Y(r))}if(n instanceof Oe)return hw(t,n._key);throw new K(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Md(n)}.`)}function Xw(t,e){if(!Array.isArray(t)||t.length===0)throw new K(U.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function pN(t,e){const n=function(s,i){for(const o of s)for(const l of o.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new K(U.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new K(U.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class lO{convertValue(e,n="none"){switch(is(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Fe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ss(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Z(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ps(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[Gu].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>Fe(o.doubleValue));return new Mn(n)}convertGeoPoint(e){return new Vn(Fe(e.latitude),Fe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Fd(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(tl(e));default:return null}}convertTimestamp(e){const n=rs(e);return new Te(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=we.fromString(e);pe(O2(r),9688,{name:e});const s=new nl(r.get(1),r.get(3)),i=new Y(r.popFirst(5));return s.isEqual(n)||yr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gN(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class ca{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ls extends mN{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ou(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(_y("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new K(U.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ls._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ls._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ls._jsonSchema={type:We("string",Ls._jsonSchemaVersion),bundleSource:We("string","DocumentSnapshot"),bundleName:We("string"),bundle:We("string")};class ou extends Ls{data(e={}){return super.data(e)}}class Fs{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new ca(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ou(this._firestore,this._userDataWriter,r.key,r,new ca(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new K(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(l=>{const c=new ou(s._firestore,s._userDataWriter,l.doc.key,l.doc,new ca(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const c=new ou(s._firestore,s._userDataWriter,l.doc.key,l.doc,new ca(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,h=-1;return l.type!==0&&(d=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),h=o.indexOf(l.doc.key)),{type:cO(l.type),doc:c,oldIndex:d,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new K(U.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Fs._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=zg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function cO(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Z(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cc(t){t=Ft(t,Oe);const e=Ft(t.firestore,vr);return GM(Yd(e),t._key).then(n=>yN(e,t,n))}Fs._jsonSchemaVersion="firestore/querySnapshot/1.0",Fs._jsonSchema={type:We("string",Fs._jsonSchemaVersion),bundleSource:We("string","QuerySnapshot"),bundleName:We("string"),bundle:We("string")};class Ty extends lO{constructor(e){super(),this.firestore=e}convertBytes(e){return new en(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Oe(this.firestore,null,n)}}function au(t){t=Ft(t,ii);const e=Ft(t.firestore,vr),n=Yd(e),r=new Ty(e);return fN(t._query),QM(n,t._query).then(s=>new Fs(e,r,t,s))}function ym(t,e,n){t=Ft(t,Oe);const r=Ft(t.firestore,vr),s=gN(t.converter,e);return th(r,[cN(Jd(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,rn.none())])}function yi(t,e,n,...r){t=Ft(t,Oe);const s=Ft(t.firestore,vr),i=Jd(s);let o;return o=typeof(e=Ye(e))=="string"||e instanceof Xd?rO(i,"updateDoc",t._key,e,n,r):nO(i,"updateDoc",t._key,e),th(s,[o.toMutation(t._key,rn.exists(!0))])}function Zo(t){return th(Ft(t.firestore,vr),[new Yg(t._key,rn.none())])}function Ac(t,e){const n=Ft(t.firestore,vr),r=gt(t),s=gN(t.converter,e);return th(n,[cN(Jd(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,rn.exists(!1))]).then(()=>r)}function Pc(t,...e){var c,d,h;t=Ye(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Qw(e[r])||(n=e[r++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Qw(e[r])){const m=e[r];e[r]=(c=m.next)==null?void 0:c.bind(m),e[r+1]=(d=m.error)==null?void 0:d.bind(m),e[r+2]=(h=m.complete)==null?void 0:h.bind(m)}let i,o,l;if(t instanceof Oe)o=Ft(t.firestore,vr),l=Ud(t._key.path),i={next:m=>{e[r]&&e[r](yN(o,t,m))},error:e[r+1],complete:e[r+2]};else{const m=Ft(t,ii);o=Ft(m.firestore,vr),l=m._query;const f=new Ty(o);i={next:g=>{e[r]&&e[r](new Fs(o,f,m,g))},error:e[r+1],complete:e[r+2]},fN(t._query)}return function(f,g,v,C){const A=new gy(C),T=new my(g,A,v);return f.asyncQueue.enqueueAndForget(async()=>uy(await rd(f),T)),()=>{A.Nu(),f.asyncQueue.enqueueAndForget(async()=>dy(await rd(f),T))}}(Yd(o),l,s,i)}function th(t,e){return function(r,s){const i=new ir;return r.asyncQueue.enqueueAndForget(async()=>MM(await KM(r),s,i)),i.promise}(Yd(t),e)}function yN(t,e,n){const r=n.docs.get(e._key),s=new Ty(t);return new Ls(t,s,e._key,r,new ca(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){bo=s})(ni),Gs(new ts("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),l=new vr(new s3(r.getProvider("auth-internal")),new a3(o,r.getProvider("app-check-internal")),function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new K(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nl(d.options.projectId,h)}(o,s),o);return i={useFetchStreams:n,...i},l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),Pn(Zv,ew,e),Pn(Zv,ew,"esm2020")})();var uO="firebase",dO="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pn(uO,dO,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN="firebasestorage.googleapis.com",hO="storageBucket",mO=2*60*1e3,fO=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn extends zn{constructor(e,n,r=0){super(xm(e),`Firebase Storage: ${n} (${xm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,qn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return xm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Bn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Bn||(Bn={}));function xm(t){return"storage/"+t}function pO(){const t="An unknown error occurred, please check the error payload for server response.";return new qn(Bn.UNKNOWN,t)}function gO(){return new qn(Bn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function yO(){return new qn(Bn.CANCELED,"User canceled the upload/download.")}function xO(t){return new qn(Bn.INVALID_URL,"Invalid URL '"+t+"'.")}function vO(t){return new qn(Bn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Jw(t){return new qn(Bn.INVALID_ARGUMENT,t)}function vN(){return new qn(Bn.APP_DELETED,"The Firebase app was deleted.")}function wO(t){return new qn(Bn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=yn.makeFromUrl(e,n)}catch{return new yn(e,"")}if(r.path==="")return r;throw vO(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(R){R.path.charAt(R.path.length-1)==="/"&&(R.path_=R.path_.slice(0,-1))}const o="(/(.*))?$",l=new RegExp("^gs://"+s+o,"i"),c={bucket:1,path:3};function d(R){R.path_=decodeURIComponent(R.path)}const h="v[A-Za-z0-9_]+",m=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",g=new RegExp(`^https?://${m}/${h}/b/${s}/o${f}`,"i"),v={bucket:1,path:3},C=n===xN?"(?:storage.googleapis.com|storage.cloud.google.com)":n,A="([^?#]*)",T=new RegExp(`^https?://${C}/${s}/${A}`,"i"),N=[{regex:l,indices:c,postModify:i},{regex:g,indices:v,postModify:d},{regex:T,indices:{bucket:1,path:2},postModify:d}];for(let R=0;R<N.length;R++){const j=N[R],O=j.regex.exec(e);if(O){const w=O[j.indices.bucket];let x=O[j.indices.path];x||(x=""),r=new yn(w,x),j.postModify(r);break}}if(r==null)throw xO(e);return r}}class _O{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bO(t,e,n){let r=1,s=null,i=null,o=!1,l=0;function c(){return l===2}let d=!1;function h(...A){d||(d=!0,e.apply(null,A))}function m(A){s=setTimeout(()=>{s=null,t(g,c())},A)}function f(){i&&clearTimeout(i)}function g(A,...T){if(d){f();return}if(A){f(),h.call(null,A,...T);return}if(c()||o){f(),h.call(null,A,...T);return}r<64&&(r*=2);let N;l===1?(l=2,N=0):N=(r+Math.random())*1e3,m(N)}let v=!1;function C(A){v||(v=!0,f(),!d&&(s!==null?(A||(l=2),clearTimeout(s),m(0)):A||(l=1)))}return m(0),i=setTimeout(()=>{o=!0,C(!0)},n),C}function EO(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TO(t){return t!==void 0}function Zw(t,e,n,r){if(r<e)throw Jw(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Jw(`Invalid value for '${t}'. Expected ${n} or less.`)}function NO(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var id;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(id||(id={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IO(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(e,n,r,s,i,o,l,c,d,h,m,f=!0,g=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=l,this.errorCallback_=c,this.timeout_=d,this.progressCallback_=h,this.connectionFactory_=m,this.retry=f,this.isUsingEmulator=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((v,C)=>{this.resolve_=v,this.reject_=C,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new kc(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=l=>{const c=l.loaded,d=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,d)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const l=i.getErrorCode()===id.NO_ERROR,c=i.getStatus();if(!l||IO(c,this.additionalRetryCodes_)&&this.retry){const h=i.getErrorCode()===id.ABORT;r(!1,new kc(!1,null,h));return}const d=this.successCodes_.indexOf(c)!==-1;r(!0,new kc(d,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,l=s.connection;if(s.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());TO(c)?i(c):i()}catch(c){o(c)}else if(l!==null){const c=pO();c.serverResponse=l.getErrorText(),this.errorCallback_?o(this.errorCallback_(l,c)):o(c)}else if(s.canceled){const c=this.appDelete_?vN():yO();o(c)}else{const c=gO();o(c)}};this.canceled_?n(!1,new kc(!1,null,!0)):this.backoffId_=bO(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&EO(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class kc{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function CO(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function AO(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function PO(t,e){e&&(t["X-Firebase-GMPID"]=e)}function kO(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function RO(t,e,n,r,s,i,o=!0,l=!1){const c=NO(t.urlParams),d=t.url+c,h=Object.assign({},t.headers);return PO(h,e),CO(h,n),AO(h,i),kO(h,r),new SO(d,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jO(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function DO(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e,n){this._service=e,n instanceof yn?this._location=n:this._location=yn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new od(e,n)}get root(){const e=new yn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return DO(this._location.path)}get storage(){return this._service}get parent(){const e=jO(this._location.path);if(e===null)return null;const n=new yn(this._location.bucket,e);return new od(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw wO(e)}}function e1(t,e){const n=e==null?void 0:e[hO];return n==null?null:yn.makeFromBucketSpec(n,t)}function VO(t,e,n,r={}){t.host=`${e}:${n}`;const s=ti(e);s&&(Cg(`https://${t.host}/b`),Ag("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:iT(i,t.app.options.projectId))}class MO{constructor(e,n,r,s,i,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._isUsingEmulator=o,this._bucket=null,this._host=xN,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=mO,this._maxUploadRetryTime=fO,this._requests=new Set,s!=null?this._bucket=yn.makeFromBucketSpec(s,this._host):this._bucket=e1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=yn.makeFromBucketSpec(this._url,e):this._bucket=e1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Zw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Zw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(pn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new od(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new _O(vN());{const o=RO(e,this._appId,r,s,n,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const t1="@firebase/storage",n1="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN="storage";function OO(t=Rg(),e){t=Ye(t);const r=jd(t,wN).getImmediate({identifier:e}),s=nT("storage");return s&&LO(r,...s),r}function LO(t,e,n,r={}){VO(t,e,n,r)}function FO(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new MO(n,r,s,e,ni)}function UO(){Gs(new ts(wN,FO,"PUBLIC").setMultipleInstances(!0)),Pn(t1,n1,""),Pn(t1,n1,"esm2020")}UO();const BO={apiKey:"AIzaSyDSsPQ3Rzr3e7beF5CTZlM1BDEbG5Bef7o",authDomain:"tabloo-17e7f.firebaseapp.com",projectId:"tabloo-17e7f",storageBucket:"tabloo-17e7f.firebasestorage.app",messagingSenderId:"662845885349",appId:"1:662845885349:web:7b9595f55cd3bd0841b64c",measurementId:"G-DXSSMD7DS9"},Ny=lT(BO),Sa=e3(Ny),ve=XM(Ny);OO(Ny);const _N=k.createContext(void 0),Hn=()=>{const t=k.useContext(_N);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},$O=({children:t})=>{const[e,n]=k.useState(null),[r,s]=k.useState(!0);k.useEffect(()=>{const h=$4(Sa,async m=>{if(m){const f=await Cc(gt(ve,"users",m.uid));if(f.exists()){const g=f.data();n({id:m.uid,name:g.name||m.displayName||"User",email:g.email||m.email||void 0,phone:g.phone,role:g.role||"public_user",restaurantId:g.restaurantId,walletBalance:g.walletBalance||0})}}else n(null);s(!1)});return()=>h()},[]);const d={user:e,login:async(h,m)=>{s(!0);try{if(m==="admin"&&(h.username==="admin@tabuloo.com"||h.username==="9985121257")&&h.password==="Admin@123")return(await Cc(gt(ve,"users","admin_001"))).exists()||await ym(gt(ve,"users","admin_001"),{name:"Admin",email:"admin@tabuloo.com",phone:"9985121257",role:"admin",createdAt:new Date}),n({id:"admin_001",name:"Admin",email:"admin@tabuloo.com",phone:"9985121257",role:"admin"}),s(!1),!0;if(m==="restaurant_owner")try{const f=await au(Yt(ve,"restaurants"));let g=null;f.forEach(v=>{const C=v.data();C.ownerCredentials&&C.ownerCredentials.username===h.username&&C.ownerCredentials.password===h.password&&(g={id:v.id,...C})});try{localStorage.setItem("restaurantOwnerSession",JSON.stringify({userId:ownerId,restaurantId:g.id}))}catch(v){console.log("Firebase Auth setup for restaurant owner:",v)}if(g){const v=`owner_${g.id}`,C={name:`${g.name} Owner`,email:g.ownerCredentials.username,role:"restaurant_owner",restaurantId:g.id,createdAt:new Date};try{await ym(gt(ve,"users",v),C)}catch(A){console.log("User creation error (continuing anyway):",A)}return n({id:v,name:C.name,email:C.email,role:"restaurant_owner",restaurantId:g.id}),s(!1),!0}else return z.error("Invalid restaurant owner credentials"),s(!1),!1}catch(f){return console.error("Restaurant owner login error:",f),z.error("Login failed. Please try again."),s(!1),!1}if(m==="public_user")try{if(!h.phone||!h.password)return z.error("Phone number and password are required"),s(!1),!1;const f=`user_${h.phone.replace(/\D/g,"")}`;try{const g=await Cc(gt(ve,"users",f));if(g.exists()){const v=g.data();if(v.password!==h.password)return z.error("Invalid phone number or password"),s(!1),!1;n({id:f,name:v.name,phone:v.phone,role:"public_user",walletBalance:v.walletBalance||0})}else return z.error("Invalid phone number or password"),s(!1),!1;return s(!1),!0}catch(g){return console.error("Error accessing user document:",g),z.error("Login failed. Please try again."),s(!1),!1}}catch(f){return console.error("Public user login error:",f),z.error("Login failed. Please try again."),s(!1),!1}return s(!1),!1}catch(f){return console.error("Login error:",f),z.error("Login failed. Please try again."),s(!1),!1}},register:async h=>{s(!0);try{if(!h.phone||!h.name||!h.password)return z.error("Name, phone number, and password are required"),s(!1),!1;const m=`user_${h.phone.replace(/\D/g,"")}`;if((await Cc(gt(ve,"users",m))).exists())return z.error("User with this phone number already exists"),s(!1),!1;const g={name:h.name,phone:h.phone,password:h.password,role:"public_user",walletBalance:500,createdAt:new Date};return await ym(gt(ve,"users",m),g),n({id:m,name:g.name,phone:g.phone,role:"public_user",walletBalance:g.walletBalance}),s(!1),!0}catch(m){return console.error("Registration error:",m),z.error("Registration failed. Please try again."),s(!1),!1}},logout:async()=>{try{Sa.currentUser&&await z4(Sa),localStorage.removeItem("restaurantOwnerSession"),n(null)}catch(h){console.error("Logout error:",h)}},loading:r,updateWalletBalance:async h=>{if(e)try{await yi(gt(ve,"users",e.id),{walletBalance:h}),n(m=>m?{...m,walletBalance:h}:null)}catch(m){console.error("Error updating wallet balance:",m),z.error("Failed to update wallet balance")}}};return a.jsx(_N.Provider,{value:d,children:t})},bN=k.createContext(void 0),oi=()=>{const t=k.useContext(bN);if(t===void 0)throw new Error("useApp must be used within an AppProvider");return t},zO=({children:t})=>{const[e,n]=k.useState([]),[r,s]=k.useState([]),[i,o]=k.useState([]),[l,c]=k.useState([]),[d,h]=k.useState(!0);k.useEffect(()=>{const w=Pc(Yt(ve,"restaurants"),I=>{const D=I.docs.map(P=>({id:P.id,...P.data()}));n(D)},I=>{console.error("Error fetching restaurants:",I),z.error("Failed to load restaurants")}),x=Pc(Yt(ve,"menuItems"),I=>{const D=I.docs.map(P=>({id:P.id,...P.data()}));s(D)},I=>{console.error("Error fetching menu items:",I),z.error("Failed to load menu items")}),E=Pc(Yt(ve,"orders"),I=>{const D=I.docs.map(P=>{var he;return{id:P.id,...P.data(),createdAt:((he=P.data().createdAt)==null?void 0:he.toDate())||new Date}});o(D)},I=>{console.error("Error fetching orders:",I),z.error("Failed to load orders")}),_=Pc(Yt(ve,"bookings"),I=>{const D=I.docs.map(P=>{var he;return{id:P.id,...P.data(),createdAt:((he=P.data().createdAt)==null?void 0:he.toDate())||new Date}});c(D)},I=>{console.error("Error fetching bookings:",I),z.error("Failed to load bookings")});return h(!1),()=>{w(),x(),E(),_()}},[]);const O={restaurants:e,menuItems:r,orders:i,bookings:l,loading:d,addRestaurant:async w=>{try{const x=await Ac(Yt(ve,"restaurants"),{...w,createdAt:new Date});console.log("Restaurant added with ID:",x.id),z.success("Restaurant added successfully!")}catch(x){throw console.error("Error adding restaurant:",x),z.error(`Failed to add restaurant: ${x.message}`),x}},addMenuItem:async w=>{try{console.log("Adding menu item:",w);const x=await Ac(Yt(ve,"menuItems"),{...w,createdAt:new Date});console.log("Menu item added with ID:",x.id),z.success("Menu item added successfully!")}catch(x){throw console.error("Error adding menu item:",x),z.error(`Failed to add menu item: ${(x==null?void 0:x.message)||"Unknown error"}`),x}},addOrder:async w=>{try{const x=await Ac(Yt(ve,"orders"),{...w,createdAt:new Date});console.log("Order added with ID:",x.id),z.success("Order placed successfully!")}catch(x){throw console.error("Error adding order:",x),z.error(`Failed to place order: ${x.message}`),x}},addBooking:async w=>{try{const x=await Ac(Yt(ve,"bookings"),{...w,createdAt:new Date});console.log("Booking added with ID:",x.id),z.success("Booking confirmed successfully!")}catch(x){throw console.error("Error adding booking:",x),z.error(`Failed to confirm booking: ${x.message}`),x}},updateOrderStatus:async(w,x)=>{try{await yi(gt(ve,"orders",w),{status:x}),z.success("Order status updated!")}catch(E){throw console.error("Error updating order status:",E),z.error("Failed to update order status"),E}},updateRestaurant:async w=>{try{const{id:x,...E}=w;await yi(gt(ve,"restaurants",x),E),z.success("Restaurant updated successfully!")}catch(x){throw console.error("Error updating restaurant:",x),z.error("Failed to update restaurant"),x}},updateMenuItem:async w=>{try{const{id:x,...E}=w;await yi(gt(ve,"menuItems",x),E),z.success("Menu item updated successfully!")}catch(x){throw console.error("Error updating menu item:",x),z.error("Failed to update menu item"),x}},updateRestaurantStatus:async(w,x)=>{var E;try{console.log("Updating restaurant status:",{restaurantId:w,isOpen:x,userId:(E=Sa.currentUser)==null?void 0:E.uid}),await yi(gt(ve,"restaurants",w),{isOpen:x}),z.success(`Restaurant ${x?"opened":"closed"}!`)}catch(_){throw console.error("Error updating restaurant status:",_),z.error(`Failed to update restaurant status: ${(_==null?void 0:_.message)||"Unknown error"}`),_}},updateMenuItemAvailability:async(w,x)=>{var E;try{console.log("Updating menu item availability:",{itemId:w,available:x,userId:(E=Sa.currentUser)==null?void 0:E.uid}),await yi(gt(ve,"menuItems",w),{available:x}),z.success(`Menu item ${x?"made available":"made unavailable"}!`)}catch(_){throw console.error("Error updating menu item availability:",_),z.error(`Failed to update menu item availability: ${(_==null?void 0:_.message)||"Unknown error"}`),_}},deleteRestaurant:async w=>{try{await Zo(gt(ve,"restaurants",w));const x=pm(Yt(ve,"menuItems"),gm("restaurantId","==",w)),_=(await au(x)).docs.map(ae=>Zo(ae.ref));await Promise.all(_);const I=pm(Yt(ve,"orders"),gm("restaurantId","==",w)),P=(await au(I)).docs.map(ae=>Zo(ae.ref));await Promise.all(P);const he=pm(Yt(ve,"bookings"),gm("restaurantId","==",w)),Ut=(await au(he)).docs.map(ae=>Zo(ae.ref));await Promise.all(Ut),z.success("Restaurant and all associated data deleted successfully!")}catch(x){throw console.error("Error deleting restaurant:",x),z.error("Failed to delete restaurant"),x}},deleteMenuItem:async w=>{try{await Zo(gt(ve,"menuItems",w)),z.success("Menu item deleted successfully!")}catch(x){throw console.error("Error deleting menu item:",x),z.error("Failed to delete menu item"),x}}};return a.jsx(bN.Provider,{value:O,children:t})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var qO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HO=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),re=(t,e)=>{const n=k.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:c,...d},h)=>k.createElement("svg",{ref:h,...qO,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${HO(t)}`,l].join(" "),...d},[...e.map(([m,f])=>k.createElement(m,f)),...Array.isArray(c)?c:[c]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EN=re("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WO=re("ArrowDownLeft",[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KO=re("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oo=re("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iy=re("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=re("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TN=re("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GO=re("ChefHat",[["path",{d:"M6 13.87A4 4 0 0 1 7.41 6a5.11 5.11 0 0 1 1.05-1.54 5 5 0 0 1 7.08 0A5.11 5.11 0 0 1 16.59 6 4 4 0 0 1 18 13.87V21H6Z",key:"z3ra2g"}],["line",{x1:"6",x2:"18",y1:"17",y2:"17",key:"12q60k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ol=re("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ao=re("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const np=re("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rp=re("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QO=re("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YO=re("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XO=re("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JO=re("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZO=re("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e6=re("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NN=re("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const or=re("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t6=re("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n6=re("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ca=re("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const al=re("PartyPopper",[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12v0c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"bpx1uq"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11v0c-.11.7-.72 1.22-1.43 1.22H17",key:"1pd0s7"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98v0C9.52 4.9 9 5.52 9 6.23V7",key:"zq5xbz"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sy=re("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Io=re("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r6=re("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s6=re("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r1=re("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jn=re("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cy=re("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IN=re("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s1=re("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sp=re("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i6=re("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o6=re("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nh=re("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a6=re("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l6=re("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c6=re("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ss=re("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lo=re("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u6=re("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"1ogz0v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ar=re("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ai=re("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ln=t=>{const e=t.replace(/\D/g,"");return e.length===10&&/^[6-9]/.test(e)},So=t=>t.replace(/\D/g,"").slice(0,10),co=t=>t.replace(/\D/g,"").length===16,Ay=t=>t.replace(/\D/g,"").slice(0,16).replace(/(.{4})/g,"$1 ").trim(),uo=t=>t.replace(/\D/g,"").length===3,Py=t=>t.replace(/\D/g,"").slice(0,3),ho=t=>{if(!/^(0[1-9]|1[0-2])\/\d{2}$/.test(t))return!1;const[n,r]=t.split("/"),s=new Date,i=s.getFullYear()%100,o=s.getMonth()+1,l=parseInt(r),c=parseInt(n);return!(l<i||l===i&&c<o)},ky=t=>{const e=t.replace(/\D/g,"");if(e.length>=2){const n=e.slice(0,2),r=e.slice(2,4);return r?`${n}/${r}`:n}return e},d6=({role:t,onSwitchToRegister:e,onLoginSuccess:n})=>{const{login:r}=Hn(),[s,i]=k.useState(!1),[o,l]=k.useState({username:"",phone:"",password:""}),c=async h=>{if(h.preventDefault(),t==="public_user"){if(!o.phone.trim()||!o.password.trim()){z.error("Phone number and password are required");return}if(!ln(o.phone)){z.error("Please enter a valid 10-digit Indian phone number");return}}else if(!o.username.trim()||!o.password.trim()){z.error("Username and password are required");return}await r(o,t)?(z.success("Login successful!"),n&&n()):z.error("Invalid credentials. Please try again.")},d=()=>{switch(t){case"admin":return"Admin Login";case"restaurant_owner":return"Restaurant Owner Login";case"public_user":return"User Login";default:return"Login"}};return a.jsxs("div",{className:"bg-white p-8 rounded-2xl w-full",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:d()}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Enter your credentials to continue"})]}),a.jsxs("form",{onSubmit:c,className:"space-y-4",children:[t==="public_user"?a.jsx(a.Fragment,{children:a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),a.jsx("input",{type:"tel",required:!0,value:o.phone,onChange:h=>{const m=So(h.target.value);l(f=>({...f,phone:m}))},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Enter 10-digit phone number",maxLength:10}),o.phone&&!ln(o.phone)&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:"Please enter a valid 10-digit Indian phone number"})]})}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Username/Email"}),a.jsx("input",{type:"text",required:!0,value:o.username,onChange:h=>l(m=>({...m,username:h.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:s?"text":"password",required:!0,value:o.password,onChange:h=>l(m=>({...m,password:h.target.value})),className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"}),a.jsx("button",{type:"button",onClick:()=>i(!s),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:s?a.jsx(np,{className:"h-4 w-4 text-gray-400"}):a.jsx(rp,{className:"h-4 w-4 text-gray-400"})})]})]})]}),t==="public_user"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:s?"text":"password",required:!0,value:o.password,onChange:h=>l(m=>({...m,password:h.target.value})),className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Enter your password"}),a.jsx("button",{type:"button",onClick:()=>i(!s),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:s?a.jsx(np,{className:"h-4 w-4 text-gray-400"}):a.jsx(rp,{className:"h-4 w-4 text-gray-400"})})]})]}),a.jsxs("button",{type:"submit",className:"w-full bg-gradient-to-r from-orange-500 to-red-500 text-white py-2 px-4 rounded-lg hover:from-orange-600 hover:to-red-600 transition-all flex items-center justify-center space-x-2",children:[a.jsx(ZO,{className:"h-4 w-4"}),a.jsx("span",{children:"Login"})]}),t==="public_user"&&e&&a.jsx("div",{className:"text-center pt-4",children:a.jsxs("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",a.jsx("button",{type:"button",onClick:e,className:"text-orange-600 hover:text-orange-700 font-medium",children:"Register here"})]})})]})]})},h6=({onSwitchToLogin:t,onRegisterSuccess:e})=>{const{register:n}=Hn(),[r,s]=k.useState("details"),[i,o]=k.useState(""),[l,c]=k.useState(!1),[d,h]=k.useState({name:"",phone:"",password:""}),m=()=>{if(!d.name.trim()||!d.phone.trim()){z.error("Please fill in all required fields");return}if(!ln(d.phone)){z.error("Please enter a valid phone number");return}c(!0),s("otp"),z.success("OTP sent to your phone number!")},f=()=>{if(i.length!==6){z.error("Please enter a valid 6-digit OTP");return}s("password"),z.success("OTP verified successfully!")},g=async v=>{if(v.preventDefault(),!d.password||d.password.length<6){z.error("Password must be at least 6 characters long");return}await n(d)?(z.success("Registration successful!"),e&&e()):z.error("Registration failed. Please try again.")};return a.jsxs("div",{className:"bg-white p-8 rounded-2xl w-full",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Create Account"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Join Tabuloo today"})]}),r==="details"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),a.jsx("input",{type:"text",required:!0,value:d.name,onChange:v=>h(C=>({...C,name:v.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Enter your full name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),a.jsx("input",{type:"tel",required:!0,value:d.phone,onChange:v=>{const C=So(v.target.value);h(A=>({...A,phone:C}))},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Enter 10-digit phone number",maxLength:10}),d.phone&&!ln(d.phone)&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:"Please enter a valid 10-digit Indian phone number"})]}),a.jsxs("button",{type:"button",onClick:m,className:"w-full bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center space-x-2",children:[a.jsx(r6,{className:"h-4 w-4"}),a.jsx("span",{children:"Send OTP"})]})]}),r==="otp"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Enter OTP"}),a.jsx("input",{type:"text",maxLength:6,value:i,onChange:v=>o(v.target.value.replace(/\D/g,"")),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent text-center text-lg tracking-widest",placeholder:"000000"}),a.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["OTP sent to ",d.phone]})]}),a.jsx("button",{type:"button",onClick:f,className:"w-full bg-gradient-to-r from-orange-500 to-red-500 text-white py-2 px-4 rounded-lg hover:from-orange-600 hover:to-red-600 transition-all",children:"Verify OTP"})]}),r==="password"&&a.jsxs("form",{onSubmit:g,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Create Password"}),a.jsx("input",{type:"password",required:!0,value:d.password,onChange:v=>h(C=>({...C,password:v.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Create a strong password"})]}),a.jsxs("button",{type:"submit",className:"w-full bg-gradient-to-r from-orange-500 to-red-500 text-white py-2 px-4 rounded-lg hover:from-orange-600 hover:to-red-600 transition-all flex items-center justify-center space-x-2",children:[a.jsx(c6,{className:"h-4 w-4"}),a.jsx("span",{children:"Create Account"})]})]}),a.jsx("div",{className:"text-center pt-4",children:a.jsxs("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",a.jsx("button",{type:"button",onClick:t,className:"text-orange-600 hover:text-orange-700 font-medium",children:"Login here"})]})})]})},m6=({isOpen:t,onClose:e,authType:n})=>{const[r,s]=k.useState(!1);return t?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-2 sm:p-4",children:a.jsxs("div",{className:"bg-white rounded-lg sm:rounded-2xl w-full max-w-md max-h-[90vh] overflow-y-auto relative",children:[a.jsx("button",{onClick:e,className:"absolute top-2 right-2 sm:top-4 sm:right-4 text-gray-400 hover:text-gray-600 z-10 p-2",children:a.jsx(ai,{className:"h-5 w-5 sm:h-6 sm:w-6"})}),a.jsx("div",{className:"p-4 sm:p-8",children:r&&n==="public_user"?a.jsx(h6,{onSwitchToLogin:()=>s(!1),onRegisterSuccess:e}):a.jsx(d6,{role:n,onSwitchToRegister:n==="public_user"?()=>s(!0):void 0,onLoginSuccess:e})})]})}):null},SN=({isOpen:t,onClose:e,selectedRestaurantId:n})=>{const{user:r,updateWalletBalance:s}=Hn(),{restaurants:i,addBooking:o}=oi(),[l,c]=k.useState("details"),[d,h]=k.useState("card"),[m,f]=k.useState({number:"",expiry:"",cvv:"",name:""}),[g,v]=k.useState({restaurantId:n||"",date:"",time:"",customers:"1",customerNames:[""],phone:(r==null?void 0:r.phone)||"",specialRequests:"",foodOptions:""}),C=[{id:"wallet",name:"Tabuloo Wallet",icon:ar,description:`Balance: ₹${((r==null?void 0:r.walletBalance)||0).toFixed(2)}`},{id:"netbanking",name:"Net Banking",icon:Iy,description:"All major banks supported"},{id:"card",name:"Credit/Debit Card",icon:ao,description:"Visa, Mastercard, Amex"},{id:"upi",name:"UPI",icon:Cy,description:"Pay using UPI apps"},{id:"cod",name:"Cash on Delivery",icon:oo,description:"Pay when you arrive"}],A=i.find(E=>E.id===g.restaurantId),T=E=>{const _=parseInt(E)||1,I=Array(_).fill("").map((D,P)=>g.customerNames[P]||"");v(D=>({...D,customers:E,customerNames:I}))},b=(E,_)=>{const I=[...g.customerNames];I[E]=_,v(D=>({...D,customerNames:I}))},N=()=>{v(E=>({...E,customerNames:[...E.customerNames,""]}))},R=E=>{if(g.customerNames.length>1){const _=g.customerNames.filter((I,D)=>D!==E);v(I=>({...I,customerNames:_,customers:_.length.toString()}))}},j=()=>{var _;if(!A)return z.error("Please select a restaurant"),!1;if(!g.date||!g.time)return z.error("Please select date and time"),!1;if(!g.phone)return z.error("Phone number is required"),!1;if(!ln(g.phone))return z.error("Please enter a valid 10-digit Indian phone number"),!1;const E=parseInt(g.customers);if(E>2){if(!((_=g.customerNames[0])!=null&&_.trim()))return z.error("At least one customer name is required"),!1}else if(g.customerNames.filter(D=>D.trim()!=="").length!==E)return z.error("Please provide names for all customers"),!1;return!0},O=E=>{E.preventDefault(),j()&&c("payment")},w=async()=>{if(!A||!r)return;if(d==="card"){if(!co(m.number)){z.error("Please enter a valid 16-digit card number");return}if(!uo(m.cvv)){z.error("Please enter a valid 3-digit CVV");return}if(!ho(m.expiry)){z.error("Please enter a valid expiry date (MM/YY)");return}if(!m.name.trim()){z.error("Please enter cardholder name");return}}const _=A.price*parseInt(g.customers)*.2;if(d==="wallet"){if((r.walletBalance||0)<_)return z.error("Insufficient wallet balance"),!1;s((r.walletBalance||0)-_)}const I={userId:r.id,restaurantId:g.restaurantId,type:"table",date:g.date,time:g.time,customers:parseInt(g.customers),customerNames:g.customerNames.filter(D=>D.trim()!==""),phone:g.phone,status:"confirmed",paymentStatus:"paid",amount:_,createdAt:new Date,specialRequests:g.specialRequests,foodOptions:g.foodOptions,paymentMethod:d};try{await o(I),await x(I,A,r),c("confirmation")}catch(D){console.error("Booking error:",D)}},x=async(E,_,I)=>(console.log("Sending booking confirmation emails:",{userEmail:I.email||I.phone,restaurantEmail:_.ownerCredentials.username,bookingDetails:E}),new Promise(D=>setTimeout(D,1e3)));return t?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-2 sm:p-4",children:a.jsxs("div",{className:"bg-white rounded-lg sm:rounded-xl w-full max-w-2xl max-h-[95vh] sm:max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex justify-between items-center p-4 sm:p-6 border-b",children:[a.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Book Table"}),a.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 p-2",children:a.jsx(ai,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),l==="details"&&a.jsxs("form",{onSubmit:O,className:"p-4 sm:p-6 space-y-4 sm:space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name of the Restaurant *"}),a.jsxs("select",{value:g.restaurantId,onChange:E=>v(_=>({..._,restaurantId:E.target.value})),className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent text-base",required:!0,children:[a.jsx("option",{value:"",children:"Select a restaurant"}),i.filter(E=>E.isOpen).map(E=>a.jsxs("option",{value:E.id,children:[E.name," - ₹",E.price,"/person"]},E.id))]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(Dt,{className:"h-4 w-4 inline mr-1"}),"Date *"]}),a.jsx("input",{type:"date",required:!0,value:g.date,onChange:E=>v(_=>({..._,date:E.target.value})),className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent text-base",min:new Date().toISOString().split("T")[0]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(ol,{className:"h-4 w-4 inline mr-1"}),"Time *"]}),a.jsx("input",{type:"time",required:!0,value:g.time,onChange:E=>v(_=>({..._,time:E.target.value})),className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent text-base"})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(lo,{className:"h-4 w-4 inline mr-1"}),"Number of Customers *"]}),a.jsx("input",{type:"number",min:"1",max:"20",required:!0,value:g.customers,onChange:E=>T(E.target.value),className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent text-base"})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Name of the Customers",parseInt(g.customers)>2&&a.jsx("span",{className:"text-xs sm:text-sm text-gray-500 ml-1",children:"(First name required, others optional)"})]}),a.jsxs("button",{type:"button",onClick:N,className:"flex items-center space-x-1 text-red-800 hover:text-red-900 text-sm",children:[a.jsx(Io,{className:"h-4 w-4"}),a.jsx("span",{children:"Add Customer"})]})]}),a.jsx("div",{className:"space-y-3 max-h-48 sm:max-h-60 overflow-y-auto",children:g.customerNames.map((E,_)=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"text",placeholder:`Customer ${_+1} name${_===0&&parseInt(g.customers)>2?" (required)":""}`,value:E,onChange:I=>b(_,I.target.value),className:"flex-1 px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent text-base",required:parseInt(g.customers)<=2||_===0}),g.customerNames.length>1&&a.jsx("button",{type:"button",onClick:()=>R(_),className:"p-2 text-red-600 hover:text-red-700 hover:bg-red-50 rounded-lg",children:a.jsx(nh,{className:"h-4 w-4"})})]},_))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number *"}),a.jsx("input",{type:"tel",required:!0,value:g.phone,onChange:E=>{const _=So(E.target.value);v(I=>({...I,phone:_}))},className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent text-base",placeholder:"Enter 10-digit phone number",maxLength:10}),g.phone&&!ln(g.phone)&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:"Please enter a valid 10-digit Indian phone number"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Food Options & Preferences"}),a.jsx("textarea",{value:g.foodOptions,onChange:E=>v(_=>({..._,foodOptions:E.target.value})),className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent text-base",rows:3,placeholder:"Any specific food preferences, dietary restrictions, or menu requests..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Special Requests"}),a.jsx("textarea",{value:g.specialRequests,onChange:E=>v(_=>({..._,specialRequests:E.target.value})),className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent text-base",rows:3,placeholder:"Any special arrangements, celebrations, or additional requests..."})]}),A&&parseInt(g.customers)>0&&a.jsxs("div",{className:"bg-red-50 p-4 rounded-lg",children:[a.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Booking Summary"}),a.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[a.jsxs("p",{children:["Restaurant: ",A.name]}),a.jsxs("p",{children:["Date: ",g.date," at ",g.time]}),a.jsxs("p",{children:["Customers: ",g.customers]}),a.jsxs("p",{children:["Total Amount: ₹",(A.price*parseInt(g.customers)).toFixed(2)]}),a.jsxs("p",{className:"font-medium text-red-600",children:["Advance Payment (20%): ₹",(A.price*parseInt(g.customers)*.2).toFixed(2)]})]})]}),a.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-red-800 to-red-900 text-white py-3 px-4 rounded-lg hover:from-red-900 hover:to-red-950 transition-colors flex items-center justify-center space-x-2 font-medium text-base",children:a.jsx("span",{children:"Book Table"})})]}),l==="payment"&&A&&a.jsxs("div",{className:"p-4 sm:p-6",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx(ao,{className:"h-10 w-10 sm:h-12 sm:w-12 text-red-800 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-2",children:"Payment Details"}),a.jsxs("p",{className:"text-sm sm:text-base text-gray-600",children:["Advance payment of ₹",(A.price*parseInt(g.customers)*.2).toFixed(2)," required"]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-4",children:"Select Payment Method"}),a.jsx("div",{className:"space-y-3",children:C.map(E=>{const _=E.icon,I=E.id==="wallet"&&((r==null?void 0:r.walletBalance)||0)<A.price*parseInt(g.customers)*.2;return a.jsx("button",{onClick:()=>h(E.id),disabled:I,className:`w-full p-3 sm:p-4 border-2 rounded-lg text-left transition-all ${d===E.id?"border-red-500 bg-red-50":I?"border-gray-200 bg-gray-50 opacity-50 cursor-not-allowed":"border-gray-200 hover:border-gray-300"}`,children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(_,{className:"h-5 w-5 sm:h-6 sm:w-6 text-gray-600 mr-3"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h5",{className:"font-medium text-gray-900 text-sm sm:text-base",children:E.name}),a.jsx("p",{className:`text-xs sm:text-sm ${I?"text-red-500":"text-gray-600"}`,children:I?"Insufficient balance":E.description})]}),d===E.id&&a.jsx("div",{className:"w-3 h-3 sm:w-4 sm:h-4 bg-red-500 rounded-full"})]})},E.id)})})]}),a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg mb-6",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Booking Summary"}),a.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[a.jsxs("p",{children:["Restaurant: ",A.name]}),a.jsxs("p",{children:["Date & Time: ",g.date," at ",g.time]}),a.jsxs("p",{children:["Customers: ",g.customers]}),a.jsxs("p",{children:["Phone: ",g.phone]}),a.jsxs("p",{children:["Total: ₹",(A.price*parseInt(g.customers)).toFixed(2)]}),a.jsxs("p",{className:"font-medium text-red-600",children:["Advance: ₹",(A.price*parseInt(g.customers)*.2).toFixed(2)]})]})]}),d==="card"&&a.jsxs("div",{className:"space-y-4 mb-6",children:[a.jsx("input",{type:"text",placeholder:"Card Number",value:m.number,onChange:E=>{const _=Ay(E.target.value);f(I=>({...I,number:_}))},className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 text-base",maxLength:19}),m.number&&!co(m.number)&&a.jsx("p",{className:"text-red-500 text-sm",children:"Please enter a valid 16-digit card number"}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:gap-4",children:[a.jsx("input",{type:"text",placeholder:"MM/YY",value:m.expiry,onChange:E=>{const _=ky(E.target.value);f(I=>({...I,expiry:_}))},className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 text-base",maxLength:5}),a.jsx("input",{type:"text",placeholder:"CVV",value:m.cvv,onChange:E=>{const _=Py(E.target.value);f(I=>({...I,cvv:_}))},className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 text-base",maxLength:3})]}),m.expiry&&!ho(m.expiry)&&a.jsx("p",{className:"text-red-500 text-sm",children:"Please enter a valid expiry date (MM/YY)"}),m.cvv&&!uo(m.cvv)&&a.jsx("p",{className:"text-red-500 text-sm",children:"Please enter a valid 3-digit CVV"}),a.jsx("input",{type:"text",placeholder:"Cardholder Name",value:m.name,onChange:E=>f(_=>({..._,name:E.target.value})),className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 text-base"})]}),d==="netbanking"&&a.jsx("div",{className:"space-y-4 mb-6",children:a.jsxs("select",{className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 text-base",children:[a.jsx("option",{value:"",children:"Select your bank"}),a.jsx("option",{value:"sbi",children:"State Bank of India"}),a.jsx("option",{value:"hdfc",children:"HDFC Bank"}),a.jsx("option",{value:"icici",children:"ICICI Bank"}),a.jsx("option",{value:"axis",children:"Axis Bank"}),a.jsx("option",{value:"kotak",children:"Kotak Mahindra Bank"})]})}),d==="upi"&&a.jsxs("div",{className:"space-y-4 mb-6",children:[a.jsx("input",{type:"text",placeholder:"Enter UPI ID (example@upi)",className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 text-base"}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Or scan QR code"}),a.jsx("div",{className:"w-24 h-24 sm:w-32 sm:h-32 bg-gray-200 rounded-lg mx-auto flex items-center justify-center",children:a.jsx("span",{className:"text-gray-500 text-xs sm:text-sm",children:"QR Code"})})]})]}),d==="wallet"&&a.jsx("div",{className:"bg-green-50 p-4 rounded-lg mb-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(ar,{className:"h-5 w-5 sm:h-6 sm:w-6 text-green-600 mr-3"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-green-900 text-sm sm:text-base",children:"Payment via Tabuloo Wallet"}),a.jsxs("p",{className:"text-xs sm:text-sm text-green-700",children:["₹",(A.price*parseInt(g.customers)*.2).toFixed(2)," will be deducted from your wallet"]})]})]})}),d==="cod"&&a.jsx("div",{className:"bg-orange-50 p-4 rounded-lg mb-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(oo,{className:"h-5 w-5 sm:h-6 sm:w-6 text-orange-600 mr-3"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-orange-900 text-sm sm:text-base",children:"Cash on Arrival"}),a.jsxs("p",{className:"text-xs sm:text-sm text-orange-700",children:["Pay ₹",(A.price*parseInt(g.customers)*.2).toFixed(2)," when you arrive at the restaurant"]})]})]})}),a.jsxs("div",{className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3",children:[a.jsx("button",{onClick:()=>c("details"),className:"flex-1 px-4 py-3 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 font-medium text-base",children:"Back"}),a.jsxs("button",{onClick:w,className:"flex-1 bg-gradient-to-r from-red-800 to-red-900 text-white py-3 px-4 rounded-lg hover:from-red-900 hover:to-red-950 font-medium text-base",children:["Pay ₹",(A.price*parseInt(g.customers||"0")*.2).toFixed(2)]})]})]}),l==="confirmation"&&A&&a.jsxs("div",{className:"p-4 sm:p-6 text-center",children:[a.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(Dt,{className:"h-6 w-6 sm:h-8 sm:w-8 text-green-600"})}),a.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-2",children:"Booking Confirmed!"}),a.jsx("p",{className:"text-sm sm:text-base text-gray-600 mb-6",children:"Your table has been successfully booked. Confirmation details have been sent to your email and the restaurant."}),a.jsxs("div",{className:"bg-green-50 p-4 rounded-lg mb-6 text-left",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Booking Details"}),a.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[a.jsxs("p",{children:["Restaurant: ",A.name]}),a.jsxs("p",{children:["Date & Time: ",g.date," at ",g.time]}),a.jsxs("p",{children:["Customers: ",g.customers]}),a.jsxs("p",{children:["Phone: ",g.phone]}),a.jsxs("p",{children:["Advance Paid: ₹",(A.price*parseInt(g.customers)*.2).toFixed(2)]})]})]}),a.jsx("button",{onClick:e,className:"w-full bg-gradient-to-r from-red-800 to-red-900 text-white py-3 px-4 rounded-lg hover:from-red-900 hover:to-red-950 font-medium text-base",children:"Done"})]})]})}):null},CN=({isOpen:t,onClose:e,selectedRestaurantId:n})=>{var ye;const{user:r,updateWalletBalance:s}=Hn(),{restaurants:i,menuItems:o,addOrder:l}=oi(),[c,d]=k.useState(n||""),[h,m]=k.useState([]),[f,g]=k.useState("restaurants"),[v,C]=k.useState("pickup"),[A,T]=k.useState("card"),[b,N]=k.useState({number:"",expiry:"",cvv:"",name:""}),[R,j]=k.useState(""),[O,w]=k.useState({name:(r==null?void 0:r.name)||"",phone:(r==null?void 0:r.phone)||""}),x=[{id:"wallet",name:"Tabuloo Wallet",icon:ar,description:`Balance: ₹${((r==null?void 0:r.walletBalance)||0).toFixed(2)}`},{id:"netbanking",name:"Net Banking",icon:Iy,description:"All major banks supported"},{id:"card",name:"Credit/Debit Card",icon:ao,description:"Visa, Mastercard, Amex"},{id:"upi",name:"UPI",icon:Cy,description:"Pay using UPI apps"},{id:"cod",name:"Cash on Delivery",icon:oo,description:"Pay on delivery/pickup"}],E=i.filter(F=>F.isOpen),_=o.filter(F=>F.restaurantId===c&&F.available),I=F=>{m(V=>V.find(ie=>ie.id===F)?V.map(ie=>ie.id===F?{...ie,quantity:ie.quantity+1}:ie):[...V,{id:F,quantity:1}]),z.success("Added to cart!")},D=(F,V)=>{m(W=>W.map(ie=>{if(ie.id===F){const Be=ie.quantity+V;return Be>0?{...ie,quantity:Be}:ie}return ie}).filter(ie=>ie.quantity>0))},P=()=>h.reduce((F,V)=>{const W=o.find(ie=>ie.id===V.id);return F+(W?W.price*V.quantity:0)},0),he=()=>h.map(F=>{const V=o.find(W=>W.id===F.id);return V?{...V,quantity:F.quantity}:null}).filter(Boolean),et=F=>{d(F),m([]),g("menu")},Ut=()=>{if(h.length===0){z.error("Your cart is empty");return}g("checkout")},ae=F=>{C(F),g(F==="delivery"?"address":"payment")},q=()=>{if(!R.trim()){z.error("Please enter delivery address");return}if(!O.name.trim()||!O.phone.trim()){z.error("Please enter your name and phone number");return}if(!ln(O.phone)){z.error("Please enter a valid 10-digit Indian phone number");return}g("payment")},X=async()=>{if(!r||!c){z.error("Please ensure you are logged in and have selected a restaurant");return}if(A==="card"){if(!co(b.number)){z.error("Please enter a valid 16-digit card number");return}if(!uo(b.cvv)){z.error("Please enter a valid 3-digit CVV");return}if(!ho(b.expiry)){z.error("Please enter a valid expiry date (MM/YY)");return}if(!b.name.trim()){z.error("Please enter cardholder name");return}}const F=he(),V=P();if(A==="wallet"){if((r.walletBalance||0)<V){z.error("Insufficient wallet balance");return}s((r.walletBalance||0)-V)}const W=i.find(Be=>Be.id===c),ie={userId:r.id,restaurantId:c,items:F,status:"pending",type:v,total:V,customerName:O.name,customerPhone:O.phone,createdAt:new Date,paymentMethod:A};v==="delivery"&&(ie.address=R);try{await l(ie),await J(ie,W,r),g("confirmation")}catch(Be){console.error("Order error:",Be)}},J=async(F,V,W)=>(console.log("Sending order notifications:",{userEmail:W.email||W.phone,restaurantEmail:V==null?void 0:V.ownerCredentials.username,orderDetails:F}),new Promise(ie=>setTimeout(ie,1e3)));return t?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-2 sm:p-4",children:a.jsxs("div",{className:"bg-white rounded-lg sm:rounded-xl w-full max-w-6xl max-h-[95vh] sm:max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex justify-between items-center p-4 sm:p-6 border-b",children:[a.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Order Food"}),a.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[h.length>0&&a.jsxs("div",{className:"flex items-center bg-red-100 text-red-800 px-2 sm:px-3 py-1 rounded-full text-xs sm:text-sm",children:[a.jsx(Jn,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1"}),a.jsxs("span",{children:[h.reduce((F,V)=>F+V.quantity,0)," items - ₹",P().toFixed(2)]})]}),a.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 p-2",children:a.jsx(ai,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]})]}),f==="restaurants"&&a.jsxs("div",{className:"p-4 sm:p-6",children:[a.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-4 sm:mb-6",children:"Available Restaurants, Hotels & Food Places"}),E.length===0?a.jsxs("div",{className:"text-center py-8 sm:py-12",children:[a.jsx(Jn,{className:"h-10 w-10 sm:h-12 sm:w-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:"No restaurants available at the moment"})]}):a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:E.map(F=>a.jsxs("div",{onClick:()=>et(F.id),className:"border rounded-lg sm:rounded-xl p-3 sm:p-4 hover:shadow-lg transition-shadow cursor-pointer group",children:[F.images[0]&&a.jsx("img",{src:F.images[0],alt:F.name,className:"w-full h-32 sm:h-40 object-cover rounded-lg mb-3 sm:mb-4 group-hover:scale-105 transition-transform"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsx("h4",{className:"font-semibold text-gray-900 text-sm sm:text-base",children:F.name}),a.jsx("span",{className:"bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full",children:"Open"})]}),a.jsx("p",{className:"text-xs sm:text-sm text-gray-600 capitalize",children:F.type}),a.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:F.address}),a.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:F.timings}),a.jsxs("div",{className:"flex justify-between items-center pt-2",children:[a.jsxs("span",{className:"text-base sm:text-lg font-semibold text-red-800",children:["₹",F.price,"/person"]}),a.jsx("button",{className:"bg-gradient-to-r from-red-800 to-red-900 text-white px-3 sm:px-4 py-2 rounded-lg hover:from-red-900 hover:to-red-950 transition-colors text-xs sm:text-sm",children:"View Menu"})]})]})]},F.id))})]}),f==="menu"&&a.jsxs("div",{className:"p-4 sm:p-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-4 sm:mb-6",children:[a.jsxs("div",{children:[a.jsx("button",{onClick:()=>g("restaurants"),className:"text-red-800 hover:text-red-900 mb-2 text-sm sm:text-base",children:"← Back to Restaurants"}),a.jsxs("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:[(ye=i.find(F=>F.id===c))==null?void 0:ye.name," Menu"]})]}),h.length>0&&a.jsxs("button",{onClick:Ut,className:"bg-gradient-to-r from-green-600 to-green-700 text-white px-4 sm:px-6 py-2 sm:py-3 rounded-lg hover:from-green-700 hover:to-green-800 flex items-center space-x-2 text-sm sm:text-base mt-2 sm:mt-0",children:[a.jsx(Jn,{className:"h-4 w-4 sm:h-5 sm:w-5"}),a.jsxs("span",{children:["Proceed to Checkout (₹",P().toFixed(2),")"]})]})]}),_.length===0?a.jsxs("div",{className:"text-center py-8 sm:py-12",children:[a.jsx(Jn,{className:"h-10 w-10 sm:h-12 sm:w-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:"No menu items available"})]}):a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:_.map(F=>{const V=h.find(W=>W.id===F.id);return a.jsxs("div",{className:"border rounded-lg sm:rounded-xl p-3 sm:p-4 hover:shadow-md transition-shadow",children:[a.jsx("img",{src:F.image,alt:F.name,className:"w-full h-32 sm:h-40 object-cover rounded-lg mb-3 sm:mb-4"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 text-sm sm:text-base",children:F.name}),a.jsxs("p",{className:"text-xs sm:text-sm text-gray-600",children:[F.itemCategory," • ",F.quantity]})]}),a.jsx("span",{className:`w-3 h-3 sm:w-4 sm:h-4 rounded-full ${F.category==="veg"?"bg-green-500":"bg-red-500"}`})]}),a.jsxs("div",{className:"flex justify-between items-center pt-2",children:[a.jsxs("span",{className:"text-base sm:text-lg font-semibold text-gray-900",children:["₹",F.price]}),V?a.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[a.jsx("button",{onClick:()=>D(F.id,-1),className:"p-1 bg-red-100 text-red-600 rounded-full hover:bg-red-200",children:a.jsx(n6,{className:"h-3 w-3 sm:h-4 sm:w-4"})}),a.jsx("span",{className:"px-2 sm:px-3 py-1 bg-gray-100 rounded-lg font-medium text-xs sm:text-sm",children:V.quantity}),a.jsx("button",{onClick:()=>D(F.id,1),className:"p-1 bg-green-100 text-green-600 rounded-full hover:bg-green-200",children:a.jsx(Io,{className:"h-3 w-3 sm:h-4 sm:w-4"})})]}):a.jsx("button",{onClick:()=>I(F.id),className:"bg-gradient-to-r from-red-800 to-red-900 text-white px-3 sm:px-4 py-2 rounded-lg hover:from-red-900 hover:to-red-950 transition-colors text-xs sm:text-sm",children:"Add to Cart"})]})]})]},F.id)})}),h.length>0&&a.jsxs("div",{className:"fixed bottom-4 right-4 bg-white border shadow-lg rounded-lg p-3 sm:p-4 max-w-xs sm:max-w-sm",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2 text-sm sm:text-base",children:"Cart Summary"}),a.jsx("div",{className:"space-y-1 mb-3 max-h-24 sm:max-h-32 overflow-y-auto",children:he().map(F=>a.jsxs("div",{className:"flex justify-between text-xs sm:text-sm",children:[a.jsxs("span",{children:[F.name," x ",F.quantity]}),a.jsxs("span",{children:["₹",(F.price*F.quantity).toFixed(2)]})]},F.id))}),a.jsxs("div",{className:"flex justify-between items-center pt-2 border-t",children:[a.jsxs("span",{className:"font-semibold text-sm sm:text-base",children:["Total: ₹",P().toFixed(2)]}),a.jsx("button",{onClick:Ut,className:"bg-gradient-to-r from-green-600 to-green-700 text-white px-3 sm:px-4 py-2 rounded-lg hover:from-green-700 hover:to-green-800 text-xs sm:text-sm",children:"Checkout"})]})]})]}),f==="checkout"&&a.jsxs("div",{className:"p-4 sm:p-6",children:[a.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-4 sm:mb-6",children:"Choose Order Type"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[a.jsx("button",{onClick:()=>ae("pickup"),className:"p-6 sm:p-8 border-2 border-gray-200 rounded-lg sm:rounded-xl hover:border-red-500 hover:bg-red-50 transition-all group",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Jn,{className:"h-8 w-8 sm:h-12 sm:w-12 text-red-800 mx-auto mb-3 sm:mb-4 group-hover:scale-110 transition-transform"}),a.jsx("h4",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-2",children:"Self Pickup"}),a.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:"Pick up your order from the restaurant"}),a.jsx("p",{className:"text-xs sm:text-sm text-green-600 mt-2",children:"No delivery charges"})]})}),a.jsx("button",{onClick:()=>ae("delivery"),className:"p-6 sm:p-8 border-2 border-gray-200 rounded-lg sm:rounded-xl hover:border-green-500 hover:bg-green-50 transition-all group",children:a.jsxs("div",{className:"text-center",children:[a.jsx(a6,{className:"h-8 w-8 sm:h-12 sm:w-12 text-green-600 mx-auto mb-3 sm:mb-4 group-hover:scale-110 transition-transform"}),a.jsx("h4",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-2",children:"Home Delivery"}),a.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:"Get it delivered to your doorstep"}),a.jsx("p",{className:"text-xs sm:text-sm text-orange-600 mt-2",children:"Delivery charges may apply"})]})})]}),a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2 text-sm sm:text-base",children:"Order Summary"}),a.jsxs("div",{className:"text-xs sm:text-sm text-gray-600 space-y-1",children:[a.jsxs("p",{children:["Items: ",h.reduce((F,V)=>F+V.quantity,0)]}),a.jsxs("p",{children:["Subtotal: ₹",P().toFixed(2)]})]})]}),a.jsx("button",{onClick:()=>g("menu"),className:"mt-4 text-red-800 hover:text-red-900 text-sm sm:text-base",children:"← Back to Menu"})]}),f==="address"&&a.jsxs("div",{className:"p-4 sm:p-6",children:[a.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-4 sm:mb-6",children:"Delivery Address"}),a.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(or,{className:"h-4 w-4 inline mr-1"}),"Full Delivery Address *"]}),a.jsx("textarea",{value:R,onChange:F=>j(F.target.value),className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent text-base",rows:4,placeholder:"Enter your complete delivery address with landmarks...",required:!0})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Name *"}),a.jsx("input",{type:"text",value:O.name,onChange:F=>w(V=>({...V,name:F.target.value})),className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent text-base",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number *"}),a.jsx("input",{type:"tel",value:O.phone,onChange:F=>{const V=So(F.target.value);w(W=>({...W,phone:V}))},className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent text-base",placeholder:"Enter 10-digit phone number",maxLength:10,required:!0}),O.phone&&!ln(O.phone)&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:"Please enter a valid 10-digit Indian phone number"})]})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3 mt-6 sm:mt-8",children:[a.jsx("button",{onClick:()=>g("checkout"),className:"flex-1 px-4 py-3 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 font-medium text-base",children:"Back"}),a.jsx("button",{onClick:q,className:"flex-1 bg-gradient-to-r from-red-800 to-red-900 text-white py-3 px-4 rounded-lg hover:from-red-900 hover:to-red-950 font-medium text-base",children:"Continue to Payment"})]})]}),f==="payment"&&a.jsxs("div",{className:"p-4 sm:p-6",children:[a.jsxs("div",{className:"text-center mb-4 sm:mb-6",children:[a.jsx(ao,{className:"h-10 w-10 sm:h-12 sm:w-12 text-red-800 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-2",children:"Payment"}),a.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Complete your order payment"})]}),a.jsxs("div",{className:"mb-4 sm:mb-6",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-4 text-sm sm:text-base",children:"Select Payment Method"}),a.jsx("div",{className:"space-y-3",children:x.map(F=>{const V=F.icon,W=F.id==="wallet"&&((r==null?void 0:r.walletBalance)||0)<P(),ie=F.id==="cod"&&v==="pickup",Be=W||ie;return a.jsx("button",{onClick:()=>T(F.id),disabled:Be,className:`w-full p-3 sm:p-4 border-2 rounded-lg text-left transition-all ${A===F.id?"border-red-500 bg-red-50":Be?"border-gray-200 bg-gray-50 opacity-50 cursor-not-allowed":"border-gray-200 hover:border-gray-300"}`,children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(V,{className:"h-5 w-5 sm:h-6 sm:w-6 text-gray-600 mr-3"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h5",{className:"font-medium text-gray-900 text-sm sm:text-base",children:F.name}),a.jsx("p",{className:`text-xs sm:text-sm ${Be?"text-red-500":"text-gray-600"}`,children:W?"Insufficient balance":ie?"Not available for pickup":F.description})]}),A===F.id&&a.jsx("div",{className:"w-3 h-3 sm:w-4 sm:h-4 bg-red-500 rounded-full"})]})},F.id)})})]}),a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg mb-4 sm:mb-6",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2 text-sm sm:text-base",children:"Order Summary"}),a.jsxs("div",{className:"text-xs sm:text-sm text-gray-600 space-y-1",children:[a.jsxs("p",{children:["Order Type: ",v==="delivery"?"Home Delivery":"Self Pickup"]}),v==="delivery"&&a.jsxs("p",{children:["Address: ",R]}),a.jsxs("p",{children:["Items: ",h.reduce((F,V)=>F+V.quantity,0)]}),a.jsxs("p",{className:"font-medium text-gray-900 text-sm sm:text-base",children:["Total: ₹",P().toFixed(2)]})]})]}),A==="card"&&a.jsxs("div",{className:"space-y-4 mb-4 sm:mb-6",children:[a.jsx("input",{type:"text",placeholder:"Card Number",value:b.number,onChange:F=>{const V=Ay(F.target.value);N(W=>({...W,number:V}))},className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 text-base",maxLength:19}),b.number&&!co(b.number)&&a.jsx("p",{className:"text-red-500 text-sm",children:"Please enter a valid 16-digit card number"}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:gap-4",children:[a.jsx("input",{type:"text",placeholder:"MM/YY",value:b.expiry,onChange:F=>{const V=ky(F.target.value);N(W=>({...W,expiry:V}))},className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 text-base",maxLength:5}),a.jsx("input",{type:"text",placeholder:"CVV",value:b.cvv,onChange:F=>{const V=Py(F.target.value);N(W=>({...W,cvv:V}))},className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 text-base",maxLength:3})]}),b.expiry&&!ho(b.expiry)&&a.jsx("p",{className:"text-red-500 text-sm",children:"Please enter a valid expiry date (MM/YY)"}),b.cvv&&!uo(b.cvv)&&a.jsx("p",{className:"text-red-500 text-sm",children:"Please enter a valid 3-digit CVV"}),a.jsx("input",{type:"text",placeholder:"Cardholder Name",value:b.name,onChange:F=>N(V=>({...V,name:F.target.value})),className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 text-base"})]}),A==="netbanking"&&a.jsx("div",{className:"space-y-4 mb-4 sm:mb-6",children:a.jsxs("select",{className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 text-base",children:[a.jsx("option",{value:"",children:"Select your bank"}),a.jsx("option",{value:"sbi",children:"State Bank of India"}),a.jsx("option",{value:"hdfc",children:"HDFC Bank"}),a.jsx("option",{value:"icici",children:"ICICI Bank"}),a.jsx("option",{value:"axis",children:"Axis Bank"}),a.jsx("option",{value:"kotak",children:"Kotak Mahindra Bank"})]})}),A==="upi"&&a.jsxs("div",{className:"space-y-4 mb-4 sm:mb-6",children:[a.jsx("input",{type:"text",placeholder:"Enter UPI ID (example@upi)",className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 text-base"}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Or scan QR code"}),a.jsx("div",{className:"w-24 h-24 sm:w-32 sm:h-32 bg-gray-200 rounded-lg mx-auto flex items-center justify-center",children:a.jsx("span",{className:"text-gray-500 text-xs sm:text-sm",children:"QR Code"})})]})]}),A==="wallet"&&a.jsx("div",{className:"bg-green-50 p-4 rounded-lg mb-4 sm:mb-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(ar,{className:"h-5 w-5 sm:h-6 sm:w-6 text-green-600 mr-3"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-green-900 text-sm sm:text-base",children:"Payment via Tabuloo Wallet"}),a.jsxs("p",{className:"text-xs sm:text-sm text-green-700",children:["₹",P().toFixed(2)," will be deducted from your wallet"]})]})]})}),A==="cod"&&a.jsx("div",{className:"bg-orange-50 p-4 rounded-lg mb-4 sm:mb-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(oo,{className:"h-5 w-5 sm:h-6 sm:w-6 text-orange-600 mr-3"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-orange-900 text-sm sm:text-base",children:"Cash on Delivery"}),a.jsxs("p",{className:"text-xs sm:text-sm text-orange-700",children:["Pay ₹",P().toFixed(2)," when your order is delivered"]})]})]})}),a.jsxs("div",{className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3",children:[a.jsx("button",{onClick:()=>g(v==="delivery"?"address":"checkout"),className:"flex-1 px-4 py-3 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 font-medium text-base",children:"Back"}),a.jsxs("button",{onClick:X,className:"flex-1 bg-gradient-to-r from-green-600 to-green-700 text-white py-3 px-4 rounded-lg hover:from-green-700 hover:to-green-800 font-medium text-base",children:["Place Order - ₹",P().toFixed(2)]})]})]}),f==="confirmation"&&a.jsxs("div",{className:"p-4 sm:p-6 text-center",children:[a.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(TN,{className:"h-6 w-6 sm:h-8 sm:w-8 text-green-600"})}),a.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-2",children:"Order Placed Successfully!"}),a.jsx("p",{className:"text-sm sm:text-base text-gray-600 mb-6",children:"Your order has been confirmed. You'll receive notifications about the order status and delivery updates."}),a.jsxs("div",{className:"bg-green-50 p-4 rounded-lg mb-6 text-left",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2 text-sm sm:text-base",children:"Order Details"}),a.jsxs("div",{className:"text-xs sm:text-sm text-gray-600 space-y-1",children:[a.jsxs("p",{children:["Order Type: ",v==="delivery"?"Home Delivery":"Self Pickup"]}),a.jsxs("p",{children:["Items: ",h.reduce((F,V)=>F+V.quantity,0)]}),a.jsxs("p",{children:["Total Paid: ₹",P().toFixed(2)]}),a.jsx("p",{children:"Status: Order Confirmed"})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("button",{onClick:()=>{m([]),g("restaurants")},className:"w-full bg-gradient-to-r from-red-800 to-red-900 text-white py-3 px-4 rounded-lg hover:from-red-900 hover:to-red-950 font-medium text-base",children:"Order More Food"}),a.jsx("button",{onClick:e,className:"w-full text-gray-600 py-3 px-4 rounded-lg hover:bg-gray-50 font-medium text-base",children:"Close"})]})]})]})}):null},AN=({isOpen:t,onClose:e,selectedRestaurantId:n})=>{const{user:r,updateWalletBalance:s}=Hn(),{restaurants:i,addBooking:o}=oi(),[l,c]=k.useState("details"),[d,h]=k.useState("card"),[m,f]=k.useState({number:"",expiry:"",cvv:"",name:""}),[g,v]=k.useState({restaurantId:n||"",occasion:"",date:"",time:"",customers:"1",customerNames:[""],phone:(r==null?void 0:r.phone)||"",placeForEvent:"",description:"",specialRequests:""}),C=[{id:"wallet",name:"Tabuloo Wallet",icon:ar,description:`Balance: ₹${((r==null?void 0:r.walletBalance)||0).toFixed(2)}`},{id:"netbanking",name:"Net Banking",icon:Iy,description:"All major banks supported"},{id:"card",name:"Credit/Debit Card",icon:ao,description:"Visa, Mastercard, Amex"},{id:"upi",name:"UPI",icon:Cy,description:"Pay using UPI apps"},{id:"cod",name:"Cash on Arrival",icon:oo,description:"Pay when you arrive for the event"}],A=i.find(_=>_.id===g.restaurantId),T=["Birthday Party","Anniversary","Wedding Reception","Corporate Event","Baby Shower","Graduation Party","Holiday Celebration","Reunion","Business Meeting","Product Launch","Engagement Party","Retirement Party","Housewarming","Festival Celebration","Other"],b=_=>{const I=parseInt(_)||1,D=Array(I).fill("").map((P,he)=>g.customerNames[he]||"");v(P=>({...P,customers:_,customerNames:D}))},N=(_,I)=>{const D=[...g.customerNames];D[_]=I,v(P=>({...P,customerNames:D}))},R=()=>{v(_=>({..._,customerNames:[..._.customerNames,""]}))},j=_=>{if(g.customerNames.length>1){const I=g.customerNames.filter((D,P)=>P!==_);v(D=>({...D,customerNames:I,customers:I.length.toString()}))}},O=()=>{var I;if(!A)return z.error("Please select a venue"),!1;if(!g.occasion||!g.date||!g.time)return z.error("Please fill in all required fields"),!1;if(!g.phone)return z.error("Phone number is required"),!1;if(!ln(g.phone))return z.error("Please enter a valid 10-digit Indian phone number"),!1;const _=parseInt(g.customers);if(_>A.crowdCapacity)return z.error(`Venue capacity is limited to ${A.crowdCapacity} people`),!1;if(_>2){if(!((I=g.customerNames[0])!=null&&I.trim()))return z.error("At least one customer name is required"),!1}else if(g.customerNames.filter(P=>P.trim()!=="").length!==_)return z.error("Please provide names for all attendees"),!1;return!0},w=_=>{_.preventDefault(),O()&&c("payment")},x=async()=>{if(!A||!r)return;if(d==="card"){if(!co(m.number)){z.error("Please enter a valid 16-digit card number");return}if(!uo(m.cvv)){z.error("Please enter a valid 3-digit CVV");return}if(!ho(m.expiry)){z.error("Please enter a valid expiry date (MM/YY)");return}if(!m.name.trim()){z.error("Please enter cardholder name");return}}const _=A.price*parseInt(g.customers),I=_*.5,P=(_+I)*.2;if(d==="wallet"){if((r.walletBalance||0)<P){z.error("Insufficient wallet balance");return}s((r.walletBalance||0)-P)}const he={userId:r.id,restaurantId:g.restaurantId,type:"event",date:g.date,time:g.time,customers:parseInt(g.customers),customerNames:g.customerNames.filter(et=>et.trim()!==""),phone:g.phone,status:"confirmed",paymentStatus:"paid",amount:P,createdAt:new Date,occasion:g.occasion,placeForEvent:g.placeForEvent,description:g.description,specialRequests:g.specialRequests,paymentMethod:d};try{await o(he),await E(he,A,r),c("confirmation")}catch(et){console.error("Event booking error:",et)}},E=async(_,I,D)=>(console.log("Sending event booking emails:",{userEmail:D.email||D.phone,restaurantEmail:I.ownerCredentials.username,eventDetails:_}),new Promise(P=>setTimeout(P,1e3)));return t?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-2 sm:p-4",children:a.jsxs("div",{className:"bg-white rounded-lg sm:rounded-xl w-full max-w-3xl max-h-[95vh] sm:max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex justify-between items-center p-4 sm:p-6 border-b",children:[a.jsxs("h2",{className:"text-lg sm:text-2xl font-bold text-gray-900 flex items-center",children:[a.jsx(al,{className:"h-5 w-5 sm:h-6 sm:w-6 mr-2 text-red-800"}),"Event Management & Booking"]}),a.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 p-2",children:a.jsx(ai,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),l==="details"&&a.jsxs("form",{onSubmit:w,className:"p-4 sm:p-6 space-y-4 sm:space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Venue/Restaurant *"}),a.jsxs("select",{value:g.restaurantId,onChange:_=>v(I=>({...I,restaurantId:_.target.value})),className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent text-base",required:!0,children:[a.jsx("option",{value:"",children:"Select a venue"}),i.filter(_=>_.isOpen).map(_=>a.jsxs("option",{value:_.id,children:[_.name," - Capacity: ",_.crowdCapacity," people"]},_.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Occasion *"}),a.jsxs("select",{value:g.occasion,onChange:_=>v(I=>({...I,occasion:_.target.value})),className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent text-base",required:!0,children:[a.jsx("option",{value:"",children:"Select occasion"}),T.map(_=>a.jsx("option",{value:_,children:_},_))]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Number of Persons Attending *"}),a.jsx("input",{type:"number",min:"1",max:(A==null?void 0:A.crowdCapacity)||100,required:!0,value:g.customers,onChange:_=>b(_.target.value),className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent text-base"}),A&&a.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Maximum capacity: ",A.crowdCapacity," people"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number *"}),a.jsx("input",{type:"tel",required:!0,value:g.phone,onChange:_=>{const I=So(_.target.value);v(D=>({...D,phone:I}))},className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent text-base",placeholder:"Enter 10-digit phone number",maxLength:10}),g.phone&&!ln(g.phone)&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:"Please enter a valid 10-digit Indian phone number"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Place for the Event"}),a.jsx("input",{type:"text",value:g.placeForEvent,onChange:_=>v(I=>({...I,placeForEvent:_.target.value})),className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent text-base",placeholder:"Specific area or hall within the venue (optional)"})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(Dt,{className:"h-4 w-4 inline mr-1"}),"Event Date *"]}),a.jsx("input",{type:"date",required:!0,value:g.date,onChange:_=>v(I=>({...I,date:_.target.value})),className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent text-base",min:new Date().toISOString().split("T")[0]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(ol,{className:"h-4 w-4 inline mr-1"}),"Event Time *"]}),a.jsx("input",{type:"time",required:!0,value:g.time,onChange:_=>v(I=>({...I,time:_.target.value})),className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent text-base"})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[a.jsx(lo,{className:"h-4 w-4 inline mr-1"}),"Customer Details - Name of the Customers",parseInt(g.customers)>2&&a.jsx("span",{className:"text-xs sm:text-sm text-gray-500 ml-1",children:"(Primary contact required, others optional)"})]}),a.jsxs("button",{type:"button",onClick:R,className:"flex items-center space-x-1 text-red-800 hover:text-red-900 text-sm",children:[a.jsx(Io,{className:"h-4 w-4"}),a.jsx("span",{children:"Add Attendee"})]})]}),a.jsx("div",{className:"space-y-3 max-h-48 sm:max-h-60 overflow-y-auto",children:g.customerNames.map((_,I)=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"text",placeholder:`Attendee ${I+1} name${I===0&&parseInt(g.customers)>2?" (required)":""}`,value:_,onChange:D=>N(I,D.target.value),className:"flex-1 px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent text-base",required:parseInt(g.customers)<=2||I===0}),g.customerNames.length>1&&a.jsx("button",{type:"button",onClick:()=>j(I),className:"p-2 text-red-600 hover:text-red-700 hover:bg-red-50 rounded-lg",children:a.jsx(nh,{className:"h-4 w-4"})})]},I))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Event Description"}),a.jsx("textarea",{value:g.description,onChange:_=>v(I=>({...I,description:_.target.value})),className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent text-base",rows:4,placeholder:"Brief description of your event, theme, or special requirements..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Special Requests & Additional Details"}),a.jsx("textarea",{value:g.specialRequests,onChange:_=>v(I=>({...I,specialRequests:_.target.value})),className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent text-base",rows:4,placeholder:"Any special decorations, catering preferences, equipment needs, entertainment requirements, etc..."})]}),A&&parseInt(g.customers)>0&&a.jsxs("div",{className:"bg-red-50 p-4 rounded-lg",children:[a.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Event Booking Summary"}),a.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[a.jsxs("p",{children:["Venue: ",A.name]}),a.jsxs("p",{children:["Occasion: ",g.occasion]}),a.jsxs("p",{children:["Date: ",g.date," at ",g.time]}),a.jsxs("p",{children:["Attendees: ",g.customers]}),a.jsxs("p",{children:["Base Cost: ₹",(A.price*parseInt(g.customers)).toFixed(2)]}),a.jsxs("p",{children:["Event Surcharge (50%): ₹",(A.price*parseInt(g.customers)*.5).toFixed(2)]}),a.jsxs("p",{children:["Total Amount: ₹",(A.price*parseInt(g.customers)*1.5).toFixed(2)]}),a.jsxs("p",{className:"font-medium text-red-600",children:["Advance Payment (20%): ₹",(A.price*parseInt(g.customers)*1.5*.2).toFixed(2)]})]})]}),a.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-red-800 to-red-900 text-white py-3 px-4 rounded-lg hover:from-red-900 hover:to-red-950 transition-colors flex items-center justify-center space-x-2 font-medium text-base",children:a.jsx("span",{children:"Book Event"})})]}),l==="payment"&&A&&a.jsxs("div",{className:"p-4 sm:p-6",children:[a.jsxs("div",{className:"text-center mb-4 sm:mb-6",children:[a.jsx(ao,{className:"h-10 w-10 sm:h-12 sm:w-12 text-red-800 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-2",children:"Event Payment"}),a.jsxs("p",{className:"text-sm sm:text-base text-gray-600",children:["Advance payment of ₹",(A.price*parseInt(g.customers)*1.5*.2).toFixed(2)," required"]})]}),a.jsxs("div",{className:"mb-4 sm:mb-6",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-4 text-sm sm:text-base",children:"Select Payment Method"}),a.jsx("div",{className:"space-y-3",children:C.map(_=>{const I=_.icon,D=A.price*parseInt(g.customers)*1.5*.2,P=_.id==="wallet"&&((r==null?void 0:r.walletBalance)||0)<D;return a.jsx("button",{onClick:()=>h(_.id),disabled:P,className:`w-full p-3 sm:p-4 border-2 rounded-lg text-left transition-all ${d===_.id?"border-red-500 bg-red-50":P?"border-gray-200 bg-gray-50 opacity-50 cursor-not-allowed":"border-gray-200 hover:border-gray-300"}`,children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(I,{className:"h-5 w-5 sm:h-6 sm:w-6 text-gray-600 mr-3"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h5",{className:"font-medium text-gray-900 text-sm sm:text-base",children:_.name}),a.jsx("p",{className:`text-xs sm:text-sm ${P?"text-red-500":"text-gray-600"}`,children:P?"Insufficient balance":_.description})]}),d===_.id&&a.jsx("div",{className:"w-3 h-3 sm:w-4 sm:h-4 bg-red-500 rounded-full"})]})},_.id)})})]}),a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg mb-4 sm:mb-6",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2 text-sm sm:text-base",children:"Event Summary"}),a.jsxs("div",{className:"text-xs sm:text-sm text-gray-600 space-y-1",children:[a.jsxs("p",{children:["Venue: ",A.name]}),a.jsxs("p",{children:["Occasion: ",g.occasion]}),a.jsxs("p",{children:["Date & Time: ",g.date," at ",g.time]}),a.jsxs("p",{children:["Attendees: ",g.customers]}),a.jsxs("p",{children:["Contact: ",g.phone]}),a.jsxs("p",{children:["Total: ₹",(A.price*parseInt(g.customers)*1.5).toFixed(2)]}),a.jsxs("p",{className:"font-medium text-red-600",children:["Advance: ₹",(A.price*parseInt(g.customers)*1.5*.2).toFixed(2)]})]})]}),d==="card"&&a.jsxs("div",{className:"space-y-4 mb-4 sm:mb-6",children:[a.jsx("input",{type:"text",placeholder:"Card Number",value:m.number,onChange:_=>{const I=Ay(_.target.value);f(D=>({...D,number:I}))},className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 text-base",maxLength:19}),m.number&&!co(m.number)&&a.jsx("p",{className:"text-red-500 text-sm",children:"Please enter a valid 16-digit card number"}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:gap-4",children:[a.jsx("input",{type:"text",placeholder:"MM/YY",value:m.expiry,onChange:_=>{const I=ky(_.target.value);f(D=>({...D,expiry:I}))},className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 text-base",maxLength:5}),a.jsx("input",{type:"text",placeholder:"CVV",value:m.cvv,onChange:_=>{const I=Py(_.target.value);f(D=>({...D,cvv:I}))},className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 text-base",maxLength:3})]}),m.expiry&&!ho(m.expiry)&&a.jsx("p",{className:"text-red-500 text-sm",children:"Please enter a valid expiry date (MM/YY)"}),m.cvv&&!uo(m.cvv)&&a.jsx("p",{className:"text-red-500 text-sm",children:"Please enter a valid 3-digit CVV"}),a.jsx("input",{type:"text",placeholder:"Cardholder Name",value:m.name,onChange:_=>f(I=>({...I,name:_.target.value})),className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 text-base"})]}),d==="netbanking"&&a.jsx("div",{className:"space-y-4 mb-4 sm:mb-6",children:a.jsxs("select",{className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 text-base",children:[a.jsx("option",{value:"",children:"Select your bank"}),a.jsx("option",{value:"sbi",children:"State Bank of India"}),a.jsx("option",{value:"hdfc",children:"HDFC Bank"}),a.jsx("option",{value:"icici",children:"ICICI Bank"}),a.jsx("option",{value:"axis",children:"Axis Bank"}),a.jsx("option",{value:"kotak",children:"Kotak Mahindra Bank"})]})}),d==="upi"&&a.jsxs("div",{className:"space-y-4 mb-4 sm:mb-6",children:[a.jsx("input",{type:"text",placeholder:"Enter UPI ID (example@upi)",className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 text-base"}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Or scan QR code"}),a.jsx("div",{className:"w-24 h-24 sm:w-32 sm:h-32 bg-gray-200 rounded-lg mx-auto flex items-center justify-center",children:a.jsx("span",{className:"text-gray-500 text-xs sm:text-sm",children:"QR Code"})})]})]}),d==="wallet"&&a.jsx("div",{className:"bg-green-50 p-4 rounded-lg mb-4 sm:mb-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(ar,{className:"h-5 w-5 sm:h-6 sm:w-6 text-green-600 mr-3"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-green-900 text-sm sm:text-base",children:"Payment via Tabuloo Wallet"}),a.jsxs("p",{className:"text-xs sm:text-sm text-green-700",children:["₹",(A.price*parseInt(g.customers)*1.5*.2).toFixed(2)," will be deducted from your wallet"]})]})]})}),d==="cod"&&a.jsx("div",{className:"bg-orange-50 p-4 rounded-lg mb-4 sm:mb-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(oo,{className:"h-5 w-5 sm:h-6 sm:w-6 text-orange-600 mr-3"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-orange-900 text-sm sm:text-base",children:"Cash on Arrival"}),a.jsxs("p",{className:"text-xs sm:text-sm text-orange-700",children:["Pay ₹",(A.price*parseInt(g.customers)*1.5*.2).toFixed(2)," when you arrive for the event"]})]})]})}),a.jsxs("div",{className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3",children:[a.jsx("button",{onClick:()=>c("details"),className:"flex-1 px-4 py-3 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 font-medium text-base",children:"Back"}),a.jsxs("button",{onClick:x,className:"flex-1 bg-gradient-to-r from-red-800 to-red-900 text-white py-3 px-4 rounded-lg hover:from-red-900 hover:to-red-950 font-medium text-base",children:["Pay ₹",(A.price*parseInt(g.customers||"0")*1.5*.2).toFixed(2)]})]})]}),l==="confirmation"&&A&&a.jsxs("div",{className:"p-4 sm:p-6 text-center",children:[a.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(TN,{className:"h-6 w-6 sm:h-8 sm:w-8 text-red-600"})}),a.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-2",children:"Event Booked Successfully!"}),a.jsx("p",{className:"text-sm sm:text-base text-gray-600 mb-6",children:"Your event has been confirmed. Booking details have been sent to both you and the venue via email."}),a.jsxs("div",{className:"bg-red-50 p-4 rounded-lg mb-6 text-left",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2 text-sm sm:text-base",children:"Event Details"}),a.jsxs("div",{className:"text-xs sm:text-sm text-gray-600 space-y-1",children:[a.jsxs("p",{children:["Venue: ",A.name]}),a.jsxs("p",{children:["Occasion: ",g.occasion]}),a.jsxs("p",{children:["Date & Time: ",g.date," at ",g.time]}),a.jsxs("p",{children:["Attendees: ",g.customers]}),a.jsxs("p",{children:["Contact: ",g.phone]}),a.jsxs("p",{children:["Advance Paid: ₹",(A.price*parseInt(g.customers)*1.5*.2).toFixed(2)]})]})]}),a.jsx("button",{onClick:e,className:"w-full bg-gradient-to-r from-red-800 to-red-900 text-white py-3 px-4 rounded-lg hover:from-red-900 hover:to-red-950 font-medium text-base",children:"Done"})]})]})}):null},f6=()=>{var b;const{user:t,logout:e}=Hn(),n=Eg(),[r,s]=k.useState(!1),[i,o]=k.useState(!1),[l,c]=k.useState(!1),[d,h]=k.useState(!1),[m,f]=k.useState("public_user"),[g,v]=k.useState(!1),C=N=>{f(N),h(!0),v(!1)},A=()=>{e(),z.success("Logout successful!"),v(!1)},T=[{id:"book-table",title:"Book Table",icon:Dt,color:"text-red-800 hover:text-red-900",action:()=>{s(!0),v(!1)}},{id:"order-food",title:"Order Food",icon:Jn,color:"text-red-800 hover:text-red-900",action:()=>{o(!0),v(!1)}},{id:"event-management",title:"Event Management",icon:al,color:"text-red-800 hover:text-red-900",action:()=>{c(!0),v(!1)}}];return a.jsx(a.Fragment,{children:a.jsx("header",{className:"bg-white shadow-md sticky top-0 z-50",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"flex justify-between items-center h-16",children:[a.jsx("div",{className:"flex items-center",children:a.jsxs("div",{className:"flex-shrink-0 flex items-center cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>n("/"),children:[a.jsx("img",{src:"/tabuloo-logo.png",alt:"Tabuloo",className:"h-12 w-auto mr-2 sm:h-16 sm:mr-3"}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(or,{className:"h-4 w-4 sm:h-5 sm:w-5 text-red-800 mr-1 sm:mr-2"}),a.jsx("span",{className:"text-xl sm:text-2xl font-black bg-gradient-to-r from-red-800 to-red-900 bg-clip-text text-transparent tracking-wide",children:"TABULOO"})]})]})}),a.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[t&&t.role==="public_user"&&a.jsx("div",{className:"flex items-center space-x-6",children:T.map(N=>{const R=N.icon;return a.jsxs("button",{onClick:N.action,className:`flex items-center space-x-2 px-4 py-2 rounded-lg transition-all hover:bg-red-50 ${N.color}`,children:[a.jsx(R,{className:"h-5 w-5"}),a.jsx("span",{className:"font-medium",children:N.title})]},N.id)})}),t?a.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[t.role==="public_user"&&a.jsxs("button",{onClick:()=>n("/profile"),className:"flex items-center space-x-2 px-3 py-2 text-gray-600 hover:text-red-800 hover:bg-red-50 rounded-lg transition-colors",children:[a.jsx(Ss,{className:"h-5 w-5"}),a.jsx("span",{className:"text-sm font-medium",children:"Profile"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-sm text-gray-700 font-medium",children:t.name}),a.jsx("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded-full",children:t.role.replace("_"," ")})]}),a.jsxs("button",{onClick:A,className:"flex items-center space-x-1 text-gray-600 hover:text-red-800 transition-colors p-2 rounded-lg hover:bg-red-50",children:[a.jsx(e6,{className:"h-4 w-4"}),a.jsx("span",{className:"text-sm",children:"Logout"})]})]}):a.jsx("div",{className:"hidden md:flex items-center space-x-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>C("admin"),className:"p-2 text-gray-600 hover:text-red-800 hover:bg-red-50 rounded-full transition-colors",title:"Admin Login",children:a.jsx(r1,{className:"h-5 w-5"})}),a.jsx("button",{onClick:()=>C("restaurant_owner"),className:"p-2 text-gray-600 hover:text-red-800 hover:bg-red-50 rounded-full transition-colors",title:"Restaurant Owner Login",children:a.jsx(sp,{className:"h-5 w-5"})}),a.jsx("button",{onClick:()=>C("public_user"),className:"bg-gradient-to-r from-red-800 to-red-900 text-white px-6 py-2 rounded-full hover:from-red-900 hover:to-red-950 transition-all font-medium",children:"Sign In"})]})})]}),a.jsx("button",{onClick:()=>v(!g),className:"md:hidden p-2 text-gray-700 hover:text-red-800",children:g?a.jsx(ai,{className:"h-6 w-6"}):a.jsx(t6,{className:"h-6 w-6"})})]}),g&&a.jsx("div",{className:"md:hidden absolute top-full left-0 right-0 bg-white border-t border-gray-200 shadow-lg",children:a.jsxs("div",{className:"p-4 space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Quick Actions"}),T.map(N=>a.jsxs("button",{onClick:()=>{N.action(),v(!1)},className:"w-full flex items-center space-x-3 p-3 text-left rounded-lg hover:bg-gray-50 transition-colors",children:[a.jsx(N.icon,{className:`h-5 w-5 ${N.color}`}),a.jsx("span",{className:"text-gray-700",children:N.title})]},N.title))]}),t?a.jsxs("div",{className:"space-y-2",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Account"}),a.jsxs("div",{className:"flex items-center space-x-3 p-3",children:[a.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-red-800 font-semibold",children:((b=t.name)==null?void 0:b.charAt(0).toUpperCase())||"U"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-gray-900 font-medium",children:t.name||"User"}),a.jsx("p",{className:"text-sm text-gray-500",children:t.role})]})]}),t.role==="public_user"&&a.jsx("button",{onClick:()=>{n("/profile"),v(!1)},className:"w-full text-left p-3 text-gray-700 hover:bg-gray-50 rounded-lg",children:"Profile"}),a.jsx("button",{onClick:()=>{A(),v(!1)},className:"w-full text-left p-3 text-gray-700 hover:bg-gray-50 rounded-lg",children:"Logout"})]}):a.jsxs("div",{className:"space-y-2",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Account"}),a.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[a.jsxs("button",{onClick:()=>{C("admin"),v(!1)},className:"p-3 text-center rounded-lg border border-gray-200 hover:border-red-300 hover:bg-red-50 transition-colors",children:[a.jsx(r1,{className:"h-6 w-6 mx-auto mb-1 text-gray-600"}),a.jsx("span",{className:"text-xs text-gray-600",children:"Admin"})]}),a.jsxs("button",{onClick:()=>{C("restaurant_owner"),v(!1)},className:"p-3 text-center rounded-lg border border-gray-200 hover:border-red-300 hover:bg-red-50 transition-colors",children:[a.jsx(sp,{className:"h-6 w-6 mx-auto mb-1 text-gray-600"}),a.jsx("span",{className:"text-xs text-gray-600",children:"Restaurant"})]}),a.jsxs("button",{onClick:()=>{C("public_user"),v(!1)},className:"p-3 text-center rounded-lg bg-gradient-to-r from-red-800 to-red-900 text-white hover:from-red-900 hover:to-red-950 transition-colors",children:[a.jsx(Ss,{className:"h-6 w-6 mx-auto mb-1"}),a.jsx("span",{className:"text-xs",children:"Sign In"})]})]})]})]})}),t&&r&&a.jsx(SN,{isOpen:r,onClose:()=>s(!1)}),t&&i&&a.jsx(CN,{isOpen:i,onClose:()=>o(!1)}),t&&l&&a.jsx(AN,{isOpen:l,onClose:()=>c(!1)}),d&&a.jsx(m6,{isOpen:d,onClose:()=>h(!1),authType:m})]})})})},p6=()=>a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-800 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}),PN=k.createContext({});function g6(t){const e=k.useRef(null);return e.current===null&&(e.current=t()),e.current}const Ry=typeof window<"u",y6=Ry?k.useLayoutEffect:k.useEffect,jy=k.createContext(null);function Dy(t,e){t.indexOf(e)===-1&&t.push(e)}function Vy(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const wr=(t,e,n)=>n>e?e:n<t?t:n;let ad=()=>{};const _r={},kN=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function RN(t){return typeof t=="object"&&t!==null}const jN=t=>/^0[^.\s]+$/u.test(t);function My(t){let e;return()=>(e===void 0&&(e=t()),e)}const sn=t=>t,x6=(t,e)=>n=>e(t(n)),Vl=(...t)=>t.reduce(x6),ll=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class Oy{constructor(){this.subscriptions=[]}add(e){return Dy(this.subscriptions,e),()=>Vy(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const On=t=>t*1e3,Ln=t=>t/1e3;function DN(t,e){return e?t*(1e3/e):0}const VN=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,v6=1e-7,w6=12;function _6(t,e,n,r,s){let i,o,l=0;do o=e+(n-e)/2,i=VN(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>v6&&++l<w6);return o}function Ml(t,e,n,r){if(t===e&&n===r)return sn;const s=i=>_6(i,0,1,t,n);return i=>i===0||i===1?i:VN(s(i),e,r)}const MN=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,ON=t=>e=>1-t(1-e),LN=Ml(.33,1.53,.69,.99),Ly=ON(LN),FN=MN(Ly),UN=t=>(t*=2)<1?.5*Ly(t):.5*(2-Math.pow(2,-10*(t-1))),Fy=t=>1-Math.sin(Math.acos(t)),BN=ON(Fy),$N=MN(Fy),b6=Ml(.42,0,1,1),E6=Ml(0,0,.58,1),zN=Ml(.42,0,.58,1),T6=t=>Array.isArray(t)&&typeof t[0]!="number",qN=t=>Array.isArray(t)&&typeof t[0]=="number",i1={linear:sn,easeIn:b6,easeInOut:zN,easeOut:E6,circIn:Fy,circInOut:$N,circOut:BN,backIn:Ly,backInOut:FN,backOut:LN,anticipate:UN},N6=t=>typeof t=="string",o1=t=>{if(qN(t)){ad(t.length===4);const[e,n,r,s]=t;return Ml(e,n,r,s)}else if(N6(t))return ad(i1[t]!==void 0),i1[t];return t},Rc=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],a1={value:null,addProjectionMetrics:null};function I6(t,e){let n=new Set,r=new Set,s=!1,i=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},c=0;function d(m){o.has(m)&&(h.schedule(m),t()),c++,m(l)}const h={schedule:(m,f=!1,g=!1)=>{const C=g&&s?n:r;return f&&o.add(m),C.has(m)||C.add(m),m},cancel:m=>{r.delete(m),o.delete(m)},process:m=>{if(l=m,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(d),e&&a1.value&&a1.value.frameloop[e].push(c),c=0,n.clear(),s=!1,i&&(i=!1,h.process(m))}};return h}const S6=40;function HN(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=Rc.reduce((N,R)=>(N[R]=I6(i,e?R:void 0),N),{}),{setup:l,read:c,resolveKeyframes:d,preUpdate:h,update:m,preRender:f,render:g,postRender:v}=o,C=()=>{const N=_r.useManualTiming?s.timestamp:performance.now();n=!1,_r.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(N-s.timestamp,S6),1)),s.timestamp=N,s.isProcessing=!0,l.process(s),c.process(s),d.process(s),h.process(s),m.process(s),f.process(s),g.process(s),v.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(C))},A=()=>{n=!0,r=!0,s.isProcessing||t(C)};return{schedule:Rc.reduce((N,R)=>{const j=o[R];return N[R]=(O,w=!1,x=!1)=>(n||A(),j.schedule(O,w,x)),N},{}),cancel:N=>{for(let R=0;R<Rc.length;R++)o[Rc[R]].cancel(N)},state:s,steps:o}}const{schedule:Se,cancel:ls,state:rt,steps:vm}=HN(typeof requestAnimationFrame<"u"?requestAnimationFrame:sn,!0);let lu;function C6(){lu=void 0}const Vt={now:()=>(lu===void 0&&Vt.set(rt.isProcessing||_r.useManualTiming?rt.timestamp:performance.now()),lu),set:t=>{lu=t,queueMicrotask(C6)}},WN=t=>e=>typeof e=="string"&&e.startsWith(t),Uy=WN("--"),A6=WN("var(--"),By=t=>A6(t)?P6.test(t.split("/*")[0].trim()):!1,P6=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Co={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},cl={...Co,transform:t=>wr(0,1,t)},jc={...Co,default:1},Aa=t=>Math.round(t*1e5)/1e5,$y=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function k6(t){return t==null}const R6=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,zy=(t,e)=>n=>!!(typeof n=="string"&&R6.test(n)&&n.startsWith(t)||e&&!k6(n)&&Object.prototype.hasOwnProperty.call(n,e)),KN=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,l]=r.match($y);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},j6=t=>wr(0,255,t),wm={...Co,transform:t=>Math.round(j6(t))},js={test:zy("rgb","red"),parse:KN("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+wm.transform(t)+", "+wm.transform(e)+", "+wm.transform(n)+", "+Aa(cl.transform(r))+")"};function D6(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const ip={test:zy("#"),parse:D6,transform:js.transform},Ol=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Cr=Ol("deg"),Fn=Ol("%"),ee=Ol("px"),V6=Ol("vh"),M6=Ol("vw"),l1={...Fn,parse:t=>Fn.parse(t)/100,transform:t=>Fn.transform(t*100)},ki={test:zy("hsl","hue"),parse:KN("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Fn.transform(Aa(e))+", "+Fn.transform(Aa(n))+", "+Aa(cl.transform(r))+")"},ze={test:t=>js.test(t)||ip.test(t)||ki.test(t),parse:t=>js.test(t)?js.parse(t):ki.test(t)?ki.parse(t):ip.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?js.transform(t):ki.transform(t),getAnimatableNone:t=>{const e=ze.parse(t);return e.alpha=0,ze.transform(e)}},O6=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function L6(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match($y))==null?void 0:e.length)||0)+(((n=t.match(O6))==null?void 0:n.length)||0)>0}const GN="number",QN="color",F6="var",U6="var(",c1="${}",B6=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ul(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const l=e.replace(B6,c=>(ze.test(c)?(r.color.push(i),s.push(QN),n.push(ze.parse(c))):c.startsWith(U6)?(r.var.push(i),s.push(F6),n.push(c)):(r.number.push(i),s.push(GN),n.push(parseFloat(c))),++i,c1)).split(c1);return{values:n,split:l,indexes:r,types:s}}function YN(t){return ul(t).values}function XN(t){const{split:e,types:n}=ul(t),r=e.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=e[o],s[o]!==void 0){const l=n[o];l===GN?i+=Aa(s[o]):l===QN?i+=ze.transform(s[o]):i+=s[o]}return i}}const $6=t=>typeof t=="number"?0:ze.test(t)?ze.getAnimatableNone(t):t;function z6(t){const e=YN(t);return XN(t)(e.map($6))}const cs={test:L6,parse:YN,createTransformer:XN,getAnimatableNone:z6};function _m(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function q6({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const l=n<.5?n*(1+e):n+e-n*e,c=2*n-l;s=_m(c,l,t+1/3),i=_m(c,l,t),o=_m(c,l,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function ld(t,e){return n=>n>0?e:t}const Pe=(t,e,n)=>t+(e-t)*n,bm=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},H6=[ip,js,ki],W6=t=>H6.find(e=>e.test(t));function u1(t){const e=W6(t);if(!e)return!1;let n=e.parse(t);return e===ki&&(n=q6(n)),n}const d1=(t,e)=>{const n=u1(t),r=u1(e);if(!n||!r)return ld(t,e);const s={...n};return i=>(s.red=bm(n.red,r.red,i),s.green=bm(n.green,r.green,i),s.blue=bm(n.blue,r.blue,i),s.alpha=Pe(n.alpha,r.alpha,i),js.transform(s))},op=new Set(["none","hidden"]);function K6(t,e){return op.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function G6(t,e){return n=>Pe(t,e,n)}function qy(t){return typeof t=="number"?G6:typeof t=="string"?By(t)?ld:ze.test(t)?d1:X6:Array.isArray(t)?JN:typeof t=="object"?ze.test(t)?d1:Q6:ld}function JN(t,e){const n=[...t],r=n.length,s=t.map((i,o)=>qy(i)(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function Q6(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=qy(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function Y6(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const i=e.types[s],o=t.indexes[i][r[i]],l=t.values[o]??0;n[s]=l,r[i]++}return n}const X6=(t,e)=>{const n=cs.createTransformer(e),r=ul(t),s=ul(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?op.has(t)&&!s.values.length||op.has(e)&&!r.values.length?K6(t,e):Vl(JN(Y6(r,s),s.values),n):ld(t,e)};function ZN(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Pe(t,e,n):qy(t)(t,e)}const J6=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Se.update(e,n),stop:()=>ls(e),now:()=>rt.isProcessing?rt.timestamp:Vt.now()}},eI=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=Math.round(t(i/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},cd=2e4;function Hy(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<cd;)e+=n,r=t.next(e);return e>=cd?1/0:e}function Z6(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(Hy(r),cd);return{type:"keyframes",ease:i=>r.next(s*i).value/e,duration:Ln(s)}}const eL=5;function tI(t,e,n){const r=Math.max(e-eL,0);return DN(n-t(r),e-r)}const Ve={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Em=.001;function tL({duration:t=Ve.duration,bounce:e=Ve.bounce,velocity:n=Ve.velocity,mass:r=Ve.mass}){let s,i,o=1-e;o=wr(Ve.minDamping,Ve.maxDamping,o),t=wr(Ve.minDuration,Ve.maxDuration,Ln(t)),o<1?(s=d=>{const h=d*o,m=h*t,f=h-n,g=ap(d,o),v=Math.exp(-m);return Em-f/g*v},i=d=>{const m=d*o*t,f=m*n+n,g=Math.pow(o,2)*Math.pow(d,2)*t,v=Math.exp(-m),C=ap(Math.pow(d,2),o);return(-s(d)+Em>0?-1:1)*((f-g)*v)/C}):(s=d=>{const h=Math.exp(-d*t),m=(d-n)*t+1;return-Em+h*m},i=d=>{const h=Math.exp(-d*t),m=(n-d)*(t*t);return h*m});const l=5/t,c=rL(s,i,l);if(t=On(t),isNaN(c))return{stiffness:Ve.stiffness,damping:Ve.damping,duration:t};{const d=Math.pow(c,2)*r;return{stiffness:d,damping:o*2*Math.sqrt(r*d),duration:t}}}const nL=12;function rL(t,e,n){let r=n;for(let s=1;s<nL;s++)r=r-t(r)/e(r);return r}function ap(t,e){return t*Math.sqrt(1-e*e)}const sL=["duration","bounce"],iL=["stiffness","damping","mass"];function h1(t,e){return e.some(n=>t[n]!==void 0)}function oL(t){let e={velocity:Ve.velocity,stiffness:Ve.stiffness,damping:Ve.damping,mass:Ve.mass,isResolvedFromDuration:!1,...t};if(!h1(t,iL)&&h1(t,sL))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*wr(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Ve.mass,stiffness:s,damping:i}}else{const n=tL(t);e={...e,...n,mass:Ve.mass},e.isResolvedFromDuration=!0}return e}function ud(t=Ve.visualDuration,e=Ve.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:d,mass:h,duration:m,velocity:f,isResolvedFromDuration:g}=oL({...n,velocity:-Ln(n.velocity||0)}),v=f||0,C=d/(2*Math.sqrt(c*h)),A=o-i,T=Ln(Math.sqrt(c/h)),b=Math.abs(A)<5;r||(r=b?Ve.restSpeed.granular:Ve.restSpeed.default),s||(s=b?Ve.restDelta.granular:Ve.restDelta.default);let N;if(C<1){const j=ap(T,C);N=O=>{const w=Math.exp(-C*T*O);return o-w*((v+C*T*A)/j*Math.sin(j*O)+A*Math.cos(j*O))}}else if(C===1)N=j=>o-Math.exp(-T*j)*(A+(v+T*A)*j);else{const j=T*Math.sqrt(C*C-1);N=O=>{const w=Math.exp(-C*T*O),x=Math.min(j*O,300);return o-w*((v+C*T*A)*Math.sinh(x)+j*A*Math.cosh(x))/j}}const R={calculatedDuration:g&&m||null,next:j=>{const O=N(j);if(g)l.done=j>=m;else{let w=j===0?v:0;C<1&&(w=j===0?On(v):tI(N,j,O));const x=Math.abs(w)<=r,E=Math.abs(o-O)<=s;l.done=x&&E}return l.value=l.done?o:O,l},toString:()=>{const j=Math.min(Hy(R),cd),O=eI(w=>R.next(j*w).value,j,30);return j+"ms "+O},toTransition:()=>{}};return R}ud.applyToOptions=t=>{const e=Z6(t,100,ud);return t.ease=e.ease,t.duration=On(e.duration),t.type="keyframes",t};function lp({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:h}){const m=t[0],f={done:!1,value:m},g=x=>l!==void 0&&x<l||c!==void 0&&x>c,v=x=>l===void 0?c:c===void 0||Math.abs(l-x)<Math.abs(c-x)?l:c;let C=n*e;const A=m+C,T=o===void 0?A:o(A);T!==A&&(C=T-m);const b=x=>-C*Math.exp(-x/r),N=x=>T+b(x),R=x=>{const E=b(x),_=N(x);f.done=Math.abs(E)<=d,f.value=f.done?T:_};let j,O;const w=x=>{g(f.value)&&(j=x,O=ud({keyframes:[f.value,v(f.value)],velocity:tI(N,x,f.value),damping:s,stiffness:i,restDelta:d,restSpeed:h}))};return w(0),{calculatedDuration:null,next:x=>{let E=!1;return!O&&j===void 0&&(E=!0,R(x),w(x)),j!==void 0&&x>=j?O.next(x-j):(!E&&R(x),f)}}}function aL(t,e,n){const r=[],s=n||_r.mix||ZN,i=t.length-1;for(let o=0;o<i;o++){let l=s(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||sn:e;l=Vl(c,l)}r.push(l)}return r}function lL(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(ad(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=aL(e,r,s),c=l.length,d=h=>{if(o&&h<t[0])return e[0];let m=0;if(c>1)for(;m<t.length-2&&!(h<t[m+1]);m++);const f=ll(t[m],t[m+1],h);return l[m](f)};return n?h=>d(wr(t[0],t[i-1],h)):d}function cL(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=ll(0,e,r);t.push(Pe(n,1,s))}}function uL(t){const e=[0];return cL(e,t.length-1),e}function dL(t,e){return t.map(n=>n*e)}function hL(t,e){return t.map(()=>e||zN).splice(0,t.length-1)}function Pa({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=T6(r)?r.map(o1):o1(r),i={done:!1,value:e[0]},o=dL(n&&n.length===e.length?n:uL(e),t),l=lL(o,e,{ease:Array.isArray(s)?s:hL(e,s)});return{calculatedDuration:t,next:c=>(i.value=l(c),i.done=c>=t,i)}}const mL=t=>t!==null;function Wy(t,{repeat:e,repeatType:n="loop"},r,s=1){const i=t.filter(mL),l=s<0||e&&n!=="loop"&&e%2===1?0:i.length-1;return!l||r===void 0?i[l]:r}const fL={decay:lp,inertia:lp,tween:Pa,keyframes:Pa,spring:ud};function nI(t){typeof t.type=="string"&&(t.type=fL[t.type])}class Ky{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const pL=t=>t/100;class Gy extends Ky{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==Vt.now()&&this.tick(Vt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;nI(e);const{type:n=Pa,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=e;let{keyframes:l}=e;const c=n||Pa;c!==Pa&&typeof l[0]!="number"&&(this.mixKeyframes=Vl(pL,ZN(l[0],l[1])),l=[0,100]);const d=c({...e,keyframes:l});i==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...l].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=Hy(d));const{calculatedDuration:h}=d;this.calculatedDuration=h,this.resolvedDuration=h+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=d}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:d=0,keyframes:h,repeat:m,repeatType:f,repeatDelay:g,type:v,onUpdate:C,finalKeyframe:A}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const T=this.currentTime-d*(this.playbackSpeed>=0?1:-1),b=this.playbackSpeed>=0?T<0:T>s;this.currentTime=Math.max(T,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let N=this.currentTime,R=r;if(m){const x=Math.min(this.currentTime,s)/l;let E=Math.floor(x),_=x%1;!_&&x>=1&&(_=1),_===1&&E--,E=Math.min(E,m+1),!!(E%2)&&(f==="reverse"?(_=1-_,g&&(_-=g/l)):f==="mirror"&&(R=o)),N=wr(0,1,_)*l}const j=b?{done:!1,value:h[0]}:R.next(N);i&&(j.value=i(j.value));let{done:O}=j;!b&&c!==null&&(O=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const w=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&O);return w&&v!==lp&&(j.value=Wy(h,this.options,A,this.speed)),C&&C(j.value),w&&this.finish(),j}then(e,n){return this.finished.then(e,n)}get duration(){return Ln(this.calculatedDuration)}get time(){return Ln(this.currentTime)}set time(e){var n;e=On(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Vt.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Ln(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:e=J6,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(i=(s=this.options).onPlay)==null||i.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Vt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function gL(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Ds=t=>t*180/Math.PI,cp=t=>{const e=Ds(Math.atan2(t[1],t[0]));return up(e)},yL={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:cp,rotateZ:cp,skewX:t=>Ds(Math.atan(t[1])),skewY:t=>Ds(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},up=t=>(t=t%360,t<0&&(t+=360),t),m1=cp,f1=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),p1=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),xL={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:f1,scaleY:p1,scale:t=>(f1(t)+p1(t))/2,rotateX:t=>up(Ds(Math.atan2(t[6],t[5]))),rotateY:t=>up(Ds(Math.atan2(-t[2],t[0]))),rotateZ:m1,rotate:m1,skewX:t=>Ds(Math.atan(t[4])),skewY:t=>Ds(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function dp(t){return t.includes("scale")?1:0}function hp(t,e){if(!t||t==="none")return dp(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=xL,s=n;else{const l=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=yL,s=l}if(!s)return dp(e);const i=r[e],o=s[1].split(",").map(wL);return typeof i=="function"?i(o):o[i]}const vL=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return hp(n,e)};function wL(t){return parseFloat(t.trim())}const Ao=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Po=new Set(Ao),g1=t=>t===Co||t===ee,_L=new Set(["x","y","z"]),bL=Ao.filter(t=>!_L.has(t));function EL(t){const e=[];return bL.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Us={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>hp(e,"x"),y:(t,{transform:e})=>hp(e,"y")};Us.translateX=Us.x;Us.translateY=Us.y;const Bs=new Set;let mp=!1,fp=!1,pp=!1;function rI(){if(fp){const t=Array.from(Bs).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=EL(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var l;(l=r.getValue(i))==null||l.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}fp=!1,mp=!1,Bs.forEach(t=>t.complete(pp)),Bs.clear()}function sI(){Bs.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(fp=!0)})}function TL(){pp=!0,sI(),rI(),pp=!1}class Qy{constructor(e,n,r,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Bs.add(this),mp||(mp=!0,Se.read(sI),Se.resolveKeyframes(rI))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const i=s==null?void 0:s.get(),o=e[e.length-1];if(i!==void 0)e[0]=i;else if(r&&n){const l=r.readValue(n,o);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=o),s&&i===void 0&&s.set(e[0])}gL(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Bs.delete(this)}cancel(){this.state==="scheduled"&&(Bs.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const NL=t=>t.startsWith("--");function IL(t,e,n){NL(e)?t.style.setProperty(e,n):t.style[e]=n}const SL=My(()=>window.ScrollTimeline!==void 0),CL={};function AL(t,e){const n=My(t);return()=>CL[e]??n()}const iI=AL(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ua=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,y1={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ua([0,.65,.55,1]),circOut:ua([.55,0,1,.45]),backIn:ua([.31,.01,.66,-.59]),backOut:ua([.33,1.53,.69,.99])};function oI(t,e){if(t)return typeof t=="function"?iI()?eI(t,e):"ease-out":qN(t)?ua(t):Array.isArray(t)?t.map(n=>oI(n,e)||y1.easeOut):y1[t]}function PL(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:l="easeOut",times:c}={},d=void 0){const h={[e]:n};c&&(h.offset=c);const m=oI(l,s);Array.isArray(m)&&(h.easing=m);const f={delay:r,duration:s,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return d&&(f.pseudoElement=d),t.animate(h,f)}function aI(t){return typeof t=="function"&&"applyToOptions"in t}function kL({type:t,...e}){return aI(t)&&iI()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class RL extends Ky{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=e;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=e,ad(typeof e.type!="string");const d=kL(e);this.animation=PL(n,r,s,d,i),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const h=Wy(s,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(h):IL(n,r,h),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Ln(Number(e))}get time(){return Ln(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=On(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&SL()?(this.animation.timeline=e,sn):n(this)}}const lI={anticipate:UN,backInOut:FN,circInOut:$N};function jL(t){return t in lI}function DL(t){typeof t.ease=="string"&&jL(t.ease)&&(t.ease=lI[t.ease])}const x1=10;class VL extends RL{constructor(e){DL(e),nI(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const l=new Gy({...o,autoplay:!1}),c=On(this.finishedTime??this.time);n.setWithVelocity(l.sample(c-x1).value,l.sample(c).value,x1),l.stop()}}const v1=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(cs.test(t)||t==="0")&&!t.startsWith("url("));function ML(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function OL(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=v1(s,e),l=v1(i,e);return!o||!l?!1:ML(t)||(n==="spring"||aI(n))&&r}function gp(t){t.duration=0,t.type}const LL=new Set(["opacity","clipPath","filter","transform"]),FL=My(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function UL(t){var h;const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:i,type:o}=t;if(!(((h=e==null?void 0:e.owner)==null?void 0:h.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=e.owner.getProps();return FL()&&n&&LL.has(n)&&(n!=="transform"||!d)&&!c&&!r&&s!=="mirror"&&i!==0&&o!=="inertia"}const BL=40;class $L extends Ky{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:l,name:c,motionValue:d,element:h,...m}){var v;super(),this.stop=()=>{var C,A;this._animation&&(this._animation.stop(),(C=this.stopTimeline)==null||C.call(this)),(A=this.keyframeResolver)==null||A.cancel()},this.createdAt=Vt.now();const f={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,name:c,motionValue:d,element:h,...m},g=(h==null?void 0:h.KeyframeResolver)||Qy;this.keyframeResolver=new g(l,(C,A,T)=>this.onKeyframesResolved(C,A,f,!T),c,d,h),(v=this.keyframeResolver)==null||v.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:i,type:o,velocity:l,delay:c,isHandoff:d,onUpdate:h}=r;this.resolvedAt=Vt.now(),OL(e,i,o,l)||((_r.instantAnimations||!c)&&(h==null||h(Wy(e,r,n))),e[0]=e[e.length-1],gp(r),r.repeat=0);const f={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>BL?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},g=!d&&UL(f)?new VL({...f,element:f.motionValue.owner.current}):new Gy(f);g.finished.then(()=>this.notifyFinished()).catch(sn),this.pendingTimeline&&(this.stopTimeline=g.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=g}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),TL()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const zL=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function qL(t){const e=zL.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function cI(t,e,n=1){const[r,s]=qL(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return kN(o)?parseFloat(o):o}return By(s)?cI(s,e,n+1):s}function Yy(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const uI=new Set(["width","height","top","left","right","bottom",...Ao]),HL={test:t=>t==="auto",parse:t=>t},dI=t=>e=>e.test(t),hI=[Co,ee,Fn,Cr,M6,V6,HL],w1=t=>hI.find(dI(t));function WL(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||jN(t):!0}const KL=new Set(["brightness","contrast","saturate","opacity"]);function GL(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match($y)||[];if(!r)return t;const s=n.replace(r,"");let i=KL.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const QL=/\b([a-z-]*)\(.*?\)/gu,yp={...cs,getAnimatableNone:t=>{const e=t.match(QL);return e?e.map(GL).join(" "):t}},_1={...Co,transform:Math.round},YL={rotate:Cr,rotateX:Cr,rotateY:Cr,rotateZ:Cr,scale:jc,scaleX:jc,scaleY:jc,scaleZ:jc,skew:Cr,skewX:Cr,skewY:Cr,distance:ee,translateX:ee,translateY:ee,translateZ:ee,x:ee,y:ee,z:ee,perspective:ee,transformPerspective:ee,opacity:cl,originX:l1,originY:l1,originZ:ee},Xy={borderWidth:ee,borderTopWidth:ee,borderRightWidth:ee,borderBottomWidth:ee,borderLeftWidth:ee,borderRadius:ee,radius:ee,borderTopLeftRadius:ee,borderTopRightRadius:ee,borderBottomRightRadius:ee,borderBottomLeftRadius:ee,width:ee,maxWidth:ee,height:ee,maxHeight:ee,top:ee,right:ee,bottom:ee,left:ee,padding:ee,paddingTop:ee,paddingRight:ee,paddingBottom:ee,paddingLeft:ee,margin:ee,marginTop:ee,marginRight:ee,marginBottom:ee,marginLeft:ee,backgroundPositionX:ee,backgroundPositionY:ee,...YL,zIndex:_1,fillOpacity:cl,strokeOpacity:cl,numOctaves:_1},XL={...Xy,color:ze,backgroundColor:ze,outlineColor:ze,fill:ze,stroke:ze,borderColor:ze,borderTopColor:ze,borderRightColor:ze,borderBottomColor:ze,borderLeftColor:ze,filter:yp,WebkitFilter:yp},mI=t=>XL[t];function fI(t,e){let n=mI(t);return n!==yp&&(n=cs),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const JL=new Set(["auto","none","0"]);function ZL(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!JL.has(i)&&ul(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=fI(n,s)}class e5 extends Qy{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let d=e[c];if(typeof d=="string"&&(d=d.trim(),By(d))){const h=cI(d,n.current);h!==void 0&&(e[c]=h),c===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!uI.has(r)||e.length!==2)return;const[s,i]=e,o=w1(s),l=w1(i);if(o!==l)if(g1(o)&&g1(l))for(let c=0;c<e.length;c++){const d=e[c];typeof d=="string"&&(e[c]=parseFloat(d))}else Us[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||WL(e[s]))&&r.push(s);r.length&&ZL(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Us[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var l;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,o=r[i];r[i]=Us[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,d])=>{e.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function t5(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const s=document.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const pI=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function n5(t){return RN(t)&&"offsetHeight"in t}const b1=30,r5=t=>!isNaN(parseFloat(t));class s5{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var i;const s=Vt.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Vt.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=r5(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Oy);const r=this.events[e].add(n);return e==="change"?()=>{r(),Se.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Vt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>b1)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,b1);return DN(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function mo(t,e){return new s5(t,e)}const{schedule:Jy,cancel:nU}=HN(queueMicrotask,!1),dn={x:!1,y:!1};function gI(){return dn.x||dn.y}function i5(t){return t==="x"||t==="y"?dn[t]?null:(dn[t]=!0,()=>{dn[t]=!1}):dn.x||dn.y?null:(dn.x=dn.y=!0,()=>{dn.x=dn.y=!1})}function yI(t,e){const n=t5(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function E1(t){return!(t.pointerType==="touch"||gI())}function o5(t,e,n={}){const[r,s,i]=yI(t,n),o=l=>{if(!E1(l))return;const{target:c}=l,d=e(c,l);if(typeof d!="function"||!c)return;const h=m=>{E1(m)&&(d(m),c.removeEventListener("pointerleave",h))};c.addEventListener("pointerleave",h,s)};return r.forEach(l=>{l.addEventListener("pointerenter",o,s)}),i}const xI=(t,e)=>e?t===e?!0:xI(t,e.parentElement):!1,Zy=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,a5=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function l5(t){return a5.has(t.tagName)||t.tabIndex!==-1}const cu=new WeakSet;function T1(t){return e=>{e.key==="Enter"&&t(e)}}function Tm(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const c5=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=T1(()=>{if(cu.has(n))return;Tm(n,"down");const s=T1(()=>{Tm(n,"up")}),i=()=>Tm(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function N1(t){return Zy(t)&&!gI()}function u5(t,e,n={}){const[r,s,i]=yI(t,n),o=l=>{const c=l.currentTarget;if(!N1(l))return;cu.add(c);const d=e(c,l),h=(g,v)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",f),cu.has(c)&&cu.delete(c),N1(g)&&typeof d=="function"&&d(g,{success:v})},m=g=>{h(g,c===window||c===document||n.useGlobalTarget||xI(c,g.target))},f=g=>{h(g,!1)};window.addEventListener("pointerup",m,s),window.addEventListener("pointercancel",f,s)};return r.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",o,s),n5(l)&&(l.addEventListener("focus",d=>c5(d,s)),!l5(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),i}function vI(t){return RN(t)&&"ownerSVGElement"in t}function d5(t){return vI(t)&&t.tagName==="svg"}const vt=t=>!!(t&&t.getVelocity),h5=[...hI,ze,cs],m5=t=>h5.find(dI(t)),wI=k.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function f5(t=!0){const e=k.useContext(jy);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=k.useId();k.useEffect(()=>{if(t)return s(i)},[t]);const o=k.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,o]:[!0]}const _I=k.createContext({strict:!1}),I1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},fo={};for(const t in I1)fo[t]={isEnabled:e=>I1[t].some(n=>!!e[n])};function p5(t){for(const e in t)fo[e]={...fo[e],...t[e]}}const g5=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function dd(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||g5.has(t)}let bI=t=>!dd(t);function y5(t){typeof t=="function"&&(bI=e=>e.startsWith("on")?!dd(e):t(e))}try{y5(require("@emotion/is-prop-valid").default)}catch{}function x5(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(bI(s)||n===!0&&dd(s)||!e&&!dd(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}const rh=k.createContext({});function sh(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function dl(t){return typeof t=="string"||Array.isArray(t)}const e0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],t0=["initial",...e0];function ih(t){return sh(t.animate)||t0.some(e=>dl(t[e]))}function EI(t){return!!(ih(t)||t.variants)}function v5(t,e){if(ih(t)){const{initial:n,animate:r}=t;return{initial:n===!1||dl(n)?n:void 0,animate:dl(r)?r:void 0}}return t.inherit!==!1?e:{}}function w5(t){const{initial:e,animate:n}=v5(t,k.useContext(rh));return k.useMemo(()=>({initial:e,animate:n}),[S1(e),S1(n)])}function S1(t){return Array.isArray(t)?t.join(" "):t}const hl={};function _5(t){for(const e in t)hl[e]=t[e],Uy(e)&&(hl[e].isCSSVariable=!0)}function TI(t,{layout:e,layoutId:n}){return Po.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!hl[t]||t==="opacity")}const b5={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},E5=Ao.length;function T5(t,e,n){let r="",s=!0;for(let i=0;i<E5;i++){const o=Ao[i],l=t[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const d=pI(l,Xy[o]);if(!c){s=!1;const h=b5[o]||o;r+=`${h}(${d}) `}n&&(e[o]=d)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function n0(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let o=!1,l=!1;for(const c in e){const d=e[c];if(Po.has(c)){o=!0;continue}else if(Uy(c)){s[c]=d;continue}else{const h=pI(d,Xy[c]);c.startsWith("origin")?(l=!0,i[c]=h):r[c]=h}}if(e.transform||(o||n?r.transform=T5(e,t.transform,n):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:h=0}=i;r.transformOrigin=`${c} ${d} ${h}`}}const r0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function NI(t,e,n){for(const r in e)!vt(e[r])&&!TI(r,n)&&(t[r]=e[r])}function N5({transformTemplate:t},e){return k.useMemo(()=>{const n=r0();return n0(n,e,t),Object.assign({},n.vars,n.style)},[e])}function I5(t,e){const n=t.style||{},r={};return NI(r,n,t),Object.assign(r,N5(t,e)),r}function S5(t,e){const n={},r=I5(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const C5={offset:"stroke-dashoffset",array:"stroke-dasharray"},A5={offset:"strokeDashoffset",array:"strokeDasharray"};function P5(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?C5:A5;t[i.offset]=ee.transform(-r);const o=ee.transform(e),l=ee.transform(n);t[i.array]=`${o} ${l}`}function II(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...l},c,d,h){if(n0(t,l,d),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:f}=t;m.transform&&(f.transform=m.transform,delete m.transform),(f.transform||m.transformOrigin)&&(f.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),f.transform&&(f.transformBox=(h==null?void 0:h.transformBox)??"fill-box",delete m.transformBox),e!==void 0&&(m.x=e),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),s!==void 0&&P5(m,s,i,o,!1)}const SI=()=>({...r0(),attrs:{}}),CI=t=>typeof t=="string"&&t.toLowerCase()==="svg";function k5(t,e,n,r){const s=k.useMemo(()=>{const i=SI();return II(i,e,CI(r),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};NI(i,t.style,t),s.style={...i,...s.style}}return s}const R5=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function s0(t){return typeof t!="string"||t.includes("-")?!1:!!(R5.indexOf(t)>-1||/[A-Z]/u.test(t))}function j5(t,e,n,{latestValues:r},s,i=!1){const l=(s0(t)?k5:S5)(e,r,s,t),c=x5(e,typeof t=="string",i),d=t!==k.Fragment?{...c,...l,ref:n}:{},{children:h}=e,m=k.useMemo(()=>vt(h)?h.get():h,[h]);return k.createElement(t,{...d,children:m})}function C1(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function i0(t,e,n,r){if(typeof e=="function"){const[s,i]=C1(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=C1(r);e=e(n!==void 0?n:t.custom,s,i)}return e}function uu(t){return vt(t)?t.get():t}function D5({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:V5(n,r,s,t),renderState:e()}}function V5(t,e,n,r){const s={},i=r(t,{});for(const f in i)s[f]=uu(i[f]);let{initial:o,animate:l}=t;const c=ih(t),d=EI(t);e&&d&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let h=n?n.initial===!1:!1;h=h||o===!1;const m=h?l:o;if(m&&typeof m!="boolean"&&!sh(m)){const f=Array.isArray(m)?m:[m];for(let g=0;g<f.length;g++){const v=i0(t,f[g]);if(v){const{transitionEnd:C,transition:A,...T}=v;for(const b in T){let N=T[b];if(Array.isArray(N)){const R=h?N.length-1:0;N=N[R]}N!==null&&(s[b]=N)}for(const b in C)s[b]=C[b]}}}return s}const AI=t=>(e,n)=>{const r=k.useContext(rh),s=k.useContext(jy),i=()=>D5(t,e,r,s);return n?i():g6(i)};function o0(t,e,n){var i;const{style:r}=t,s={};for(const o in r)(vt(r[o])||e.style&&vt(e.style[o])||TI(o,t)||((i=n==null?void 0:n.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(s[o]=r[o]);return s}const M5=AI({scrapeMotionValuesFromProps:o0,createRenderState:r0});function PI(t,e,n){const r=o0(t,e,n);for(const s in t)if(vt(t[s])||vt(e[s])){const i=Ao.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}const O5=AI({scrapeMotionValuesFromProps:PI,createRenderState:SI}),L5=Symbol.for("motionComponentSymbol");function Ri(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function F5(t,e,n){return k.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Ri(n)&&(n.current=r))},[e])}const a0=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),U5="framerAppearId",kI="data-"+a0(U5),RI=k.createContext({});function B5(t,e,n,r,s){var C,A;const{visualElement:i}=k.useContext(rh),o=k.useContext(_I),l=k.useContext(jy),c=k.useContext(wI).reducedMotion,d=k.useRef(null);r=r||o.renderer,!d.current&&r&&(d.current=r(t,{visualState:e,parent:i,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const h=d.current,m=k.useContext(RI);h&&!h.projection&&s&&(h.type==="html"||h.type==="svg")&&$5(d.current,n,s,m);const f=k.useRef(!1);k.useInsertionEffect(()=>{h&&f.current&&h.update(n,l)});const g=n[kI],v=k.useRef(!!g&&!((C=window.MotionHandoffIsComplete)!=null&&C.call(window,g))&&((A=window.MotionHasOptimisedAnimation)==null?void 0:A.call(window,g)));return y6(()=>{h&&(f.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),h.scheduleRenderMicrotask(),v.current&&h.animationState&&h.animationState.animateChanges())}),k.useEffect(()=>{h&&(!v.current&&h.animationState&&h.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var T;(T=window.MotionHandoffMarkAsComplete)==null||T.call(window,g)}),v.current=!1))}),h}function $5(t,e,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:d,layoutCrossfade:h}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:jI(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||l&&Ri(l),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:h,layoutScroll:c,layoutRoot:d})}function jI(t){if(t)return t.options.allowProjection!==!1?t.projection:jI(t.parent)}function Nm(t,{forwardMotionProps:e=!1}={},n,r){n&&p5(n);const s=s0(t)?O5:M5;function i(l,c){let d;const h={...k.useContext(wI),...l,layoutId:z5(l)},{isStatic:m}=h,f=w5(l),g=s(l,m);if(!m&&Ry){q5();const v=H5(h);d=v.MeasureLayout,f.visualElement=B5(t,g,h,r,v.ProjectionNode)}return a.jsxs(rh.Provider,{value:f,children:[d&&f.visualElement?a.jsx(d,{visualElement:f.visualElement,...h}):null,j5(t,l,F5(g,f.visualElement,c),g,m,e)]})}i.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=k.forwardRef(i);return o[L5]=t,o}function z5({layoutId:t}){const e=k.useContext(PN).id;return e&&t!==void 0?e+"-"+t:t}function q5(t,e){k.useContext(_I).strict}function H5(t){const{drag:e,layout:n}=fo;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function W5(t,e){if(typeof Proxy>"u")return Nm;const n=new Map,r=(i,o)=>Nm(i,o,t,e),s=(i,o)=>r(i,o);return new Proxy(s,{get:(i,o)=>o==="create"?r:(n.has(o)||n.set(o,Nm(o,void 0,t,e)),n.get(o))})}function DI({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function K5({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function G5(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Im(t){return t===void 0||t===1}function xp({scale:t,scaleX:e,scaleY:n}){return!Im(t)||!Im(e)||!Im(n)}function Is(t){return xp(t)||VI(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function VI(t){return A1(t.x)||A1(t.y)}function A1(t){return t&&t!=="0%"}function hd(t,e,n){const r=t-n,s=e*r;return n+s}function P1(t,e,n,r,s){return s!==void 0&&(t=hd(t,s,r)),hd(t,n,r)+e}function vp(t,e=0,n=1,r,s){t.min=P1(t.min,e,n,r,s),t.max=P1(t.max,e,n,r,s)}function MI(t,{x:e,y:n}){vp(t.x,e.translate,e.scale,e.originPoint),vp(t.y,n.translate,n.scale,n.originPoint)}const k1=.999999999999,R1=1.0000000000001;function Q5(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let l=0;l<s;l++){i=n[l],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Di(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,MI(t,o)),r&&Is(i.latestValues)&&Di(t,i.latestValues))}e.x<R1&&e.x>k1&&(e.x=1),e.y<R1&&e.y>k1&&(e.y=1)}function ji(t,e){t.min=t.min+e,t.max=t.max+e}function j1(t,e,n,r,s=.5){const i=Pe(t.min,t.max,s);vp(t,e,n,i,r)}function Di(t,e){j1(t.x,e.x,e.scaleX,e.scale,e.originX),j1(t.y,e.y,e.scaleY,e.scale,e.originY)}function OI(t,e){return DI(G5(t.getBoundingClientRect(),e))}function Y5(t,e,n){const r=OI(t,n),{scroll:s}=e;return s&&(ji(r.x,s.offset.x),ji(r.y,s.offset.y)),r}const D1=()=>({translate:0,scale:1,origin:0,originPoint:0}),Vi=()=>({x:D1(),y:D1()}),V1=()=>({min:0,max:0}),Le=()=>({x:V1(),y:V1()}),wp={current:null},LI={current:!1};function X5(){if(LI.current=!0,!!Ry)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>wp.current=t.matches;t.addEventListener("change",e),e()}else wp.current=!1}const J5=new WeakMap;function Z5(t,e,n){for(const r in e){const s=e[r],i=n[r];if(vt(s))t.addValue(r,s);else if(vt(i))t.addValue(r,mo(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(r);t.addValue(r,mo(o!==void 0?o:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const M1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class eF{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Qy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=Vt.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,Se.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=d,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=ih(n),this.isVariantNode=EI(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...m}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in m){const g=m[f];c[f]!==void 0&&vt(g)&&g.set(c[f])}}mount(e){this.current=e,J5.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),LI.current||X5(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:wp.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ls(this.notifyUpdate),ls(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Po.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Se.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i&&i(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in fo){const n=fo[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Le()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<M1.length;r++){const s=M1[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=e[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=Z5(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=mo(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(kN(r)||jN(r))?r=parseFloat(r):!m5(r)&&cs.test(n)&&(r=fI(e,n)),this.setBaseTarget(e,vt(r)?r.get():r)),vt(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=i0(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!vt(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Oy),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Jy.render(this.render)}}class FI extends eF{constructor(){super(...arguments),this.KeyframeResolver=e5}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;vt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function UI(t,{style:e,vars:n},r,s){const i=t.style;let o;for(o in e)i[o]=e[o];s==null||s.applyProjectionStyles(i,r);for(o in n)i.setProperty(o,n[o])}function tF(t){return window.getComputedStyle(t)}class nF extends FI{constructor(){super(...arguments),this.type="html",this.renderInstance=UI}readValueFromInstance(e,n){var r;if(Po.has(n))return(r=this.projection)!=null&&r.isProjecting?dp(n):vL(e,n);{const s=tF(e),i=(Uy(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return OI(e,n)}build(e,n,r){n0(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return o0(e,n,r)}}const BI=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function rF(t,e,n,r){UI(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(BI.has(s)?s:a0(s),e.attrs[s])}class sF extends FI{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Le}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Po.has(n)){const r=mI(n);return r&&r.default||0}return n=BI.has(n)?n:a0(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return PI(e,n,r)}build(e,n,r){II(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){rF(e,n,r,s)}mount(e){this.isSVGTag=CI(e.tagName),super.mount(e)}}const iF=(t,e)=>s0(t)?new sF(e):new nF(e,{allowProjection:t!==k.Fragment});function ml(t,e,n){const r=t.getProps();return i0(r,e,n!==void 0?n:r.custom,t)}const _p=t=>Array.isArray(t);function oF(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,mo(n))}function aF(t){return _p(t)?t[t.length-1]||0:t}function lF(t,e){const n=ml(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const l=aF(i[o]);oF(t,o,l)}}function cF(t){return!!(vt(t)&&t.add)}function bp(t,e){const n=t.getValue("willChange");if(cF(n))return n.add(e);if(!n&&_r.WillChange){const r=new _r.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function $I(t){return t.props[kI]}const uF=t=>t!==null;function dF(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(uF),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const hF={type:"spring",stiffness:500,damping:25,restSpeed:10},mF=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),fF={type:"keyframes",duration:.8},pF={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},gF=(t,{keyframes:e})=>e.length>2?fF:Po.has(t)?t.startsWith("scale")?mF(e[1]):hF:pF;function yF({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:d,...h}){return!!Object.keys(h).length}const l0=(t,e,n,r={},s,i)=>o=>{const l=Yy(r,t)||{},c=l.delay||r.delay||0;let{elapsed:d=0}=r;d=d-On(c);const h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-d,onUpdate:f=>{e.set(f),l.onUpdate&&l.onUpdate(f)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:i?void 0:s};yF(l)||Object.assign(h,gF(t,h)),h.duration&&(h.duration=On(h.duration)),h.repeatDelay&&(h.repeatDelay=On(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let m=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(gp(h),h.delay===0&&(m=!0)),(_r.instantAnimations||_r.skipAnimations)&&(m=!0,gp(h),h.delay=0),h.allowFlatten=!l.type&&!l.ease,m&&!i&&e.get()!==void 0){const f=dF(h.keyframes,l);if(f!==void 0){Se.update(()=>{h.onUpdate(f),h.onComplete()});return}}return l.isSync?new Gy(h):new $L(h)};function xF({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function zI(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...l}=e;r&&(i=r);const c=[],d=s&&t.animationState&&t.animationState.getState()[s];for(const h in l){const m=t.getValue(h,t.latestValues[h]??null),f=l[h];if(f===void 0||d&&xF(d,h))continue;const g={delay:n,...Yy(i||{},h)},v=m.get();if(v!==void 0&&!m.isAnimating&&!Array.isArray(f)&&f===v&&!g.velocity)continue;let C=!1;if(window.MotionHandoffAnimation){const T=$I(t);if(T){const b=window.MotionHandoffAnimation(T,h,Se);b!==null&&(g.startTime=b,C=!0)}}bp(t,h),m.start(l0(h,m,f,t.shouldReduceMotion&&uI.has(h)?{type:!1}:g,t,C));const A=m.animation;A&&c.push(A)}return o&&Promise.all(c).then(()=>{Se.update(()=>{o&&lF(t,o)})}),c}function Ep(t,e,n={}){var c;const r=ml(t,e,n.type==="exit"?(c=t.presenceContext)==null?void 0:c.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(zI(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:h=0,staggerChildren:m,staggerDirection:f}=s;return vF(t,e,d,h,m,f,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[d,h]=l==="beforeChildren"?[i,o]:[o,i];return d().then(()=>h())}else return Promise.all([i(),o(n.delay)])}function vF(t,e,n=0,r=0,s=0,i=1,o){const l=[],c=t.variantChildren.size,d=(c-1)*s,h=typeof r=="function",m=h?f=>r(f,c):i===1?(f=0)=>f*s:(f=0)=>d-f*s;return Array.from(t.variantChildren).sort(wF).forEach((f,g)=>{f.notify("AnimationStart",e),l.push(Ep(f,e,{...o,delay:n+(h?0:r)+m(g)}).then(()=>f.notify("AnimationComplete",e)))}),Promise.all(l)}function wF(t,e){return t.sortNodePosition(e)}function _F(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>Ep(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=Ep(t,e,n);else{const s=typeof e=="function"?ml(t,e,n.custom):e;r=Promise.all(zI(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function qI(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const bF=t0.length;function HI(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?HI(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<bF;n++){const r=t0[n],s=t.props[r];(dl(s)||s===!1)&&(e[r]=s)}return e}const EF=[...e0].reverse(),TF=e0.length;function NF(t){return e=>Promise.all(e.map(({animation:n,options:r})=>_F(t,n,r)))}function IF(t){let e=NF(t),n=O1(),r=!0;const s=c=>(d,h)=>{var f;const m=ml(t,h,c==="exit"?(f=t.presenceContext)==null?void 0:f.custom:void 0);if(m){const{transition:g,transitionEnd:v,...C}=m;d={...d,...C,...v}}return d};function i(c){e=c(t)}function o(c){const{props:d}=t,h=HI(t.parent)||{},m=[],f=new Set;let g={},v=1/0;for(let A=0;A<TF;A++){const T=EF[A],b=n[T],N=d[T]!==void 0?d[T]:h[T],R=dl(N),j=T===c?b.isActive:null;j===!1&&(v=A);let O=N===h[T]&&N!==d[T]&&R;if(O&&r&&t.manuallyAnimateOnMount&&(O=!1),b.protectedKeys={...g},!b.isActive&&j===null||!N&&!b.prevProp||sh(N)||typeof N=="boolean")continue;const w=SF(b.prevProp,N);let x=w||T===c&&b.isActive&&!O&&R||A>v&&R,E=!1;const _=Array.isArray(N)?N:[N];let I=_.reduce(s(T),{});j===!1&&(I={});const{prevResolvedValues:D={}}=b,P={...D,...I},he=ae=>{x=!0,f.has(ae)&&(E=!0,f.delete(ae)),b.needsAnimating[ae]=!0;const q=t.getValue(ae);q&&(q.liveStyle=!1)};for(const ae in P){const q=I[ae],X=D[ae];if(g.hasOwnProperty(ae))continue;let J=!1;_p(q)&&_p(X)?J=!qI(q,X):J=q!==X,J?q!=null?he(ae):f.add(ae):q!==void 0&&f.has(ae)?he(ae):b.protectedKeys[ae]=!0}b.prevProp=N,b.prevResolvedValues=I,b.isActive&&(g={...g,...I}),r&&t.blockInitialAnimation&&(x=!1),x&&(!(O&&w)||E)&&m.push(..._.map(ae=>({animation:ae,options:{type:T}})))}if(f.size){const A={};if(typeof d.initial!="boolean"){const T=ml(t,Array.isArray(d.initial)?d.initial[0]:d.initial);T&&T.transition&&(A.transition=T.transition)}f.forEach(T=>{const b=t.getBaseTarget(T),N=t.getValue(T);N&&(N.liveStyle=!0),A[T]=b??null}),m.push({animation:A})}let C=!!m.length;return r&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(C=!1),r=!1,C?e(m):Promise.resolve()}function l(c,d){var m;if(n[c].isActive===d)return Promise.resolve();(m=t.variantChildren)==null||m.forEach(f=>{var g;return(g=f.animationState)==null?void 0:g.setActive(c,d)}),n[c].isActive=d;const h=o(c);for(const f in n)n[f].protectedKeys={};return h}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>n,reset:()=>{n=O1(),r=!0}}}function SF(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!qI(e,t):!1}function bs(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function O1(){return{animate:bs(!0),whileInView:bs(),whileHover:bs(),whileTap:bs(),whileDrag:bs(),whileFocus:bs(),exit:bs()}}class ys{constructor(e){this.isMounted=!1,this.node=e}update(){}}class CF extends ys{constructor(e){super(e),e.animationState||(e.animationState=IF(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();sh(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let AF=0;class PF extends ys{constructor(){super(...arguments),this.id=AF++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const kF={animation:{Feature:CF},exit:{Feature:PF}};function fl(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Ll(t){return{point:{x:t.pageX,y:t.pageY}}}const RF=t=>e=>Zy(e)&&t(e,Ll(e));function ka(t,e,n,r){return fl(t,e,RF(n),r)}const WI=1e-4,jF=1-WI,DF=1+WI,KI=.01,VF=0-KI,MF=0+KI;function It(t){return t.max-t.min}function OF(t,e,n){return Math.abs(t-e)<=n}function L1(t,e,n,r=.5){t.origin=r,t.originPoint=Pe(e.min,e.max,t.origin),t.scale=It(n)/It(e),t.translate=Pe(n.min,n.max,t.origin)-t.originPoint,(t.scale>=jF&&t.scale<=DF||isNaN(t.scale))&&(t.scale=1),(t.translate>=VF&&t.translate<=MF||isNaN(t.translate))&&(t.translate=0)}function Ra(t,e,n,r){L1(t.x,e.x,n.x,r?r.originX:void 0),L1(t.y,e.y,n.y,r?r.originY:void 0)}function F1(t,e,n){t.min=n.min+e.min,t.max=t.min+It(e)}function LF(t,e,n){F1(t.x,e.x,n.x),F1(t.y,e.y,n.y)}function U1(t,e,n){t.min=e.min-n.min,t.max=t.min+It(e)}function ja(t,e,n){U1(t.x,e.x,n.x),U1(t.y,e.y,n.y)}function Xt(t){return[t("x"),t("y")]}const GI=({current:t})=>t?t.ownerDocument.defaultView:null,B1=(t,e)=>Math.abs(t-e);function FF(t,e){const n=B1(t.x,e.x),r=B1(t.y,e.y);return Math.sqrt(n**2+r**2)}class QI{constructor(e,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Cm(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,v=FF(f.offset,{x:0,y:0})>=this.distanceThreshold;if(!g&&!v)return;const{point:C}=f,{timestamp:A}=rt;this.history.push({...C,timestamp:A});const{onStart:T,onMove:b}=this.handlers;g||(T&&T(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,f)},this.handlePointerMove=(f,g)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Sm(g,this.transformPagePoint),Se.update(this.updatePoint,!0)},this.handlePointerUp=(f,g)=>{this.end();const{onEnd:v,onSessionEnd:C,resumeAnimation:A}=this.handlers;if(this.dragSnapToOrigin&&A&&A(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=Cm(f.type==="pointercancel"?this.lastMoveEventInfo:Sm(g,this.transformPagePoint),this.history);this.startEvent&&v&&v(f,T),C&&C(f,T)},!Zy(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=s||window;const l=Ll(e),c=Sm(l,this.transformPagePoint),{point:d}=c,{timestamp:h}=rt;this.history=[{...d,timestamp:h}];const{onSessionStart:m}=n;m&&m(e,Cm(c,this.history)),this.removeListeners=Vl(ka(this.contextWindow,"pointermove",this.handlePointerMove),ka(this.contextWindow,"pointerup",this.handlePointerUp),ka(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ls(this.updatePoint)}}function Sm(t,e){return e?{point:e(t.point)}:t}function $1(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Cm({point:t},e){return{point:t,delta:$1(t,YI(e)),offset:$1(t,UF(e)),velocity:BF(e,.1)}}function UF(t){return t[0]}function YI(t){return t[t.length-1]}function BF(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=YI(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>On(e)));)n--;if(!r)return{x:0,y:0};const i=Ln(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function $F(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Pe(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Pe(n,t,r.max):Math.min(t,n)),t}function z1(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function zF(t,{top:e,left:n,bottom:r,right:s}){return{x:z1(t.x,n,s),y:z1(t.y,e,r)}}function q1(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function qF(t,e){return{x:q1(t.x,e.x),y:q1(t.y,e.y)}}function HF(t,e){let n=.5;const r=It(t),s=It(e);return s>r?n=ll(e.min,e.max-r,t.min):r>s&&(n=ll(t.min,t.max-s,e.min)),wr(0,1,n)}function WF(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Tp=.35;function KF(t=Tp){return t===!1?t=0:t===!0&&(t=Tp),{x:H1(t,"left","right"),y:H1(t,"top","bottom")}}function H1(t,e,n){return{min:W1(t,e),max:W1(t,n)}}function W1(t,e){return typeof t=="number"?t:t[e]||0}const GF=new WeakMap;class QF{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Le(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=m=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ll(m).point)},o=(m,f)=>{const{drag:g,dragPropagation:v,onDragStart:C}=this.getProps();if(g&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=i5(g),!this.openDragLock))return;this.latestPointerEvent=m,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Xt(T=>{let b=this.getAxisMotionValue(T).get()||0;if(Fn.test(b)){const{projection:N}=this.visualElement;if(N&&N.layout){const R=N.layout.layoutBox[T];R&&(b=It(R)*(parseFloat(b)/100))}}this.originPoint[T]=b}),C&&Se.postRender(()=>C(m,f)),bp(this.visualElement,"transform");const{animationState:A}=this.visualElement;A&&A.setActive("whileDrag",!0)},l=(m,f)=>{this.latestPointerEvent=m,this.latestPanInfo=f;const{dragPropagation:g,dragDirectionLock:v,onDirectionLock:C,onDrag:A}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:T}=f;if(v&&this.currentDirection===null){this.currentDirection=YF(T),this.currentDirection!==null&&C&&C(this.currentDirection);return}this.updateAxis("x",f.point,T),this.updateAxis("y",f.point,T),this.visualElement.render(),A&&A(m,f)},c=(m,f)=>{this.latestPointerEvent=m,this.latestPanInfo=f,this.stop(m,f),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>Xt(m=>{var f;return this.getAnimationState(m)==="paused"&&((f=this.getAxisMotionValue(m).animation)==null?void 0:f.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new QI(e,{onSessionStart:i,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,distanceThreshold:r,contextWindow:GI(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,s=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!r)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&Se.postRender(()=>l(r,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!Dc(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=$F(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;e&&Ri(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=zF(r.layoutBox,e):this.constraints=!1,this.elastic=KF(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Xt(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=WF(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ri(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=Y5(r,s.root,this.visualElement.getTransformPagePoint());let o=qF(s.layout.layoutBox,i);if(n){const l=n(K5(o));this.hasMutatedConstraints=!!l,l&&(o=DI(l))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=Xt(h=>{if(!Dc(h,n,this.currentDirection))return;let m=c&&c[h]||{};o&&(m={min:0,max:0});const f=s?200:1e6,g=s?40:1e7,v={type:"inertia",velocity:r?e[h]:0,bounceStiffness:f,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...i,...m};return this.startAxisValueAnimation(h,v)});return Promise.all(d).then(l)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return bp(this.visualElement,e),r.start(l0(e,r,0,n,this.visualElement,!1))}stopAnimation(){Xt(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Xt(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Xt(n=>{const{drag:r}=this.getProps();if(!Dc(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:l}=s.layout.layoutBox[n];i.set(e[n]-Pe(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ri(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Xt(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();s[o]=HF({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Xt(o=>{if(!Dc(o,e,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(Pe(c,d,s[o]))})}addListeners(){if(!this.visualElement.current)return;GF.set(this.visualElement,this);const e=this.visualElement.current,n=ka(e,"pointerdown",c=>{const{drag:d,dragListener:h=!0}=this.getProps();d&&h&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Ri(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Se.read(r);const o=fl(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(Xt(h=>{const m=this.getAxisMotionValue(h);m&&(this.originPoint[h]+=c[h].translate,m.set(m.get()+c[h].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=Tp,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function Dc(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function YF(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class XF extends ys{constructor(e){super(e),this.removeGroupControls=sn,this.removeListeners=sn,this.controls=new QF(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||sn}unmount(){this.removeGroupControls(),this.removeListeners()}}const K1=t=>(e,n)=>{t&&Se.postRender(()=>t(e,n))};class JF extends ys{constructor(){super(...arguments),this.removePointerDownListener=sn}onPointerDown(e){this.session=new QI(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:GI(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:K1(e),onStart:K1(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&Se.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=ka(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const du={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function G1(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const ea={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ee.test(t))t=parseFloat(t);else return t;const n=G1(t,e.target.x),r=G1(t,e.target.y);return`${n}% ${r}%`}},ZF={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=cs.parse(t);if(s.length>5)return r;const i=cs.createTransformer(t),o=typeof s[0]!="number"?1:0,l=n.x.scale*e.x,c=n.y.scale*e.y;s[0+o]/=l,s[1+o]/=c;const d=Pe(l,c,.5);return typeof s[2+o]=="number"&&(s[2+o]/=d),typeof s[3+o]=="number"&&(s[3+o]/=d),i(s)}};let Q1=!1;class e9 extends k.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;_5(t9),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),Q1&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),du.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:o}=r;return o&&(o.isPresent=i,Q1=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==i?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||Se.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Jy.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function XI(t){const[e,n]=f5(),r=k.useContext(PN);return a.jsx(e9,{...t,layoutGroup:r,switchLayoutGroup:k.useContext(RI),isPresent:e,safeToRemove:n})}const t9={borderRadius:{...ea,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ea,borderTopRightRadius:ea,borderBottomLeftRadius:ea,borderBottomRightRadius:ea,boxShadow:ZF};function n9(t,e,n){const r=vt(t)?t:mo(t);return r.start(l0("",r,e,n)),r.animation}const r9=(t,e)=>t.depth-e.depth;class s9{constructor(){this.children=[],this.isDirty=!1}add(e){Dy(this.children,e),this.isDirty=!0}remove(e){Vy(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(r9),this.isDirty=!1,this.children.forEach(e)}}function i9(t,e){const n=Vt.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(ls(r),t(i-e))};return Se.setup(r,!0),()=>ls(r)}const JI=["TopLeft","TopRight","BottomLeft","BottomRight"],o9=JI.length,Y1=t=>typeof t=="string"?parseFloat(t):t,X1=t=>typeof t=="number"||ee.test(t);function a9(t,e,n,r,s,i){s?(t.opacity=Pe(0,n.opacity??1,l9(r)),t.opacityExit=Pe(e.opacity??1,0,c9(r))):i&&(t.opacity=Pe(e.opacity??1,n.opacity??1,r));for(let o=0;o<o9;o++){const l=`border${JI[o]}Radius`;let c=J1(e,l),d=J1(n,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||X1(c)===X1(d)?(t[l]=Math.max(Pe(Y1(c),Y1(d),r),0),(Fn.test(d)||Fn.test(c))&&(t[l]+="%")):t[l]=d}(e.rotate||n.rotate)&&(t.rotate=Pe(e.rotate||0,n.rotate||0,r))}function J1(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const l9=ZI(0,.5,BN),c9=ZI(.5,.95,sn);function ZI(t,e,n){return r=>r<t?0:r>e?1:n(ll(t,e,r))}function Z1(t,e){t.min=e.min,t.max=e.max}function Qt(t,e){Z1(t.x,e.x),Z1(t.y,e.y)}function e_(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function t_(t,e,n,r,s){return t-=e,t=hd(t,1/n,r),s!==void 0&&(t=hd(t,1/s,r)),t}function u9(t,e=0,n=1,r=.5,s,i=t,o=t){if(Fn.test(e)&&(e=parseFloat(e),e=Pe(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=Pe(i.min,i.max,r);t===i&&(l-=e),t.min=t_(t.min,e,n,l,s),t.max=t_(t.max,e,n,l,s)}function n_(t,e,[n,r,s],i,o){u9(t,e[n],e[r],e[s],e.scale,i,o)}const d9=["x","scaleX","originX"],h9=["y","scaleY","originY"];function r_(t,e,n,r){n_(t.x,e,d9,n?n.x:void 0,r?r.x:void 0),n_(t.y,e,h9,n?n.y:void 0,r?r.y:void 0)}function s_(t){return t.translate===0&&t.scale===1}function eS(t){return s_(t.x)&&s_(t.y)}function i_(t,e){return t.min===e.min&&t.max===e.max}function m9(t,e){return i_(t.x,e.x)&&i_(t.y,e.y)}function o_(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function tS(t,e){return o_(t.x,e.x)&&o_(t.y,e.y)}function a_(t){return It(t.x)/It(t.y)}function l_(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class f9{constructor(){this.members=[]}add(e){Dy(this.members,e),e.scheduleRender()}remove(e){if(Vy(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function p9(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:d,rotate:h,rotateX:m,rotateY:f,skewX:g,skewY:v}=n;d&&(r=`perspective(${d}px) ${r}`),h&&(r+=`rotate(${h}deg) `),m&&(r+=`rotateX(${m}deg) `),f&&(r+=`rotateY(${f}deg) `),g&&(r+=`skewX(${g}deg) `),v&&(r+=`skewY(${v}deg) `)}const l=t.x.scale*e.x,c=t.y.scale*e.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const Am=["","X","Y","Z"],g9=1e3;let y9=0;function Pm(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function nS(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=$I(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Se,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&nS(r)}function rS({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},l=e==null?void 0:e()){this.id=y9++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(w9),this.nodes.forEach(T9),this.nodes.forEach(N9),this.nodes.forEach(_9)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new s9)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Oy),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=vI(o)&&!d5(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),t){let h,m=0;const f=()=>this.root.updateBlockedByResize=!1;Se.read(()=>{m=window.innerWidth}),t(o,()=>{const g=window.innerWidth;g!==m&&(m=g,this.root.updateBlockedByResize=!0,h&&h(),h=i9(f,250),du.hasAnimatedSinceResize&&(du.hasAnimatedSinceResize=!1,this.nodes.forEach(d_)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:m,hasRelativeLayoutChanged:f,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||d.getDefaultTransition()||P9,{onLayoutAnimationStart:C,onLayoutAnimationComplete:A}=d.getProps(),T=!this.targetLayout||!tS(this.targetLayout,g),b=!m&&f;if(this.options.layoutRoot||this.resumeFrom||b||m&&(T||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const N={...Yy(v,"layout"),onPlay:C,onComplete:A};(d.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N),this.setAnimationOrigin(h,b)}else m||d_(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ls(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(I9),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&nS(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const m=this.path[h];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(c_);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(u_);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(E9),this.nodes.forEach(x9),this.nodes.forEach(v9)):this.nodes.forEach(u_),this.clearAllSnapshots();const l=Vt.now();rt.delta=wr(0,1e3/60,l-rt.timestamp),rt.timestamp=l,rt.isProcessing=!0,vm.update.process(rt),vm.preRender.process(rt),vm.render.process(rt),rt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Jy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(b9),this.sharedNodes.forEach(S9)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Se.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Se.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!It(this.snapshot.measuredBox.x)&&!It(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Le(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!eS(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,h=d!==this.prevTransformTemplateValue;o&&this.instance&&(l||Is(this.latestValues)||h)&&(s(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),k9(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:o}=this.options;if(!o)return Le();const l=o.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(R9))){const{scroll:h}=this.root;h&&(ji(l.x,h.offset.x),ji(l.y,h.offset.y))}return l}removeElementScroll(o){var c;const l=Le();if(Qt(l,o),(c=this.scroll)!=null&&c.wasRoot)return l;for(let d=0;d<this.path.length;d++){const h=this.path[d],{scroll:m,options:f}=h;h!==this.root&&m&&f.layoutScroll&&(m.wasRoot&&Qt(l,o),ji(l.x,m.offset.x),ji(l.y,m.offset.y))}return l}applyTransform(o,l=!1){const c=Le();Qt(c,o);for(let d=0;d<this.path.length;d++){const h=this.path[d];!l&&h.options.layoutScroll&&h.scroll&&h!==h.root&&Di(c,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),Is(h.latestValues)&&Di(c,h.latestValues)}return Is(this.latestValues)&&Di(c,this.latestValues),c}removeTransform(o){const l=Le();Qt(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!Is(d.latestValues))continue;xp(d.latestValues)&&d.updateSnapshot();const h=Le(),m=d.measurePageBox();Qt(h,m),r_(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,h)}return Is(this.latestValues)&&r_(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==rt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var f;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(f=this.parent)!=null&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:m}=this.options;if(!(!this.layout||!(h||m))){if(this.resolvedRelativeTargetAt=rt.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Le(),this.relativeTargetOrigin=Le(),ja(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),Qt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Le(),this.targetWithTransforms=Le()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),LF(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Qt(this.target,this.layout.layoutBox),MI(this.target,this.targetDelta)):Qt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Le(),this.relativeTargetOrigin=Le(),ja(this.relativeTargetOrigin,this.target,g.target),Qt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||xp(this.parent.latestValues)||VI(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var v;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===rt.timestamp&&(c=!1),c)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;Qt(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,f=this.treeScale.y;Q5(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Le());const{target:g}=o;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(e_(this.prevProjectionDelta.x,this.projectionDelta.x),e_(this.prevProjectionDelta.y,this.projectionDelta.y)),Ra(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==f||!l_(this.projectionDelta.x,this.prevProjectionDelta.x)||!l_(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Vi(),this.projectionDelta=Vi(),this.projectionDeltaWithTransform=Vi()}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},h={...this.latestValues},m=Vi();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const f=Le(),g=c?c.source:void 0,v=this.layout?this.layout.source:void 0,C=g!==v,A=this.getStack(),T=!A||A.members.length<=1,b=!!(C&&!T&&this.options.crossfade===!0&&!this.path.some(A9));this.animationProgress=0;let N;this.mixTargetDelta=R=>{const j=R/1e3;h_(m.x,o.x,j),h_(m.y,o.y,j),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ja(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),C9(this.relativeTarget,this.relativeTargetOrigin,f,j),N&&m9(this.relativeTarget,N)&&(this.isProjectionDirty=!1),N||(N=Le()),Qt(N,this.relativeTarget)),C&&(this.animationValues=h,a9(h,d,this.latestValues,j,b,T)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,c,d;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(d=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||d.stop(),this.pendingAnimation&&(ls(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Se.update(()=>{du.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=mo(0)),this.currentAnimation=n9(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),o.onUpdate&&o.onUpdate(h)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(g9),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:h}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&sS(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||Le();const m=It(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+m;const f=It(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+f}Qt(l,c),Di(l,h),Ra(this.projectionDeltaWithTransform,this.layoutCorrected,l,h)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new f9),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&Pm("z",o,d,this.animationValues);for(let h=0;h<Am.length;h++)Pm(`rotate${Am[h]}`,o,d,this.animationValues),Pm(`skew${Am[h]}`,o,d,this.animationValues);o.render();for(const h in d)o.setStaticValue(h,d[h]),this.animationValues&&(this.animationValues[h]=d[h]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=uu(l==null?void 0:l.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=uu(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Is(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const h=d.animationValues||d.latestValues;this.applyTransformsToTarget();let m=p9(this.projectionDeltaWithTransform,this.treeScale,h);c&&(m=c(h,m)),o.transform=m;const{x:f,y:g}=this.projectionDelta;o.transformOrigin=`${f.origin*100}% ${g.origin*100}% 0`,d.animationValues?o.opacity=d===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:o.opacity=d===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const v in hl){if(h[v]===void 0)continue;const{correct:C,applyTo:A,isCSSVariable:T}=hl[v],b=m==="none"?h[v]:C(h[v],d);if(A){const N=A.length;for(let R=0;R<N;R++)o[A[R]]=b}else T?this.options.visualElement.renderState.vars[v]=b:o[v]=b}this.options.layoutId&&(o.pointerEvents=d===this?uu(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(c_),this.root.sharedNodes.clear()}}}function x9(t){t.updateLayout()}function v9(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=e.source!==t.layout.source;i==="size"?Xt(m=>{const f=o?e.measuredBox[m]:e.layoutBox[m],g=It(f);f.min=r[m].min,f.max=f.min+g}):sS(i,e.layoutBox,r)&&Xt(m=>{const f=o?e.measuredBox[m]:e.layoutBox[m],g=It(r[m]);f.max=f.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[m].max=t.relativeTarget[m].min+g)});const l=Vi();Ra(l,r,e.layoutBox);const c=Vi();o?Ra(c,t.applyTransform(s,!0),e.measuredBox):Ra(c,r,e.layoutBox);const d=!eS(l);let h=!1;if(!t.resumeFrom){const m=t.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:f,layout:g}=m;if(f&&g){const v=Le();ja(v,e.layoutBox,f.layoutBox);const C=Le();ja(C,r,g.layoutBox),tS(v,C)||(h=!0),m.options.layoutRoot&&(t.relativeTarget=C,t.relativeTargetOrigin=v,t.relativeParent=m)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function w9(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function _9(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function b9(t){t.clearSnapshot()}function c_(t){t.clearMeasurements()}function u_(t){t.isLayoutDirty=!1}function E9(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function d_(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function T9(t){t.resolveTargetDelta()}function N9(t){t.calcProjection()}function I9(t){t.resetSkewAndRotation()}function S9(t){t.removeLeadSnapshot()}function h_(t,e,n){t.translate=Pe(e.translate,0,n),t.scale=Pe(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function m_(t,e,n,r){t.min=Pe(e.min,n.min,r),t.max=Pe(e.max,n.max,r)}function C9(t,e,n,r){m_(t.x,e.x,n.x,r),m_(t.y,e.y,n.y,r)}function A9(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const P9={duration:.45,ease:[.4,0,.1,1]},f_=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),p_=f_("applewebkit/")&&!f_("chrome/")?Math.round:sn;function g_(t){t.min=p_(t.min),t.max=p_(t.max)}function k9(t){g_(t.x),g_(t.y)}function sS(t,e,n){return t==="position"||t==="preserve-aspect"&&!OF(a_(e),a_(n),.2)}function R9(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const j9=rS({attachResizeListener:(t,e)=>fl(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),km={current:void 0},iS=rS({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!km.current){const t=new j9({});t.mount(window),t.setOptions({layoutScroll:!0}),km.current=t}return km.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),D9={pan:{Feature:JF},drag:{Feature:XF,ProjectionNode:iS,MeasureLayout:XI}};function y_(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&Se.postRender(()=>i(e,Ll(e)))}class V9 extends ys{mount(){const{current:e}=this.node;e&&(this.unmount=o5(e,(n,r)=>(y_(this.node,r,"Start"),s=>y_(this.node,s,"End"))))}unmount(){}}class M9 extends ys{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Vl(fl(this.node.current,"focus",()=>this.onFocus()),fl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function x_(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&Se.postRender(()=>i(e,Ll(e)))}class O9 extends ys{mount(){const{current:e}=this.node;e&&(this.unmount=u5(e,(n,r)=>(x_(this.node,r,"Start"),(s,{success:i})=>x_(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Np=new WeakMap,Rm=new WeakMap,L9=t=>{const e=Np.get(t.target);e&&e(t)},F9=t=>{t.forEach(L9)};function U9({root:t,...e}){const n=t||document;Rm.has(n)||Rm.set(n,{});const r=Rm.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(F9,{root:t,...e})),r[s]}function B9(t,e,n){const r=U9(e);return Np.set(t,n),r.observe(t),()=>{Np.delete(t),r.unobserve(t)}}const $9={some:0,all:1};class z9 extends ys{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:$9[s]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:h,onViewportLeave:m}=this.node.getProps(),f=d?h:m;f&&f(c)};return B9(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(q9(e,n))&&this.startObserver()}unmount(){}}function q9({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const H9={inView:{Feature:z9},tap:{Feature:O9},focus:{Feature:M9},hover:{Feature:V9}},W9={layout:{ProjectionNode:iS,MeasureLayout:XI}},K9={...kF,...H9,...D9,...W9},ta=W5(K9,iF),v_=()=>{const{user:t}=Hn(),{restaurants:e,menuItems:n}=oi(),[r,s]=k.useState(!1),[i,o]=k.useState(!1),[l,c]=k.useState(!1),[d,h]=k.useState(""),[m,f]=k.useState("all"),g=[{id:"book-table",title:"Book Table",description:"Reserve your favorite table",icon:Dt,color:"bg-red-800",action:()=>s(!0)},{id:"order-food",title:"Order Food",description:"Delivery or pickup options",icon:Jn,color:"bg-red-800",action:()=>o(!0)},{id:"event-booking",title:"Event Planning",description:"Organize special occasions",icon:al,color:"bg-red-800",action:()=>c(!0)}],v=[{icon:Dt,title:"Table Reservations",description:"Book your perfect dining experience with just a few clicks",color:"from-red-800 to-red-900"},{icon:Jn,title:"Food Delivery",description:"Order delicious meals for delivery or pickup",color:"from-red-800 to-red-900"},{icon:al,title:"Event Planning",description:"Organize memorable celebrations and corporate events",color:"from-red-800 to-red-900"},{icon:GO,title:"Premium Dining",description:"Experience world-class cuisine from top restaurants",color:"from-red-800 to-red-900"}],C=[{number:"500+",label:"Restaurants",icon:u6},{number:"50K+",label:"Happy Customers",icon:lo},{number:"100K+",label:"Orders Delivered",icon:Jn},{number:"4.9",label:"Average Rating",icon:s1}],b=e.filter(R=>m==="all"||R.type===m).filter(R=>R.isOpen).slice(0,6),N=n.slice(0,10);return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-red-50 via-white to-red-100",children:[a.jsx("section",{className:"relative overflow-hidden",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-12",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12 items-center",children:[a.jsx(ta.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.8},children:a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold leading-tight",children:t?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-gray-900",children:"Welcome back,"}),a.jsx("br",{}),a.jsxs("span",{className:"bg-gradient-to-r from-red-800 to-red-900 bg-clip-text text-transparent",children:[t.name,"!"]})]}):a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"bg-gradient-to-r from-red-800 to-red-900 bg-clip-text text-transparent",children:"Discover"}),a.jsx("br",{}),a.jsx("span",{className:"text-gray-900",children:"Amazing Dining"}),a.jsx("br",{}),a.jsx("span",{className:"bg-gradient-to-r from-red-500 to-pink-500 bg-clip-text text-transparent",children:"Experiences"})]})}),a.jsx("p",{className:"text-lg sm:text-xl text-gray-600 mt-4 leading-relaxed",children:t?"Ready for your next amazing dining experience? Explore restaurants, book tables, or order your favorite meals.":"From intimate dinners to grand celebrations, Tabuloo connects you with the finest restaurants, seamless reservations, and unforgettable culinary journeys."})]})}),a.jsxs(ta.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.8,delay:.2},className:"relative",children:[a.jsxs("div",{className:"relative z-10",children:[a.jsx("img",{src:"https://images.pexels.com/photos/1267320/pexels-photo-1267320.jpeg",alt:"Fine dining experience",className:"rounded-lg sm:rounded-2xl shadow-2xl"}),a.jsxs("div",{className:"absolute -bottom-4 -left-4 sm:-bottom-6 sm:-left-6 bg-white p-3 sm:p-4 rounded-lg sm:rounded-xl shadow-lg",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(s1,{className:"h-4 w-4 sm:h-5 sm:w-5 text-yellow-400 fill-current"}),a.jsx("span",{className:"font-semibold text-sm sm:text-base",children:"4.9 Rating"})]}),a.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"50,000+ Reviews"})]}),a.jsx("div",{className:"absolute -top-4 -right-4 sm:-top-6 sm:-right-6 bg-gradient-to-r from-red-800 to-red-900 text-white p-3 sm:p-4 rounded-lg sm:rounded-xl shadow-lg",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"font-bold text-base sm:text-lg",children:"500+"}),a.jsx("div",{className:"text-xs sm:text-sm",children:"Restaurants"})]})})]}),a.jsx("div",{className:"absolute top-6 left-6 sm:top-10 sm:left-10 animate-bounce",children:a.jsx("div",{className:"bg-white p-2 sm:p-3 rounded-full shadow-lg",children:a.jsx(Dt,{className:"h-4 w-4 sm:h-6 sm:w-6 text-red-800"})})}),a.jsx("div",{className:"absolute bottom-12 right-6 sm:bottom-20 sm:right-10 animate-pulse",children:a.jsx("div",{className:"bg-white p-2 sm:p-3 rounded-full shadow-lg",children:a.jsx(XO,{className:"h-4 w-4 sm:h-6 sm:w-6 text-red-500"})})})]})]})})}),!t&&a.jsx("section",{className:"bg-gradient-to-r from-red-800 to-red-900 text-white py-12 sm:py-16",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 sm:gap-8",children:C.map((R,j)=>{const O=R.icon;return a.jsxs(ta.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:j*.1},className:"text-center",children:[a.jsx(O,{className:"h-6 w-6 sm:h-8 sm:w-8 mx-auto mb-2"}),a.jsx("div",{className:"text-2xl sm:text-3xl font-bold",children:R.number}),a.jsx("div",{className:"text-red-100 text-sm sm:text-base",children:R.label})]},j)})})})}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-12",children:[a.jsxs("section",{className:"mb-8 sm:mb-12",children:[a.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-4 sm:mb-6",children:"Quick Actions"}),a.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:g.map(R=>{const j=R.icon;return a.jsxs("button",{onClick:R.action,className:"bg-white p-3 sm:p-4 rounded-lg shadow-sm border hover:shadow-md transition-shadow group",disabled:!t,children:[a.jsx("div",{className:`w-8 h-8 sm:w-10 sm:h-10 ${R.color} rounded-lg flex items-center justify-center mb-2 sm:mb-3 group-hover:scale-110 transition-transform`,children:a.jsx(j,{className:"h-4 w-4 sm:h-5 sm:w-5 text-white"})}),a.jsx("h3",{className:"text-sm sm:text-base font-semibold text-gray-900 mb-1",children:R.title}),a.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:R.description}),!t&&a.jsx("p",{className:"text-xs text-red-700 mt-1",children:"Sign in to use this feature"})]},R.id)})})]}),a.jsx("div",{className:"mb-6 sm:mb-8",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-2 sm:space-y-0 sm:space-x-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(YO,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-600 mr-2"}),a.jsx("span",{className:"text-sm sm:text-base font-medium text-gray-700",children:"Filter:"})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:[{value:"all",label:"All Places"},{value:"restaurant",label:"Restaurants"},{value:"hotel",label:"Hotels"},{value:"resort",label:"Resorts"}].map(R=>a.jsx("button",{onClick:()=>f(R.value),className:`px-3 py-1 sm:px-4 sm:py-2 rounded-lg text-xs sm:text-sm font-medium transition-colors ${m===R.value?"bg-red-800 text-white":"bg-white text-gray-700 hover:bg-gray-50 border"}`,children:R.label},R.value))})]})}),a.jsxs("section",{className:"mb-8 sm:mb-12",children:[a.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[a.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-2 sm:mb-3",children:"Featured Places"}),a.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:"Discover the best restaurants, hotels, and food places in your area"})]}),a.jsx("div",{className:"grid grid-cols-2 gap-3 sm:gap-4",children:b.map(R=>a.jsxs("div",{className:"bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow",children:[a.jsx("img",{src:R.images[0],alt:R.name,className:"w-full h-32 sm:h-40 object-cover rounded-t-lg"}),a.jsxs("div",{className:"p-3 sm:p-4",children:[a.jsxs("div",{className:"flex justify-between items-start mb-1 sm:mb-2",children:[a.jsx("h3",{className:"font-semibold text-gray-900 text-sm sm:text-base truncate",children:R.name}),a.jsx("span",{className:`px-1 py-0.5 rounded-full text-xs font-medium flex-shrink-0 ${R.isOpen?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:R.isOpen?"Open":"Closed"})]}),a.jsx("p",{className:"text-gray-600 text-xs sm:text-sm mb-1 capitalize",children:R.type}),a.jsx("p",{className:"text-gray-500 text-xs mb-2 line-clamp-2",children:R.address}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("span",{className:"text-sm sm:text-base font-semibold text-red-800",children:["₹",R.price]}),a.jsx("button",{className:"bg-gradient-to-r from-red-800 to-red-900 text-white px-2 py-1 sm:px-3 sm:py-2 rounded text-xs sm:text-sm hover:from-red-900 hover:to-red-950 transition-colors",children:"Book"})]})]})]},R.id))})]}),a.jsxs("section",{className:"py-8 sm:py-12 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[a.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-2 sm:mb-3",children:"Popular Menu Items"}),a.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:"Explore delicious dishes from our partner restaurants"})]}),a.jsx("div",{className:"grid grid-cols-2 gap-3 sm:gap-4",children:N.map(R=>a.jsxs("div",{className:"bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow",children:[a.jsx("img",{src:R.image,alt:R.name,className:"w-full h-28 sm:h-36 object-cover rounded-t-lg"}),a.jsxs("div",{className:"p-3 sm:p-4",children:[a.jsxs("div",{className:"flex items-start justify-between mb-1 sm:mb-2",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold text-gray-900 text-sm sm:text-base truncate",children:R.name}),a.jsxs("p",{className:"text-gray-600 text-xs sm:text-sm",children:[R.itemCategory," • ",R.quantity]})]}),a.jsx("span",{className:`w-2 h-2 sm:w-3 sm:h-3 rounded-full flex-shrink-0 ml-1 ${R.category==="veg"?"bg-green-500":"bg-red-500"}`})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("span",{className:"text-sm sm:text-base font-semibold text-gray-900",children:["₹",R.price]}),a.jsx("button",{className:"bg-gradient-to-r from-red-800 to-red-900 text-white px-2 py-1 sm:px-3 sm:py-2 rounded text-xs sm:text-sm hover:from-red-900 hover:to-red-950 transition-colors",children:"Order"})]})]})]},R.id))})]})]}),!t&&a.jsx("section",{id:"features",className:"py-8 sm:py-12",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[a.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-2 sm:mb-3",children:"Everything You Need for Perfect Dining"}),a.jsx("p",{className:"text-gray-600 text-sm sm:text-base max-w-2xl mx-auto",children:"From quick bites to special celebrations, we've got you covered with our comprehensive platform"})]}),a.jsx("div",{className:"grid grid-cols-2 gap-3 sm:gap-4",children:v.map((R,j)=>{const O=R.icon;return a.jsxs(ta.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:j*.1},className:"bg-white p-3 sm:p-4 rounded-lg shadow-sm hover:shadow-md transition-shadow group",children:[a.jsx("div",{className:`w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-r ${R.color} rounded-lg flex items-center justify-center mb-2 sm:mb-3 group-hover:scale-110 transition-transform`,children:a.jsx(O,{className:"h-4 w-4 sm:h-5 sm:w-5 text-white"})}),a.jsx("h3",{className:"text-sm sm:text-base font-semibold text-gray-900 mb-1",children:R.title}),a.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:R.description})]},j)})})]})}),!t&&a.jsx("section",{className:"bg-gradient-to-r from-red-800 to-red-900 text-white py-12 sm:py-20",children:a.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:a.jsxs(ta.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.8},children:[a.jsx("h2",{className:"text-2xl sm:text-4xl font-bold mb-4 sm:mb-6",children:"Ready to Start Your Culinary Journey?"}),a.jsx("p",{className:"text-lg sm:text-xl text-red-100 mb-6 sm:mb-8",children:"Join thousands of food lovers who trust Tabuloo for their dining experiences"})]})})}),!t&&a.jsx("footer",{className:"hidden md:block bg-gray-900 text-white py-12 sm:py-16",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 sm:gap-8",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center mb-3 sm:mb-4",children:[a.jsx("img",{src:"/tabuloo-logo.png",alt:"Tabuloo",className:"h-6 w-auto sm:h-8 brightness-0 invert",onError:R=>{var j;R.currentTarget.style.display="none",(j=R.currentTarget.nextElementSibling)==null||j.classList.remove("hidden")}}),a.jsxs("div",{className:"hidden flex items-center",children:[a.jsx(or,{className:"h-4 w-4 sm:h-6 sm:w-6 text-red-700"}),a.jsx("span",{className:"ml-2 text-lg sm:text-xl font-bold",children:"Tabuloo"})]})]}),a.jsx("p",{className:"text-gray-400 mb-3 sm:mb-4 text-sm sm:text-base",children:"Your gateway to amazing dining experiences. Book, order, and celebrate with ease."}),a.jsxs("div",{className:"flex space-x-3 sm:space-x-4",children:[a.jsx(QO,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-400 hover:text-red-700 cursor-pointer"}),a.jsx(JO,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-400 hover:text-red-700 cursor-pointer"}),a.jsx(l6,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-400 hover:text-red-700 cursor-pointer"})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-base sm:text-lg font-semibold mb-3 sm:mb-4",children:"Services"}),a.jsxs("ul",{className:"space-y-1 sm:space-y-2 text-gray-400 text-sm sm:text-base",children:[a.jsx("li",{children:a.jsx("a",{href:"#",className:"hover:text-red-700",children:"Table Reservations"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"hover:text-red-700",children:"Food Delivery"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"hover:text-red-700",children:"Event Planning"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"hover:text-red-700",children:"Corporate Catering"})})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-base sm:text-lg font-semibold mb-3 sm:mb-4",children:"Company"}),a.jsxs("ul",{className:"space-y-1 sm:space-y-2 text-gray-400 text-sm sm:text-base",children:[a.jsx("li",{children:a.jsx("a",{href:"#",className:"hover:text-red-700",children:"About Us"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"hover:text-red-700",children:"Careers"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"hover:text-red-700",children:"Press"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"hover:text-red-700",children:"Blog"})})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-base sm:text-lg font-semibold mb-3 sm:mb-4",children:"Contact"}),a.jsxs("div",{className:"space-y-1 sm:space-y-2 text-gray-400 text-sm sm:text-base",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Sy,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-2"}),a.jsx("span",{children:"+1 (555) 123-4567"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(NN,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-2"}),a.jsx("span",{children:"hello@tabuloo.com"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(or,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-2"}),a.jsx("span",{children:"123 Food Street, Culinary City"})]})]})]})]}),a.jsx("div",{className:"border-t border-gray-800 mt-8 sm:mt-12 pt-6 sm:pt-8 text-center text-gray-400 text-sm sm:text-base",children:a.jsx("p",{children:"© 2025 Tabuloo. All rights reserved."})})]})}),r&&a.jsx(SN,{isOpen:r,onClose:()=>{s(!1),h("")},selectedRestaurantId:d}),i&&a.jsx(CN,{isOpen:i,onClose:()=>{o(!1),h("")},selectedRestaurantId:d}),l&&a.jsx(AN,{isOpen:l,onClose:()=>{c(!1),h("")},selectedRestaurantId:d})]})},G9=()=>{const{restaurants:t,addRestaurant:e,updateRestaurant:n,deleteRestaurant:r}=oi(),[s,i]=k.useState(!1),[o,l]=k.useState(!1),[c,d]=k.useState(!1),[h,m]=k.useState(null),[f,g]=k.useState(null),[v,C]=k.useState({name:"",type:"restaurant",address:"",capacity:"",crowdCapacity:"",images:"",price:"",ownerUsername:"",ownerPassword:"",timings:"9:00 AM - 11:00 PM"}),A=w=>{if(w.preventDefault(),!v.name||!v.address||!v.capacity||!v.crowdCapacity||!v.price||!v.ownerUsername||!v.ownerPassword){z.error("Please fill in all required fields");return}const x={name:v.name,type:v.type,address:v.address,capacity:parseInt(v.capacity),crowdCapacity:parseInt(v.crowdCapacity),images:v.images.split(",").map(E=>E.trim()),price:parseFloat(v.price),ownerCredentials:{username:v.ownerUsername,password:v.ownerPassword},isOpen:!0,timings:v.timings};e(x).then(()=>{i(!1),C({name:"",type:"restaurant",address:"",capacity:"",crowdCapacity:"",images:"",price:"",ownerUsername:"",ownerPassword:"",timings:"9:00 AM - 11:00 PM"})}).catch(E=>{console.error("Error adding restaurant:",E),z.error("Failed to add restaurant. Please try again.")})},T=w=>{m(w),C({name:w.name,type:w.type,address:w.address,capacity:w.capacity.toString(),crowdCapacity:w.crowdCapacity.toString(),images:w.images.join(", "),price:w.price.toString(),ownerUsername:w.ownerCredentials.username,ownerPassword:w.ownerCredentials.password,timings:w.timings}),l(!0)},b=w=>{g(w),d(!0)},N=()=>{f&&(r(f.id),d(!1),g(null),z.success("Place deleted successfully!"))},R=()=>{d(!1),g(null)},j=w=>{if(w.preventDefault(),!h)return;const x={...h,name:v.name,type:v.type,address:v.address,capacity:parseInt(v.capacity),crowdCapacity:parseInt(v.crowdCapacity),images:v.images.split(",").map(E=>E.trim()),price:parseFloat(v.price),ownerCredentials:{username:v.ownerUsername,password:v.ownerPassword},timings:v.timings};n(x).then(()=>{l(!1),m(null),C({name:"",type:"restaurant",address:"",capacity:"",crowdCapacity:"",images:"",price:"",ownerUsername:"",ownerPassword:"",timings:"9:00 AM - 11:00 PM"})}).catch(E=>{console.error("Error updating restaurant:",E)})},O=()=>{l(!1),m(null),C({name:"",type:"restaurant",address:"",capacity:"",crowdCapacity:"",images:"",price:"",ownerUsername:"",ownerPassword:"",timings:"9:00 AM - 11:00 PM"})};return a.jsx("div",{className:"min-h-screen bg-gray-50",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8",children:[a.jsxs("div",{className:"mb-6 sm:mb-8",children:[a.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Admin Dashboard"}),a.jsx("p",{className:"text-gray-600 mt-2 text-sm sm:text-base",children:"Manage your restaurant network"})]}),a.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-6 mb-6 sm:mb-8",children:[a.jsx("div",{className:"bg-white p-3 sm:p-6 rounded-lg sm:rounded-xl shadow-sm border",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 sm:p-3 bg-blue-100 rounded-lg",children:a.jsx(lo,{className:"h-4 w-4 sm:h-6 sm:w-6 text-blue-600"})}),a.jsxs("div",{className:"ml-2 sm:ml-4",children:[a.jsx("h3",{className:"text-xs sm:text-lg font-semibold text-gray-900",children:"Total Customers"}),a.jsx("p",{className:"text-lg sm:text-2xl font-bold text-blue-600",children:"1,234"})]})]})}),a.jsx("div",{className:"bg-white p-3 sm:p-6 rounded-lg sm:rounded-xl shadow-sm border",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 sm:p-3 bg-green-100 rounded-lg",children:a.jsx(sp,{className:"h-4 w-4 sm:h-6 sm:w-6 text-green-600"})}),a.jsxs("div",{className:"ml-2 sm:ml-4",children:[a.jsx("h3",{className:"text-xs sm:text-lg font-semibold text-gray-900",children:"Total Restaurants"}),a.jsx("p",{className:"text-lg sm:text-2xl font-bold text-green-600",children:t.length})]})]})}),a.jsx("div",{className:"bg-white p-3 sm:p-6 rounded-lg sm:rounded-xl shadow-sm border col-span-2 lg:col-span-1",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 sm:p-3 bg-purple-100 rounded-lg",children:a.jsx(or,{className:"h-4 w-4 sm:h-6 sm:w-6 text-purple-600"})}),a.jsxs("div",{className:"ml-2 sm:ml-4",children:[a.jsx("h3",{className:"text-xs sm:text-lg font-semibold text-gray-900",children:"Active Places"}),a.jsx("p",{className:"text-lg sm:text-2xl font-bold text-purple-600",children:t.filter(w=>w.isOpen).length})]})]})})]}),a.jsx("div",{className:"mb-4 sm:mb-6",children:a.jsxs("button",{onClick:()=>i(!0),className:"bg-blue-600 text-white px-4 sm:px-6 py-2 sm:py-3 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center space-x-2 text-sm sm:text-base",children:[a.jsx(Io,{className:"h-4 w-4 sm:h-5 sm:w-5"}),a.jsx("span",{children:"Add Place"})]})}),s&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-xl p-4 sm:p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-4 sm:mb-6",children:"Add New Place"}),a.jsxs("form",{onSubmit:A,className:"space-y-3 sm:space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name of the Place"}),a.jsx("input",{type:"text",required:!0,value:v.name,onChange:w=>C(x=>({...x,name:w.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type of Place"}),a.jsxs("select",{value:v.type,onChange:w=>C(x=>({...x,type:w.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",children:[a.jsx("option",{value:"restaurant",children:"Restaurant"}),a.jsx("option",{value:"hotel",children:"Hotel"}),a.jsx("option",{value:"resort",children:"Resort"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),a.jsx("textarea",{required:!0,value:v.address,onChange:w=>C(x=>({...x,address:w.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",rows:3})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Food Serving Capacity"}),a.jsx("input",{type:"number",required:!0,value:v.capacity,onChange:w=>C(x=>({...x,capacity:w.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Crowd Capacity"}),a.jsx("input",{type:"number",required:!0,value:v.crowdCapacity,onChange:w=>C(x=>({...x,crowdCapacity:w.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Images (comma separated URLs)"}),a.jsx("input",{type:"text",value:v.images,onChange:w=>C(x=>({...x,images:w.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"https://image1.jpg, https://image2.jpg"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Average Price (₹)"}),a.jsx("input",{type:"number",step:"0.01",required:!0,value:v.price,onChange:w=>C(x=>({...x,price:w.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Owner Username"}),a.jsx("input",{type:"text",required:!0,value:v.ownerUsername,onChange:w=>C(x=>({...x,ownerUsername:w.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Owner Password"}),a.jsx("input",{type:"password",required:!0,value:v.ownerPassword,onChange:w=>C(x=>({...x,ownerPassword:w.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm"})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-3 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>i(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800 text-sm",children:"Cancel"}),a.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 text-sm",children:"Submit"})]})]})]})}),o&&h&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-xl p-4 sm:p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4 sm:mb-6",children:[a.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Edit Place Details"}),a.jsx("button",{onClick:O,className:"text-gray-400 hover:text-gray-600",children:a.jsx(ai,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),a.jsxs("form",{onSubmit:j,className:"space-y-3 sm:space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name of the Place"}),a.jsx("input",{type:"text",required:!0,value:v.name,onChange:w=>C(x=>({...x,name:w.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type of Place"}),a.jsxs("select",{value:v.type,onChange:w=>C(x=>({...x,type:w.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",children:[a.jsx("option",{value:"restaurant",children:"Restaurant"}),a.jsx("option",{value:"hotel",children:"Hotel"}),a.jsx("option",{value:"resort",children:"Resort"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),a.jsx("textarea",{required:!0,value:v.address,onChange:w=>C(x=>({...x,address:w.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",rows:3})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Food Serving Capacity"}),a.jsx("input",{type:"number",required:!0,value:v.capacity,onChange:w=>C(x=>({...x,capacity:w.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Crowd Capacity"}),a.jsx("input",{type:"number",required:!0,value:v.crowdCapacity,onChange:w=>C(x=>({...x,crowdCapacity:w.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Images (comma separated URLs)"}),a.jsx("input",{type:"text",value:v.images,onChange:w=>C(x=>({...x,images:w.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"https://image1.jpg, https://image2.jpg"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Average Price (₹)"}),a.jsx("input",{type:"number",step:"0.01",required:!0,value:v.price,onChange:w=>C(x=>({...x,price:w.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Operating Hours"}),a.jsx("input",{type:"text",value:v.timings,onChange:w=>C(x=>({...x,timings:w.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"e.g., 9:00 AM - 11:00 PM"})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Owner Username"}),a.jsx("input",{type:"text",required:!0,value:v.ownerUsername,onChange:w=>C(x=>({...x,ownerUsername:w.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Owner Password"}),a.jsx("input",{type:"password",required:!0,value:v.ownerPassword,onChange:w=>C(x=>({...x,ownerPassword:w.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm"})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-3 pt-4",children:[a.jsx("button",{type:"button",onClick:O,className:"px-4 py-2 text-gray-600 hover:text-gray-800 text-sm",children:"Cancel"}),a.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 text-sm",children:"Update Place"})]})]})]})}),c&&f&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-xl p-4 sm:p-6 w-full max-w-md",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("div",{className:"p-2 sm:p-3 bg-red-100 rounded-full mr-3 sm:mr-4",children:a.jsx(EN,{className:"h-5 w-5 sm:h-6 sm:w-6 text-red-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Delete Place"}),a.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"This action cannot be undone"})]})]}),a.jsxs("div",{className:"mb-4 sm:mb-6",children:[a.jsxs("p",{className:"text-sm sm:text-base text-gray-700",children:["Are you sure you want to delete ",a.jsx("strong",{children:f.name}),"?"]}),a.jsx("p",{className:"text-xs sm:text-sm text-red-600 mt-2",children:"This will also delete all associated menu items, orders, and bookings."})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-3",children:[a.jsx("button",{onClick:R,className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 text-sm",children:"Cancel"}),a.jsx("button",{onClick:N,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 text-sm",children:"Delete Place"})]})]})}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border",children:[a.jsx("div",{className:"p-4 sm:p-6 border-b",children:a.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:"Registered Places"})}),a.jsx("div",{className:"p-4 sm:p-6",children:a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-6",children:t.map(w=>a.jsxs("div",{className:"border rounded-lg p-3 sm:p-4",children:[w.images[0]&&a.jsx("img",{src:w.images[0],alt:w.name,className:"w-full h-24 sm:h-32 object-cover rounded-lg mb-2 sm:mb-3"}),a.jsx("h3",{className:"font-semibold text-gray-900 text-sm sm:text-base mb-1",children:w.name}),a.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-1 sm:mb-2",children:w.type}),a.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-1 sm:mb-2 line-clamp-2",children:w.address}),a.jsxs("p",{className:"text-xs sm:text-sm font-medium text-green-600 mb-2 sm:mb-3",children:["₹",w.price,"/person"]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:`px-1.5 py-0.5 sm:px-2 sm:py-1 rounded-full text-xs ${w.isOpen?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:w.isOpen?"Open":"Closed"}),a.jsxs("div",{className:"flex space-x-1 sm:space-x-2",children:[a.jsx("button",{onClick:()=>T(w),className:"p-1 text-blue-600 hover:text-blue-800",title:"Edit restaurant",children:a.jsx(IN,{className:"h-3 w-3 sm:h-4 sm:w-4"})}),a.jsx("button",{onClick:()=>b(w),className:"p-1 text-red-600 hover:text-red-800",title:"Delete restaurant",children:a.jsx(nh,{className:"h-3 w-3 sm:h-4 sm:w-4"})})]})]})]},w.id))})})]})]})})},Q9=()=>{const{user:t}=Hn(),{restaurants:e,menuItems:n,orders:r,bookings:s,addMenuItem:i,updateMenuItem:o,updateOrderStatus:l,updateRestaurantStatus:c,updateMenuItemAvailability:d,deleteMenuItem:h}=oi(),[m,f]=k.useState(!1),[g,v]=k.useState(!1),[C,A]=k.useState(!1),[T,b]=k.useState(null),[N,R]=k.useState(null),[j,O]=k.useState("orders"),w=e.find(V=>V.id===(t==null?void 0:t.restaurantId)),x=n.filter(V=>V.restaurantId===(t==null?void 0:t.restaurantId)),E=r.filter(V=>V.restaurantId===(t==null?void 0:t.restaurantId)),_=s.filter(V=>V.restaurantId===(t==null?void 0:t.restaurantId)),[I,D]=k.useState({category:"veg",name:"",itemCategory:"",quantity:"",price:"",image:""}),P=V=>{if(V.preventDefault(),!I.name||!I.itemCategory||!I.quantity||!I.price){z.error("Please fill in all required fields");return}if(!(t!=null&&t.restaurantId))return;const W={restaurantId:t.restaurantId,category:I.category,name:I.name,itemCategory:I.itemCategory,quantity:I.quantity,price:parseFloat(I.price),image:I.image||"https://images.pexels.com/photos/1640777/pexels-photo-1640777.jpeg",available:!0};i(W),f(!1),D({category:"veg",name:"",itemCategory:"",quantity:"",price:"",image:""})},he=V=>{b(V),D({category:V.category,name:V.name,itemCategory:V.itemCategory,quantity:V.quantity,price:V.price.toString(),image:V.image}),v(!0)},et=V=>{R(V),A(!0)},Ut=()=>{N&&(h(N.id),A(!1),R(null),z.success("Menu item deleted successfully!"))},ae=()=>{A(!1),R(null)},q=V=>{if(V.preventDefault(),!T)return;const W={...T,category:I.category,name:I.name,itemCategory:I.itemCategory,quantity:I.quantity,price:parseFloat(I.price),image:I.image||T.image};o(W),v(!1),b(null),D({category:"veg",name:"",itemCategory:"",quantity:"",price:"",image:""}),z.success("Menu item updated successfully!")},X=()=>{v(!1),b(null),D({category:"veg",name:"",itemCategory:"",quantity:"",price:"",image:""})},J=(V,W)=>{l(V,W).catch(ie=>{console.error("Error updating order status:",ie)})},ye=()=>{w&&c(w.id,!w.isOpen).catch(V=>{console.error("Error updating restaurant status:",V)})},F=["pastry","ice cream","tiffin","biryani","fried rice","curry","appetizer","main course","dessert","beverage","pizza","burger","sandwich"];return w?a.jsx("div",{className:"min-h-screen bg-gray-50",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8",children:[a.jsxs("div",{className:"mb-6 sm:mb-8",children:[a.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:w.name}),a.jsx("p",{className:"text-gray-600 mt-2 text-sm sm:text-base",children:"Restaurant Owner Dashboard"})]}),a.jsx("div",{className:"bg-white p-4 sm:p-6 rounded-lg sm:rounded-xl shadow-sm border mb-4 sm:mb-6",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{className:"mb-3 sm:mb-0",children:[a.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Restaurant Status"}),a.jsx("p",{className:"text-gray-600 text-sm",children:"Control your restaurant's availability"})]}),a.jsxs("button",{onClick:ye,className:`flex items-center justify-center space-x-2 px-3 py-2 rounded-lg transition-colors text-sm ${w.isOpen?"bg-green-100 text-green-800 hover:bg-green-200":"bg-red-100 text-red-800 hover:bg-red-200"}`,children:[w.isOpen?a.jsx(o6,{className:"h-4 w-4 sm:h-5 sm:w-5"}):a.jsx(i6,{className:"h-4 w-4 sm:h-5 sm:w-5"}),a.jsx("span",{children:w.isOpen?"Open":"Closed"})]})]})}),a.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-6 mb-6 sm:mb-8",children:[a.jsx("div",{className:"bg-white p-3 sm:p-6 rounded-lg sm:rounded-xl shadow-sm border",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 sm:p-3 bg-blue-100 rounded-lg",children:a.jsx(Ca,{className:"h-4 w-4 sm:h-6 sm:w-6 text-blue-600"})}),a.jsxs("div",{className:"ml-2 sm:ml-4",children:[a.jsx("h3",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Total Orders"}),a.jsx("p",{className:"text-lg sm:text-2xl font-bold text-gray-900",children:E.length})]})]})}),a.jsx("div",{className:"bg-white p-3 sm:p-6 rounded-lg sm:rounded-xl shadow-sm border",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 sm:p-3 bg-purple-100 rounded-lg",children:a.jsx(Dt,{className:"h-4 w-4 sm:h-6 sm:w-6 text-purple-600"})}),a.jsxs("div",{className:"ml-2 sm:ml-4",children:[a.jsx("h3",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Total Bookings"}),a.jsx("p",{className:"text-lg sm:text-2xl font-bold text-gray-900",children:_.length})]})]})}),a.jsx("div",{className:"bg-white p-3 sm:p-6 rounded-lg sm:rounded-xl shadow-sm border",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 sm:p-3 bg-yellow-100 rounded-lg",children:a.jsx(ol,{className:"h-4 w-4 sm:h-6 sm:w-6 text-yellow-600"})}),a.jsxs("div",{className:"ml-2 sm:ml-4",children:[a.jsx("h3",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Pending Orders"}),a.jsx("p",{className:"text-lg sm:text-2xl font-bold text-gray-900",children:E.filter(V=>V.status==="pending").length})]})]})}),a.jsx("div",{className:"bg-white p-3 sm:p-6 rounded-lg sm:rounded-xl shadow-sm border col-span-2 lg:col-span-1",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 sm:p-3 bg-green-100 rounded-lg",children:a.jsx(lo,{className:"h-4 w-4 sm:h-6 sm:w-6 text-green-600"})}),a.jsxs("div",{className:"ml-2 sm:ml-4",children:[a.jsx("h3",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Menu Items"}),a.jsx("p",{className:"text-lg sm:text-2xl font-bold text-gray-900",children:x.length})]})]})})]}),a.jsxs("div",{className:"bg-white rounded-lg sm:rounded-xl shadow-sm border mb-4 sm:mb-6",children:[a.jsx("div",{className:"border-b",children:a.jsx("nav",{className:"flex overflow-x-auto px-4 sm:px-6",children:[{id:"orders",label:"Orders",count:E.length},{id:"bookings",label:"Bookings",count:_.length},{id:"menu",label:"Menu",count:x.length},{id:"settings",label:"Settings",count:null}].map(V=>a.jsxs("button",{onClick:()=>O(V.id),className:`py-3 sm:py-4 px-2 sm:px-4 border-b-2 font-medium text-xs sm:text-sm transition-colors whitespace-nowrap ${j===V.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[V.label,V.count!==null&&a.jsx("span",{className:"ml-1 sm:ml-2 bg-gray-100 text-gray-600 py-0.5 px-1.5 sm:px-2 rounded-full text-xs",children:V.count})]},V.id))})}),a.jsxs("div",{className:"p-4 sm:p-6",children:[j==="orders"&&a.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[a.jsx("div",{className:"flex justify-between items-center",children:a.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Recent Orders"})}),E.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Ca,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600 text-sm",children:"No orders found yet."})]}):a.jsx("div",{className:"space-y-3",children:E.map(V=>a.jsxs("div",{className:"border rounded-lg p-3 sm:p-4",children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("h4",{className:"font-medium text-gray-900 text-sm sm:text-base",children:["Order #",V.id.slice(-6)]}),a.jsxs("p",{className:"text-xs sm:text-sm text-gray-600",children:[V.customerName," • ",V.customerPhone]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-semibold text-gray-900 text-sm sm:text-base",children:["₹",V.total]}),a.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:V.type})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-2 sm:space-y-0",children:[a.jsxs("select",{value:V.status,onChange:W=>J(V.id,W.target.value),className:"px-2 py-1 sm:px-3 sm:py-1 border border-gray-300 rounded text-xs sm:text-sm focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"pending",children:"Pending"}),a.jsx("option",{value:"confirmed",children:"Confirmed"}),a.jsx("option",{value:"preparing",children:"Preparing"}),a.jsx("option",{value:"ready",children:"Ready"}),a.jsx("option",{value:"delivered",children:"Delivered"}),a.jsx("option",{value:"completed",children:"Completed"})]}),a.jsx("span",{className:`px-1.5 py-0.5 sm:px-2 sm:py-1 rounded-full text-xs ${V.status==="completed"?"bg-green-100 text-green-800":V.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"}`,children:V.status})]})]},V.id))})]}),j==="bookings"&&a.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[a.jsx("div",{className:"flex justify-between items-center",children:a.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Table & Event Bookings"})}),_.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Dt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600 text-sm",children:"No bookings found yet."})]}):a.jsx("div",{className:"space-y-3",children:_.map(V=>a.jsxs("div",{className:"border rounded-lg p-3 sm:p-4",children:[a.jsxs("div",{className:"flex justify-between items-start mb-3",children:[a.jsxs("div",{className:"flex items-start space-x-2 sm:space-x-3 flex-1",children:[a.jsx("div",{className:`p-1.5 sm:p-2 rounded-lg ${V.type==="table"?"bg-blue-100":"bg-purple-100"}`,children:V.type==="table"?a.jsx(Dt,{className:`h-4 w-4 sm:h-5 sm:w-5 ${V.type==="table"?"text-blue-600":"text-purple-600"}`}):a.jsx(al,{className:"h-4 w-4 sm:h-5 sm:w-5 text-purple-600"})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("h4",{className:"font-medium text-gray-900 text-sm sm:text-base flex items-center",children:[V.type==="table"?"Table Booking":"Event Booking"," #",V.id.slice(-6),V.occasion&&a.jsxs("span",{className:"ml-1 sm:ml-2 text-xs sm:text-sm text-gray-500",children:["(",V.occasion,")"]})]}),a.jsxs("div",{className:"text-xs sm:text-sm text-gray-600 space-y-1 mt-1",children:[a.jsxs("p",{className:"flex items-center",children:[a.jsx(Dt,{className:"h-3 w-3 mr-1"}),V.date," at ",V.time]}),a.jsxs("p",{className:"flex items-center",children:[a.jsx(lo,{className:"h-3 w-3 mr-1"}),V.customers," ",V.customers===1?"person":"people"]}),a.jsxs("p",{className:"flex items-center",children:[a.jsx(Sy,{className:"h-3 w-3 mr-1"}),V.phone]}),V.customerNames.length>0&&a.jsxs("p",{className:"text-xs text-gray-500",children:["Names: ",V.customerNames.join(", ")]}),V.placeForEvent&&a.jsxs("p",{className:"flex items-center text-xs text-gray-500",children:[a.jsx(or,{className:"h-3 w-3 mr-1"}),V.placeForEvent]})]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-semibold text-gray-900 text-sm sm:text-base",children:["₹",V.amount.toFixed(2)," paid"]}),a.jsx("span",{className:`inline-block px-1.5 py-0.5 sm:px-2 sm:py-1 rounded-full text-xs ${V.status==="confirmed"?"bg-green-100 text-green-800":V.status==="pending"?"bg-yellow-100 text-yellow-800":V.status==="completed"?"bg-blue-100 text-blue-800":"bg-red-100 text-red-800"}`,children:V.status})]})]}),(V.specialRequests||V.description||V.foodOptions)&&a.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:a.jsxs("div",{className:"text-xs sm:text-sm text-gray-600",children:[V.description&&a.jsxs("div",{className:"mb-2",children:[a.jsx("span",{className:"font-medium text-gray-700",children:"Description: "}),V.description]}),V.foodOptions&&a.jsxs("div",{className:"mb-2",children:[a.jsx("span",{className:"font-medium text-gray-700",children:"Food Preferences: "}),V.foodOptions]}),V.specialRequests&&a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-gray-700",children:"Special Requests: "}),V.specialRequests]})]})}),a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mt-3 pt-3 border-t border-gray-100 space-y-2 sm:space-y-0",children:[a.jsxs("div",{className:"text-xs sm:text-sm text-gray-500",children:["Booked on ",V.createdAt.toLocaleDateString()," • Payment: ",V.paymentStatus]}),a.jsxs("select",{value:V.status,onChange:W=>{console.log("Update booking status:",V.id,W.target.value)},className:"px-2 py-1 sm:px-3 sm:py-1 border border-gray-300 rounded text-xs sm:text-sm focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"pending",children:"Pending"}),a.jsx("option",{value:"confirmed",children:"Confirmed"}),a.jsx("option",{value:"completed",children:"Completed"}),a.jsx("option",{value:"cancelled",children:"Cancelled"})]})]})]},V.id))})]}),j==="menu"&&a.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center space-y-2 sm:space-y-0",children:[a.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Menu Items"}),a.jsxs("button",{onClick:()=>f(!0),className:"bg-blue-600 text-white px-3 sm:px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center space-x-2 text-sm",children:[a.jsx(Io,{className:"h-4 w-4"}),a.jsx("span",{children:"Add Item"})]})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:x.map(V=>a.jsxs("div",{className:"border rounded-lg p-3 sm:p-4",children:[V.image&&a.jsx("img",{src:V.image,alt:V.name,className:"w-full h-24 sm:h-32 object-cover rounded-lg mb-2 sm:mb-3",onError:W=>{W.currentTarget.src="https://images.pexels.com/photos/1640777/pexels-photo-1640777.jpeg"}}),a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-medium text-gray-900 text-sm sm:text-base",children:V.name}),a.jsxs("p",{className:"text-xs sm:text-sm text-gray-600",children:[V.itemCategory," • ",V.quantity]})]}),a.jsx("span",{className:`w-2 h-2 sm:w-3 sm:h-3 rounded-full flex-shrink-0 ml-1 ${V.category==="veg"?"bg-green-500":"bg-red-500"}`})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("p",{className:"font-semibold text-gray-900 text-sm sm:text-base",children:["₹",V.price]}),a.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[a.jsx("button",{onClick:()=>he(V),className:"p-1 text-blue-600 hover:text-blue-800",title:"Edit menu item",children:a.jsx(IN,{className:"h-3 w-3 sm:h-4 sm:w-4"})}),a.jsx("button",{onClick:()=>et(V),className:"p-1 text-red-600 hover:text-red-800",title:"Delete menu item",children:a.jsx(nh,{className:"h-3 w-3 sm:h-4 sm:w-4"})}),a.jsxs("button",{onClick:()=>d(V.id,!V.available),className:`flex items-center space-x-1 px-1.5 py-1 sm:px-2 sm:py-1 rounded text-xs sm:text-sm ${V.available?"bg-green-100 text-green-800 hover:bg-green-200":"bg-red-100 text-red-800 hover:bg-red-200"}`,children:[V.available?a.jsx(rp,{className:"h-3 w-3"}):a.jsx(np,{className:"h-3 w-3"}),a.jsx("span",{className:"hidden sm:inline",children:V.available?"Available":"Unavailable"})]})]})]})]},V.id))})]}),j==="settings"&&a.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[a.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Restaurant Settings"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:[a.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Operating Hours"}),a.jsx("input",{type:"text",value:w.timings,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",readOnly:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Restaurant Type"}),a.jsx("input",{type:"text",value:w.type,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-sm",readOnly:!0})]})]}),a.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Seating Capacity"}),a.jsx("input",{type:"number",value:w.capacity,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-sm",readOnly:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Average Price"}),a.jsx("input",{type:"text",value:`₹${w.price}`,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-sm",readOnly:!0})]})]})]})]})]})]}),m&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-xl p-4 sm:p-6 w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[a.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-4",children:"Add Menu Item"}),a.jsxs("form",{onSubmit:P,className:"space-y-3 sm:space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),a.jsxs("select",{value:I.category,onChange:V=>D(W=>({...W,category:V.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",children:[a.jsx("option",{value:"veg",children:"Vegetarian"}),a.jsx("option",{value:"non-veg",children:"Non-Vegetarian"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Item Category"}),a.jsxs("select",{value:I.itemCategory,onChange:V=>D(W=>({...W,itemCategory:V.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",required:!0,children:[a.jsx("option",{value:"",children:"Select category"}),F.map(V=>a.jsx("option",{value:V,children:V.charAt(0).toUpperCase()+V.slice(1)},V))]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Item Name"}),a.jsx("input",{type:"text",required:!0,value:I.name,onChange:V=>D(W=>({...W,name:V.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm"})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantity/Size"}),a.jsx("input",{type:"text",required:!0,value:I.quantity,onChange:V=>D(W=>({...W,quantity:V.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"e.g., 1 plate, 500ml"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price (₹)"}),a.jsx("input",{type:"number",step:"0.01",required:!0,value:I.price,onChange:V=>D(W=>({...W,price:V.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Image URL (optional)"}),a.jsx("input",{type:"url",value:I.image,onChange:V=>D(W=>({...W,image:V.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"https://example.com/image.jpg"})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-3 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>f(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800 text-sm",children:"Cancel"}),a.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 text-sm",children:"Add Item"})]})]})]})}),g&&T&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-xl p-4 sm:p-6 w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900",children:"Edit Menu Item"}),a.jsx("button",{onClick:X,className:"text-gray-400 hover:text-gray-600",children:a.jsx(ai,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),a.jsxs("form",{onSubmit:q,className:"space-y-3 sm:space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),a.jsxs("select",{value:I.category,onChange:V=>D(W=>({...W,category:V.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",children:[a.jsx("option",{value:"veg",children:"Vegetarian"}),a.jsx("option",{value:"non-veg",children:"Non-Vegetarian"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Item Category"}),a.jsxs("select",{value:I.itemCategory,onChange:V=>D(W=>({...W,itemCategory:V.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",required:!0,children:[a.jsx("option",{value:"",children:"Select category"}),F.map(V=>a.jsx("option",{value:V,children:V.charAt(0).toUpperCase()+V.slice(1)},V))]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Item Name"}),a.jsx("input",{type:"text",required:!0,value:I.name,onChange:V=>D(W=>({...W,name:V.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm"})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantity/Size"}),a.jsx("input",{type:"text",required:!0,value:I.quantity,onChange:V=>D(W=>({...W,quantity:V.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"e.g., 1 plate, 500ml"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price (₹)"}),a.jsx("input",{type:"number",step:"0.01",required:!0,value:I.price,onChange:V=>D(W=>({...W,price:V.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Image URL"}),a.jsx("input",{type:"url",value:I.image,onChange:V=>D(W=>({...W,image:V.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"https://example.com/image.jpg"})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-3 pt-4",children:[a.jsx("button",{type:"button",onClick:X,className:"px-4 py-2 text-gray-600 hover:text-gray-800 text-sm",children:"Cancel"}),a.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 text-sm",children:"Update Item"})]})]})]})}),C&&N&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-xl p-4 sm:p-6 w-full max-w-md",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("div",{className:"p-2 sm:p-3 bg-red-100 rounded-full mr-3 sm:mr-4",children:a.jsx(EN,{className:"h-5 w-5 sm:h-6 sm:w-6 text-red-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Delete Menu Item"}),a.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"This action cannot be undone"})]})]}),a.jsxs("div",{className:"mb-4 sm:mb-6",children:[a.jsxs("p",{className:"text-sm sm:text-base text-gray-700",children:["Are you sure you want to delete ",a.jsx("strong",{children:N.name}),"?"]}),a.jsx("p",{className:"text-xs sm:text-sm text-red-600 mt-2",children:"This menu item will be permanently removed from your restaurant."})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-3",children:[a.jsx("button",{onClick:ae,className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 text-sm",children:"Cancel"}),a.jsx("button",{onClick:Ut,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 text-sm",children:"Delete Item"})]})]})})]})}):a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Restaurant Not Found"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Unable to find your restaurant data."})]})})},Y9=()=>{const{user:t,updateWalletBalance:e}=Hn(),{orders:n,bookings:r}=oi(),[s,i]=k.useState("profile"),[o,l]=k.useState(!1),[c,d]=k.useState({name:(t==null?void 0:t.name)||"",email:(t==null?void 0:t.email)||"",phone:(t==null?void 0:t.phone)||""}),[h,m]=k.useState([{id:"1",label:"Home",address:"123 Main Street, City, State 12345",isDefault:!0},{id:"2",label:"Work",address:"456 Business Ave, Downtown, State 12345",isDefault:!1}]),[f,g]=k.useState(!1),[v,C]=k.useState(""),A=[{id:"1",type:"credit",amount:50,description:"Welcome bonus",date:"2025-01-15",status:"completed"},{id:"2",type:"debit",amount:25.5,description:"Order payment - Golden Spoon",date:"2025-01-14",status:"completed"},{id:"3",type:"credit",amount:100,description:"Added money",date:"2025-01-13",status:"completed"},{id:"4",type:"debit",amount:15.75,description:"Table booking advance",date:"2025-01-12",status:"completed"}],T=n.filter(j=>j.userId===(t==null?void 0:t.id)),b=r.filter(j=>j.userId===(t==null?void 0:t.id)),N=()=>{const j=parseFloat(v);if(j>0&&(t==null?void 0:t.walletBalance)!==void 0){const O=t.walletBalance+j;e(O),g(!1),C("")}},R=()=>{if(c.phone&&!ln(c.phone)){alert("Please enter a valid 10-digit Indian phone number");return}l(!1)};return t?a.jsx("div",{className:"min-h-screen bg-gray-50",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8",children:[a.jsxs("div",{className:"mb-6 sm:mb-8",children:[a.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"My Profile"}),a.jsx("p",{className:"text-gray-600 mt-2 text-sm sm:text-base",children:"Manage your account and view your activity"})]}),a.jsx("div",{className:"lg:hidden mb-6",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:[a.jsxs("div",{className:"text-center mb-4",children:[a.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-2",children:a.jsx(Ss,{className:"h-6 w-6 text-blue-600"})}),a.jsx("h3",{className:"font-semibold text-gray-900 text-sm",children:t.name}),a.jsx("p",{className:"text-xs text-gray-600",children:t.phone||t.email})]}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:[{id:"profile",label:"Profile",icon:Ss,count:null},{id:"orders",label:"Orders",icon:Ca,count:T.length},{id:"bookings",label:"Bookings",icon:Dt,count:b.length},{id:"addresses",label:"Addresses",icon:or,count:h.length},{id:"wallet",label:"Wallet",icon:ar,count:null}].map(j=>{const O=j.icon;return a.jsxs("button",{onClick:()=>i(j.id),className:`flex flex-col items-center p-2 rounded-lg text-xs transition-colors ${s===j.id?"bg-blue-50 text-blue-600 border border-blue-200":"text-gray-700 hover:bg-gray-50"}`,children:[a.jsx(O,{className:"h-4 w-4 mb-1"}),a.jsx("span",{className:"text-center",children:j.label}),j.count!==null&&a.jsx("span",{className:"bg-gray-100 text-gray-600 text-xs px-1 py-0.5 rounded-full mt-1",children:j.count})]},j.id)})})]})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4 sm:gap-6",children:[a.jsx("div",{className:"hidden lg:block lg:col-span-1",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-3",children:a.jsx(Ss,{className:"h-8 w-8 text-blue-600"})}),a.jsx("h3",{className:"font-semibold text-gray-900",children:t.name}),a.jsx("p",{className:"text-sm text-gray-600",children:t.phone||t.email})]}),a.jsx("nav",{className:"space-y-2",children:[{id:"profile",label:"Profile Info",icon:Ss,count:null},{id:"orders",label:"My Orders",icon:Ca,count:T.length},{id:"bookings",label:"My Bookings",icon:Dt,count:b.length},{id:"addresses",label:"Addresses",icon:or,count:h.length},{id:"wallet",label:"Wallet",icon:ar,count:null}].map(j=>{const O=j.icon;return a.jsxs("button",{onClick:()=>i(j.id),className:`w-full flex items-center justify-between p-3 rounded-lg text-left transition-colors ${s===j.id?"bg-blue-50 text-blue-600 border border-blue-200":"text-gray-700 hover:bg-gray-50"}`,children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(O,{className:"h-4 w-4 mr-3"}),a.jsx("span",{children:j.label})]}),j.count!==null&&a.jsx("span",{className:"bg-gray-100 text-gray-600 text-xs px-2 py-1 rounded-full",children:j.count})]},j.id)})})]})}),a.jsx("div",{className:"lg:col-span-3",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border",children:[s==="profile"&&a.jsxs("div",{className:"p-4 sm:p-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-4 sm:mb-6",children:[a.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-2 sm:mb-0",children:"Profile Information"}),a.jsxs("button",{onClick:()=>o?R():l(!0),className:"flex items-center justify-center space-x-2 px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm",children:[a.jsx(s6,{className:"h-4 w-4"}),a.jsx("span",{children:o?"Save Changes":"Edit Profile"})]})]}),a.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(Ss,{className:"h-4 w-4 inline mr-1"}),"Full Name"]}),o?a.jsx("input",{type:"text",value:c.name,onChange:j=>d(O=>({...O,name:j.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm"}):a.jsx("p",{className:"text-gray-900 px-3 py-2 bg-gray-50 rounded-lg text-sm",children:c.name})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(NN,{className:"h-4 w-4 inline mr-1"}),"Email Address"]}),o?a.jsx("input",{type:"email",value:c.email,onChange:j=>d(O=>({...O,email:j.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm"}):a.jsx("p",{className:"text-gray-900 px-3 py-2 bg-gray-50 rounded-lg text-sm",children:c.email||"Not provided"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(Sy,{className:"h-4 w-4 inline mr-1"}),"Phone Number"]}),o?a.jsxs("div",{children:[a.jsx("input",{type:"tel",value:c.phone,onChange:j=>{const O=So(j.target.value);d(w=>({...w,phone:O}))},placeholder:"Enter 10-digit phone number",maxLength:10,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm"}),c.phone&&!ln(c.phone)&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:"Please enter a valid 10-digit Indian phone number"})]}):a.jsx("p",{className:"text-gray-900 px-3 py-2 bg-gray-50 rounded-lg text-sm",children:c.phone})]}),o&&a.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-3 pt-4",children:[a.jsx("button",{onClick:()=>l(!1),className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 text-sm",children:"Cancel"}),a.jsx("button",{onClick:R,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm",children:"Save Changes"})]})]})]}),s==="orders"&&a.jsxs("div",{className:"p-4 sm:p-6",children:[a.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-4 sm:mb-6",children:"My Orders"}),T.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Ca,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600 text-sm",children:"No orders found"})]}):a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:T.map(j=>a.jsxs("div",{className:"border rounded-lg p-3 sm:p-4",children:[a.jsxs("div",{className:"flex justify-between items-start mb-2 sm:mb-3",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("h3",{className:"font-medium text-gray-900 text-sm sm:text-base",children:["Order #",j.id.slice(-6)]}),a.jsxs("p",{className:"text-xs sm:text-sm text-gray-600",children:[a.jsx(ol,{className:"h-3 w-3 sm:h-4 sm:w-4 inline mr-1"}),j.createdAt.toLocaleDateString()]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-semibold text-gray-900 text-sm sm:text-base",children:["₹",j.total.toFixed(2)]}),a.jsx("span",{className:`inline-block px-1 py-0.5 sm:px-2 sm:py-1 rounded-full text-xs ${j.status==="completed"?"bg-green-100 text-green-800":j.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"}`,children:j.status})]})]}),a.jsxs("div",{className:"text-xs sm:text-sm text-gray-600",children:[a.jsxs("p",{children:["Type: ",j.type==="delivery"?"Home Delivery":"Self Pickup"]}),a.jsxs("p",{children:["Items: ",j.items.length," item(s)"]}),j.address&&a.jsxs("p",{className:"truncate",children:["Address: ",j.address]})]})]},j.id))})]}),s==="bookings"&&a.jsxs("div",{className:"p-4 sm:p-6",children:[a.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-4 sm:mb-6",children:"My Bookings"}),b.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Dt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600 text-sm",children:"No bookings found"})]}):a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:b.map(j=>a.jsxs("div",{className:"border rounded-lg p-3 sm:p-4",children:[a.jsxs("div",{className:"flex justify-between items-start mb-2 sm:mb-3",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("h3",{className:"font-medium text-gray-900 text-sm sm:text-base",children:[j.type==="table"?"Table Booking":"Event Booking"," #",j.id.slice(-6)]}),a.jsxs("p",{className:"text-xs sm:text-sm text-gray-600",children:[a.jsx(ol,{className:"h-3 w-3 sm:h-4 sm:w-4 inline mr-1"}),j.date," at ",j.time]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-semibold text-gray-900 text-sm sm:text-base",children:["₹",j.amount.toFixed(2)," paid"]}),a.jsx("span",{className:`inline-block px-1 py-0.5 sm:px-2 sm:py-1 rounded-full text-xs ${j.status==="confirmed"?"bg-green-100 text-green-800":j.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:j.status})]})]}),a.jsxs("div",{className:"text-xs sm:text-sm text-gray-600",children:[a.jsxs("p",{children:["Customers: ",j.customers]}),a.jsxs("p",{children:["Phone: ",j.phone]}),a.jsxs("p",{children:["Payment: ",j.paymentStatus==="paid"?"Advance Paid":"Pending"]})]})]},j.id))})]}),s==="addresses"&&a.jsxs("div",{className:"p-4 sm:p-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-4 sm:mb-6",children:[a.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-2 sm:mb-0",children:"Saved Addresses"}),a.jsx("button",{className:"px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm",children:"Add New Address"})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:h.map(j=>a.jsx("div",{className:"border rounded-lg p-3 sm:p-4",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx("h3",{className:"font-medium text-gray-900 text-sm sm:text-base mr-2",children:j.label}),j.isDefault&&a.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs px-1 py-0.5 rounded-full",children:"Default"})]}),a.jsxs("p",{className:"text-gray-600 flex items-start text-xs sm:text-sm",children:[a.jsx(or,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 mt-0.5 text-gray-400 flex-shrink-0"}),a.jsx("span",{className:"line-clamp-2",children:j.address})]})]}),a.jsxs("div",{className:"flex flex-col space-y-1 ml-2",children:[a.jsx("button",{className:"text-blue-600 hover:text-blue-700 text-xs sm:text-sm",children:"Edit"}),a.jsx("button",{className:"text-red-600 hover:text-red-700 text-xs sm:text-sm",children:"Delete"})]})]})},j.id))})]}),s==="wallet"&&a.jsxs("div",{className:"p-4 sm:p-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-4 sm:mb-6",children:[a.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-2 sm:mb-0",children:"Tabuloo Wallet"}),a.jsxs("button",{onClick:()=>g(!0),className:"bg-green-600 text-white px-3 py-2 rounded-lg hover:bg-green-700 flex items-center justify-center space-x-2 text-sm",children:[a.jsx(Io,{className:"h-4 w-4"}),a.jsx("span",{children:"Add Money"})]})]}),a.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white p-4 sm:p-6 rounded-xl mb-4 sm:mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-blue-100 text-xs sm:text-sm",children:"Available Balance"}),a.jsxs("p",{className:"text-2xl sm:text-3xl font-bold",children:["₹",((t==null?void 0:t.walletBalance)||0).toFixed(2)]})]}),a.jsx(ar,{className:"h-8 w-8 sm:h-12 sm:w-12 text-blue-200"})]}),a.jsxs("div",{className:"mt-3 sm:mt-4 flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-4",children:[a.jsx("button",{onClick:()=>g(!0),className:"bg-white bg-opacity-20 text-white px-3 py-2 rounded-lg hover:bg-opacity-30 transition-colors text-sm",children:"Add Money"}),a.jsx("button",{className:"bg-white bg-opacity-20 text-white px-3 py-2 rounded-lg hover:bg-opacity-30 transition-colors text-sm",children:"Send Money"})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-3 sm:mb-4",children:"Recent Transactions"}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:A.map(j=>a.jsxs("div",{className:"flex items-center justify-between p-3 sm:p-4 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[a.jsx("div",{className:`p-1.5 sm:p-2 rounded-full ${j.type==="credit"?"bg-green-100":"bg-red-100"}`,children:j.type==="credit"?a.jsx(WO,{className:"h-3 w-3 sm:h-4 sm:w-4 text-green-600"}):a.jsx(KO,{className:"h-3 w-3 sm:h-4 sm:w-4 text-red-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900 text-sm",children:j.description}),a.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:j.date})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:`font-semibold text-sm ${j.type==="credit"?"text-green-600":"text-red-600"}`,children:[j.type==="credit"?"+":"-","₹",j.amount.toFixed(2)]}),a.jsx("p",{className:"text-xs sm:text-sm text-gray-500 capitalize",children:j.status})]})]},j.id))})]})]})]})})]}),f&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-xl p-4 sm:p-6 w-full max-w-md",children:[a.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-4",children:"Add Money to Wallet"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Amount (₹)"}),a.jsx("input",{type:"number",min:"1",step:"0.01",value:v,onChange:j=>C(j.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Enter amount"})]}),a.jsx("div",{className:"grid grid-cols-3 gap-2",children:[10,25,50,100,200,500].map(j=>a.jsxs("button",{onClick:()=>C(j.toString()),className:"px-2 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 text-xs sm:text-sm",children:["₹",j]},j))})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-3 mt-4 sm:mt-6",children:[a.jsx("button",{onClick:()=>{g(!1),C("")},className:"flex-1 px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 text-sm",children:"Cancel"}),a.jsx("button",{onClick:N,disabled:!v||parseFloat(v)<=0,className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:"Add Money"})]})]})})]})}):a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Please log in"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"You need to be logged in to view your profile."})]})})},X9=()=>{const{user:t,loading:e}=Hn();return e?a.jsx(p6,{}):a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx(f6,{}),a.jsxs(JP,{children:[a.jsx(Kc,{path:"/",element:(t==null?void 0:t.role)==="public_user"?a.jsx(v_,{}):(t==null?void 0:t.role)==="admin"?a.jsx(G9,{}):(t==null?void 0:t.role)==="restaurant_owner"?a.jsx(Q9,{}):a.jsx(v_,{})}),a.jsx(Kc,{path:"/profile",element:t&&t.role==="public_user"?a.jsx(Y9,{}):a.jsx(_v,{to:"/",replace:!0})}),a.jsx(Kc,{path:"*",element:a.jsx(_v,{to:"/",replace:!0})})]})]})};function J9(){return a.jsx($O,{children:a.jsx(zO,{children:a.jsxs(_k,{children:[a.jsx(X9,{}),a.jsx(wR,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"},success:{style:{background:"#10B981"}},error:{style:{background:"#EF4444"}}}})]})})})}RE(document.getElementById("root")).render(a.jsx(k.StrictMode,{children:a.jsx(J9,{})}));
