(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=s(i);fetch(i.href,a)}})();function lS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var $1={exports:{}},Zd={},z1={exports:{}},Ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ec=Symbol.for("react.element"),cS=Symbol.for("react.portal"),uS=Symbol.for("react.fragment"),dS=Symbol.for("react.strict_mode"),hS=Symbol.for("react.profiler"),mS=Symbol.for("react.provider"),fS=Symbol.for("react.context"),pS=Symbol.for("react.forward_ref"),gS=Symbol.for("react.suspense"),xS=Symbol.for("react.memo"),yS=Symbol.for("react.lazy"),Sy=Symbol.iterator;function vS(t){return t===null||typeof t!="object"?null:(t=Sy&&t[Sy]||t["@@iterator"],typeof t=="function"?t:null)}var q1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H1=Object.assign,W1={};function so(t,e,s){this.props=t,this.context=e,this.refs=W1,this.updater=s||q1}so.prototype.isReactComponent={};so.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};so.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function G1(){}G1.prototype=so.prototype;function ig(t,e,s){this.props=t,this.context=e,this.refs=W1,this.updater=s||q1}var ag=ig.prototype=new G1;ag.constructor=ig;H1(ag,so.prototype);ag.isPureReactComponent=!0;var Py=Array.isArray,K1=Object.prototype.hasOwnProperty,og={current:null},Q1={key:!0,ref:!0,__self:!0,__source:!0};function Y1(t,e,s){var r,i={},a=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)K1.call(e,r)&&!Q1.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=s;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];i.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:ec,type:t,key:a,ref:o,props:i,_owner:og.current}}function bS(t,e){return{$$typeof:ec,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function lg(t){return typeof t=="object"&&t!==null&&t.$$typeof===ec}function wS(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(s){return e[s]})}var ky=/\/+/g;function am(t,e){return typeof t=="object"&&t!==null&&t.key!=null?wS(""+t.key):e.toString(36)}function vu(t,e,s,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ec:case cS:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+am(o,0):r,Py(i)?(s="",t!=null&&(s=t.replace(ky,"$&/")+"/"),vu(i,e,s,"",function(d){return d})):i!=null&&(lg(i)&&(i=bS(i,s+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(ky,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Py(t))for(var l=0;l<t.length;l++){a=t[l];var c=r+am(a,l);o+=vu(a,e,s,c,i)}else if(c=vS(t),typeof c=="function")for(t=c.call(t),l=0;!(a=t.next()).done;)a=a.value,c=r+am(a,l++),o+=vu(a,e,s,c,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Bc(t,e,s){if(t==null)return t;var r=[],i=0;return vu(t,r,"","",function(a){return e.call(s,a,i++)}),r}function NS(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(s){(t._status===0||t._status===-1)&&(t._status=1,t._result=s)},function(s){(t._status===0||t._status===-1)&&(t._status=2,t._result=s)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ts={current:null},bu={transition:null},jS={ReactCurrentDispatcher:ts,ReactCurrentBatchConfig:bu,ReactCurrentOwner:og};function X1(){throw Error("act(...) is not supported in production builds of React.")}Ce.Children={map:Bc,forEach:function(t,e,s){Bc(t,function(){e.apply(this,arguments)},s)},count:function(t){var e=0;return Bc(t,function(){e++}),e},toArray:function(t){return Bc(t,function(e){return e})||[]},only:function(t){if(!lg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ce.Component=so;Ce.Fragment=uS;Ce.Profiler=hS;Ce.PureComponent=ig;Ce.StrictMode=dS;Ce.Suspense=gS;Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jS;Ce.act=X1;Ce.cloneElement=function(t,e,s){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=H1({},t.props),i=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=og.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)K1.call(e,c)&&!Q1.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=s;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:ec,type:t.type,key:i,ref:a,props:r,_owner:o}};Ce.createContext=function(t){return t={$$typeof:fS,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:mS,_context:t},t.Consumer=t};Ce.createElement=Y1;Ce.createFactory=function(t){var e=Y1.bind(null,t);return e.type=t,e};Ce.createRef=function(){return{current:null}};Ce.forwardRef=function(t){return{$$typeof:pS,render:t}};Ce.isValidElement=lg;Ce.lazy=function(t){return{$$typeof:yS,_payload:{_status:-1,_result:t},_init:NS}};Ce.memo=function(t,e){return{$$typeof:xS,type:t,compare:e===void 0?null:e}};Ce.startTransition=function(t){var e=bu.transition;bu.transition={};try{t()}finally{bu.transition=e}};Ce.unstable_act=X1;Ce.useCallback=function(t,e){return ts.current.useCallback(t,e)};Ce.useContext=function(t){return ts.current.useContext(t)};Ce.useDebugValue=function(){};Ce.useDeferredValue=function(t){return ts.current.useDeferredValue(t)};Ce.useEffect=function(t,e){return ts.current.useEffect(t,e)};Ce.useId=function(){return ts.current.useId()};Ce.useImperativeHandle=function(t,e,s){return ts.current.useImperativeHandle(t,e,s)};Ce.useInsertionEffect=function(t,e){return ts.current.useInsertionEffect(t,e)};Ce.useLayoutEffect=function(t,e){return ts.current.useLayoutEffect(t,e)};Ce.useMemo=function(t,e){return ts.current.useMemo(t,e)};Ce.useReducer=function(t,e,s){return ts.current.useReducer(t,e,s)};Ce.useRef=function(t){return ts.current.useRef(t)};Ce.useState=function(t){return ts.current.useState(t)};Ce.useSyncExternalStore=function(t,e,s){return ts.current.useSyncExternalStore(t,e,s)};Ce.useTransition=function(){return ts.current.useTransition()};Ce.version="18.3.1";z1.exports=Ce;var T=z1.exports;const J1=lS(T);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _S=T,ES=Symbol.for("react.element"),TS=Symbol.for("react.fragment"),CS=Object.prototype.hasOwnProperty,SS=_S.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,PS={key:!0,ref:!0,__self:!0,__source:!0};function Z1(t,e,s){var r,i={},a=null,o=null;s!==void 0&&(a=""+s),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)CS.call(e,r)&&!PS.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:ES,type:t,key:a,ref:o,props:i,_owner:SS.current}}Zd.Fragment=TS;Zd.jsx=Z1;Zd.jsxs=Z1;$1.exports=Zd;var n=$1.exports,eN={exports:{}},Ns={},tN={exports:{}},sN={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(H,W){var G=H.length;H.push(W);e:for(;0<G;){var re=G-1>>>1,ie=H[re];if(0<i(ie,W))H[re]=W,H[G]=ie,G=re;else break e}}function s(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var W=H[0],G=H.pop();if(G!==W){H[0]=G;e:for(var re=0,ie=H.length,pe=ie>>>1;re<pe;){var ae=2*(re+1)-1,_e=H[ae],Me=ae+1,qe=H[Me];if(0>i(_e,G))Me<ie&&0>i(qe,_e)?(H[re]=qe,H[Me]=G,re=Me):(H[re]=_e,H[ae]=G,re=ae);else if(Me<ie&&0>i(qe,G))H[re]=qe,H[Me]=G,re=Me;else break e}}return W}function i(H,W){var G=H.sortIndex-W.sortIndex;return G!==0?G:H.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],h=1,f=null,m=3,p=!1,_=!1,N=!1,y=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(H){for(var W=s(d);W!==null;){if(W.callback===null)r(d);else if(W.startTime<=H)r(d),W.sortIndex=W.expirationTime,e(c,W);else break;W=s(d)}}function E(H){if(N=!1,x(H),!_)if(s(c)!==null)_=!0,R(I);else{var W=s(d);W!==null&&$(E,W.startTime-H)}}function I(H,W){_=!1,N&&(N=!1,b(j),j=-1),p=!0;var G=m;try{for(x(W),f=s(c);f!==null&&(!(f.expirationTime>W)||H&&!A());){var re=f.callback;if(typeof re=="function"){f.callback=null,m=f.priorityLevel;var ie=re(f.expirationTime<=W);W=t.unstable_now(),typeof ie=="function"?f.callback=ie:f===s(c)&&r(c),x(W)}else r(c);f=s(c)}if(f!==null)var pe=!0;else{var ae=s(d);ae!==null&&$(E,ae.startTime-W),pe=!1}return pe}finally{f=null,m=G,p=!1}}var L=!1,C=null,j=-1,k=5,O=-1;function A(){return!(t.unstable_now()-O<k)}function V(){if(C!==null){var H=t.unstable_now();O=H;var W=!0;try{W=C(!0,H)}finally{W?D():(L=!1,C=null)}}else L=!1}var D;if(typeof v=="function")D=function(){v(V)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,B=U.port2;U.port1.onmessage=V,D=function(){B.postMessage(null)}}else D=function(){y(V,0)};function R(H){C=H,L||(L=!0,D())}function $(H,W){j=y(function(){H(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){_||p||(_=!0,R(I))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return s(c)},t.unstable_next=function(H){switch(m){case 1:case 2:case 3:var W=3;break;default:W=m}var G=m;m=W;try{return H()}finally{m=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,W){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var G=m;m=H;try{return W()}finally{m=G}},t.unstable_scheduleCallback=function(H,W,G){var re=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?re+G:re):G=re,H){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=G+ie,H={id:h++,callback:W,priorityLevel:H,startTime:G,expirationTime:ie,sortIndex:-1},G>re?(H.sortIndex=G,e(d,H),s(c)===null&&H===s(d)&&(N?(b(j),j=-1):N=!0,$(E,G-re))):(H.sortIndex=ie,e(c,H),_||p||(_=!0,R(I))),H},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(H){var W=m;return function(){var G=m;m=W;try{return H.apply(this,arguments)}finally{m=G}}}})(sN);tN.exports=sN;var kS=tN.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IS=T,ws=kS;function te(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,s=1;s<arguments.length;s++)e+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var rN=new Set,bl={};function Gi(t,e){Fa(t,e),Fa(t+"Capture",e)}function Fa(t,e){for(bl[t]=e,t=0;t<e.length;t++)rN.add(e[t])}var Wr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hf=Object.prototype.hasOwnProperty,AS=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Iy={},Ay={};function RS(t){return hf.call(Ay,t)?!0:hf.call(Iy,t)?!1:AS.test(t)?Ay[t]=!0:(Iy[t]=!0,!1)}function DS(t,e,s,r){if(s!==null&&s.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:s!==null?!s.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function MS(t,e,s,r){if(e===null||typeof e>"u"||DS(t,e,s,r))return!0;if(r)return!1;if(s!==null)switch(s.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ss(t,e,s,r,i,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=s,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var Mt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Mt[t]=new ss(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Mt[e]=new ss(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Mt[t]=new ss(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Mt[t]=new ss(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Mt[t]=new ss(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Mt[t]=new ss(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Mt[t]=new ss(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Mt[t]=new ss(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Mt[t]=new ss(t,5,!1,t.toLowerCase(),null,!1,!1)});var cg=/[\-:]([a-z])/g;function ug(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(cg,ug);Mt[e]=new ss(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(cg,ug);Mt[e]=new ss(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(cg,ug);Mt[e]=new ss(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Mt[t]=new ss(t,1,!1,t.toLowerCase(),null,!1,!1)});Mt.xlinkHref=new ss("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Mt[t]=new ss(t,1,!1,t.toLowerCase(),null,!0,!0)});function dg(t,e,s,r){var i=Mt.hasOwnProperty(e)?Mt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(MS(e,s,i,r)&&(s=null),r||i===null?RS(e)&&(s===null?t.removeAttribute(e):t.setAttribute(e,""+s)):i.mustUseProperty?t[i.propertyName]=s===null?i.type===3?!1:"":s:(e=i.attributeName,r=i.attributeNamespace,s===null?t.removeAttribute(e):(i=i.type,s=i===3||i===4&&s===!0?"":""+s,r?t.setAttributeNS(r,e,s):t.setAttribute(e,s))))}var ln=IS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$c=Symbol.for("react.element"),da=Symbol.for("react.portal"),ha=Symbol.for("react.fragment"),hg=Symbol.for("react.strict_mode"),mf=Symbol.for("react.profiler"),nN=Symbol.for("react.provider"),iN=Symbol.for("react.context"),mg=Symbol.for("react.forward_ref"),ff=Symbol.for("react.suspense"),pf=Symbol.for("react.suspense_list"),fg=Symbol.for("react.memo"),yn=Symbol.for("react.lazy"),aN=Symbol.for("react.offscreen"),Ry=Symbol.iterator;function Io(t){return t===null||typeof t!="object"?null:(t=Ry&&t[Ry]||t["@@iterator"],typeof t=="function"?t:null)}var tt=Object.assign,om;function $o(t){if(om===void 0)try{throw Error()}catch(s){var e=s.stack.trim().match(/\n( *(at )?)/);om=e&&e[1]||""}return`
`+om+t}var lm=!1;function cm(t,e){if(!t||lm)return"";lm=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),a=r.stack.split(`
`),o=i.length-1,l=a.length-1;1<=o&&0<=l&&i[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==a[l]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{lm=!1,Error.prepareStackTrace=s}return(t=t?t.displayName||t.name:"")?$o(t):""}function OS(t){switch(t.tag){case 5:return $o(t.type);case 16:return $o("Lazy");case 13:return $o("Suspense");case 19:return $o("SuspenseList");case 0:case 2:case 15:return t=cm(t.type,!1),t;case 11:return t=cm(t.type.render,!1),t;case 1:return t=cm(t.type,!0),t;default:return""}}function gf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ha:return"Fragment";case da:return"Portal";case mf:return"Profiler";case hg:return"StrictMode";case ff:return"Suspense";case pf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case iN:return(t.displayName||"Context")+".Consumer";case nN:return(t._context.displayName||"Context")+".Provider";case mg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case fg:return e=t.displayName||null,e!==null?e:gf(t.type)||"Memo";case yn:e=t._payload,t=t._init;try{return gf(t(e))}catch{}}return null}function VS(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return gf(e);case 8:return e===hg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function zn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function oN(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function LS(t){var e=oN(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var i=s.get,a=s.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:s.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function zc(t){t._valueTracker||(t._valueTracker=LS(t))}function lN(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var s=e.getValue(),r="";return t&&(r=oN(t)?t.checked?"true":"false":t.value),t=r,t!==s?(e.setValue(t),!0):!1}function Ku(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function xf(t,e){var s=e.checked;return tt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??t._wrapperState.initialChecked})}function Dy(t,e){var s=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;s=zn(e.value!=null?e.value:s),t._wrapperState={initialChecked:r,initialValue:s,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function cN(t,e){e=e.checked,e!=null&&dg(t,"checked",e,!1)}function yf(t,e){cN(t,e);var s=zn(e.value),r=e.type;if(s!=null)r==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+s):t.value!==""+s&&(t.value=""+s);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?vf(t,e.type,s):e.hasOwnProperty("defaultValue")&&vf(t,e.type,zn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function My(t,e,s){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,s||e===t.value||(t.value=e),t.defaultValue=e}s=t.name,s!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,s!==""&&(t.name=s)}function vf(t,e,s){(e!=="number"||Ku(t.ownerDocument)!==t)&&(s==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+s&&(t.defaultValue=""+s))}var zo=Array.isArray;function Pa(t,e,s,r){if(t=t.options,e){e={};for(var i=0;i<s.length;i++)e["$"+s[i]]=!0;for(s=0;s<t.length;s++)i=e.hasOwnProperty("$"+t[s].value),t[s].selected!==i&&(t[s].selected=i),i&&r&&(t[s].defaultSelected=!0)}else{for(s=""+zn(s),e=null,i=0;i<t.length;i++){if(t[i].value===s){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function bf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(te(91));return tt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Oy(t,e){var s=e.value;if(s==null){if(s=e.children,e=e.defaultValue,s!=null){if(e!=null)throw Error(te(92));if(zo(s)){if(1<s.length)throw Error(te(93));s=s[0]}e=s}e==null&&(e=""),s=e}t._wrapperState={initialValue:zn(s)}}function uN(t,e){var s=zn(e.value),r=zn(e.defaultValue);s!=null&&(s=""+s,s!==t.value&&(t.value=s),e.defaultValue==null&&t.defaultValue!==s&&(t.defaultValue=s)),r!=null&&(t.defaultValue=""+r)}function Vy(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function dN(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?dN(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var qc,hN=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,s,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,s,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(qc=qc||document.createElement("div"),qc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=qc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function wl(t,e){if(e){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=e;return}}t.textContent=e}var Jo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},FS=["Webkit","ms","Moz","O"];Object.keys(Jo).forEach(function(t){FS.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Jo[e]=Jo[t]})});function mN(t,e,s){return e==null||typeof e=="boolean"||e===""?"":s||typeof e!="number"||e===0||Jo.hasOwnProperty(t)&&Jo[t]?(""+e).trim():e+"px"}function fN(t,e){t=t.style;for(var s in e)if(e.hasOwnProperty(s)){var r=s.indexOf("--")===0,i=mN(s,e[s],r);s==="float"&&(s="cssFloat"),r?t.setProperty(s,i):t[s]=i}}var US=tt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Nf(t,e){if(e){if(US[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(te(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(te(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(te(61))}if(e.style!=null&&typeof e.style!="object")throw Error(te(62))}}function jf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _f=null;function pg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ef=null,ka=null,Ia=null;function Ly(t){if(t=rc(t)){if(typeof Ef!="function")throw Error(te(280));var e=t.stateNode;e&&(e=nh(e),Ef(t.stateNode,t.type,e))}}function pN(t){ka?Ia?Ia.push(t):Ia=[t]:ka=t}function gN(){if(ka){var t=ka,e=Ia;if(Ia=ka=null,Ly(t),e)for(t=0;t<e.length;t++)Ly(e[t])}}function xN(t,e){return t(e)}function yN(){}var um=!1;function vN(t,e,s){if(um)return t(e,s);um=!0;try{return xN(t,e,s)}finally{um=!1,(ka!==null||Ia!==null)&&(yN(),gN())}}function Nl(t,e){var s=t.stateNode;if(s===null)return null;var r=nh(s);if(r===null)return null;s=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(te(231,e,typeof s));return s}var Tf=!1;if(Wr)try{var Ao={};Object.defineProperty(Ao,"passive",{get:function(){Tf=!0}}),window.addEventListener("test",Ao,Ao),window.removeEventListener("test",Ao,Ao)}catch{Tf=!1}function BS(t,e,s,r,i,a,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(s,d)}catch(h){this.onError(h)}}var Zo=!1,Qu=null,Yu=!1,Cf=null,$S={onError:function(t){Zo=!0,Qu=t}};function zS(t,e,s,r,i,a,o,l,c){Zo=!1,Qu=null,BS.apply($S,arguments)}function qS(t,e,s,r,i,a,o,l,c){if(zS.apply(this,arguments),Zo){if(Zo){var d=Qu;Zo=!1,Qu=null}else throw Error(te(198));Yu||(Yu=!0,Cf=d)}}function Ki(t){var e=t,s=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(s=e.return),t=e.return;while(t)}return e.tag===3?s:null}function bN(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Fy(t){if(Ki(t)!==t)throw Error(te(188))}function HS(t){var e=t.alternate;if(!e){if(e=Ki(t),e===null)throw Error(te(188));return e!==t?null:t}for(var s=t,r=e;;){var i=s.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){s=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===s)return Fy(i),t;if(a===r)return Fy(i),e;a=a.sibling}throw Error(te(188))}if(s.return!==r.return)s=i,r=a;else{for(var o=!1,l=i.child;l;){if(l===s){o=!0,s=i,r=a;break}if(l===r){o=!0,r=i,s=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===s){o=!0,s=a,r=i;break}if(l===r){o=!0,r=a,s=i;break}l=l.sibling}if(!o)throw Error(te(189))}}if(s.alternate!==r)throw Error(te(190))}if(s.tag!==3)throw Error(te(188));return s.stateNode.current===s?t:e}function wN(t){return t=HS(t),t!==null?NN(t):null}function NN(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=NN(t);if(e!==null)return e;t=t.sibling}return null}var jN=ws.unstable_scheduleCallback,Uy=ws.unstable_cancelCallback,WS=ws.unstable_shouldYield,GS=ws.unstable_requestPaint,ht=ws.unstable_now,KS=ws.unstable_getCurrentPriorityLevel,gg=ws.unstable_ImmediatePriority,_N=ws.unstable_UserBlockingPriority,Xu=ws.unstable_NormalPriority,QS=ws.unstable_LowPriority,EN=ws.unstable_IdlePriority,eh=null,cr=null;function YS(t){if(cr&&typeof cr.onCommitFiberRoot=="function")try{cr.onCommitFiberRoot(eh,t,void 0,(t.current.flags&128)===128)}catch{}}var Js=Math.clz32?Math.clz32:ZS,XS=Math.log,JS=Math.LN2;function ZS(t){return t>>>=0,t===0?32:31-(XS(t)/JS|0)|0}var Hc=64,Wc=4194304;function qo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ju(t,e){var s=t.pendingLanes;if(s===0)return 0;var r=0,i=t.suspendedLanes,a=t.pingedLanes,o=s&268435455;if(o!==0){var l=o&~i;l!==0?r=qo(l):(a&=o,a!==0&&(r=qo(a)))}else o=s&~i,o!==0?r=qo(o):a!==0&&(r=qo(a));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(r&4&&(r|=s&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)s=31-Js(e),i=1<<s,r|=t[s],e&=~i;return r}function eP(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tP(t,e){for(var s=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-Js(a),l=1<<o,c=i[o];c===-1?(!(l&s)||l&r)&&(i[o]=eP(l,e)):c<=e&&(t.expiredLanes|=l),a&=~l}}function Sf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function TN(){var t=Hc;return Hc<<=1,!(Hc&4194240)&&(Hc=64),t}function dm(t){for(var e=[],s=0;31>s;s++)e.push(t);return e}function tc(t,e,s){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Js(e),t[e]=s}function sP(t,e){var s=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<s;){var i=31-Js(s),a=1<<i;e[i]=0,r[i]=-1,t[i]=-1,s&=~a}}function xg(t,e){var s=t.entangledLanes|=e;for(t=t.entanglements;s;){var r=31-Js(s),i=1<<r;i&e|t[r]&e&&(t[r]|=e),s&=~i}}var Fe=0;function CN(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var SN,yg,PN,kN,IN,Pf=!1,Gc=[],In=null,An=null,Rn=null,jl=new Map,_l=new Map,bn=[],rP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function By(t,e){switch(t){case"focusin":case"focusout":In=null;break;case"dragenter":case"dragleave":An=null;break;case"mouseover":case"mouseout":Rn=null;break;case"pointerover":case"pointerout":jl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":_l.delete(e.pointerId)}}function Ro(t,e,s,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:s,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=rc(e),e!==null&&yg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function nP(t,e,s,r,i){switch(e){case"focusin":return In=Ro(In,t,e,s,r,i),!0;case"dragenter":return An=Ro(An,t,e,s,r,i),!0;case"mouseover":return Rn=Ro(Rn,t,e,s,r,i),!0;case"pointerover":var a=i.pointerId;return jl.set(a,Ro(jl.get(a)||null,t,e,s,r,i)),!0;case"gotpointercapture":return a=i.pointerId,_l.set(a,Ro(_l.get(a)||null,t,e,s,r,i)),!0}return!1}function AN(t){var e=vi(t.target);if(e!==null){var s=Ki(e);if(s!==null){if(e=s.tag,e===13){if(e=bN(s),e!==null){t.blockedOn=e,IN(t.priority,function(){PN(s)});return}}else if(e===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function wu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var s=kf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(s===null){s=t.nativeEvent;var r=new s.constructor(s.type,s);_f=r,s.target.dispatchEvent(r),_f=null}else return e=rc(s),e!==null&&yg(e),t.blockedOn=s,!1;e.shift()}return!0}function $y(t,e,s){wu(t)&&s.delete(e)}function iP(){Pf=!1,In!==null&&wu(In)&&(In=null),An!==null&&wu(An)&&(An=null),Rn!==null&&wu(Rn)&&(Rn=null),jl.forEach($y),_l.forEach($y)}function Do(t,e){t.blockedOn===e&&(t.blockedOn=null,Pf||(Pf=!0,ws.unstable_scheduleCallback(ws.unstable_NormalPriority,iP)))}function El(t){function e(i){return Do(i,t)}if(0<Gc.length){Do(Gc[0],t);for(var s=1;s<Gc.length;s++){var r=Gc[s];r.blockedOn===t&&(r.blockedOn=null)}}for(In!==null&&Do(In,t),An!==null&&Do(An,t),Rn!==null&&Do(Rn,t),jl.forEach(e),_l.forEach(e),s=0;s<bn.length;s++)r=bn[s],r.blockedOn===t&&(r.blockedOn=null);for(;0<bn.length&&(s=bn[0],s.blockedOn===null);)AN(s),s.blockedOn===null&&bn.shift()}var Aa=ln.ReactCurrentBatchConfig,Zu=!0;function aP(t,e,s,r){var i=Fe,a=Aa.transition;Aa.transition=null;try{Fe=1,vg(t,e,s,r)}finally{Fe=i,Aa.transition=a}}function oP(t,e,s,r){var i=Fe,a=Aa.transition;Aa.transition=null;try{Fe=4,vg(t,e,s,r)}finally{Fe=i,Aa.transition=a}}function vg(t,e,s,r){if(Zu){var i=kf(t,e,s,r);if(i===null)wm(t,e,r,ed,s),By(t,r);else if(nP(i,t,e,s,r))r.stopPropagation();else if(By(t,r),e&4&&-1<rP.indexOf(t)){for(;i!==null;){var a=rc(i);if(a!==null&&SN(a),a=kf(t,e,s,r),a===null&&wm(t,e,r,ed,s),a===i)break;i=a}i!==null&&r.stopPropagation()}else wm(t,e,r,null,s)}}var ed=null;function kf(t,e,s,r){if(ed=null,t=pg(r),t=vi(t),t!==null)if(e=Ki(t),e===null)t=null;else if(s=e.tag,s===13){if(t=bN(e),t!==null)return t;t=null}else if(s===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ed=t,null}function RN(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(KS()){case gg:return 1;case _N:return 4;case Xu:case QS:return 16;case EN:return 536870912;default:return 16}default:return 16}}var Cn=null,bg=null,Nu=null;function DN(){if(Nu)return Nu;var t,e=bg,s=e.length,r,i="value"in Cn?Cn.value:Cn.textContent,a=i.length;for(t=0;t<s&&e[t]===i[t];t++);var o=s-t;for(r=1;r<=o&&e[s-r]===i[a-r];r++);return Nu=i.slice(t,1<r?1-r:void 0)}function ju(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Kc(){return!0}function zy(){return!1}function js(t){function e(s,r,i,a,o){this._reactName=s,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(s=t[l],this[l]=s?s(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Kc:zy,this.isPropagationStopped=zy,this}return tt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Kc)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Kc)},persist:function(){},isPersistent:Kc}),e}var ro={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wg=js(ro),sc=tt({},ro,{view:0,detail:0}),lP=js(sc),hm,mm,Mo,th=tt({},sc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ng,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Mo&&(Mo&&t.type==="mousemove"?(hm=t.screenX-Mo.screenX,mm=t.screenY-Mo.screenY):mm=hm=0,Mo=t),hm)},movementY:function(t){return"movementY"in t?t.movementY:mm}}),qy=js(th),cP=tt({},th,{dataTransfer:0}),uP=js(cP),dP=tt({},sc,{relatedTarget:0}),fm=js(dP),hP=tt({},ro,{animationName:0,elapsedTime:0,pseudoElement:0}),mP=js(hP),fP=tt({},ro,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),pP=js(fP),gP=tt({},ro,{data:0}),Hy=js(gP),xP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bP(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=vP[t])?!!e[t]:!1}function Ng(){return bP}var wP=tt({},sc,{key:function(t){if(t.key){var e=xP[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ju(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?yP[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ng,charCode:function(t){return t.type==="keypress"?ju(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ju(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),NP=js(wP),jP=tt({},th,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wy=js(jP),_P=tt({},sc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ng}),EP=js(_P),TP=tt({},ro,{propertyName:0,elapsedTime:0,pseudoElement:0}),CP=js(TP),SP=tt({},th,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),PP=js(SP),kP=[9,13,27,32],jg=Wr&&"CompositionEvent"in window,el=null;Wr&&"documentMode"in document&&(el=document.documentMode);var IP=Wr&&"TextEvent"in window&&!el,MN=Wr&&(!jg||el&&8<el&&11>=el),Gy=" ",Ky=!1;function ON(t,e){switch(t){case"keyup":return kP.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function VN(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ma=!1;function AP(t,e){switch(t){case"compositionend":return VN(e);case"keypress":return e.which!==32?null:(Ky=!0,Gy);case"textInput":return t=e.data,t===Gy&&Ky?null:t;default:return null}}function RP(t,e){if(ma)return t==="compositionend"||!jg&&ON(t,e)?(t=DN(),Nu=bg=Cn=null,ma=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return MN&&e.locale!=="ko"?null:e.data;default:return null}}var DP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!DP[t.type]:e==="textarea"}function LN(t,e,s,r){pN(r),e=td(e,"onChange"),0<e.length&&(s=new wg("onChange","change",null,s,r),t.push({event:s,listeners:e}))}var tl=null,Tl=null;function MP(t){QN(t,0)}function sh(t){var e=ga(t);if(lN(e))return t}function OP(t,e){if(t==="change")return e}var FN=!1;if(Wr){var pm;if(Wr){var gm="oninput"in document;if(!gm){var Yy=document.createElement("div");Yy.setAttribute("oninput","return;"),gm=typeof Yy.oninput=="function"}pm=gm}else pm=!1;FN=pm&&(!document.documentMode||9<document.documentMode)}function Xy(){tl&&(tl.detachEvent("onpropertychange",UN),Tl=tl=null)}function UN(t){if(t.propertyName==="value"&&sh(Tl)){var e=[];LN(e,Tl,t,pg(t)),vN(MP,e)}}function VP(t,e,s){t==="focusin"?(Xy(),tl=e,Tl=s,tl.attachEvent("onpropertychange",UN)):t==="focusout"&&Xy()}function LP(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return sh(Tl)}function FP(t,e){if(t==="click")return sh(e)}function UP(t,e){if(t==="input"||t==="change")return sh(e)}function BP(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var er=typeof Object.is=="function"?Object.is:BP;function Cl(t,e){if(er(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var s=Object.keys(t),r=Object.keys(e);if(s.length!==r.length)return!1;for(r=0;r<s.length;r++){var i=s[r];if(!hf.call(e,i)||!er(t[i],e[i]))return!1}return!0}function Jy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Zy(t,e){var s=Jy(t);t=0;for(var r;s;){if(s.nodeType===3){if(r=t+s.textContent.length,t<=e&&r>=e)return{node:s,offset:e-t};t=r}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Jy(s)}}function BN(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?BN(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function $N(){for(var t=window,e=Ku();e instanceof t.HTMLIFrameElement;){try{var s=typeof e.contentWindow.location.href=="string"}catch{s=!1}if(s)t=e.contentWindow;else break;e=Ku(t.document)}return e}function _g(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function $P(t){var e=$N(),s=t.focusedElem,r=t.selectionRange;if(e!==s&&s&&s.ownerDocument&&BN(s.ownerDocument.documentElement,s)){if(r!==null&&_g(s)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in s)s.selectionStart=e,s.selectionEnd=Math.min(t,s.value.length);else if(t=(e=s.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=s.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!t.extend&&a>r&&(i=r,r=a,a=i),i=Zy(s,a);var o=Zy(s,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=s;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<e.length;s++)t=e[s],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var zP=Wr&&"documentMode"in document&&11>=document.documentMode,fa=null,If=null,sl=null,Af=!1;function ev(t,e,s){var r=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Af||fa==null||fa!==Ku(r)||(r=fa,"selectionStart"in r&&_g(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),sl&&Cl(sl,r)||(sl=r,r=td(If,"onSelect"),0<r.length&&(e=new wg("onSelect","select",null,e,s),t.push({event:e,listeners:r}),e.target=fa)))}function Qc(t,e){var s={};return s[t.toLowerCase()]=e.toLowerCase(),s["Webkit"+t]="webkit"+e,s["Moz"+t]="moz"+e,s}var pa={animationend:Qc("Animation","AnimationEnd"),animationiteration:Qc("Animation","AnimationIteration"),animationstart:Qc("Animation","AnimationStart"),transitionend:Qc("Transition","TransitionEnd")},xm={},zN={};Wr&&(zN=document.createElement("div").style,"AnimationEvent"in window||(delete pa.animationend.animation,delete pa.animationiteration.animation,delete pa.animationstart.animation),"TransitionEvent"in window||delete pa.transitionend.transition);function rh(t){if(xm[t])return xm[t];if(!pa[t])return t;var e=pa[t],s;for(s in e)if(e.hasOwnProperty(s)&&s in zN)return xm[t]=e[s];return t}var qN=rh("animationend"),HN=rh("animationiteration"),WN=rh("animationstart"),GN=rh("transitionend"),KN=new Map,tv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function si(t,e){KN.set(t,e),Gi(e,[t])}for(var ym=0;ym<tv.length;ym++){var vm=tv[ym],qP=vm.toLowerCase(),HP=vm[0].toUpperCase()+vm.slice(1);si(qP,"on"+HP)}si(qN,"onAnimationEnd");si(HN,"onAnimationIteration");si(WN,"onAnimationStart");si("dblclick","onDoubleClick");si("focusin","onFocus");si("focusout","onBlur");si(GN,"onTransitionEnd");Fa("onMouseEnter",["mouseout","mouseover"]);Fa("onMouseLeave",["mouseout","mouseover"]);Fa("onPointerEnter",["pointerout","pointerover"]);Fa("onPointerLeave",["pointerout","pointerover"]);Gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Gi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ho="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WP=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ho));function sv(t,e,s){var r=t.type||"unknown-event";t.currentTarget=s,qS(r,e,void 0,t),t.currentTarget=null}function QN(t,e){e=(e&4)!==0;for(var s=0;s<t.length;s++){var r=t[s],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==a&&i.isPropagationStopped())break e;sv(i,l,d),a=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==a&&i.isPropagationStopped())break e;sv(i,l,d),a=c}}}if(Yu)throw t=Cf,Yu=!1,Cf=null,t}function We(t,e){var s=e[Vf];s===void 0&&(s=e[Vf]=new Set);var r=t+"__bubble";s.has(r)||(YN(e,t,2,!1),s.add(r))}function bm(t,e,s){var r=0;e&&(r|=4),YN(s,t,r,e)}var Yc="_reactListening"+Math.random().toString(36).slice(2);function Sl(t){if(!t[Yc]){t[Yc]=!0,rN.forEach(function(s){s!=="selectionchange"&&(WP.has(s)||bm(s,!1,t),bm(s,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Yc]||(e[Yc]=!0,bm("selectionchange",!1,e))}}function YN(t,e,s,r){switch(RN(e)){case 1:var i=aP;break;case 4:i=oP;break;default:i=vg}s=i.bind(null,e,s,t),i=void 0,!Tf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,s,{capture:!0,passive:i}):t.addEventListener(e,s,!0):i!==void 0?t.addEventListener(e,s,{passive:i}):t.addEventListener(e,s,!1)}function wm(t,e,s,r,i){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=vi(l),o===null)return;if(c=o.tag,c===5||c===6){r=a=o;continue e}l=l.parentNode}}r=r.return}vN(function(){var d=a,h=pg(s),f=[];e:{var m=KN.get(t);if(m!==void 0){var p=wg,_=t;switch(t){case"keypress":if(ju(s)===0)break e;case"keydown":case"keyup":p=NP;break;case"focusin":_="focus",p=fm;break;case"focusout":_="blur",p=fm;break;case"beforeblur":case"afterblur":p=fm;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=qy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=uP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=EP;break;case qN:case HN:case WN:p=mP;break;case GN:p=CP;break;case"scroll":p=lP;break;case"wheel":p=PP;break;case"copy":case"cut":case"paste":p=pP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Wy}var N=(e&4)!==0,y=!N&&t==="scroll",b=N?m!==null?m+"Capture":null:m;N=[];for(var v=d,x;v!==null;){x=v;var E=x.stateNode;if(x.tag===5&&E!==null&&(x=E,b!==null&&(E=Nl(v,b),E!=null&&N.push(Pl(v,E,x)))),y)break;v=v.return}0<N.length&&(m=new p(m,_,null,s,h),f.push({event:m,listeners:N}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",m&&s!==_f&&(_=s.relatedTarget||s.fromElement)&&(vi(_)||_[Gr]))break e;if((p||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,p?(_=s.relatedTarget||s.toElement,p=d,_=_?vi(_):null,_!==null&&(y=Ki(_),_!==y||_.tag!==5&&_.tag!==6)&&(_=null)):(p=null,_=d),p!==_)){if(N=qy,E="onMouseLeave",b="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(N=Wy,E="onPointerLeave",b="onPointerEnter",v="pointer"),y=p==null?m:ga(p),x=_==null?m:ga(_),m=new N(E,v+"leave",p,s,h),m.target=y,m.relatedTarget=x,E=null,vi(h)===d&&(N=new N(b,v+"enter",_,s,h),N.target=x,N.relatedTarget=y,E=N),y=E,p&&_)t:{for(N=p,b=_,v=0,x=N;x;x=aa(x))v++;for(x=0,E=b;E;E=aa(E))x++;for(;0<v-x;)N=aa(N),v--;for(;0<x-v;)b=aa(b),x--;for(;v--;){if(N===b||b!==null&&N===b.alternate)break t;N=aa(N),b=aa(b)}N=null}else N=null;p!==null&&rv(f,m,p,N,!1),_!==null&&y!==null&&rv(f,y,_,N,!0)}}e:{if(m=d?ga(d):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var I=OP;else if(Qy(m))if(FN)I=UP;else{I=LP;var L=VP}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(I=FP);if(I&&(I=I(t,d))){LN(f,I,s,h);break e}L&&L(t,m,d),t==="focusout"&&(L=m._wrapperState)&&L.controlled&&m.type==="number"&&vf(m,"number",m.value)}switch(L=d?ga(d):window,t){case"focusin":(Qy(L)||L.contentEditable==="true")&&(fa=L,If=d,sl=null);break;case"focusout":sl=If=fa=null;break;case"mousedown":Af=!0;break;case"contextmenu":case"mouseup":case"dragend":Af=!1,ev(f,s,h);break;case"selectionchange":if(zP)break;case"keydown":case"keyup":ev(f,s,h)}var C;if(jg)e:{switch(t){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else ma?ON(t,s)&&(j="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(j="onCompositionStart");j&&(MN&&s.locale!=="ko"&&(ma||j!=="onCompositionStart"?j==="onCompositionEnd"&&ma&&(C=DN()):(Cn=h,bg="value"in Cn?Cn.value:Cn.textContent,ma=!0)),L=td(d,j),0<L.length&&(j=new Hy(j,t,null,s,h),f.push({event:j,listeners:L}),C?j.data=C:(C=VN(s),C!==null&&(j.data=C)))),(C=IP?AP(t,s):RP(t,s))&&(d=td(d,"onBeforeInput"),0<d.length&&(h=new Hy("onBeforeInput","beforeinput",null,s,h),f.push({event:h,listeners:d}),h.data=C))}QN(f,e)})}function Pl(t,e,s){return{instance:t,listener:e,currentTarget:s}}function td(t,e){for(var s=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Nl(t,s),a!=null&&r.unshift(Pl(t,a,i)),a=Nl(t,e),a!=null&&r.push(Pl(t,a,i))),t=t.return}return r}function aa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function rv(t,e,s,r,i){for(var a=e._reactName,o=[];s!==null&&s!==r;){var l=s,c=l.alternate,d=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&d!==null&&(l=d,i?(c=Nl(s,a),c!=null&&o.unshift(Pl(s,c,l))):i||(c=Nl(s,a),c!=null&&o.push(Pl(s,c,l)))),s=s.return}o.length!==0&&t.push({event:e,listeners:o})}var GP=/\r\n?/g,KP=/\u0000|\uFFFD/g;function nv(t){return(typeof t=="string"?t:""+t).replace(GP,`
`).replace(KP,"")}function Xc(t,e,s){if(e=nv(e),nv(t)!==e&&s)throw Error(te(425))}function sd(){}var Rf=null,Df=null;function Mf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Of=typeof setTimeout=="function"?setTimeout:void 0,QP=typeof clearTimeout=="function"?clearTimeout:void 0,iv=typeof Promise=="function"?Promise:void 0,YP=typeof queueMicrotask=="function"?queueMicrotask:typeof iv<"u"?function(t){return iv.resolve(null).then(t).catch(XP)}:Of;function XP(t){setTimeout(function(){throw t})}function Nm(t,e){var s=e,r=0;do{var i=s.nextSibling;if(t.removeChild(s),i&&i.nodeType===8)if(s=i.data,s==="/$"){if(r===0){t.removeChild(i),El(e);return}r--}else s!=="$"&&s!=="$?"&&s!=="$!"||r++;s=i}while(s);El(e)}function Dn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function av(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(e===0)return t;e--}else s==="/$"&&e++}t=t.previousSibling}return null}var no=Math.random().toString(36).slice(2),lr="__reactFiber$"+no,kl="__reactProps$"+no,Gr="__reactContainer$"+no,Vf="__reactEvents$"+no,JP="__reactListeners$"+no,ZP="__reactHandles$"+no;function vi(t){var e=t[lr];if(e)return e;for(var s=t.parentNode;s;){if(e=s[Gr]||s[lr]){if(s=e.alternate,e.child!==null||s!==null&&s.child!==null)for(t=av(t);t!==null;){if(s=t[lr])return s;t=av(t)}return e}t=s,s=t.parentNode}return null}function rc(t){return t=t[lr]||t[Gr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ga(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(te(33))}function nh(t){return t[kl]||null}var Lf=[],xa=-1;function ri(t){return{current:t}}function Ke(t){0>xa||(t.current=Lf[xa],Lf[xa]=null,xa--)}function ze(t,e){xa++,Lf[xa]=t.current,t.current=e}var qn={},Gt=ri(qn),us=ri(!1),Di=qn;function Ua(t,e){var s=t.type.contextTypes;if(!s)return qn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in s)i[a]=e[a];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function ds(t){return t=t.childContextTypes,t!=null}function rd(){Ke(us),Ke(Gt)}function ov(t,e,s){if(Gt.current!==qn)throw Error(te(168));ze(Gt,e),ze(us,s)}function XN(t,e,s){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return s;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(te(108,VS(t)||"Unknown",i));return tt({},s,r)}function nd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||qn,Di=Gt.current,ze(Gt,t),ze(us,us.current),!0}function lv(t,e,s){var r=t.stateNode;if(!r)throw Error(te(169));s?(t=XN(t,e,Di),r.__reactInternalMemoizedMergedChildContext=t,Ke(us),Ke(Gt),ze(Gt,t)):Ke(us),ze(us,s)}var Or=null,ih=!1,jm=!1;function JN(t){Or===null?Or=[t]:Or.push(t)}function ek(t){ih=!0,JN(t)}function ni(){if(!jm&&Or!==null){jm=!0;var t=0,e=Fe;try{var s=Or;for(Fe=1;t<s.length;t++){var r=s[t];do r=r(!0);while(r!==null)}Or=null,ih=!1}catch(i){throw Or!==null&&(Or=Or.slice(t+1)),jN(gg,ni),i}finally{Fe=e,jm=!1}}return null}var ya=[],va=0,id=null,ad=0,ks=[],Is=0,Mi=null,Vr=1,Lr="";function pi(t,e){ya[va++]=ad,ya[va++]=id,id=t,ad=e}function ZN(t,e,s){ks[Is++]=Vr,ks[Is++]=Lr,ks[Is++]=Mi,Mi=t;var r=Vr;t=Lr;var i=32-Js(r)-1;r&=~(1<<i),s+=1;var a=32-Js(e)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Vr=1<<32-Js(e)+i|s<<i|r,Lr=a+t}else Vr=1<<a|s<<i|r,Lr=t}function Eg(t){t.return!==null&&(pi(t,1),ZN(t,1,0))}function Tg(t){for(;t===id;)id=ya[--va],ya[va]=null,ad=ya[--va],ya[va]=null;for(;t===Mi;)Mi=ks[--Is],ks[Is]=null,Lr=ks[--Is],ks[Is]=null,Vr=ks[--Is],ks[Is]=null}var bs=null,ys=null,Qe=!1,Ks=null;function ej(t,e){var s=Ds(5,null,null,0);s.elementType="DELETED",s.stateNode=e,s.return=t,e=t.deletions,e===null?(t.deletions=[s],t.flags|=16):e.push(s)}function cv(t,e){switch(t.tag){case 5:var s=t.type;return e=e.nodeType!==1||s.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,bs=t,ys=Dn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,bs=t,ys=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(s=Mi!==null?{id:Vr,overflow:Lr}:null,t.memoizedState={dehydrated:e,treeContext:s,retryLane:1073741824},s=Ds(18,null,null,0),s.stateNode=e,s.return=t,t.child=s,bs=t,ys=null,!0):!1;default:return!1}}function Ff(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Uf(t){if(Qe){var e=ys;if(e){var s=e;if(!cv(t,e)){if(Ff(t))throw Error(te(418));e=Dn(s.nextSibling);var r=bs;e&&cv(t,e)?ej(r,s):(t.flags=t.flags&-4097|2,Qe=!1,bs=t)}}else{if(Ff(t))throw Error(te(418));t.flags=t.flags&-4097|2,Qe=!1,bs=t}}}function uv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;bs=t}function Jc(t){if(t!==bs)return!1;if(!Qe)return uv(t),Qe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Mf(t.type,t.memoizedProps)),e&&(e=ys)){if(Ff(t))throw tj(),Error(te(418));for(;e;)ej(t,e),e=Dn(e.nextSibling)}if(uv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(te(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"){if(e===0){ys=Dn(t.nextSibling);break e}e--}else s!=="$"&&s!=="$!"&&s!=="$?"||e++}t=t.nextSibling}ys=null}}else ys=bs?Dn(t.stateNode.nextSibling):null;return!0}function tj(){for(var t=ys;t;)t=Dn(t.nextSibling)}function Ba(){ys=bs=null,Qe=!1}function Cg(t){Ks===null?Ks=[t]:Ks.push(t)}var tk=ln.ReactCurrentBatchConfig;function Oo(t,e,s){if(t=s.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(te(309));var r=s.stateNode}if(!r)throw Error(te(147,t));var i=r,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var l=i.refs;o===null?delete l[a]:l[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(te(284));if(!s._owner)throw Error(te(290,t))}return t}function Zc(t,e){throw t=Object.prototype.toString.call(e),Error(te(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function dv(t){var e=t._init;return e(t._payload)}function sj(t){function e(b,v){if(t){var x=b.deletions;x===null?(b.deletions=[v],b.flags|=16):x.push(v)}}function s(b,v){if(!t)return null;for(;v!==null;)e(b,v),v=v.sibling;return null}function r(b,v){for(b=new Map;v!==null;)v.key!==null?b.set(v.key,v):b.set(v.index,v),v=v.sibling;return b}function i(b,v){return b=Ln(b,v),b.index=0,b.sibling=null,b}function a(b,v,x){return b.index=x,t?(x=b.alternate,x!==null?(x=x.index,x<v?(b.flags|=2,v):x):(b.flags|=2,v)):(b.flags|=1048576,v)}function o(b){return t&&b.alternate===null&&(b.flags|=2),b}function l(b,v,x,E){return v===null||v.tag!==6?(v=km(x,b.mode,E),v.return=b,v):(v=i(v,x),v.return=b,v)}function c(b,v,x,E){var I=x.type;return I===ha?h(b,v,x.props.children,E,x.key):v!==null&&(v.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===yn&&dv(I)===v.type)?(E=i(v,x.props),E.ref=Oo(b,v,x),E.return=b,E):(E=ku(x.type,x.key,x.props,null,b.mode,E),E.ref=Oo(b,v,x),E.return=b,E)}function d(b,v,x,E){return v===null||v.tag!==4||v.stateNode.containerInfo!==x.containerInfo||v.stateNode.implementation!==x.implementation?(v=Im(x,b.mode,E),v.return=b,v):(v=i(v,x.children||[]),v.return=b,v)}function h(b,v,x,E,I){return v===null||v.tag!==7?(v=Si(x,b.mode,E,I),v.return=b,v):(v=i(v,x),v.return=b,v)}function f(b,v,x){if(typeof v=="string"&&v!==""||typeof v=="number")return v=km(""+v,b.mode,x),v.return=b,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case $c:return x=ku(v.type,v.key,v.props,null,b.mode,x),x.ref=Oo(b,null,v),x.return=b,x;case da:return v=Im(v,b.mode,x),v.return=b,v;case yn:var E=v._init;return f(b,E(v._payload),x)}if(zo(v)||Io(v))return v=Si(v,b.mode,x,null),v.return=b,v;Zc(b,v)}return null}function m(b,v,x,E){var I=v!==null?v.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return I!==null?null:l(b,v,""+x,E);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case $c:return x.key===I?c(b,v,x,E):null;case da:return x.key===I?d(b,v,x,E):null;case yn:return I=x._init,m(b,v,I(x._payload),E)}if(zo(x)||Io(x))return I!==null?null:h(b,v,x,E,null);Zc(b,x)}return null}function p(b,v,x,E,I){if(typeof E=="string"&&E!==""||typeof E=="number")return b=b.get(x)||null,l(v,b,""+E,I);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case $c:return b=b.get(E.key===null?x:E.key)||null,c(v,b,E,I);case da:return b=b.get(E.key===null?x:E.key)||null,d(v,b,E,I);case yn:var L=E._init;return p(b,v,x,L(E._payload),I)}if(zo(E)||Io(E))return b=b.get(x)||null,h(v,b,E,I,null);Zc(v,E)}return null}function _(b,v,x,E){for(var I=null,L=null,C=v,j=v=0,k=null;C!==null&&j<x.length;j++){C.index>j?(k=C,C=null):k=C.sibling;var O=m(b,C,x[j],E);if(O===null){C===null&&(C=k);break}t&&C&&O.alternate===null&&e(b,C),v=a(O,v,j),L===null?I=O:L.sibling=O,L=O,C=k}if(j===x.length)return s(b,C),Qe&&pi(b,j),I;if(C===null){for(;j<x.length;j++)C=f(b,x[j],E),C!==null&&(v=a(C,v,j),L===null?I=C:L.sibling=C,L=C);return Qe&&pi(b,j),I}for(C=r(b,C);j<x.length;j++)k=p(C,b,j,x[j],E),k!==null&&(t&&k.alternate!==null&&C.delete(k.key===null?j:k.key),v=a(k,v,j),L===null?I=k:L.sibling=k,L=k);return t&&C.forEach(function(A){return e(b,A)}),Qe&&pi(b,j),I}function N(b,v,x,E){var I=Io(x);if(typeof I!="function")throw Error(te(150));if(x=I.call(x),x==null)throw Error(te(151));for(var L=I=null,C=v,j=v=0,k=null,O=x.next();C!==null&&!O.done;j++,O=x.next()){C.index>j?(k=C,C=null):k=C.sibling;var A=m(b,C,O.value,E);if(A===null){C===null&&(C=k);break}t&&C&&A.alternate===null&&e(b,C),v=a(A,v,j),L===null?I=A:L.sibling=A,L=A,C=k}if(O.done)return s(b,C),Qe&&pi(b,j),I;if(C===null){for(;!O.done;j++,O=x.next())O=f(b,O.value,E),O!==null&&(v=a(O,v,j),L===null?I=O:L.sibling=O,L=O);return Qe&&pi(b,j),I}for(C=r(b,C);!O.done;j++,O=x.next())O=p(C,b,j,O.value,E),O!==null&&(t&&O.alternate!==null&&C.delete(O.key===null?j:O.key),v=a(O,v,j),L===null?I=O:L.sibling=O,L=O);return t&&C.forEach(function(V){return e(b,V)}),Qe&&pi(b,j),I}function y(b,v,x,E){if(typeof x=="object"&&x!==null&&x.type===ha&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case $c:e:{for(var I=x.key,L=v;L!==null;){if(L.key===I){if(I=x.type,I===ha){if(L.tag===7){s(b,L.sibling),v=i(L,x.props.children),v.return=b,b=v;break e}}else if(L.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===yn&&dv(I)===L.type){s(b,L.sibling),v=i(L,x.props),v.ref=Oo(b,L,x),v.return=b,b=v;break e}s(b,L);break}else e(b,L);L=L.sibling}x.type===ha?(v=Si(x.props.children,b.mode,E,x.key),v.return=b,b=v):(E=ku(x.type,x.key,x.props,null,b.mode,E),E.ref=Oo(b,v,x),E.return=b,b=E)}return o(b);case da:e:{for(L=x.key;v!==null;){if(v.key===L)if(v.tag===4&&v.stateNode.containerInfo===x.containerInfo&&v.stateNode.implementation===x.implementation){s(b,v.sibling),v=i(v,x.children||[]),v.return=b,b=v;break e}else{s(b,v);break}else e(b,v);v=v.sibling}v=Im(x,b.mode,E),v.return=b,b=v}return o(b);case yn:return L=x._init,y(b,v,L(x._payload),E)}if(zo(x))return _(b,v,x,E);if(Io(x))return N(b,v,x,E);Zc(b,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,v!==null&&v.tag===6?(s(b,v.sibling),v=i(v,x),v.return=b,b=v):(s(b,v),v=km(x,b.mode,E),v.return=b,b=v),o(b)):s(b,v)}return y}var $a=sj(!0),rj=sj(!1),od=ri(null),ld=null,ba=null,Sg=null;function Pg(){Sg=ba=ld=null}function kg(t){var e=od.current;Ke(od),t._currentValue=e}function Bf(t,e,s){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===s)break;t=t.return}}function Ra(t,e){ld=t,Sg=ba=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(os=!0),t.firstContext=null)}function Ls(t){var e=t._currentValue;if(Sg!==t)if(t={context:t,memoizedValue:e,next:null},ba===null){if(ld===null)throw Error(te(308));ba=t,ld.dependencies={lanes:0,firstContext:t}}else ba=ba.next=t;return e}var bi=null;function Ig(t){bi===null?bi=[t]:bi.push(t)}function nj(t,e,s,r){var i=e.interleaved;return i===null?(s.next=s,Ig(e)):(s.next=i.next,i.next=s),e.interleaved=s,Kr(t,r)}function Kr(t,e){t.lanes|=e;var s=t.alternate;for(s!==null&&(s.lanes|=e),s=t,t=t.return;t!==null;)t.childLanes|=e,s=t.alternate,s!==null&&(s.childLanes|=e),s=t,t=t.return;return s.tag===3?s.stateNode:null}var vn=!1;function Ag(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ij(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Br(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Mn(t,e,s){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ae&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Kr(t,s)}return i=r.interleaved,i===null?(e.next=e,Ig(r)):(e.next=i.next,i.next=e),r.interleaved=e,Kr(t,s)}function _u(t,e,s){if(e=e.updateQueue,e!==null&&(e=e.shared,(s&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,s|=r,e.lanes=s,xg(t,s)}}function hv(t,e){var s=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,s===r)){var i=null,a=null;if(s=s.firstBaseUpdate,s!==null){do{var o={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};a===null?i=a=o:a=a.next=o,s=s.next}while(s!==null);a===null?i=a=e:a=a.next=e}else i=a=e;s={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=e:t.next=e,s.lastBaseUpdate=e}function cd(t,e,s,r){var i=t.updateQueue;vn=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?a=d:o.next=d,o=c;var h=t.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==o&&(l===null?h.firstBaseUpdate=d:l.next=d,h.lastBaseUpdate=c))}if(a!==null){var f=i.baseState;o=0,h=d=c=null,l=a;do{var m=l.lane,p=l.eventTime;if((r&m)===m){h!==null&&(h=h.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var _=t,N=l;switch(m=e,p=s,N.tag){case 1:if(_=N.payload,typeof _=="function"){f=_.call(p,f,m);break e}f=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=N.payload,m=typeof _=="function"?_.call(p,f,m):_,m==null)break e;f=tt({},f,m);break e;case 2:vn=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[l]:m.push(l))}else p={eventTime:p,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(d=h=p,c=f):h=h.next=p,o|=m;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(h===null&&(c=f),i.baseState=c,i.firstBaseUpdate=d,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);Vi|=o,t.lanes=o,t.memoizedState=f}}function mv(t,e,s){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=s,typeof i!="function")throw Error(te(191,i));i.call(r)}}}var nc={},ur=ri(nc),Il=ri(nc),Al=ri(nc);function wi(t){if(t===nc)throw Error(te(174));return t}function Rg(t,e){switch(ze(Al,e),ze(Il,t),ze(ur,nc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:wf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=wf(e,t)}Ke(ur),ze(ur,e)}function za(){Ke(ur),Ke(Il),Ke(Al)}function aj(t){wi(Al.current);var e=wi(ur.current),s=wf(e,t.type);e!==s&&(ze(Il,t),ze(ur,s))}function Dg(t){Il.current===t&&(Ke(ur),Ke(Il))}var Je=ri(0);function ud(t){for(var e=t;e!==null;){if(e.tag===13){var s=e.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var _m=[];function Mg(){for(var t=0;t<_m.length;t++)_m[t]._workInProgressVersionPrimary=null;_m.length=0}var Eu=ln.ReactCurrentDispatcher,Em=ln.ReactCurrentBatchConfig,Oi=0,et=null,Nt=null,Tt=null,dd=!1,rl=!1,Rl=0,sk=0;function Ut(){throw Error(te(321))}function Og(t,e){if(e===null)return!1;for(var s=0;s<e.length&&s<t.length;s++)if(!er(t[s],e[s]))return!1;return!0}function Vg(t,e,s,r,i,a){if(Oi=a,et=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Eu.current=t===null||t.memoizedState===null?ak:ok,t=s(r,i),rl){a=0;do{if(rl=!1,Rl=0,25<=a)throw Error(te(301));a+=1,Tt=Nt=null,e.updateQueue=null,Eu.current=lk,t=s(r,i)}while(rl)}if(Eu.current=hd,e=Nt!==null&&Nt.next!==null,Oi=0,Tt=Nt=et=null,dd=!1,e)throw Error(te(300));return t}function Lg(){var t=Rl!==0;return Rl=0,t}function ir(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?et.memoizedState=Tt=t:Tt=Tt.next=t,Tt}function Fs(){if(Nt===null){var t=et.alternate;t=t!==null?t.memoizedState:null}else t=Nt.next;var e=Tt===null?et.memoizedState:Tt.next;if(e!==null)Tt=e,Nt=t;else{if(t===null)throw Error(te(310));Nt=t,t={memoizedState:Nt.memoizedState,baseState:Nt.baseState,baseQueue:Nt.baseQueue,queue:Nt.queue,next:null},Tt===null?et.memoizedState=Tt=t:Tt=Tt.next=t}return Tt}function Dl(t,e){return typeof e=="function"?e(t):e}function Tm(t){var e=Fs(),s=e.queue;if(s===null)throw Error(te(311));s.lastRenderedReducer=t;var r=Nt,i=r.baseQueue,a=s.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,s.pending=null}if(i!==null){a=i.next,r=r.baseState;var l=o=null,c=null,d=a;do{var h=d.lane;if((Oi&h)===h)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var f={lane:h,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=f,o=r):c=c.next=f,et.lanes|=h,Vi|=h}d=d.next}while(d!==null&&d!==a);c===null?o=r:c.next=l,er(r,e.memoizedState)||(os=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,s.lastRenderedState=r}if(t=s.interleaved,t!==null){i=t;do a=i.lane,et.lanes|=a,Vi|=a,i=i.next;while(i!==t)}else i===null&&(s.lanes=0);return[e.memoizedState,s.dispatch]}function Cm(t){var e=Fs(),s=e.queue;if(s===null)throw Error(te(311));s.lastRenderedReducer=t;var r=s.dispatch,i=s.pending,a=e.memoizedState;if(i!==null){s.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);er(a,e.memoizedState)||(os=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),s.lastRenderedState=a}return[a,r]}function oj(){}function lj(t,e){var s=et,r=Fs(),i=e(),a=!er(r.memoizedState,i);if(a&&(r.memoizedState=i,os=!0),r=r.queue,Fg(dj.bind(null,s,r,t),[t]),r.getSnapshot!==e||a||Tt!==null&&Tt.memoizedState.tag&1){if(s.flags|=2048,Ml(9,uj.bind(null,s,r,i,e),void 0,null),Ct===null)throw Error(te(349));Oi&30||cj(s,e,i)}return i}function cj(t,e,s){t.flags|=16384,t={getSnapshot:e,value:s},e=et.updateQueue,e===null?(e={lastEffect:null,stores:null},et.updateQueue=e,e.stores=[t]):(s=e.stores,s===null?e.stores=[t]:s.push(t))}function uj(t,e,s,r){e.value=s,e.getSnapshot=r,hj(e)&&mj(t)}function dj(t,e,s){return s(function(){hj(e)&&mj(t)})}function hj(t){var e=t.getSnapshot;t=t.value;try{var s=e();return!er(t,s)}catch{return!0}}function mj(t){var e=Kr(t,1);e!==null&&Zs(e,t,1,-1)}function fv(t){var e=ir();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Dl,lastRenderedState:t},e.queue=t,t=t.dispatch=ik.bind(null,et,t),[e.memoizedState,t]}function Ml(t,e,s,r){return t={tag:t,create:e,destroy:s,deps:r,next:null},e=et.updateQueue,e===null?(e={lastEffect:null,stores:null},et.updateQueue=e,e.lastEffect=t.next=t):(s=e.lastEffect,s===null?e.lastEffect=t.next=t:(r=s.next,s.next=t,t.next=r,e.lastEffect=t)),t}function fj(){return Fs().memoizedState}function Tu(t,e,s,r){var i=ir();et.flags|=t,i.memoizedState=Ml(1|e,s,void 0,r===void 0?null:r)}function ah(t,e,s,r){var i=Fs();r=r===void 0?null:r;var a=void 0;if(Nt!==null){var o=Nt.memoizedState;if(a=o.destroy,r!==null&&Og(r,o.deps)){i.memoizedState=Ml(e,s,a,r);return}}et.flags|=t,i.memoizedState=Ml(1|e,s,a,r)}function pv(t,e){return Tu(8390656,8,t,e)}function Fg(t,e){return ah(2048,8,t,e)}function pj(t,e){return ah(4,2,t,e)}function gj(t,e){return ah(4,4,t,e)}function xj(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function yj(t,e,s){return s=s!=null?s.concat([t]):null,ah(4,4,xj.bind(null,e,t),s)}function Ug(){}function vj(t,e){var s=Fs();e=e===void 0?null:e;var r=s.memoizedState;return r!==null&&e!==null&&Og(e,r[1])?r[0]:(s.memoizedState=[t,e],t)}function bj(t,e){var s=Fs();e=e===void 0?null:e;var r=s.memoizedState;return r!==null&&e!==null&&Og(e,r[1])?r[0]:(t=t(),s.memoizedState=[t,e],t)}function wj(t,e,s){return Oi&21?(er(s,e)||(s=TN(),et.lanes|=s,Vi|=s,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,os=!0),t.memoizedState=s)}function rk(t,e){var s=Fe;Fe=s!==0&&4>s?s:4,t(!0);var r=Em.transition;Em.transition={};try{t(!1),e()}finally{Fe=s,Em.transition=r}}function Nj(){return Fs().memoizedState}function nk(t,e,s){var r=Vn(t);if(s={lane:r,action:s,hasEagerState:!1,eagerState:null,next:null},jj(t))_j(e,s);else if(s=nj(t,e,s,r),s!==null){var i=es();Zs(s,t,r,i),Ej(s,e,r)}}function ik(t,e,s){var r=Vn(t),i={lane:r,action:s,hasEagerState:!1,eagerState:null,next:null};if(jj(t))_j(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,l=a(o,s);if(i.hasEagerState=!0,i.eagerState=l,er(l,o)){var c=e.interleaved;c===null?(i.next=i,Ig(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}s=nj(t,e,i,r),s!==null&&(i=es(),Zs(s,t,r,i),Ej(s,e,r))}}function jj(t){var e=t.alternate;return t===et||e!==null&&e===et}function _j(t,e){rl=dd=!0;var s=t.pending;s===null?e.next=e:(e.next=s.next,s.next=e),t.pending=e}function Ej(t,e,s){if(s&4194240){var r=e.lanes;r&=t.pendingLanes,s|=r,e.lanes=s,xg(t,s)}}var hd={readContext:Ls,useCallback:Ut,useContext:Ut,useEffect:Ut,useImperativeHandle:Ut,useInsertionEffect:Ut,useLayoutEffect:Ut,useMemo:Ut,useReducer:Ut,useRef:Ut,useState:Ut,useDebugValue:Ut,useDeferredValue:Ut,useTransition:Ut,useMutableSource:Ut,useSyncExternalStore:Ut,useId:Ut,unstable_isNewReconciler:!1},ak={readContext:Ls,useCallback:function(t,e){return ir().memoizedState=[t,e===void 0?null:e],t},useContext:Ls,useEffect:pv,useImperativeHandle:function(t,e,s){return s=s!=null?s.concat([t]):null,Tu(4194308,4,xj.bind(null,e,t),s)},useLayoutEffect:function(t,e){return Tu(4194308,4,t,e)},useInsertionEffect:function(t,e){return Tu(4,2,t,e)},useMemo:function(t,e){var s=ir();return e=e===void 0?null:e,t=t(),s.memoizedState=[t,e],t},useReducer:function(t,e,s){var r=ir();return e=s!==void 0?s(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=nk.bind(null,et,t),[r.memoizedState,t]},useRef:function(t){var e=ir();return t={current:t},e.memoizedState=t},useState:fv,useDebugValue:Ug,useDeferredValue:function(t){return ir().memoizedState=t},useTransition:function(){var t=fv(!1),e=t[0];return t=rk.bind(null,t[1]),ir().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,s){var r=et,i=ir();if(Qe){if(s===void 0)throw Error(te(407));s=s()}else{if(s=e(),Ct===null)throw Error(te(349));Oi&30||cj(r,e,s)}i.memoizedState=s;var a={value:s,getSnapshot:e};return i.queue=a,pv(dj.bind(null,r,a,t),[t]),r.flags|=2048,Ml(9,uj.bind(null,r,a,s,e),void 0,null),s},useId:function(){var t=ir(),e=Ct.identifierPrefix;if(Qe){var s=Lr,r=Vr;s=(r&~(1<<32-Js(r)-1)).toString(32)+s,e=":"+e+"R"+s,s=Rl++,0<s&&(e+="H"+s.toString(32)),e+=":"}else s=sk++,e=":"+e+"r"+s.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},ok={readContext:Ls,useCallback:vj,useContext:Ls,useEffect:Fg,useImperativeHandle:yj,useInsertionEffect:pj,useLayoutEffect:gj,useMemo:bj,useReducer:Tm,useRef:fj,useState:function(){return Tm(Dl)},useDebugValue:Ug,useDeferredValue:function(t){var e=Fs();return wj(e,Nt.memoizedState,t)},useTransition:function(){var t=Tm(Dl)[0],e=Fs().memoizedState;return[t,e]},useMutableSource:oj,useSyncExternalStore:lj,useId:Nj,unstable_isNewReconciler:!1},lk={readContext:Ls,useCallback:vj,useContext:Ls,useEffect:Fg,useImperativeHandle:yj,useInsertionEffect:pj,useLayoutEffect:gj,useMemo:bj,useReducer:Cm,useRef:fj,useState:function(){return Cm(Dl)},useDebugValue:Ug,useDeferredValue:function(t){var e=Fs();return Nt===null?e.memoizedState=t:wj(e,Nt.memoizedState,t)},useTransition:function(){var t=Cm(Dl)[0],e=Fs().memoizedState;return[t,e]},useMutableSource:oj,useSyncExternalStore:lj,useId:Nj,unstable_isNewReconciler:!1};function Ws(t,e){if(t&&t.defaultProps){e=tt({},e),t=t.defaultProps;for(var s in t)e[s]===void 0&&(e[s]=t[s]);return e}return e}function $f(t,e,s,r){e=t.memoizedState,s=s(r,e),s=s==null?e:tt({},e,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var oh={isMounted:function(t){return(t=t._reactInternals)?Ki(t)===t:!1},enqueueSetState:function(t,e,s){t=t._reactInternals;var r=es(),i=Vn(t),a=Br(r,i);a.payload=e,s!=null&&(a.callback=s),e=Mn(t,a,i),e!==null&&(Zs(e,t,i,r),_u(e,t,i))},enqueueReplaceState:function(t,e,s){t=t._reactInternals;var r=es(),i=Vn(t),a=Br(r,i);a.tag=1,a.payload=e,s!=null&&(a.callback=s),e=Mn(t,a,i),e!==null&&(Zs(e,t,i,r),_u(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var s=es(),r=Vn(t),i=Br(s,r);i.tag=2,e!=null&&(i.callback=e),e=Mn(t,i,r),e!==null&&(Zs(e,t,r,s),_u(e,t,r))}};function gv(t,e,s,r,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,o):e.prototype&&e.prototype.isPureReactComponent?!Cl(s,r)||!Cl(i,a):!0}function Tj(t,e,s){var r=!1,i=qn,a=e.contextType;return typeof a=="object"&&a!==null?a=Ls(a):(i=ds(e)?Di:Gt.current,r=e.contextTypes,a=(r=r!=null)?Ua(t,i):qn),e=new e(s,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=oh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function xv(t,e,s,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(s,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(s,r),e.state!==t&&oh.enqueueReplaceState(e,e.state,null)}function zf(t,e,s,r){var i=t.stateNode;i.props=s,i.state=t.memoizedState,i.refs={},Ag(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=Ls(a):(a=ds(e)?Di:Gt.current,i.context=Ua(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&($f(t,e,a,s),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&oh.enqueueReplaceState(i,i.state,null),cd(t,s,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function qa(t,e){try{var s="",r=e;do s+=OS(r),r=r.return;while(r);var i=s}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function Sm(t,e,s){return{value:t,source:null,stack:s??null,digest:e??null}}function qf(t,e){try{console.error(e.value)}catch(s){setTimeout(function(){throw s})}}var ck=typeof WeakMap=="function"?WeakMap:Map;function Cj(t,e,s){s=Br(-1,s),s.tag=3,s.payload={element:null};var r=e.value;return s.callback=function(){fd||(fd=!0,ep=r),qf(t,e)},s}function Sj(t,e,s){s=Br(-1,s),s.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;s.payload=function(){return r(i)},s.callback=function(){qf(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(s.callback=function(){qf(t,e),typeof r!="function"&&(On===null?On=new Set([this]):On.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),s}function yv(t,e,s){var r=t.pingCache;if(r===null){r=t.pingCache=new ck;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(s)||(i.add(s),t=jk.bind(null,t,e,s),e.then(t,t))}function vv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function bv(t,e,s,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(e=Br(-1,1),e.tag=2,Mn(s,e,1))),s.lanes|=1),t)}var uk=ln.ReactCurrentOwner,os=!1;function Yt(t,e,s,r){e.child=t===null?rj(e,null,s,r):$a(e,t.child,s,r)}function wv(t,e,s,r,i){s=s.render;var a=e.ref;return Ra(e,i),r=Vg(t,e,s,r,a,i),s=Lg(),t!==null&&!os?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Qr(t,e,i)):(Qe&&s&&Eg(e),e.flags|=1,Yt(t,e,r,i),e.child)}function Nv(t,e,s,r,i){if(t===null){var a=s.type;return typeof a=="function"&&!Kg(a)&&a.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(e.tag=15,e.type=a,Pj(t,e,a,r,i)):(t=ku(s.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var o=a.memoizedProps;if(s=s.compare,s=s!==null?s:Cl,s(o,r)&&t.ref===e.ref)return Qr(t,e,i)}return e.flags|=1,t=Ln(a,r),t.ref=e.ref,t.return=e,e.child=t}function Pj(t,e,s,r,i){if(t!==null){var a=t.memoizedProps;if(Cl(a,r)&&t.ref===e.ref)if(os=!1,e.pendingProps=r=a,(t.lanes&i)!==0)t.flags&131072&&(os=!0);else return e.lanes=t.lanes,Qr(t,e,i)}return Hf(t,e,s,r,i)}function kj(t,e,s){var r=e.pendingProps,i=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ze(Na,gs),gs|=s;else{if(!(s&1073741824))return t=a!==null?a.baseLanes|s:s,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ze(Na,gs),gs|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:s,ze(Na,gs),gs|=r}else a!==null?(r=a.baseLanes|s,e.memoizedState=null):r=s,ze(Na,gs),gs|=r;return Yt(t,e,i,s),e.child}function Ij(t,e){var s=e.ref;(t===null&&s!==null||t!==null&&t.ref!==s)&&(e.flags|=512,e.flags|=2097152)}function Hf(t,e,s,r,i){var a=ds(s)?Di:Gt.current;return a=Ua(e,a),Ra(e,i),s=Vg(t,e,s,r,a,i),r=Lg(),t!==null&&!os?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Qr(t,e,i)):(Qe&&r&&Eg(e),e.flags|=1,Yt(t,e,s,i),e.child)}function jv(t,e,s,r,i){if(ds(s)){var a=!0;nd(e)}else a=!1;if(Ra(e,i),e.stateNode===null)Cu(t,e),Tj(e,s,r),zf(e,s,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,d=s.contextType;typeof d=="object"&&d!==null?d=Ls(d):(d=ds(s)?Di:Gt.current,d=Ua(e,d));var h=s.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==d)&&xv(e,o,r,d),vn=!1;var m=e.memoizedState;o.state=m,cd(e,r,o,i),c=e.memoizedState,l!==r||m!==c||us.current||vn?(typeof h=="function"&&($f(e,s,h,r),c=e.memoizedState),(l=vn||gv(e,s,l,r,m,c,d))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=d,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,ij(t,e),l=e.memoizedProps,d=e.type===e.elementType?l:Ws(e.type,l),o.props=d,f=e.pendingProps,m=o.context,c=s.contextType,typeof c=="object"&&c!==null?c=Ls(c):(c=ds(s)?Di:Gt.current,c=Ua(e,c));var p=s.getDerivedStateFromProps;(h=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||m!==c)&&xv(e,o,r,c),vn=!1,m=e.memoizedState,o.state=m,cd(e,r,o,i);var _=e.memoizedState;l!==f||m!==_||us.current||vn?(typeof p=="function"&&($f(e,s,p,r),_=e.memoizedState),(d=vn||gv(e,s,d,r,m,_,c)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,_,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,_,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),o.props=r,o.state=_,o.context=c,r=d):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return Wf(t,e,s,r,a,i)}function Wf(t,e,s,r,i,a){Ij(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&lv(e,s,!1),Qr(t,e,a);r=e.stateNode,uk.current=e;var l=o&&typeof s.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=$a(e,t.child,null,a),e.child=$a(e,null,l,a)):Yt(t,e,l,a),e.memoizedState=r.state,i&&lv(e,s,!0),e.child}function Aj(t){var e=t.stateNode;e.pendingContext?ov(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ov(t,e.context,!1),Rg(t,e.containerInfo)}function _v(t,e,s,r,i){return Ba(),Cg(i),e.flags|=256,Yt(t,e,s,r),e.child}var Gf={dehydrated:null,treeContext:null,retryLane:0};function Kf(t){return{baseLanes:t,cachePool:null,transitions:null}}function Rj(t,e,s){var r=e.pendingProps,i=Je.current,a=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ze(Je,i&1),t===null)return Uf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,a?(r=e.mode,a=e.child,o={mode:"hidden",children:o},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=uh(o,r,0,null),t=Si(t,r,s,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=Kf(s),e.memoizedState=Gf,t):Bg(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return dk(t,e,o,r,l,i,s);if(a){a=r.fallback,o=e.mode,i=t.child,l=i.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Ln(i,c),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?a=Ln(l,a):(a=Si(a,o,s,null),a.flags|=2),a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,o=t.child.memoizedState,o=o===null?Kf(s):{baseLanes:o.baseLanes|s,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~s,e.memoizedState=Gf,r}return a=t.child,t=a.sibling,r=Ln(a,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=s),r.return=e,r.sibling=null,t!==null&&(s=e.deletions,s===null?(e.deletions=[t],e.flags|=16):s.push(t)),e.child=r,e.memoizedState=null,r}function Bg(t,e){return e=uh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function eu(t,e,s,r){return r!==null&&Cg(r),$a(e,t.child,null,s),t=Bg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function dk(t,e,s,r,i,a,o){if(s)return e.flags&256?(e.flags&=-257,r=Sm(Error(te(422))),eu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=r.fallback,i=e.mode,r=uh({mode:"visible",children:r.children},i,0,null),a=Si(a,i,o,null),a.flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,e.mode&1&&$a(e,t.child,null,o),e.child.memoizedState=Kf(o),e.memoizedState=Gf,a);if(!(e.mode&1))return eu(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,a=Error(te(419)),r=Sm(a,r,void 0),eu(t,e,o,r)}if(l=(o&t.childLanes)!==0,os||l){if(r=Ct,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Kr(t,i),Zs(r,t,i,-1))}return Gg(),r=Sm(Error(te(421))),eu(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=_k.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,ys=Dn(i.nextSibling),bs=e,Qe=!0,Ks=null,t!==null&&(ks[Is++]=Vr,ks[Is++]=Lr,ks[Is++]=Mi,Vr=t.id,Lr=t.overflow,Mi=e),e=Bg(e,r.children),e.flags|=4096,e)}function Ev(t,e,s){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Bf(t.return,e,s)}function Pm(t,e,s,r,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:s,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=s,a.tailMode=i)}function Dj(t,e,s){var r=e.pendingProps,i=r.revealOrder,a=r.tail;if(Yt(t,e,r.children,s),r=Je.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ev(t,s,e);else if(t.tag===19)Ev(t,s,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ze(Je,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(s=e.child,i=null;s!==null;)t=s.alternate,t!==null&&ud(t)===null&&(i=s),s=s.sibling;s=i,s===null?(i=e.child,e.child=null):(i=s.sibling,s.sibling=null),Pm(e,!1,i,s,a);break;case"backwards":for(s=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ud(t)===null){e.child=i;break}t=i.sibling,i.sibling=s,s=i,i=t}Pm(e,!0,s,null,a);break;case"together":Pm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Cu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Qr(t,e,s){if(t!==null&&(e.dependencies=t.dependencies),Vi|=e.lanes,!(s&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(te(153));if(e.child!==null){for(t=e.child,s=Ln(t,t.pendingProps),e.child=s,s.return=e;t.sibling!==null;)t=t.sibling,s=s.sibling=Ln(t,t.pendingProps),s.return=e;s.sibling=null}return e.child}function hk(t,e,s){switch(e.tag){case 3:Aj(e),Ba();break;case 5:aj(e);break;case 1:ds(e.type)&&nd(e);break;case 4:Rg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ze(od,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ze(Je,Je.current&1),e.flags|=128,null):s&e.child.childLanes?Rj(t,e,s):(ze(Je,Je.current&1),t=Qr(t,e,s),t!==null?t.sibling:null);ze(Je,Je.current&1);break;case 19:if(r=(s&e.childLanes)!==0,t.flags&128){if(r)return Dj(t,e,s);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ze(Je,Je.current),r)break;return null;case 22:case 23:return e.lanes=0,kj(t,e,s)}return Qr(t,e,s)}var Mj,Qf,Oj,Vj;Mj=function(t,e){for(var s=e.child;s!==null;){if(s.tag===5||s.tag===6)t.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};Qf=function(){};Oj=function(t,e,s,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,wi(ur.current);var a=null;switch(s){case"input":i=xf(t,i),r=xf(t,r),a=[];break;case"select":i=tt({},i,{value:void 0}),r=tt({},r,{value:void 0}),a=[];break;case"textarea":i=bf(t,i),r=bf(t,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=sd)}Nf(s,r);var o;s=null;for(d in i)if(!r.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var l=i[d];for(o in l)l.hasOwnProperty(o)&&(s||(s={}),s[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(bl.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in r){var c=r[d];if(l=i!=null?i[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(s||(s={}),s[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(s||(s={}),s[o]=c[o])}else s||(a||(a=[]),a.push(d,s)),s=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(bl.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&We("scroll",t),a||l===c||(a=[])):(a=a||[]).push(d,c))}s&&(a=a||[]).push("style",s);var d=a;(e.updateQueue=d)&&(e.flags|=4)}};Vj=function(t,e,s,r){s!==r&&(e.flags|=4)};function Vo(t,e){if(!Qe)switch(t.tailMode){case"hidden":e=t.tail;for(var s=null;e!==null;)e.alternate!==null&&(s=e),e=e.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Bt(t){var e=t.alternate!==null&&t.alternate.child===t.child,s=0,r=0;if(e)for(var i=t.child;i!==null;)s|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)s|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=s,e}function mk(t,e,s){var r=e.pendingProps;switch(Tg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bt(e),null;case 1:return ds(e.type)&&rd(),Bt(e),null;case 3:return r=e.stateNode,za(),Ke(us),Ke(Gt),Mg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Jc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ks!==null&&(rp(Ks),Ks=null))),Qf(t,e),Bt(e),null;case 5:Dg(e);var i=wi(Al.current);if(s=e.type,t!==null&&e.stateNode!=null)Oj(t,e,s,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(te(166));return Bt(e),null}if(t=wi(ur.current),Jc(e)){r=e.stateNode,s=e.type;var a=e.memoizedProps;switch(r[lr]=e,r[kl]=a,t=(e.mode&1)!==0,s){case"dialog":We("cancel",r),We("close",r);break;case"iframe":case"object":case"embed":We("load",r);break;case"video":case"audio":for(i=0;i<Ho.length;i++)We(Ho[i],r);break;case"source":We("error",r);break;case"img":case"image":case"link":We("error",r),We("load",r);break;case"details":We("toggle",r);break;case"input":Dy(r,a),We("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},We("invalid",r);break;case"textarea":Oy(r,a),We("invalid",r)}Nf(s,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?r.textContent!==l&&(a.suppressHydrationWarning!==!0&&Xc(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Xc(r.textContent,l,t),i=["children",""+l]):bl.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&We("scroll",r)}switch(s){case"input":zc(r),My(r,a,!0);break;case"textarea":zc(r),Vy(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=sd)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=dN(s)),t==="http://www.w3.org/1999/xhtml"?s==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(s,{is:r.is}):(t=o.createElement(s),s==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,s),t[lr]=e,t[kl]=r,Mj(t,e,!1,!1),e.stateNode=t;e:{switch(o=jf(s,r),s){case"dialog":We("cancel",t),We("close",t),i=r;break;case"iframe":case"object":case"embed":We("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ho.length;i++)We(Ho[i],t);i=r;break;case"source":We("error",t),i=r;break;case"img":case"image":case"link":We("error",t),We("load",t),i=r;break;case"details":We("toggle",t),i=r;break;case"input":Dy(t,r),i=xf(t,r),We("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=tt({},r,{value:void 0}),We("invalid",t);break;case"textarea":Oy(t,r),i=bf(t,r),We("invalid",t);break;default:i=r}Nf(s,i),l=i;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?fN(t,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&hN(t,c)):a==="children"?typeof c=="string"?(s!=="textarea"||c!=="")&&wl(t,c):typeof c=="number"&&wl(t,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(bl.hasOwnProperty(a)?c!=null&&a==="onScroll"&&We("scroll",t):c!=null&&dg(t,a,c,o))}switch(s){case"input":zc(t),My(t,r,!1);break;case"textarea":zc(t),Vy(t);break;case"option":r.value!=null&&t.setAttribute("value",""+zn(r.value));break;case"select":t.multiple=!!r.multiple,a=r.value,a!=null?Pa(t,!!r.multiple,a,!1):r.defaultValue!=null&&Pa(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=sd)}switch(s){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Bt(e),null;case 6:if(t&&e.stateNode!=null)Vj(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(te(166));if(s=wi(Al.current),wi(ur.current),Jc(e)){if(r=e.stateNode,s=e.memoizedProps,r[lr]=e,(a=r.nodeValue!==s)&&(t=bs,t!==null))switch(t.tag){case 3:Xc(r.nodeValue,s,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Xc(r.nodeValue,s,(t.mode&1)!==0)}a&&(e.flags|=4)}else r=(s.nodeType===9?s:s.ownerDocument).createTextNode(r),r[lr]=e,e.stateNode=r}return Bt(e),null;case 13:if(Ke(Je),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Qe&&ys!==null&&e.mode&1&&!(e.flags&128))tj(),Ba(),e.flags|=98560,a=!1;else if(a=Jc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!a)throw Error(te(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(te(317));a[lr]=e}else Ba(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Bt(e),a=!1}else Ks!==null&&(rp(Ks),Ks=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=s,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Je.current&1?jt===0&&(jt=3):Gg())),e.updateQueue!==null&&(e.flags|=4),Bt(e),null);case 4:return za(),Qf(t,e),t===null&&Sl(e.stateNode.containerInfo),Bt(e),null;case 10:return kg(e.type._context),Bt(e),null;case 17:return ds(e.type)&&rd(),Bt(e),null;case 19:if(Ke(Je),a=e.memoizedState,a===null)return Bt(e),null;if(r=(e.flags&128)!==0,o=a.rendering,o===null)if(r)Vo(a,!1);else{if(jt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=ud(t),o!==null){for(e.flags|=128,Vo(a,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=s,s=e.child;s!==null;)a=s,t=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),s=s.sibling;return ze(Je,Je.current&1|2),e.child}t=t.sibling}a.tail!==null&&ht()>Ha&&(e.flags|=128,r=!0,Vo(a,!1),e.lanes=4194304)}else{if(!r)if(t=ud(o),t!==null){if(e.flags|=128,r=!0,s=t.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),Vo(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Qe)return Bt(e),null}else 2*ht()-a.renderingStartTime>Ha&&s!==1073741824&&(e.flags|=128,r=!0,Vo(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(s=a.last,s!==null?s.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=ht(),e.sibling=null,s=Je.current,ze(Je,r?s&1|2:s&1),e):(Bt(e),null);case 22:case 23:return Wg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?gs&1073741824&&(Bt(e),e.subtreeFlags&6&&(e.flags|=8192)):Bt(e),null;case 24:return null;case 25:return null}throw Error(te(156,e.tag))}function fk(t,e){switch(Tg(e),e.tag){case 1:return ds(e.type)&&rd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return za(),Ke(us),Ke(Gt),Mg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Dg(e),null;case 13:if(Ke(Je),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(te(340));Ba()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ke(Je),null;case 4:return za(),null;case 10:return kg(e.type._context),null;case 22:case 23:return Wg(),null;case 24:return null;default:return null}}var tu=!1,qt=!1,pk=typeof WeakSet=="function"?WeakSet:Set,de=null;function wa(t,e){var s=t.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(r){ot(t,e,r)}else s.current=null}function Yf(t,e,s){try{s()}catch(r){ot(t,e,r)}}var Tv=!1;function gk(t,e){if(Rf=Zu,t=$N(),_g(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var r=s.getSelection&&s.getSelection();if(r&&r.rangeCount!==0){s=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{s.nodeType,a.nodeType}catch{s=null;break e}var o=0,l=-1,c=-1,d=0,h=0,f=t,m=null;t:for(;;){for(var p;f!==s||i!==0&&f.nodeType!==3||(l=o+i),f!==a||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)m=f,f=p;for(;;){if(f===t)break t;if(m===s&&++d===i&&(l=o),m===a&&++h===r&&(c=o),(p=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=p}s=l===-1||c===-1?null:{start:l,end:c}}else s=null}s=s||{start:0,end:0}}else s=null;for(Df={focusedElem:t,selectionRange:s},Zu=!1,de=e;de!==null;)if(e=de,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,de=t;else for(;de!==null;){e=de;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var N=_.memoizedProps,y=_.memoizedState,b=e.stateNode,v=b.getSnapshotBeforeUpdate(e.elementType===e.type?N:Ws(e.type,N),y);b.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(te(163))}}catch(E){ot(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,de=t;break}de=e.return}return _=Tv,Tv=!1,_}function nl(t,e,s){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&Yf(e,s,a)}i=i.next}while(i!==r)}}function lh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var s=e=e.next;do{if((s.tag&t)===t){var r=s.create;s.destroy=r()}s=s.next}while(s!==e)}}function Xf(t){var e=t.ref;if(e!==null){var s=t.stateNode;switch(t.tag){case 5:t=s;break;default:t=s}typeof e=="function"?e(t):e.current=t}}function Lj(t){var e=t.alternate;e!==null&&(t.alternate=null,Lj(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[lr],delete e[kl],delete e[Vf],delete e[JP],delete e[ZP])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Fj(t){return t.tag===5||t.tag===3||t.tag===4}function Cv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Fj(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Jf(t,e,s){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?s.nodeType===8?s.parentNode.insertBefore(t,e):s.insertBefore(t,e):(s.nodeType===8?(e=s.parentNode,e.insertBefore(t,s)):(e=s,e.appendChild(t)),s=s._reactRootContainer,s!=null||e.onclick!==null||(e.onclick=sd));else if(r!==4&&(t=t.child,t!==null))for(Jf(t,e,s),t=t.sibling;t!==null;)Jf(t,e,s),t=t.sibling}function Zf(t,e,s){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?s.insertBefore(t,e):s.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Zf(t,e,s),t=t.sibling;t!==null;)Zf(t,e,s),t=t.sibling}var Pt=null,Gs=!1;function mn(t,e,s){for(s=s.child;s!==null;)Uj(t,e,s),s=s.sibling}function Uj(t,e,s){if(cr&&typeof cr.onCommitFiberUnmount=="function")try{cr.onCommitFiberUnmount(eh,s)}catch{}switch(s.tag){case 5:qt||wa(s,e);case 6:var r=Pt,i=Gs;Pt=null,mn(t,e,s),Pt=r,Gs=i,Pt!==null&&(Gs?(t=Pt,s=s.stateNode,t.nodeType===8?t.parentNode.removeChild(s):t.removeChild(s)):Pt.removeChild(s.stateNode));break;case 18:Pt!==null&&(Gs?(t=Pt,s=s.stateNode,t.nodeType===8?Nm(t.parentNode,s):t.nodeType===1&&Nm(t,s),El(t)):Nm(Pt,s.stateNode));break;case 4:r=Pt,i=Gs,Pt=s.stateNode.containerInfo,Gs=!0,mn(t,e,s),Pt=r,Gs=i;break;case 0:case 11:case 14:case 15:if(!qt&&(r=s.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&Yf(s,e,o),i=i.next}while(i!==r)}mn(t,e,s);break;case 1:if(!qt&&(wa(s,e),r=s.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=s.memoizedProps,r.state=s.memoizedState,r.componentWillUnmount()}catch(l){ot(s,e,l)}mn(t,e,s);break;case 21:mn(t,e,s);break;case 22:s.mode&1?(qt=(r=qt)||s.memoizedState!==null,mn(t,e,s),qt=r):mn(t,e,s);break;default:mn(t,e,s)}}function Sv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var s=t.stateNode;s===null&&(s=t.stateNode=new pk),e.forEach(function(r){var i=Ek.bind(null,t,r);s.has(r)||(s.add(r),r.then(i,i))})}}function qs(t,e){var s=e.deletions;if(s!==null)for(var r=0;r<s.length;r++){var i=s[r];try{var a=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:Pt=l.stateNode,Gs=!1;break e;case 3:Pt=l.stateNode.containerInfo,Gs=!0;break e;case 4:Pt=l.stateNode.containerInfo,Gs=!0;break e}l=l.return}if(Pt===null)throw Error(te(160));Uj(a,o,i),Pt=null,Gs=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(d){ot(i,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Bj(e,t),e=e.sibling}function Bj(t,e){var s=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(qs(e,t),nr(t),r&4){try{nl(3,t,t.return),lh(3,t)}catch(N){ot(t,t.return,N)}try{nl(5,t,t.return)}catch(N){ot(t,t.return,N)}}break;case 1:qs(e,t),nr(t),r&512&&s!==null&&wa(s,s.return);break;case 5:if(qs(e,t),nr(t),r&512&&s!==null&&wa(s,s.return),t.flags&32){var i=t.stateNode;try{wl(i,"")}catch(N){ot(t,t.return,N)}}if(r&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,o=s!==null?s.memoizedProps:a,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&cN(i,a),jf(l,o);var d=jf(l,a);for(o=0;o<c.length;o+=2){var h=c[o],f=c[o+1];h==="style"?fN(i,f):h==="dangerouslySetInnerHTML"?hN(i,f):h==="children"?wl(i,f):dg(i,h,f,d)}switch(l){case"input":yf(i,a);break;case"textarea":uN(i,a);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?Pa(i,!!a.multiple,p,!1):m!==!!a.multiple&&(a.defaultValue!=null?Pa(i,!!a.multiple,a.defaultValue,!0):Pa(i,!!a.multiple,a.multiple?[]:"",!1))}i[kl]=a}catch(N){ot(t,t.return,N)}}break;case 6:if(qs(e,t),nr(t),r&4){if(t.stateNode===null)throw Error(te(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(N){ot(t,t.return,N)}}break;case 3:if(qs(e,t),nr(t),r&4&&s!==null&&s.memoizedState.isDehydrated)try{El(e.containerInfo)}catch(N){ot(t,t.return,N)}break;case 4:qs(e,t),nr(t);break;case 13:qs(e,t),nr(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(qg=ht())),r&4&&Sv(t);break;case 22:if(h=s!==null&&s.memoizedState!==null,t.mode&1?(qt=(d=qt)||h,qs(e,t),qt=d):qs(e,t),nr(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!h&&t.mode&1)for(de=t,h=t.child;h!==null;){for(f=de=h;de!==null;){switch(m=de,p=m.child,m.tag){case 0:case 11:case 14:case 15:nl(4,m,m.return);break;case 1:wa(m,m.return);var _=m.stateNode;if(typeof _.componentWillUnmount=="function"){r=m,s=m.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(N){ot(r,s,N)}}break;case 5:wa(m,m.return);break;case 22:if(m.memoizedState!==null){kv(f);continue}}p!==null?(p.return=m,de=p):kv(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{i=f.stateNode,d?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=mN("display",o))}catch(N){ot(t,t.return,N)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(N){ot(t,t.return,N)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:qs(e,t),nr(t),r&4&&Sv(t);break;case 21:break;default:qs(e,t),nr(t)}}function nr(t){var e=t.flags;if(e&2){try{e:{for(var s=t.return;s!==null;){if(Fj(s)){var r=s;break e}s=s.return}throw Error(te(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(wl(i,""),r.flags&=-33);var a=Cv(t);Zf(t,a,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Cv(t);Jf(t,l,o);break;default:throw Error(te(161))}}catch(c){ot(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function xk(t,e,s){de=t,$j(t)}function $j(t,e,s){for(var r=(t.mode&1)!==0;de!==null;){var i=de,a=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||tu;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||qt;l=tu;var d=qt;if(tu=o,(qt=c)&&!d)for(de=i;de!==null;)o=de,c=o.child,o.tag===22&&o.memoizedState!==null?Iv(i):c!==null?(c.return=o,de=c):Iv(i);for(;a!==null;)de=a,$j(a),a=a.sibling;de=i,tu=l,qt=d}Pv(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,de=a):Pv(t)}}function Pv(t){for(;de!==null;){var e=de;if(e.flags&8772){var s=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:qt||lh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!qt)if(s===null)r.componentDidMount();else{var i=e.elementType===e.type?s.memoizedProps:Ws(e.type,s.memoizedProps);r.componentDidUpdate(i,s.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&mv(e,a,r);break;case 3:var o=e.updateQueue;if(o!==null){if(s=null,e.child!==null)switch(e.child.tag){case 5:s=e.child.stateNode;break;case 1:s=e.child.stateNode}mv(e,o,s)}break;case 5:var l=e.stateNode;if(s===null&&e.flags&4){s=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&s.focus();break;case"img":c.src&&(s.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var h=d.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&El(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(te(163))}qt||e.flags&512&&Xf(e)}catch(m){ot(e,e.return,m)}}if(e===t){de=null;break}if(s=e.sibling,s!==null){s.return=e.return,de=s;break}de=e.return}}function kv(t){for(;de!==null;){var e=de;if(e===t){de=null;break}var s=e.sibling;if(s!==null){s.return=e.return,de=s;break}de=e.return}}function Iv(t){for(;de!==null;){var e=de;try{switch(e.tag){case 0:case 11:case 15:var s=e.return;try{lh(4,e)}catch(c){ot(e,s,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){ot(e,i,c)}}var a=e.return;try{Xf(e)}catch(c){ot(e,a,c)}break;case 5:var o=e.return;try{Xf(e)}catch(c){ot(e,o,c)}}}catch(c){ot(e,e.return,c)}if(e===t){de=null;break}var l=e.sibling;if(l!==null){l.return=e.return,de=l;break}de=e.return}}var yk=Math.ceil,md=ln.ReactCurrentDispatcher,$g=ln.ReactCurrentOwner,Ms=ln.ReactCurrentBatchConfig,Ae=0,Ct=null,gt=null,Dt=0,gs=0,Na=ri(0),jt=0,Ol=null,Vi=0,ch=0,zg=0,il=null,ns=null,qg=0,Ha=1/0,Mr=null,fd=!1,ep=null,On=null,su=!1,Sn=null,pd=0,al=0,tp=null,Su=-1,Pu=0;function es(){return Ae&6?ht():Su!==-1?Su:Su=ht()}function Vn(t){return t.mode&1?Ae&2&&Dt!==0?Dt&-Dt:tk.transition!==null?(Pu===0&&(Pu=TN()),Pu):(t=Fe,t!==0||(t=window.event,t=t===void 0?16:RN(t.type)),t):1}function Zs(t,e,s,r){if(50<al)throw al=0,tp=null,Error(te(185));tc(t,s,r),(!(Ae&2)||t!==Ct)&&(t===Ct&&(!(Ae&2)&&(ch|=s),jt===4&&wn(t,Dt)),hs(t,r),s===1&&Ae===0&&!(e.mode&1)&&(Ha=ht()+500,ih&&ni()))}function hs(t,e){var s=t.callbackNode;tP(t,e);var r=Ju(t,t===Ct?Dt:0);if(r===0)s!==null&&Uy(s),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(s!=null&&Uy(s),e===1)t.tag===0?ek(Av.bind(null,t)):JN(Av.bind(null,t)),YP(function(){!(Ae&6)&&ni()}),s=null;else{switch(CN(r)){case 1:s=gg;break;case 4:s=_N;break;case 16:s=Xu;break;case 536870912:s=EN;break;default:s=Xu}s=Yj(s,zj.bind(null,t))}t.callbackPriority=e,t.callbackNode=s}}function zj(t,e){if(Su=-1,Pu=0,Ae&6)throw Error(te(327));var s=t.callbackNode;if(Da()&&t.callbackNode!==s)return null;var r=Ju(t,t===Ct?Dt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=gd(t,r);else{e=r;var i=Ae;Ae|=2;var a=Hj();(Ct!==t||Dt!==e)&&(Mr=null,Ha=ht()+500,Ci(t,e));do try{wk();break}catch(l){qj(t,l)}while(!0);Pg(),md.current=a,Ae=i,gt!==null?e=0:(Ct=null,Dt=0,e=jt)}if(e!==0){if(e===2&&(i=Sf(t),i!==0&&(r=i,e=sp(t,i))),e===1)throw s=Ol,Ci(t,0),wn(t,r),hs(t,ht()),s;if(e===6)wn(t,r);else{if(i=t.current.alternate,!(r&30)&&!vk(i)&&(e=gd(t,r),e===2&&(a=Sf(t),a!==0&&(r=a,e=sp(t,a))),e===1))throw s=Ol,Ci(t,0),wn(t,r),hs(t,ht()),s;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(te(345));case 2:gi(t,ns,Mr);break;case 3:if(wn(t,r),(r&130023424)===r&&(e=qg+500-ht(),10<e)){if(Ju(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){es(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Of(gi.bind(null,t,ns,Mr),e);break}gi(t,ns,Mr);break;case 4:if(wn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Js(r);a=1<<o,o=e[o],o>i&&(i=o),r&=~a}if(r=i,r=ht()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*yk(r/1960))-r,10<r){t.timeoutHandle=Of(gi.bind(null,t,ns,Mr),r);break}gi(t,ns,Mr);break;case 5:gi(t,ns,Mr);break;default:throw Error(te(329))}}}return hs(t,ht()),t.callbackNode===s?zj.bind(null,t):null}function sp(t,e){var s=il;return t.current.memoizedState.isDehydrated&&(Ci(t,e).flags|=256),t=gd(t,e),t!==2&&(e=ns,ns=s,e!==null&&rp(e)),t}function rp(t){ns===null?ns=t:ns.push.apply(ns,t)}function vk(t){for(var e=t;;){if(e.flags&16384){var s=e.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var r=0;r<s.length;r++){var i=s[r],a=i.getSnapshot;i=i.value;try{if(!er(a(),i))return!1}catch{return!1}}}if(s=e.child,e.subtreeFlags&16384&&s!==null)s.return=e,e=s;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function wn(t,e){for(e&=~zg,e&=~ch,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var s=31-Js(e),r=1<<s;t[s]=-1,e&=~r}}function Av(t){if(Ae&6)throw Error(te(327));Da();var e=Ju(t,0);if(!(e&1))return hs(t,ht()),null;var s=gd(t,e);if(t.tag!==0&&s===2){var r=Sf(t);r!==0&&(e=r,s=sp(t,r))}if(s===1)throw s=Ol,Ci(t,0),wn(t,e),hs(t,ht()),s;if(s===6)throw Error(te(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,gi(t,ns,Mr),hs(t,ht()),null}function Hg(t,e){var s=Ae;Ae|=1;try{return t(e)}finally{Ae=s,Ae===0&&(Ha=ht()+500,ih&&ni())}}function Li(t){Sn!==null&&Sn.tag===0&&!(Ae&6)&&Da();var e=Ae;Ae|=1;var s=Ms.transition,r=Fe;try{if(Ms.transition=null,Fe=1,t)return t()}finally{Fe=r,Ms.transition=s,Ae=e,!(Ae&6)&&ni()}}function Wg(){gs=Na.current,Ke(Na)}function Ci(t,e){t.finishedWork=null,t.finishedLanes=0;var s=t.timeoutHandle;if(s!==-1&&(t.timeoutHandle=-1,QP(s)),gt!==null)for(s=gt.return;s!==null;){var r=s;switch(Tg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&rd();break;case 3:za(),Ke(us),Ke(Gt),Mg();break;case 5:Dg(r);break;case 4:za();break;case 13:Ke(Je);break;case 19:Ke(Je);break;case 10:kg(r.type._context);break;case 22:case 23:Wg()}s=s.return}if(Ct=t,gt=t=Ln(t.current,null),Dt=gs=e,jt=0,Ol=null,zg=ch=Vi=0,ns=il=null,bi!==null){for(e=0;e<bi.length;e++)if(s=bi[e],r=s.interleaved,r!==null){s.interleaved=null;var i=r.next,a=s.pending;if(a!==null){var o=a.next;a.next=i,r.next=o}s.pending=r}bi=null}return t}function qj(t,e){do{var s=gt;try{if(Pg(),Eu.current=hd,dd){for(var r=et.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}dd=!1}if(Oi=0,Tt=Nt=et=null,rl=!1,Rl=0,$g.current=null,s===null||s.return===null){jt=1,Ol=e,gt=null;break}e:{var a=t,o=s.return,l=s,c=e;if(e=Dt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,h=l,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=vv(o);if(p!==null){p.flags&=-257,bv(p,o,l,a,e),p.mode&1&&yv(a,d,e),e=p,c=d;var _=e.updateQueue;if(_===null){var N=new Set;N.add(c),e.updateQueue=N}else _.add(c);break e}else{if(!(e&1)){yv(a,d,e),Gg();break e}c=Error(te(426))}}else if(Qe&&l.mode&1){var y=vv(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),bv(y,o,l,a,e),Cg(qa(c,l));break e}}a=c=qa(c,l),jt!==4&&(jt=2),il===null?il=[a]:il.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var b=Cj(a,c,e);hv(a,b);break e;case 1:l=c;var v=a.type,x=a.stateNode;if(!(a.flags&128)&&(typeof v.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(On===null||!On.has(x)))){a.flags|=65536,e&=-e,a.lanes|=e;var E=Sj(a,l,e);hv(a,E);break e}}a=a.return}while(a!==null)}Gj(s)}catch(I){e=I,gt===s&&s!==null&&(gt=s=s.return);continue}break}while(!0)}function Hj(){var t=md.current;return md.current=hd,t===null?hd:t}function Gg(){(jt===0||jt===3||jt===2)&&(jt=4),Ct===null||!(Vi&268435455)&&!(ch&268435455)||wn(Ct,Dt)}function gd(t,e){var s=Ae;Ae|=2;var r=Hj();(Ct!==t||Dt!==e)&&(Mr=null,Ci(t,e));do try{bk();break}catch(i){qj(t,i)}while(!0);if(Pg(),Ae=s,md.current=r,gt!==null)throw Error(te(261));return Ct=null,Dt=0,jt}function bk(){for(;gt!==null;)Wj(gt)}function wk(){for(;gt!==null&&!WS();)Wj(gt)}function Wj(t){var e=Qj(t.alternate,t,gs);t.memoizedProps=t.pendingProps,e===null?Gj(t):gt=e,$g.current=null}function Gj(t){var e=t;do{var s=e.alternate;if(t=e.return,e.flags&32768){if(s=fk(s,e),s!==null){s.flags&=32767,gt=s;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{jt=6,gt=null;return}}else if(s=mk(s,e,gs),s!==null){gt=s;return}if(e=e.sibling,e!==null){gt=e;return}gt=e=t}while(e!==null);jt===0&&(jt=5)}function gi(t,e,s){var r=Fe,i=Ms.transition;try{Ms.transition=null,Fe=1,Nk(t,e,s,r)}finally{Ms.transition=i,Fe=r}return null}function Nk(t,e,s,r){do Da();while(Sn!==null);if(Ae&6)throw Error(te(327));s=t.finishedWork;var i=t.finishedLanes;if(s===null)return null;if(t.finishedWork=null,t.finishedLanes=0,s===t.current)throw Error(te(177));t.callbackNode=null,t.callbackPriority=0;var a=s.lanes|s.childLanes;if(sP(t,a),t===Ct&&(gt=Ct=null,Dt=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||su||(su=!0,Yj(Xu,function(){return Da(),null})),a=(s.flags&15990)!==0,s.subtreeFlags&15990||a){a=Ms.transition,Ms.transition=null;var o=Fe;Fe=1;var l=Ae;Ae|=4,$g.current=null,gk(t,s),Bj(s,t),$P(Df),Zu=!!Rf,Df=Rf=null,t.current=s,xk(s),GS(),Ae=l,Fe=o,Ms.transition=a}else t.current=s;if(su&&(su=!1,Sn=t,pd=i),a=t.pendingLanes,a===0&&(On=null),YS(s.stateNode),hs(t,ht()),e!==null)for(r=t.onRecoverableError,s=0;s<e.length;s++)i=e[s],r(i.value,{componentStack:i.stack,digest:i.digest});if(fd)throw fd=!1,t=ep,ep=null,t;return pd&1&&t.tag!==0&&Da(),a=t.pendingLanes,a&1?t===tp?al++:(al=0,tp=t):al=0,ni(),null}function Da(){if(Sn!==null){var t=CN(pd),e=Ms.transition,s=Fe;try{if(Ms.transition=null,Fe=16>t?16:t,Sn===null)var r=!1;else{if(t=Sn,Sn=null,pd=0,Ae&6)throw Error(te(331));var i=Ae;for(Ae|=4,de=t.current;de!==null;){var a=de,o=a.child;if(de.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(de=d;de!==null;){var h=de;switch(h.tag){case 0:case 11:case 15:nl(8,h,a)}var f=h.child;if(f!==null)f.return=h,de=f;else for(;de!==null;){h=de;var m=h.sibling,p=h.return;if(Lj(h),h===d){de=null;break}if(m!==null){m.return=p,de=m;break}de=p}}}var _=a.alternate;if(_!==null){var N=_.child;if(N!==null){_.child=null;do{var y=N.sibling;N.sibling=null,N=y}while(N!==null)}}de=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,de=o;else e:for(;de!==null;){if(a=de,a.flags&2048)switch(a.tag){case 0:case 11:case 15:nl(9,a,a.return)}var b=a.sibling;if(b!==null){b.return=a.return,de=b;break e}de=a.return}}var v=t.current;for(de=v;de!==null;){o=de;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,de=x;else e:for(o=v;de!==null;){if(l=de,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:lh(9,l)}}catch(I){ot(l,l.return,I)}if(l===o){de=null;break e}var E=l.sibling;if(E!==null){E.return=l.return,de=E;break e}de=l.return}}if(Ae=i,ni(),cr&&typeof cr.onPostCommitFiberRoot=="function")try{cr.onPostCommitFiberRoot(eh,t)}catch{}r=!0}return r}finally{Fe=s,Ms.transition=e}}return!1}function Rv(t,e,s){e=qa(s,e),e=Cj(t,e,1),t=Mn(t,e,1),e=es(),t!==null&&(tc(t,1,e),hs(t,e))}function ot(t,e,s){if(t.tag===3)Rv(t,t,s);else for(;e!==null;){if(e.tag===3){Rv(e,t,s);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(On===null||!On.has(r))){t=qa(s,t),t=Sj(e,t,1),e=Mn(e,t,1),t=es(),e!==null&&(tc(e,1,t),hs(e,t));break}}e=e.return}}function jk(t,e,s){var r=t.pingCache;r!==null&&r.delete(e),e=es(),t.pingedLanes|=t.suspendedLanes&s,Ct===t&&(Dt&s)===s&&(jt===4||jt===3&&(Dt&130023424)===Dt&&500>ht()-qg?Ci(t,0):zg|=s),hs(t,e)}function Kj(t,e){e===0&&(t.mode&1?(e=Wc,Wc<<=1,!(Wc&130023424)&&(Wc=4194304)):e=1);var s=es();t=Kr(t,e),t!==null&&(tc(t,e,s),hs(t,s))}function _k(t){var e=t.memoizedState,s=0;e!==null&&(s=e.retryLane),Kj(t,s)}function Ek(t,e){var s=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(s=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(te(314))}r!==null&&r.delete(e),Kj(t,s)}var Qj;Qj=function(t,e,s){if(t!==null)if(t.memoizedProps!==e.pendingProps||us.current)os=!0;else{if(!(t.lanes&s)&&!(e.flags&128))return os=!1,hk(t,e,s);os=!!(t.flags&131072)}else os=!1,Qe&&e.flags&1048576&&ZN(e,ad,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Cu(t,e),t=e.pendingProps;var i=Ua(e,Gt.current);Ra(e,s),i=Vg(null,e,r,t,i,s);var a=Lg();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ds(r)?(a=!0,nd(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ag(e),i.updater=oh,e.stateNode=i,i._reactInternals=e,zf(e,r,t,s),e=Wf(null,e,r,!0,a,s)):(e.tag=0,Qe&&a&&Eg(e),Yt(null,e,i,s),e=e.child),e;case 16:r=e.elementType;e:{switch(Cu(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Ck(r),t=Ws(r,t),i){case 0:e=Hf(null,e,r,t,s);break e;case 1:e=jv(null,e,r,t,s);break e;case 11:e=wv(null,e,r,t,s);break e;case 14:e=Nv(null,e,r,Ws(r.type,t),s);break e}throw Error(te(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ws(r,i),Hf(t,e,r,i,s);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ws(r,i),jv(t,e,r,i,s);case 3:e:{if(Aj(e),t===null)throw Error(te(387));r=e.pendingProps,a=e.memoizedState,i=a.element,ij(t,e),cd(e,r,null,s);var o=e.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=qa(Error(te(423)),e),e=_v(t,e,r,s,i);break e}else if(r!==i){i=qa(Error(te(424)),e),e=_v(t,e,r,s,i);break e}else for(ys=Dn(e.stateNode.containerInfo.firstChild),bs=e,Qe=!0,Ks=null,s=rj(e,null,r,s),e.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Ba(),r===i){e=Qr(t,e,s);break e}Yt(t,e,r,s)}e=e.child}return e;case 5:return aj(e),t===null&&Uf(e),r=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,o=i.children,Mf(r,i)?o=null:a!==null&&Mf(r,a)&&(e.flags|=32),Ij(t,e),Yt(t,e,o,s),e.child;case 6:return t===null&&Uf(e),null;case 13:return Rj(t,e,s);case 4:return Rg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=$a(e,null,r,s):Yt(t,e,r,s),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ws(r,i),wv(t,e,r,i,s);case 7:return Yt(t,e,e.pendingProps,s),e.child;case 8:return Yt(t,e,e.pendingProps.children,s),e.child;case 12:return Yt(t,e,e.pendingProps.children,s),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,a=e.memoizedProps,o=i.value,ze(od,r._currentValue),r._currentValue=o,a!==null)if(er(a.value,o)){if(a.children===i.children&&!us.current){e=Qr(t,e,s);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(a.tag===1){c=Br(-1,s&-s),c.tag=2;var d=a.updateQueue;if(d!==null){d=d.shared;var h=d.pending;h===null?c.next=c:(c.next=h.next,h.next=c),d.pending=c}}a.lanes|=s,c=a.alternate,c!==null&&(c.lanes|=s),Bf(a.return,s,e),l.lanes|=s;break}c=c.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(te(341));o.lanes|=s,l=o.alternate,l!==null&&(l.lanes|=s),Bf(o,s,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Yt(t,e,i.children,s),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ra(e,s),i=Ls(i),r=r(i),e.flags|=1,Yt(t,e,r,s),e.child;case 14:return r=e.type,i=Ws(r,e.pendingProps),i=Ws(r.type,i),Nv(t,e,r,i,s);case 15:return Pj(t,e,e.type,e.pendingProps,s);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ws(r,i),Cu(t,e),e.tag=1,ds(r)?(t=!0,nd(e)):t=!1,Ra(e,s),Tj(e,r,i),zf(e,r,i,s),Wf(null,e,r,!0,t,s);case 19:return Dj(t,e,s);case 22:return kj(t,e,s)}throw Error(te(156,e.tag))};function Yj(t,e){return jN(t,e)}function Tk(t,e,s,r){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ds(t,e,s,r){return new Tk(t,e,s,r)}function Kg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ck(t){if(typeof t=="function")return Kg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===mg)return 11;if(t===fg)return 14}return 2}function Ln(t,e){var s=t.alternate;return s===null?(s=Ds(t.tag,e,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=e,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&14680064,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,e=t.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s}function ku(t,e,s,r,i,a){var o=2;if(r=t,typeof t=="function")Kg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ha:return Si(s.children,i,a,e);case hg:o=8,i|=8;break;case mf:return t=Ds(12,s,e,i|2),t.elementType=mf,t.lanes=a,t;case ff:return t=Ds(13,s,e,i),t.elementType=ff,t.lanes=a,t;case pf:return t=Ds(19,s,e,i),t.elementType=pf,t.lanes=a,t;case aN:return uh(s,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case nN:o=10;break e;case iN:o=9;break e;case mg:o=11;break e;case fg:o=14;break e;case yn:o=16,r=null;break e}throw Error(te(130,t==null?t:typeof t,""))}return e=Ds(o,s,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function Si(t,e,s,r){return t=Ds(7,t,r,e),t.lanes=s,t}function uh(t,e,s,r){return t=Ds(22,t,r,e),t.elementType=aN,t.lanes=s,t.stateNode={isHidden:!1},t}function km(t,e,s){return t=Ds(6,t,null,e),t.lanes=s,t}function Im(t,e,s){return e=Ds(4,t.children!==null?t.children:[],t.key,e),e.lanes=s,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Sk(t,e,s,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=dm(0),this.expirationTimes=dm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dm(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Qg(t,e,s,r,i,a,o,l,c){return t=new Sk(t,e,s,l,c),e===1?(e=1,a===!0&&(e|=8)):e=0,a=Ds(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:r,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ag(a),t}function Pk(t,e,s){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:da,key:r==null?null:""+r,children:t,containerInfo:e,implementation:s}}function Xj(t){if(!t)return qn;t=t._reactInternals;e:{if(Ki(t)!==t||t.tag!==1)throw Error(te(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ds(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(te(171))}if(t.tag===1){var s=t.type;if(ds(s))return XN(t,s,e)}return e}function Jj(t,e,s,r,i,a,o,l,c){return t=Qg(s,r,!0,t,i,a,o,l,c),t.context=Xj(null),s=t.current,r=es(),i=Vn(s),a=Br(r,i),a.callback=e??null,Mn(s,a,i),t.current.lanes=i,tc(t,i,r),hs(t,r),t}function dh(t,e,s,r){var i=e.current,a=es(),o=Vn(i);return s=Xj(s),e.context===null?e.context=s:e.pendingContext=s,e=Br(a,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Mn(i,e,o),t!==null&&(Zs(t,i,o,a),_u(t,i,o)),o}function xd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Dv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<e?s:e}}function Yg(t,e){Dv(t,e),(t=t.alternate)&&Dv(t,e)}function kk(){return null}var Zj=typeof reportError=="function"?reportError:function(t){console.error(t)};function Xg(t){this._internalRoot=t}hh.prototype.render=Xg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(te(409));dh(t,e,null,null)};hh.prototype.unmount=Xg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Li(function(){dh(null,t,null,null)}),e[Gr]=null}};function hh(t){this._internalRoot=t}hh.prototype.unstable_scheduleHydration=function(t){if(t){var e=kN();t={blockedOn:null,target:t,priority:e};for(var s=0;s<bn.length&&e!==0&&e<bn[s].priority;s++);bn.splice(s,0,t),s===0&&AN(t)}};function Jg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function mh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Mv(){}function Ik(t,e,s,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var d=xd(o);a.call(d)}}var o=Jj(e,r,t,0,null,!1,!1,"",Mv);return t._reactRootContainer=o,t[Gr]=o.current,Sl(t.nodeType===8?t.parentNode:t),Li(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var d=xd(c);l.call(d)}}var c=Qg(t,0,!1,null,null,!1,!1,"",Mv);return t._reactRootContainer=c,t[Gr]=c.current,Sl(t.nodeType===8?t.parentNode:t),Li(function(){dh(e,c,s,r)}),c}function fh(t,e,s,r,i){var a=s._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var l=i;i=function(){var c=xd(o);l.call(c)}}dh(e,o,t,i)}else o=Ik(s,e,t,i,r);return xd(o)}SN=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var s=qo(e.pendingLanes);s!==0&&(xg(e,s|1),hs(e,ht()),!(Ae&6)&&(Ha=ht()+500,ni()))}break;case 13:Li(function(){var r=Kr(t,1);if(r!==null){var i=es();Zs(r,t,1,i)}}),Yg(t,1)}};yg=function(t){if(t.tag===13){var e=Kr(t,134217728);if(e!==null){var s=es();Zs(e,t,134217728,s)}Yg(t,134217728)}};PN=function(t){if(t.tag===13){var e=Vn(t),s=Kr(t,e);if(s!==null){var r=es();Zs(s,t,e,r)}Yg(t,e)}};kN=function(){return Fe};IN=function(t,e){var s=Fe;try{return Fe=t,e()}finally{Fe=s}};Ef=function(t,e,s){switch(e){case"input":if(yf(t,s),e=s.name,s.type==="radio"&&e!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<s.length;e++){var r=s[e];if(r!==t&&r.form===t.form){var i=nh(r);if(!i)throw Error(te(90));lN(r),yf(r,i)}}}break;case"textarea":uN(t,s);break;case"select":e=s.value,e!=null&&Pa(t,!!s.multiple,e,!1)}};xN=Hg;yN=Li;var Ak={usingClientEntryPoint:!1,Events:[rc,ga,nh,pN,gN,Hg]},Lo={findFiberByHostInstance:vi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Rk={bundleType:Lo.bundleType,version:Lo.version,rendererPackageName:Lo.rendererPackageName,rendererConfig:Lo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ln.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=wN(t),t===null?null:t.stateNode},findFiberByHostInstance:Lo.findFiberByHostInstance||kk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{eh=ru.inject(Rk),cr=ru}catch{}}Ns.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ak;Ns.createPortal=function(t,e){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jg(e))throw Error(te(200));return Pk(t,e,null,s)};Ns.createRoot=function(t,e){if(!Jg(t))throw Error(te(299));var s=!1,r="",i=Zj;return e!=null&&(e.unstable_strictMode===!0&&(s=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Qg(t,1,!1,null,null,s,!1,r,i),t[Gr]=e.current,Sl(t.nodeType===8?t.parentNode:t),new Xg(e)};Ns.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(te(188)):(t=Object.keys(t).join(","),Error(te(268,t)));return t=wN(e),t=t===null?null:t.stateNode,t};Ns.flushSync=function(t){return Li(t)};Ns.hydrate=function(t,e,s){if(!mh(e))throw Error(te(200));return fh(null,t,e,!0,s)};Ns.hydrateRoot=function(t,e,s){if(!Jg(t))throw Error(te(405));var r=s!=null&&s.hydratedSources||null,i=!1,a="",o=Zj;if(s!=null&&(s.unstable_strictMode===!0&&(i=!0),s.identifierPrefix!==void 0&&(a=s.identifierPrefix),s.onRecoverableError!==void 0&&(o=s.onRecoverableError)),e=Jj(e,null,t,1,s??null,i,!1,a,o),t[Gr]=e.current,Sl(t),r)for(t=0;t<r.length;t++)s=r[t],i=s._getVersion,i=i(s._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[s,i]:e.mutableSourceEagerHydrationData.push(s,i);return new hh(e)};Ns.render=function(t,e,s){if(!mh(e))throw Error(te(200));return fh(null,t,e,!1,s)};Ns.unmountComponentAtNode=function(t){if(!mh(t))throw Error(te(40));return t._reactRootContainer?(Li(function(){fh(null,null,t,!1,function(){t._reactRootContainer=null,t[Gr]=null})}),!0):!1};Ns.unstable_batchedUpdates=Hg;Ns.unstable_renderSubtreeIntoContainer=function(t,e,s,r){if(!mh(s))throw Error(te(200));if(t==null||t._reactInternals===void 0)throw Error(te(38));return fh(t,e,s,!1,r)};Ns.version="18.3.1-next-f1338f8080-20240426";function e2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e2)}catch(t){console.error(t)}}e2(),eN.exports=Ns;var Dk=eN.exports,t2,Ov=Dk;t2=Ov.createRoot,Ov.hydrateRoot;/**
 * react-router v7.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Vv="popstate";function Mk(t={}){function e(r,i){let{pathname:a,search:o,hash:l}=r.location;return np("",{pathname:a,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function s(r,i){return typeof i=="string"?i:Vl(i)}return Vk(e,s,null,t)}function Xe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function tr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Ok(){return Math.random().toString(36).substring(2,10)}function Lv(t,e){return{usr:t.state,key:t.key,idx:e}}function np(t,e,s=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?io(e):e,state:s,key:e&&e.key||r||Ok()}}function Vl({pathname:t="/",search:e="",hash:s=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function io(t){let e={};if(t){let s=t.indexOf("#");s>=0&&(e.hash=t.substring(s),t=t.substring(0,s));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function Vk(t,e,s,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,l="POP",c=null,d=h();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function h(){return(o.state||{idx:null}).idx}function f(){l="POP";let y=h(),b=y==null?null:y-d;d=y,c&&c({action:l,location:N.location,delta:b})}function m(y,b){l="PUSH";let v=np(N.location,y,b);d=h()+1;let x=Lv(v,d),E=N.createHref(v);try{o.pushState(x,"",E)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;i.location.assign(E)}a&&c&&c({action:l,location:N.location,delta:1})}function p(y,b){l="REPLACE";let v=np(N.location,y,b);d=h();let x=Lv(v,d),E=N.createHref(v);o.replaceState(x,"",E),a&&c&&c({action:l,location:N.location,delta:0})}function _(y){return Lk(y)}let N={get action(){return l},get location(){return t(i,o)},listen(y){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(Vv,f),c=y,()=>{i.removeEventListener(Vv,f),c=null}},createHref(y){return e(i,y)},createURL:_,encodeLocation(y){let b=_(y);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:m,replace:p,go(y){return o.go(y)}};return N}function Lk(t,e=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),Xe(s,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Vl(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=s+r),new URL(r,s)}function s2(t,e,s="/"){return Fk(t,e,s,!1)}function Fk(t,e,s,r){let i=typeof e=="string"?io(e):e,a=Yr(i.pathname||"/",s);if(a==null)return null;let o=r2(t);Uk(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=Xk(a);l=Qk(o[c],d,r)}return l}function r2(t,e=[],s=[],r=""){let i=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(Xe(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length));let d=$r([r,c.relativePath]),h=s.concat(c);a.children&&a.children.length>0&&(Xe(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),r2(a.children,e,h,d)),!(a.path==null&&!a.index)&&e.push({path:d,score:Gk(d,a.index),routesMeta:h})};return t.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,o);else for(let c of n2(a.path))i(a,o,c)}),e}function n2(t){let e=t.split("/");if(e.length===0)return[];let[s,...r]=e,i=s.endsWith("?"),a=s.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let o=n2(r.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),i&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function Uk(t){t.sort((e,s)=>e.score!==s.score?s.score-e.score:Kk(e.routesMeta.map(r=>r.childrenIndex),s.routesMeta.map(r=>r.childrenIndex)))}var Bk=/^:[\w-]+$/,$k=3,zk=2,qk=1,Hk=10,Wk=-2,Fv=t=>t==="*";function Gk(t,e){let s=t.split("/"),r=s.length;return s.some(Fv)&&(r+=Wk),e&&(r+=zk),s.filter(i=>!Fv(i)).reduce((i,a)=>i+(Bk.test(a)?$k:a===""?qk:Hk),r)}function Kk(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Qk(t,e,s=!1){let{routesMeta:r}=t,i={},a="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],d=l===r.length-1,h=a==="/"?e:e.slice(a.length)||"/",f=yd({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},h),m=c.route;if(!f&&d&&s&&!r[r.length-1].route.index&&(f=yd({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:$r([a,f.pathname]),pathnameBase:tI($r([a,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(a=$r([a,f.pathnameBase]))}return o}function yd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[s,r]=Yk(t.path,t.caseSensitive,t.end),i=e.match(s);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((d,{paramName:h,isOptional:f},m)=>{if(h==="*"){let _=l[m]||"";o=a.slice(0,a.length-_.length).replace(/(.)\/+$/,"$1")}const p=l[m];return f&&!p?d[h]=void 0:d[h]=(p||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:o,pattern:t}}function Yk(t,e=!1,s=!0){tr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Xk(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return tr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Yr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let s=e.endsWith("/")?e.length-1:e.length,r=t.charAt(s);return r&&r!=="/"?null:t.slice(s)||"/"}function Jk(t,e="/"){let{pathname:s,search:r="",hash:i=""}=typeof t=="string"?io(t):t;return{pathname:s?s.startsWith("/")?s:Zk(s,e):e,search:sI(r),hash:rI(i)}}function Zk(t,e){let s=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?s.length>1&&s.pop():i!=="."&&s.push(i)}),s.length>1?s.join("/"):"/"}function Am(t,e,s,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function eI(t){return t.filter((e,s)=>s===0||e.route.path&&e.route.path.length>0)}function Zg(t){let e=eI(t);return e.map((s,r)=>r===e.length-1?s.pathname:s.pathnameBase)}function ex(t,e,s,r=!1){let i;typeof t=="string"?i=io(t):(i={...t},Xe(!i.pathname||!i.pathname.includes("?"),Am("?","pathname","search",i)),Xe(!i.pathname||!i.pathname.includes("#"),Am("#","pathname","hash",i)),Xe(!i.search||!i.search.includes("#"),Am("#","search","hash",i)));let a=t===""||i.pathname==="",o=a?"/":i.pathname,l;if(o==null)l=s;else{let f=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;i.pathname=m.join("/")}l=f>=0?e[f]:"/"}let c=Jk(i,l),d=o&&o!=="/"&&o.endsWith("/"),h=(a||o===".")&&s.endsWith("/");return!c.pathname.endsWith("/")&&(d||h)&&(c.pathname+="/"),c}var $r=t=>t.join("/").replace(/\/\/+/g,"/"),tI=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),sI=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,rI=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function nI(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var i2=["POST","PUT","PATCH","DELETE"];new Set(i2);var iI=["GET",...i2];new Set(iI);var ao=T.createContext(null);ao.displayName="DataRouter";var ph=T.createContext(null);ph.displayName="DataRouterState";T.createContext(!1);var a2=T.createContext({isTransitioning:!1});a2.displayName="ViewTransition";var aI=T.createContext(new Map);aI.displayName="Fetchers";var oI=T.createContext(null);oI.displayName="Await";var rr=T.createContext(null);rr.displayName="Navigation";var ic=T.createContext(null);ic.displayName="Location";var _r=T.createContext({outlet:null,matches:[],isDataRoute:!1});_r.displayName="Route";var tx=T.createContext(null);tx.displayName="RouteError";function lI(t,{relative:e}={}){Xe(oo(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:r}=T.useContext(rr),{hash:i,pathname:a,search:o}=ac(t,{relative:e}),l=a;return s!=="/"&&(l=a==="/"?s:$r([s,a])),r.createHref({pathname:l,search:o,hash:i})}function oo(){return T.useContext(ic)!=null}function ii(){return Xe(oo(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(ic).location}var o2="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function l2(t){T.useContext(rr).static||T.useLayoutEffect(t)}function _s(){let{isDataRoute:t}=T.useContext(_r);return t?wI():cI()}function cI(){Xe(oo(),"useNavigate() may be used only in the context of a <Router> component.");let t=T.useContext(ao),{basename:e,navigator:s}=T.useContext(rr),{matches:r}=T.useContext(_r),{pathname:i}=ii(),a=JSON.stringify(Zg(r)),o=T.useRef(!1);return l2(()=>{o.current=!0}),T.useCallback((c,d={})=>{if(tr(o.current,o2),!o.current)return;if(typeof c=="number"){s.go(c);return}let h=ex(c,JSON.parse(a),i,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:$r([e,h.pathname])),(d.replace?s.replace:s.push)(h,d.state,d)},[e,s,a,i,t])}T.createContext(null);function ac(t,{relative:e}={}){let{matches:s}=T.useContext(_r),{pathname:r}=ii(),i=JSON.stringify(Zg(s));return T.useMemo(()=>ex(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function uI(t,e){return c2(t,e)}function c2(t,e,s,r){var b;Xe(oo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=T.useContext(rr),{matches:a}=T.useContext(_r),o=a[a.length-1],l=o?o.params:{},c=o?o.pathname:"/",d=o?o.pathnameBase:"/",h=o&&o.route;{let v=h&&h.path||"";u2(c,!h||v.endsWith("*")||v.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${v}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${v}"> to <Route path="${v==="/"?"*":`${v}/*`}">.`)}let f=ii(),m;if(e){let v=typeof e=="string"?io(e):e;Xe(d==="/"||((b=v.pathname)==null?void 0:b.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${v.pathname}" was given in the \`location\` prop.`),m=v}else m=f;let p=m.pathname||"/",_=p;if(d!=="/"){let v=d.replace(/^\//,"").split("/");_="/"+p.replace(/^\//,"").split("/").slice(v.length).join("/")}let N=s2(t,{pathname:_});tr(h||N!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),tr(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let y=pI(N&&N.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:$r([d,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?d:$r([d,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),a,s,r);return e&&y?T.createElement(ic.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},y):y}function dI(){let t=bI(),e=nI(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),s=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=T.createElement(T.Fragment,null,T.createElement("p",null," Hey developer "),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:a},"ErrorBoundary")," or"," ",T.createElement("code",{style:a},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),s?T.createElement("pre",{style:i},s):null,o)}var hI=T.createElement(dI,null),mI=class extends T.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?T.createElement(_r.Provider,{value:this.props.routeContext},T.createElement(tx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function fI({routeContext:t,match:e,children:s}){let r=T.useContext(ao);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),T.createElement(_r.Provider,{value:t},s)}function pI(t,e=[],s=null,r=null){if(t==null){if(!s)return null;if(s.errors)t=s.matches;else if(e.length===0&&!s.initialized&&s.matches.length>0)t=s.matches;else return null}let i=t,a=s==null?void 0:s.errors;if(a!=null){let c=i.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);Xe(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,c+1))}let o=!1,l=-1;if(s)for(let c=0;c<i.length;c++){let d=i[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(l=c),d.route.id){let{loaderData:h,errors:f}=s,m=d.route.loader&&!h.hasOwnProperty(d.route.id)&&(!f||f[d.route.id]===void 0);if(d.route.lazy||m){o=!0,l>=0?i=i.slice(0,l+1):i=[i[0]];break}}}return i.reduceRight((c,d,h)=>{let f,m=!1,p=null,_=null;s&&(f=a&&d.route.id?a[d.route.id]:void 0,p=d.route.errorElement||hI,o&&(l<0&&h===0?(u2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,_=null):l===h&&(m=!0,_=d.route.hydrateFallbackElement||null)));let N=e.concat(i.slice(0,h+1)),y=()=>{let b;return f?b=p:m?b=_:d.route.Component?b=T.createElement(d.route.Component,null):d.route.element?b=d.route.element:b=c,T.createElement(fI,{match:d,routeContext:{outlet:c,matches:N,isDataRoute:s!=null},children:b})};return s&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?T.createElement(mI,{location:s.location,revalidation:s.revalidation,component:p,error:f,children:y(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):y()},null)}function sx(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gI(t){let e=T.useContext(ao);return Xe(e,sx(t)),e}function xI(t){let e=T.useContext(ph);return Xe(e,sx(t)),e}function yI(t){let e=T.useContext(_r);return Xe(e,sx(t)),e}function rx(t){let e=yI(t),s=e.matches[e.matches.length-1];return Xe(s.route.id,`${t} can only be used on routes that contain a unique "id"`),s.route.id}function vI(){return rx("useRouteId")}function bI(){var r;let t=T.useContext(tx),e=xI("useRouteError"),s=rx("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[s]}function wI(){let{router:t}=gI("useNavigate"),e=rx("useNavigate"),s=T.useRef(!1);return l2(()=>{s.current=!0}),T.useCallback(async(i,a={})=>{tr(s.current,o2),s.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var Uv={};function u2(t,e,s){!e&&!Uv[t]&&(Uv[t]=!0,tr(!1,s))}T.memo(NI);function NI({routes:t,future:e,state:s}){return c2(t,void 0,s,e)}function Rm({to:t,replace:e,state:s,relative:r}){Xe(oo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=T.useContext(rr);tr(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=T.useContext(_r),{pathname:o}=ii(),l=_s(),c=ex(t,Zg(a),o,r==="path"),d=JSON.stringify(c);return T.useEffect(()=>{l(JSON.parse(d),{replace:e,state:s,relative:r})},[l,d,r,e,s]),null}function ps(t){Xe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function jI({basename:t="/",children:e=null,location:s,navigationType:r="POP",navigator:i,static:a=!1}){Xe(!oo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),l=T.useMemo(()=>({basename:o,navigator:i,static:a,future:{}}),[o,i,a]);typeof s=="string"&&(s=io(s));let{pathname:c="/",search:d="",hash:h="",state:f=null,key:m="default"}=s,p=T.useMemo(()=>{let _=Yr(c,o);return _==null?null:{location:{pathname:_,search:d,hash:h,state:f,key:m},navigationType:r}},[o,c,d,h,f,m,r]);return tr(p!=null,`<Router basename="${o}"> is not able to match the URL "${c}${d}${h}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:T.createElement(rr.Provider,{value:l},T.createElement(ic.Provider,{children:e,value:p}))}function _I({children:t,location:e}){return uI(ip(t),e)}function ip(t,e=[]){let s=[];return T.Children.forEach(t,(r,i)=>{if(!T.isValidElement(r))return;let a=[...e,i];if(r.type===T.Fragment){s.push.apply(s,ip(r.props.children,a));return}Xe(r.type===ps,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Xe(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=ip(r.props.children,a)),s.push(o)}),s}var Iu="get",Au="application/x-www-form-urlencoded";function gh(t){return t!=null&&typeof t.tagName=="string"}function EI(t){return gh(t)&&t.tagName.toLowerCase()==="button"}function TI(t){return gh(t)&&t.tagName.toLowerCase()==="form"}function CI(t){return gh(t)&&t.tagName.toLowerCase()==="input"}function SI(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function PI(t,e){return t.button===0&&(!e||e==="_self")&&!SI(t)}var nu=null;function kI(){if(nu===null)try{new FormData(document.createElement("form"),0),nu=!1}catch{nu=!0}return nu}var II=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Dm(t){return t!=null&&!II.has(t)?(tr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Au}"`),null):t}function AI(t,e){let s,r,i,a,o;if(TI(t)){let l=t.getAttribute("action");r=l?Yr(l,e):null,s=t.getAttribute("method")||Iu,i=Dm(t.getAttribute("enctype"))||Au,a=new FormData(t)}else if(EI(t)||CI(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||l.getAttribute("action");if(r=c?Yr(c,e):null,s=t.getAttribute("formmethod")||l.getAttribute("method")||Iu,i=Dm(t.getAttribute("formenctype"))||Dm(l.getAttribute("enctype"))||Au,a=new FormData(l,t),!kI()){let{name:d,type:h,value:f}=t;if(h==="image"){let m=d?`${d}.`:"";a.append(`${m}x`,"0"),a.append(`${m}y`,"0")}else d&&a.append(d,f)}}else{if(gh(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=Iu,r=null,i=Au,o=t}return a&&i==="text/plain"&&(o=a,a=void 0),{action:r,method:s.toLowerCase(),encType:i,formData:a,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function nx(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function RI(t,e,s){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${s}`:e&&Yr(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${s}`,r}async function DI(t,e){if(t.id in e)return e[t.id];try{let s=await import(t.module);return e[t.id]=s,s}catch(s){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function MI(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function OI(t,e,s){let r=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let o=await DI(a,s);return o.links?o.links():[]}return[]}));return UI(r.flat(1).filter(MI).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Bv(t,e,s,r,i,a){let o=(c,d)=>s[d]?c.route.id!==s[d].route.id:!0,l=(c,d)=>{var h;return s[d].pathname!==c.pathname||((h=s[d].route.path)==null?void 0:h.endsWith("*"))&&s[d].params["*"]!==c.params["*"]};return a==="assets"?e.filter((c,d)=>o(c,d)||l(c,d)):a==="data"?e.filter((c,d)=>{var f;let h=r.routes[c.route.id];if(!h||!h.hasLoader)return!1;if(o(c,d)||l(c,d))return!0;if(c.route.shouldRevalidate){let m=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=s[0])==null?void 0:f.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function VI(t,e,{includeHydrateFallback:s}={}){return LI(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),s&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function LI(t){return[...new Set(t)]}function FI(t){let e={},s=Object.keys(t).sort();for(let r of s)e[r]=t[r];return e}function UI(t,e){let s=new Set;return new Set(e),t.reduce((r,i)=>{let a=JSON.stringify(FI(i));return s.has(a)||(s.add(a),r.push({key:a,link:i})),r},[])}function d2(){let t=T.useContext(ao);return nx(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function BI(){let t=T.useContext(ph);return nx(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var ix=T.createContext(void 0);ix.displayName="FrameworkContext";function h2(){let t=T.useContext(ix);return nx(t,"You must render this element inside a <HydratedRouter> element"),t}function $I(t,e){let s=T.useContext(ix),[r,i]=T.useState(!1),[a,o]=T.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:d,onMouseLeave:h,onTouchStart:f}=e,m=T.useRef(null);T.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let N=b=>{b.forEach(v=>{o(v.isIntersecting)})},y=new IntersectionObserver(N,{threshold:.5});return m.current&&y.observe(m.current),()=>{y.disconnect()}}},[t]),T.useEffect(()=>{if(r){let N=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(N)}}},[r]);let p=()=>{i(!0)},_=()=>{i(!1),o(!1)};return s?t!=="intent"?[a,m,{}]:[a,m,{onFocus:Fo(l,p),onBlur:Fo(c,_),onMouseEnter:Fo(d,p),onMouseLeave:Fo(h,_),onTouchStart:Fo(f,p)}]:[!1,m,{}]}function Fo(t,e){return s=>{t&&t(s),s.defaultPrevented||e(s)}}function zI({page:t,...e}){let{router:s}=d2(),r=T.useMemo(()=>s2(s.routes,t,s.basename),[s.routes,t,s.basename]);return r?T.createElement(HI,{page:t,matches:r,...e}):null}function qI(t){let{manifest:e,routeModules:s}=h2(),[r,i]=T.useState([]);return T.useEffect(()=>{let a=!1;return OI(t,e,s).then(o=>{a||i(o)}),()=>{a=!0}},[t,e,s]),r}function HI({page:t,matches:e,...s}){let r=ii(),{manifest:i,routeModules:a}=h2(),{basename:o}=d2(),{loaderData:l,matches:c}=BI(),d=T.useMemo(()=>Bv(t,e,c,i,r,"data"),[t,e,c,i,r]),h=T.useMemo(()=>Bv(t,e,c,i,r,"assets"),[t,e,c,i,r]),f=T.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let _=new Set,N=!1;if(e.forEach(b=>{var x;let v=i.routes[b.route.id];!v||!v.hasLoader||(!d.some(E=>E.route.id===b.route.id)&&b.route.id in l&&((x=a[b.route.id])!=null&&x.shouldRevalidate)||v.hasClientLoader?N=!0:_.add(b.route.id))}),_.size===0)return[];let y=RI(t,o,"data");return N&&_.size>0&&y.searchParams.set("_routes",e.filter(b=>_.has(b.route.id)).map(b=>b.route.id).join(",")),[y.pathname+y.search]},[o,l,r,i,d,e,t,a]),m=T.useMemo(()=>VI(h,i),[h,i]),p=qI(h);return T.createElement(T.Fragment,null,f.map(_=>T.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...s})),m.map(_=>T.createElement("link",{key:_,rel:"modulepreload",href:_,...s})),p.map(({key:_,link:N})=>T.createElement("link",{key:_,...N})))}function WI(...t){return e=>{t.forEach(s=>{typeof s=="function"?s(e):s!=null&&(s.current=e)})}}var m2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{m2&&(window.__reactRouterVersion="7.7.0")}catch{}function GI({basename:t,children:e,window:s}){let r=T.useRef();r.current==null&&(r.current=Mk({window:s,v5Compat:!0}));let i=r.current,[a,o]=T.useState({action:i.action,location:i.location}),l=T.useCallback(c=>{T.startTransition(()=>o(c))},[o]);return T.useLayoutEffect(()=>i.listen(l),[i,l]),T.createElement(jI,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:i})}var f2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,p2=T.forwardRef(function({onClick:e,discover:s="render",prefetch:r="none",relative:i,reloadDocument:a,replace:o,state:l,target:c,to:d,preventScrollReset:h,viewTransition:f,...m},p){let{basename:_}=T.useContext(rr),N=typeof d=="string"&&f2.test(d),y,b=!1;if(typeof d=="string"&&N&&(y=d,m2))try{let k=new URL(window.location.href),O=d.startsWith("//")?new URL(k.protocol+d):new URL(d),A=Yr(O.pathname,_);O.origin===k.origin&&A!=null?d=A+O.search+O.hash:b=!0}catch{tr(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let v=lI(d,{relative:i}),[x,E,I]=$I(r,m),L=XI(d,{replace:o,state:l,target:c,preventScrollReset:h,relative:i,viewTransition:f});function C(k){e&&e(k),k.defaultPrevented||L(k)}let j=T.createElement("a",{...m,...I,href:y||v,onClick:b||a?e:C,ref:WI(p,E),target:c,"data-discover":!N&&s==="render"?"true":void 0});return x&&!N?T.createElement(T.Fragment,null,j,T.createElement(zI,{page:v})):j});p2.displayName="Link";var KI=T.forwardRef(function({"aria-current":e="page",caseSensitive:s=!1,className:r="",end:i=!1,style:a,to:o,viewTransition:l,children:c,...d},h){let f=ac(o,{relative:d.relative}),m=ii(),p=T.useContext(ph),{navigator:_,basename:N}=T.useContext(rr),y=p!=null&&s4(f)&&l===!0,b=_.encodeLocation?_.encodeLocation(f).pathname:f.pathname,v=m.pathname,x=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;s||(v=v.toLowerCase(),x=x?x.toLowerCase():null,b=b.toLowerCase()),x&&N&&(x=Yr(x,N)||x);const E=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let I=v===b||!i&&v.startsWith(b)&&v.charAt(E)==="/",L=x!=null&&(x===b||!i&&x.startsWith(b)&&x.charAt(b.length)==="/"),C={isActive:I,isPending:L,isTransitioning:y},j=I?e:void 0,k;typeof r=="function"?k=r(C):k=[r,I?"active":null,L?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let O=typeof a=="function"?a(C):a;return T.createElement(p2,{...d,"aria-current":j,className:k,ref:h,style:O,to:o,viewTransition:l},typeof c=="function"?c(C):c)});KI.displayName="NavLink";var QI=T.forwardRef(({discover:t="render",fetcherKey:e,navigate:s,reloadDocument:r,replace:i,state:a,method:o=Iu,action:l,onSubmit:c,relative:d,preventScrollReset:h,viewTransition:f,...m},p)=>{let _=e4(),N=t4(l,{relative:d}),y=o.toLowerCase()==="get"?"get":"post",b=typeof l=="string"&&f2.test(l),v=x=>{if(c&&c(x),x.defaultPrevented)return;x.preventDefault();let E=x.nativeEvent.submitter,I=(E==null?void 0:E.getAttribute("formmethod"))||o;_(E||x.currentTarget,{fetcherKey:e,method:I,navigate:s,replace:i,state:a,relative:d,preventScrollReset:h,viewTransition:f})};return T.createElement("form",{ref:p,method:y,action:N,onSubmit:r?c:v,...m,"data-discover":!b&&t==="render"?"true":void 0})});QI.displayName="Form";function YI(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function g2(t){let e=T.useContext(ao);return Xe(e,YI(t)),e}function XI(t,{target:e,replace:s,state:r,preventScrollReset:i,relative:a,viewTransition:o}={}){let l=_s(),c=ii(),d=ac(t,{relative:a});return T.useCallback(h=>{if(PI(h,e)){h.preventDefault();let f=s!==void 0?s:Vl(c)===Vl(d);l(t,{replace:f,state:r,preventScrollReset:i,relative:a,viewTransition:o})}},[c,l,d,s,r,e,t,i,a,o])}var JI=0,ZI=()=>`__${String(++JI)}__`;function e4(){let{router:t}=g2("useSubmit"),{basename:e}=T.useContext(rr),s=vI();return T.useCallback(async(r,i={})=>{let{action:a,method:o,encType:l,formData:c,body:d}=AI(r,e);if(i.navigate===!1){let h=i.fetcherKey||ZI();await t.fetch(h,s,i.action||a,{preventScrollReset:i.preventScrollReset,formData:c,body:d,formMethod:i.method||o,formEncType:i.encType||l,flushSync:i.flushSync})}else await t.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:c,body:d,formMethod:i.method||o,formEncType:i.encType||l,replace:i.replace,state:i.state,fromRouteId:s,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,s])}function t4(t,{relative:e}={}){let{basename:s}=T.useContext(rr),r=T.useContext(_r);Xe(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...ac(t||".",{relative:e})},o=ii();if(t==null){a.search=o.search;let l=new URLSearchParams(a.search),c=l.getAll("index");if(c.some(h=>h==="")){l.delete("index"),c.filter(f=>f).forEach(f=>l.append("index",f));let h=l.toString();a.search=h?`?${h}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(a.pathname=a.pathname==="/"?s:$r([s,a.pathname])),Vl(a)}function s4(t,e={}){let s=T.useContext(a2);Xe(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=g2("useViewTransitionState"),i=ac(t,{relative:e.relative});if(!s.isTransitioning)return!1;let a=Yr(s.currentLocation.pathname,r)||s.currentLocation.pathname,o=Yr(s.nextLocation.pathname,r)||s.nextLocation.pathname;return yd(i.pathname,o)!=null||yd(i.pathname,a)!=null}let r4={data:""},n4=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||r4,i4=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,a4=/\/\*[^]*?\*\/|  +/g,$v=/\n+/g,Nn=(t,e)=>{let s="",r="",i="";for(let a in t){let o=t[a];a[0]=="@"?a[1]=="i"?s=a+" "+o+";":r+=a[1]=="f"?Nn(o,a):a+"{"+Nn(o,a[1]=="k"?"":e)+"}":typeof o=="object"?r+=Nn(o,e?e.replace(/([^,])+/g,l=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):a):o!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Nn.p?Nn.p(a,o):a+":"+o+";")}return s+(e&&i?e+"{"+i+"}":i)+r},Ar={},x2=t=>{if(typeof t=="object"){let e="";for(let s in t)e+=s+x2(t[s]);return e}return t},o4=(t,e,s,r,i)=>{let a=x2(t),o=Ar[a]||(Ar[a]=(c=>{let d=0,h=11;for(;d<c.length;)h=101*h+c.charCodeAt(d++)>>>0;return"go"+h})(a));if(!Ar[o]){let c=a!==t?t:(d=>{let h,f,m=[{}];for(;h=i4.exec(d.replace(a4,""));)h[4]?m.shift():h[3]?(f=h[3].replace($v," ").trim(),m.unshift(m[0][f]=m[0][f]||{})):m[0][h[1]]=h[2].replace($v," ").trim();return m[0]})(t);Ar[o]=Nn(i?{["@keyframes "+o]:c}:c,s?"":"."+o)}let l=s&&Ar.g?Ar.g:null;return s&&(Ar.g=Ar[o]),((c,d,h,f)=>{f?d.data=d.data.replace(f,c):d.data.indexOf(c)===-1&&(d.data=h?c+d.data:d.data+c)})(Ar[o],e,r,l),o},l4=(t,e,s)=>t.reduce((r,i,a)=>{let o=e[a];if(o&&o.call){let l=o(s),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=c?"."+c:l&&typeof l=="object"?l.props?"":Nn(l,""):l===!1?"":l}return r+i+(o??"")},"");function xh(t){let e=this||{},s=t.call?t(e.p):t;return o4(s.unshift?s.raw?l4(s,[].slice.call(arguments,1),e.p):s.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):s,n4(e.target),e.g,e.o,e.k)}let y2,ap,op;xh.bind({g:1});let Xr=xh.bind({k:1});function c4(t,e,s,r){Nn.p=e,y2=t,ap=s,op=r}function ai(t,e){let s=this||{};return function(){let r=arguments;function i(a,o){let l=Object.assign({},a),c=l.className||i.className;s.p=Object.assign({theme:ap&&ap()},l),s.o=/ *go\d+/.test(c),l.className=xh.apply(s,r)+(c?" "+c:"");let d=t;return t[0]&&(d=l.as||t,delete l.as),op&&d[0]&&op(l),y2(d,l)}return i}}var u4=t=>typeof t=="function",vd=(t,e)=>u4(t)?t(e):t,d4=(()=>{let t=0;return()=>(++t).toString()})(),v2=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),h4=20,b2=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,h4)};case 1:return{...t,toasts:t.toasts.map(a=>a.id===e.toast.id?{...a,...e.toast}:a)};case 2:let{toast:s}=e;return b2(t,{type:t.toasts.find(a=>a.id===s.id)?1:0,toast:s});case 3:let{toastId:r}=e;return{...t,toasts:t.toasts.map(a=>a.id===r||r===void 0?{...a,dismissed:!0,visible:!1}:a)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(a=>a.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+i}))}}},Ru=[],Ni={toasts:[],pausedAt:void 0},Qi=t=>{Ni=b2(Ni,t),Ru.forEach(e=>{e(Ni)})},m4={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},f4=(t={})=>{let[e,s]=T.useState(Ni),r=T.useRef(Ni);T.useEffect(()=>(r.current!==Ni&&s(Ni),Ru.push(s),()=>{let a=Ru.indexOf(s);a>-1&&Ru.splice(a,1)}),[]);let i=e.toasts.map(a=>{var o,l,c;return{...t,...t[a.type],...a,removeDelay:a.removeDelay||((o=t[a.type])==null?void 0:o.removeDelay)||(t==null?void 0:t.removeDelay),duration:a.duration||((l=t[a.type])==null?void 0:l.duration)||(t==null?void 0:t.duration)||m4[a.type],style:{...t.style,...(c=t[a.type])==null?void 0:c.style,...a.style}}});return{...e,toasts:i}},p4=(t,e="blank",s)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...s,id:(s==null?void 0:s.id)||d4()}),oc=t=>(e,s)=>{let r=p4(e,t,s);return Qi({type:2,toast:r}),r.id},Jt=(t,e)=>oc("blank")(t,e);Jt.error=oc("error");Jt.success=oc("success");Jt.loading=oc("loading");Jt.custom=oc("custom");Jt.dismiss=t=>{Qi({type:3,toastId:t})};Jt.remove=t=>Qi({type:4,toastId:t});Jt.promise=(t,e,s)=>{let r=Jt.loading(e.loading,{...s,...s==null?void 0:s.loading});return typeof t=="function"&&(t=t()),t.then(i=>{let a=e.success?vd(e.success,i):void 0;return a?Jt.success(a,{id:r,...s,...s==null?void 0:s.success}):Jt.dismiss(r),i}).catch(i=>{let a=e.error?vd(e.error,i):void 0;a?Jt.error(a,{id:r,...s,...s==null?void 0:s.error}):Jt.dismiss(r)}),t};var g4=(t,e)=>{Qi({type:1,toast:{id:t,height:e}})},x4=()=>{Qi({type:5,time:Date.now()})},ol=new Map,y4=1e3,v4=(t,e=y4)=>{if(ol.has(t))return;let s=setTimeout(()=>{ol.delete(t),Qi({type:4,toastId:t})},e);ol.set(t,s)},b4=t=>{let{toasts:e,pausedAt:s}=f4(t);T.useEffect(()=>{if(s)return;let a=Date.now(),o=e.map(l=>{if(l.duration===1/0)return;let c=(l.duration||0)+l.pauseDuration-(a-l.createdAt);if(c<0){l.visible&&Jt.dismiss(l.id);return}return setTimeout(()=>Jt.dismiss(l.id),c)});return()=>{o.forEach(l=>l&&clearTimeout(l))}},[e,s]);let r=T.useCallback(()=>{s&&Qi({type:6,time:Date.now()})},[s]),i=T.useCallback((a,o)=>{let{reverseOrder:l=!1,gutter:c=8,defaultPosition:d}=o||{},h=e.filter(p=>(p.position||d)===(a.position||d)&&p.height),f=h.findIndex(p=>p.id===a.id),m=h.filter((p,_)=>_<f&&p.visible).length;return h.filter(p=>p.visible).slice(...l?[m+1]:[0,m]).reduce((p,_)=>p+(_.height||0)+c,0)},[e]);return T.useEffect(()=>{e.forEach(a=>{if(a.dismissed)v4(a.id,a.removeDelay);else{let o=ol.get(a.id);o&&(clearTimeout(o),ol.delete(a.id))}})},[e]),{toasts:e,handlers:{updateHeight:g4,startPause:x4,endPause:r,calculateOffset:i}}},w4=Xr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,N4=Xr`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,j4=Xr`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,_4=ai("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${w4} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${N4} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${j4} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,E4=Xr`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,T4=ai("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${E4} 1s linear infinite;
`,C4=Xr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,S4=Xr`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,P4=ai("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${C4} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${S4} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,k4=ai("div")`
  position: absolute;
`,I4=ai("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,A4=Xr`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,R4=ai("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${A4} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,D4=({toast:t})=>{let{icon:e,type:s,iconTheme:r}=t;return e!==void 0?typeof e=="string"?T.createElement(R4,null,e):e:s==="blank"?null:T.createElement(I4,null,T.createElement(T4,{...r}),s!=="loading"&&T.createElement(k4,null,s==="error"?T.createElement(_4,{...r}):T.createElement(P4,{...r})))},M4=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,O4=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,V4="0%{opacity:0;} 100%{opacity:1;}",L4="0%{opacity:1;} 100%{opacity:0;}",F4=ai("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,U4=ai("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,B4=(t,e)=>{let s=t.includes("top")?1:-1,[r,i]=v2()?[V4,L4]:[M4(s),O4(s)];return{animation:e?`${Xr(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Xr(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},$4=T.memo(({toast:t,position:e,style:s,children:r})=>{let i=t.height?B4(t.position||e||"top-center",t.visible):{opacity:0},a=T.createElement(D4,{toast:t}),o=T.createElement(U4,{...t.ariaProps},vd(t.message,t));return T.createElement(F4,{className:t.className,style:{...i,...s,...t.style}},typeof r=="function"?r({icon:a,message:o}):T.createElement(T.Fragment,null,a,o))});c4(T.createElement);var z4=({id:t,className:e,style:s,onHeightUpdate:r,children:i})=>{let a=T.useCallback(o=>{if(o){let l=()=>{let c=o.getBoundingClientRect().height;r(t,c)};l(),new MutationObserver(l).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return T.createElement("div",{ref:a,className:e,style:s},i)},q4=(t,e)=>{let s=t.includes("top"),r=s?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:v2()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(s?1:-1)}px)`,...r,...i}},H4=xh`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,iu=16,W4=({reverseOrder:t,position:e="top-center",toastOptions:s,gutter:r,children:i,containerStyle:a,containerClassName:o})=>{let{toasts:l,handlers:c}=b4(s);return T.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:iu,left:iu,right:iu,bottom:iu,pointerEvents:"none",...a},className:o,onMouseEnter:c.startPause,onMouseLeave:c.endPause},l.map(d=>{let h=d.position||e,f=c.calculateOffset(d,{reverseOrder:t,gutter:r,defaultPosition:e}),m=q4(h,f);return T.createElement(z4,{id:d.id,key:d.id,onHeightUpdate:c.updateHeight,className:d.visible?H4:"",style:m},d.type==="custom"?vd(d.message,d):i?i(d):T.createElement($4,{toast:d,position:h}))}))},M=Jt;const G4=()=>{};var zv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2=function(t){const e=[];let s=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[s++]=i:i<2048?(e[s++]=i>>6|192,e[s++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[s++]=i>>18|240,e[s++]=i>>12&63|128,e[s++]=i>>6&63|128,e[s++]=i&63|128):(e[s++]=i>>12|224,e[s++]=i>>6&63|128,e[s++]=i&63|128)}return e},K4=function(t){const e=[];let s=0,r=0;for(;s<t.length;){const i=t[s++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[s++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[s++],o=t[s++],l=t[s++],c=((i&7)<<18|(a&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const a=t[s++],o=t[s++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return e.join("")},N2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const s=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],o=i+1<t.length,l=o?t[i+1]:0,c=i+2<t.length,d=c?t[i+2]:0,h=a>>2,f=(a&3)<<4|l>>4;let m=(l&15)<<2|d>>6,p=d&63;c||(p=64,o||(m=64)),r.push(s[h],s[f],s[m],s[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(w2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):K4(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const s=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=s[t.charAt(i++)],l=i<t.length?s[t.charAt(i)]:0;++i;const d=i<t.length?s[t.charAt(i)]:64;++i;const f=i<t.length?s[t.charAt(i)]:64;if(++i,a==null||l==null||d==null||f==null)throw new Q4;const m=a<<2|l>>4;if(r.push(m),d!==64){const p=l<<4&240|d>>2;if(r.push(p),f!==64){const _=d<<6&192|f;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Q4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Y4=function(t){const e=w2(t);return N2.encodeByteArray(e,!0)},bd=function(t){return Y4(t).replace(/\./g,"")},j2=function(t){try{return N2.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J4=()=>X4().__FIREBASE_DEFAULTS__,Z4=()=>{if(typeof process>"u"||typeof zv>"u")return;const t=zv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},eA=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&j2(t[1]);return e&&JSON.parse(e)},yh=()=>{try{return G4()||J4()||Z4()||eA()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},_2=t=>{var e,s;return(s=(e=yh())==null?void 0:e.emulatorHosts)==null?void 0:s[t]},E2=t=>{const e=_2(t);if(!e)return;const s=e.lastIndexOf(":");if(s<=0||s+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(s+1),10);return e[0]==="["?[e.substring(1,s-1),r]:[e.substring(0,s),r]},T2=()=>{var t;return(t=yh())==null?void 0:t.config},C2=t=>{var e;return(e=yh())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,s)=>{this.resolve=e,this.reject=s})}wrapCallback(e){return(s,r)=>{s?this.reject(s):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(s):e(s,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yi(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ax(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S2(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const s={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[bd(JSON.stringify(s)),bd(JSON.stringify(o)),""].join(".")}const ll={};function sA(){const t={prod:[],emulator:[]};for(const e of Object.keys(ll))ll[e]?t.emulator.push(e):t.prod.push(e);return t}function rA(t){let e=document.getElementById(t),s=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),s=!0),{created:s,element:e}}let qv=!1;function ox(t,e){if(typeof window>"u"||typeof document>"u"||!Yi(window.location.host)||ll[t]===e||ll[t]||qv)return;ll[t]=e;function s(m){return`__firebase__banner__${m}`}const r="__firebase__banner",a=sA().prod.length>0;function o(){const m=document.getElementById(r);m&&m.remove()}function l(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function c(m,p){m.setAttribute("width","24"),m.setAttribute("id",p),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function d(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{qv=!0,o()},m}function h(m,p){m.setAttribute("id",p),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function f(){const m=rA(r),p=s("text"),_=document.getElementById(p)||document.createElement("span"),N=s("learnmore"),y=document.getElementById(N)||document.createElement("a"),b=s("preprendIcon"),v=document.getElementById(b)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const x=m.element;l(x),h(y,N);const E=d();c(v,b),x.append(v,_,y,E),document.body.appendChild(x)}a?(_.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,_.innerText="Preview backend running in this workspace."),_.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Kt())}function iA(){var e;const t=(e=yh())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function aA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function oA(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function lA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function cA(){const t=Kt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function uA(){return!iA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function dA(){try{return typeof indexedDB=="object"}catch{return!1}}function hA(){return new Promise((t,e)=>{try{let s=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),s||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{s=!1},i.onerror=()=>{var a;e(((a=i.error)==null?void 0:a.message)||"")}}catch(s){e(s)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mA="FirebaseError";class Er extends Error{constructor(e,s,r){super(s),this.code=e,this.customData=r,this.name=mA,Object.setPrototypeOf(this,Er.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lc.prototype.create)}}class lc{constructor(e,s,r){this.service=e,this.serviceName=s,this.errors=r}create(e,...s){const r=s[0]||{},i=`${this.service}/${e}`,a=this.errors[e],o=a?fA(a,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Er(i,l,r)}}function fA(t,e){return t.replace(pA,(s,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const pA=/\{\$([^}]+)}/g;function gA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Fi(t,e){if(t===e)return!0;const s=Object.keys(t),r=Object.keys(e);for(const i of s){if(!r.includes(i))return!1;const a=t[i],o=e[i];if(Hv(a)&&Hv(o)){if(!Fi(a,o))return!1}else if(a!==o)return!1}for(const i of r)if(!s.includes(i))return!1;return!0}function Hv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cc(t){const e=[];for(const[s,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(s)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(s)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function xA(t,e){const s=new yA(t,e);return s.subscribe.bind(s)}class yA{constructor(e,s){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=s,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(s=>{s.next(e)})}error(e){this.forEachObserver(s=>{s.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,s,r){let i;if(e===void 0&&s===void 0&&r===void 0)throw new Error("Missing Observer.");vA(e,["next","error","complete"])?i=e:i={next:e,error:s,complete:r},i.next===void 0&&(i.next=Mm),i.error===void 0&&(i.error=Mm),i.complete===void 0&&(i.complete=Mm);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let s=0;s<this.observers.length;s++)this.sendOne(s,e)}sendOne(e,s){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{s(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vA(t,e){if(typeof t!="object"||t===null)return!1;for(const s of e)if(s in t&&typeof t[s]=="function")return!0;return!1}function Mm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(t){return t&&t._delegate?t._delegate:t}class Hn{constructor(e,s,r){this.name=e,this.instanceFactory=s,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(e,s){this.name=e,this.container=s,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const s=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(s)){const r=new tA;if(this.instancesDeferred.set(s,r),this.isInitialized(s)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:s});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(s).promise}getImmediate(e){const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(NA(e))try{this.getOrInitializeService({instanceIdentifier:xi})}catch{}for(const[s,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(s);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=xi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(s=>"INTERNAL"in s).map(s=>s.INTERNAL.delete()),...e.filter(s=>"_delete"in s).map(s=>s._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=xi){return this.instances.has(e)}getOptions(e=xi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:s={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:s});for(const[a,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(a);r===l&&o.resolve(i)}return i}onInit(e,s){const r=this.normalizeInstanceIdentifier(s),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,s){const r=this.onInitCallbacks.get(s);if(r)for(const i of r)try{i(e,s)}catch{}}getOrInitializeService({instanceIdentifier:e,options:s={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:wA(e),options:s}),this.instances.set(e,r),this.instancesOptions.set(e,s),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=xi){return this.component?this.component.multipleInstances?e:xi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function wA(t){return t===xi?void 0:t}function NA(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const s=this.getProvider(e.name);if(s.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);s.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const s=new bA(e,this);return this.providers.set(e,s),s}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Se;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Se||(Se={}));const _A={debug:Se.DEBUG,verbose:Se.VERBOSE,info:Se.INFO,warn:Se.WARN,error:Se.ERROR,silent:Se.SILENT},EA=Se.INFO,TA={[Se.DEBUG]:"log",[Se.VERBOSE]:"log",[Se.INFO]:"info",[Se.WARN]:"warn",[Se.ERROR]:"error"},CA=(t,e,...s)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=TA[e];if(i)console[i](`[${r}]  ${t.name}:`,...s);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class lx{constructor(e){this.name=e,this._logLevel=EA,this._logHandler=CA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_A[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Se.DEBUG,...e),this._logHandler(this,Se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Se.VERBOSE,...e),this._logHandler(this,Se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Se.INFO,...e),this._logHandler(this,Se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Se.WARN,...e),this._logHandler(this,Se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Se.ERROR,...e),this._logHandler(this,Se.ERROR,...e)}}const SA=(t,e)=>e.some(s=>t instanceof s);let Wv,Gv;function PA(){return Wv||(Wv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kA(){return Gv||(Gv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const P2=new WeakMap,lp=new WeakMap,k2=new WeakMap,Om=new WeakMap,cx=new WeakMap;function IA(t){const e=new Promise((s,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{s(Fn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(s=>{s instanceof IDBCursor&&P2.set(s,t)}).catch(()=>{}),cx.set(e,t),e}function AA(t){if(lp.has(t))return;const e=new Promise((s,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{s(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});lp.set(t,e)}let cp={get(t,e,s){if(t instanceof IDBTransaction){if(e==="done")return lp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||k2.get(t);if(e==="store")return s.objectStoreNames[1]?void 0:s.objectStore(s.objectStoreNames[0])}return Fn(t[e])},set(t,e,s){return t[e]=s,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function RA(t){cp=t(cp)}function DA(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...s){const r=t.call(Vm(this),e,...s);return k2.set(r,e.sort?e.sort():[e]),Fn(r)}:kA().includes(t)?function(...e){return t.apply(Vm(this),e),Fn(P2.get(this))}:function(...e){return Fn(t.apply(Vm(this),e))}}function MA(t){return typeof t=="function"?DA(t):(t instanceof IDBTransaction&&AA(t),SA(t,PA())?new Proxy(t,cp):t)}function Fn(t){if(t instanceof IDBRequest)return IA(t);if(Om.has(t))return Om.get(t);const e=MA(t);return e!==t&&(Om.set(t,e),cx.set(e,t)),e}const Vm=t=>cx.get(t);function OA(t,e,{blocked:s,upgrade:r,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),l=Fn(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Fn(o.result),c.oldVersion,c.newVersion,Fn(o.transaction),c)}),s&&o.addEventListener("blocked",c=>s(c.oldVersion,c.newVersion,c)),l.then(c=>{a&&c.addEventListener("close",()=>a()),i&&c.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const VA=["get","getKey","getAll","getAllKeys","count"],LA=["put","add","delete","clear"],Lm=new Map;function Kv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Lm.get(e))return Lm.get(e);const s=e.replace(/FromIndex$/,""),r=e!==s,i=LA.includes(s);if(!(s in(r?IDBIndex:IDBObjectStore).prototype)||!(i||VA.includes(s)))return;const a=async function(o,...l){const c=this.transaction(o,i?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(l.shift())),(await Promise.all([d[s](...l),i&&c.done]))[0]};return Lm.set(e,a),a}RA(t=>({...t,get:(e,s,r)=>Kv(e,s)||t.get(e,s,r),has:(e,s)=>!!Kv(e,s)||t.has(e,s)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(s=>{if(UA(s)){const r=s.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(s=>s).join(" ")}}function UA(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const up="@firebase/app",Qv="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jr=new lx("@firebase/app"),BA="@firebase/app-compat",$A="@firebase/analytics-compat",zA="@firebase/analytics",qA="@firebase/app-check-compat",HA="@firebase/app-check",WA="@firebase/auth",GA="@firebase/auth-compat",KA="@firebase/database",QA="@firebase/data-connect",YA="@firebase/database-compat",XA="@firebase/functions",JA="@firebase/functions-compat",ZA="@firebase/installations",e3="@firebase/installations-compat",t3="@firebase/messaging",s3="@firebase/messaging-compat",r3="@firebase/performance",n3="@firebase/performance-compat",i3="@firebase/remote-config",a3="@firebase/remote-config-compat",o3="@firebase/storage",l3="@firebase/storage-compat",c3="@firebase/firestore",u3="@firebase/ai",d3="@firebase/firestore-compat",h3="firebase",m3="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dp="[DEFAULT]",f3={[up]:"fire-core",[BA]:"fire-core-compat",[zA]:"fire-analytics",[$A]:"fire-analytics-compat",[HA]:"fire-app-check",[qA]:"fire-app-check-compat",[WA]:"fire-auth",[GA]:"fire-auth-compat",[KA]:"fire-rtdb",[QA]:"fire-data-connect",[YA]:"fire-rtdb-compat",[XA]:"fire-fn",[JA]:"fire-fn-compat",[ZA]:"fire-iid",[e3]:"fire-iid-compat",[t3]:"fire-fcm",[s3]:"fire-fcm-compat",[r3]:"fire-perf",[n3]:"fire-perf-compat",[i3]:"fire-rc",[a3]:"fire-rc-compat",[o3]:"fire-gcs",[l3]:"fire-gcs-compat",[c3]:"fire-fst",[d3]:"fire-fst-compat",[u3]:"fire-vertex","fire-js":"fire-js",[h3]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wd=new Map,p3=new Map,hp=new Map;function Yv(t,e){try{t.container.addComponent(e)}catch(s){Jr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,s)}}function Ui(t){const e=t.name;if(hp.has(e))return Jr.debug(`There were multiple attempts to register component ${e}.`),!1;hp.set(e,t);for(const s of wd.values())Yv(s,t);for(const s of p3.values())Yv(s,t);return!0}function vh(t,e){const s=t.container.getProvider("heartbeat").getImmediate({optional:!0});return s&&s.triggerHeartbeat(),t.container.getProvider(e)}function Qs(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Un=new lc("app","Firebase",g3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x3{constructor(e,s,r){this._isDeleted=!1,this._options={...e},this._config={...s},this._name=s.name,this._automaticDataCollectionEnabled=s.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Hn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Un.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xi=m3;function I2(t,e={}){let s=t;typeof e!="object"&&(e={name:e});const r={name:dp,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Un.create("bad-app-name",{appName:String(i)});if(s||(s=T2()),!s)throw Un.create("no-options");const a=wd.get(i);if(a){if(Fi(s,a.options)&&Fi(r,a.config))return a;throw Un.create("duplicate-app",{appName:i})}const o=new jA(i);for(const c of hp.values())o.addComponent(c);const l=new x3(s,r,o);return wd.set(i,l),l}function ux(t=dp){const e=wd.get(t);if(!e&&t===dp&&T2())return I2();if(!e)throw Un.create("no-app",{appName:t});return e}function dr(t,e,s){let r=f3[t]??t;s&&(r+=`-${s}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Jr.warn(o.join(" "));return}Ui(new Hn(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y3="firebase-heartbeat-database",v3=1,Ll="firebase-heartbeat-store";let Fm=null;function A2(){return Fm||(Fm=OA(y3,v3,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ll)}catch(s){console.warn(s)}}}}).catch(t=>{throw Un.create("idb-open",{originalErrorMessage:t.message})})),Fm}async function b3(t){try{const s=(await A2()).transaction(Ll),r=await s.objectStore(Ll).get(R2(t));return await s.done,r}catch(e){if(e instanceof Er)Jr.warn(e.message);else{const s=Un.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Jr.warn(s.message)}}}async function Xv(t,e){try{const r=(await A2()).transaction(Ll,"readwrite");await r.objectStore(Ll).put(e,R2(t)),await r.done}catch(s){if(s instanceof Er)Jr.warn(s.message);else{const r=Un.create("idb-set",{originalErrorMessage:s==null?void 0:s.message});Jr.warn(r.message)}}}function R2(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w3=1024,N3=30;class j3{constructor(e){this.container=e,this._heartbeatsCache=null;const s=this.container.getProvider("app").getImmediate();this._storage=new E3(s),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,s;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Jv();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((s=this._heartbeatsCache)==null?void 0:s.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>N3){const o=T3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Jr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const s=Jv(),{heartbeatsToSend:r,unsentEntries:i}=_3(this._heartbeatsCache.heartbeats),a=bd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=s,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(s){return Jr.warn(s),""}}}function Jv(){return new Date().toISOString().substring(0,10)}function _3(t,e=w3){const s=[];let r=t.slice();for(const i of t){const a=s.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),Zv(s)>e){a.dates.pop();break}}else if(s.push({agent:i.agent,dates:[i.date]}),Zv(s)>e){s.pop();break}r=r.slice(1)}return{heartbeatsToSend:s,unsentEntries:r}}class E3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return dA()?hA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const s=await b3(this.app);return s!=null&&s.heartbeats?s:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Xv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Xv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Zv(t){return bd(JSON.stringify({version:2,heartbeats:t})).length}function T3(t){if(t.length===0)return-1;let e=0,s=t[0].date;for(let r=1;r<t.length;r++)t[r].date<s&&(s=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C3(t){Ui(new Hn("platform-logger",e=>new FA(e),"PRIVATE")),Ui(new Hn("heartbeat",e=>new j3(e),"PRIVATE")),dr(up,Qv,t),dr(up,Qv,"esm2020"),dr("fire-js","")}C3("");function D2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const S3=D2,M2=new lc("auth","Firebase",D2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nd=new lx("@firebase/auth");function P3(t,...e){Nd.logLevel<=Se.WARN&&Nd.warn(`Auth (${Xi}): ${t}`,...e)}function Du(t,...e){Nd.logLevel<=Se.ERROR&&Nd.error(`Auth (${Xi}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(t,...e){throw dx(t,...e)}function hr(t,...e){return dx(t,...e)}function O2(t,e,s){const r={...S3(),[e]:s};return new lc("auth","Firebase",r).create(e,{appName:t.name})}function Pi(t){return O2(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function dx(t,...e){if(typeof t!="string"){const s=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(s,...r)}return M2.create(t,...e)}function be(t,e,...s){if(!t)throw dx(e,...s)}function Fr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Du(e),new Error(e)}function en(t,e){t||Fr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mp(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function k3(){return eb()==="http:"||eb()==="https:"}function eb(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(k3()||oA()||"connection"in navigator)?navigator.onLine:!0}function A3(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e,s){this.shortDelay=e,this.longDelay=s,en(s>e,"Short delay should be less than long delay!"),this.isMobile=nA()||lA()}get(){return I3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hx(t,e){en(t.emulator,"Emulator should always be set here");const{url:s}=t.emulator;return e?`${s}${e.startsWith("/")?e.slice(1):e}`:s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{static initialize(e,s,r){this.fetchImpl=e,s&&(this.headersImpl=s),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Fr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Fr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Fr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D3=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],M3=new uc(3e4,6e4);function mx(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function lo(t,e,s,r,i={}){return L2(t,i,async()=>{let a={},o={};r&&(e==="GET"?o=r:a={body:JSON.stringify(r)});const l=cc({key:t.config.apiKey,...o}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:c,...a};return aA()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&Yi(t.emulatorConfig.host)&&(d.credentials="include"),V2.fetch()(await F2(t,t.config.apiHost,s,l),d)})}async function L2(t,e,s){t._canInitEmulator=!1;const r={...R3,...e};try{const i=new V3(t),a=await Promise.race([s(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw au(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const l=a.ok?o.errorMessage:o.error.message,[c,d]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw au(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw au(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw au(t,"user-disabled",o);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw O2(t,h,d);Zr(t,h)}}catch(i){if(i instanceof Er)throw i;Zr(t,"network-request-failed",{message:String(i)})}}async function O3(t,e,s,r,i={}){const a=await lo(t,e,s,r,i);return"mfaPendingCredential"in a&&Zr(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function F2(t,e,s,r){const i=`${e}${s}?${r}`,a=t,o=a.config.emulator?hx(t.config,i):`${t.config.apiScheme}://${i}`;return D3.includes(s)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(o).toString():o}class V3{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((s,r)=>{this.timer=setTimeout(()=>r(hr(this.auth,"network-request-failed")),M3.get())})}}function au(t,e,s){const r={appName:t.name};s.email&&(r.email=s.email),s.phoneNumber&&(r.phoneNumber=s.phoneNumber);const i=hr(t,e,r);return i.customData._tokenResponse=s,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L3(t,e){return lo(t,"POST","/v1/accounts:delete",e)}async function jd(t,e){return lo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function F3(t,e=!1){const s=vt(t),r=await s.getIdToken(e),i=fx(r);be(i&&i.exp&&i.auth_time&&i.iat,s.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:cl(Um(i.auth_time)),issuedAtTime:cl(Um(i.iat)),expirationTime:cl(Um(i.exp)),signInProvider:o||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Um(t){return Number(t)*1e3}function fx(t){const[e,s,r]=t.split(".");if(e===void 0||s===void 0||r===void 0)return Du("JWT malformed, contained fewer than 3 sections"),null;try{const i=j2(s);return i?JSON.parse(i):(Du("Failed to decode base64 JWT payload"),null)}catch(i){return Du("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function tb(t){const e=fx(t);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fl(t,e,s=!1){if(s)return e;try{return await e}catch(r){throw r instanceof Er&&U3(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function U3({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B3{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const s=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},s)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(e,s){this.createdAt=e,this.lastLoginAt=s,this._initializeTime()}_initializeTime(){this.lastSignInTime=cl(this.lastLoginAt),this.creationTime=cl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _d(t){var f;const e=t.auth,s=await t.getIdToken(),r=await Fl(t,jd(e,{idToken:s}));be(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const a=(f=i.providerUserInfo)!=null&&f.length?U2(i.providerUserInfo):[],o=z3(t.providerData,a),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(o!=null&&o.length),d=l?c:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new fp(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function $3(t){const e=vt(t);await _d(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function z3(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function U2(t){return t.map(({providerId:e,...s})=>({providerId:e,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q3(t,e){const s=await L2(t,{},async()=>{const r=cc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,o=await F2(t,i,"/v1/token",`key=${a}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:r};return t.emulatorConfig&&Yi(t.emulatorConfig.host)&&(c.credentials="include"),V2.fetch()(o,c)});return{accessToken:s.access_token,expiresIn:s.expires_in,refreshToken:s.refresh_token}}async function H3(t,e){return lo(t,"POST","/v2/accounts:revokeToken",mx(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const s="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):tb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,s)}updateFromIdToken(e){be(e.length!==0,"internal-error");const s=tb(e);this.updateTokensAndExpiration(e,null,s)}async getToken(e,s=!1){return!s&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,s){const{accessToken:r,refreshToken:i,expiresIn:a}=await q3(e,s);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,s,r){this.refreshToken=s||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,s){const{refreshToken:r,accessToken:i,expirationTime:a}=s,o=new Ma;return r&&(be(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(be(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),a&&(be(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ma,this.toJSON())}_performRefresh(){return Fr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(t,e){be(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ys{constructor({uid:e,auth:s,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new B3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=s,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new fp(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const s=await Fl(this,this.stsTokenManager.getToken(this.auth,e));return be(s,this.auth,"internal-error"),this.accessToken!==s&&(this.accessToken=s,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),s}getIdTokenResult(e){return F3(this,e)}reload(){return $3(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(s=>({...s})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const s=new Ys({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return s.metadata._copy(this.metadata),s}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,s=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),s&&await _d(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Qs(this.auth.app))return Promise.reject(Pi(this.auth));const e=await this.getIdToken();return await Fl(this,L3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,s){const r=s.displayName??void 0,i=s.email??void 0,a=s.phoneNumber??void 0,o=s.photoURL??void 0,l=s.tenantId??void 0,c=s._redirectEventId??void 0,d=s.createdAt??void 0,h=s.lastLoginAt??void 0,{uid:f,emailVerified:m,isAnonymous:p,providerData:_,stsTokenManager:N}=s;be(f&&N,e,"internal-error");const y=Ma.fromJSON(this.name,N);be(typeof f=="string",e,"internal-error"),fn(r,e.name),fn(i,e.name),be(typeof m=="boolean",e,"internal-error"),be(typeof p=="boolean",e,"internal-error"),fn(a,e.name),fn(o,e.name),fn(l,e.name),fn(c,e.name),fn(d,e.name),fn(h,e.name);const b=new Ys({uid:f,auth:e,email:i,emailVerified:m,displayName:r,isAnonymous:p,photoURL:o,phoneNumber:a,tenantId:l,stsTokenManager:y,createdAt:d,lastLoginAt:h});return _&&Array.isArray(_)&&(b.providerData=_.map(v=>({...v}))),c&&(b._redirectEventId=c),b}static async _fromIdTokenResponse(e,s,r=!1){const i=new Ma;i.updateFromServerResponse(s);const a=new Ys({uid:s.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await _d(a),a}static async _fromGetAccountInfoResponse(e,s,r){const i=s.users[0];be(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?U2(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),l=new Ma;l.updateFromIdToken(r);const c=new Ys({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:o}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new fp(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb=new Map;function Ur(t){en(t instanceof Function,"Expected a class definition");let e=sb.get(t);return e?(en(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,sb.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,s){this.storage[e]=s}async _get(e){const s=this.storage[e];return s===void 0?null:s}async _remove(e){delete this.storage[e]}_addListener(e,s){}_removeListener(e,s){}}B2.type="NONE";const rb=B2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mu(t,e,s){return`firebase:${t}:${e}:${s}`}class Oa{constructor(e,s,r){this.persistence=e,this.auth=s,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=Mu(this.userKey,i.apiKey,a),this.fullPersistenceKey=Mu("persistence",i.apiKey,a),this.boundEventHandler=s._onStorageEvent.bind(s),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const s=await jd(this.auth,{idToken:e}).catch(()=>{});return s?Ys._fromGetAccountInfoResponse(this.auth,s,e):null}return Ys._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const s=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,s)return this.setCurrentUser(s)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,s,r="authUser"){if(!s.length)return new Oa(Ur(rb),e,r);const i=(await Promise.all(s.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let a=i[0]||Ur(rb);const o=Mu(r,e.config.apiKey,e.name);let l=null;for(const d of s)try{const h=await d._get(o);if(h){let f;if(typeof h=="string"){const m=await jd(e,{idToken:h}).catch(()=>{});if(!m)break;f=await Ys._fromGetAccountInfoResponse(e,m,h)}else f=Ys._fromJSON(e,h);d!==a&&(l=f),a=d;break}}catch{}const c=i.filter(d=>d._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new Oa(a,e,r):(a=c[0],l&&await a._set(o,l.toJSON()),await Promise.all(s.map(async d=>{if(d!==a)try{await d._remove(o)}catch{}})),new Oa(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nb(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(H2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if($2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(G2(e))return"Blackberry";if(K2(e))return"Webos";if(z2(e))return"Safari";if((e.includes("chrome/")||q2(e))&&!e.includes("edge/"))return"Chrome";if(W2(e))return"Android";{const s=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(s);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function $2(t=Kt()){return/firefox\//i.test(t)}function z2(t=Kt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function q2(t=Kt()){return/crios\//i.test(t)}function H2(t=Kt()){return/iemobile/i.test(t)}function W2(t=Kt()){return/android/i.test(t)}function G2(t=Kt()){return/blackberry/i.test(t)}function K2(t=Kt()){return/webos/i.test(t)}function px(t=Kt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function W3(t=Kt()){var e;return px(t)&&!!((e=window.navigator)!=null&&e.standalone)}function G3(){return cA()&&document.documentMode===10}function Q2(t=Kt()){return px(t)||W2(t)||K2(t)||G2(t)||/windows phone/i.test(t)||H2(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y2(t,e=[]){let s;switch(t){case"Browser":s=nb(Kt());break;case"Worker":s=`${nb(Kt())}-${t}`;break;default:s=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${s}/JsCore/${Xi}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K3{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,s){const r=a=>new Promise((o,l)=>{try{const c=e(a);o(c)}catch(c){l(c)}});r.onAbort=s,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const s=[];try{for(const r of this.queue)await r(e),r.onAbort&&s.push(r.onAbort)}catch(r){s.reverse();for(const i of s)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q3(t,e={}){return lo(t,"GET","/v2/passwordPolicy",mx(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y3=6;class X3{constructor(e){var r;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=s.minPasswordLength??Y3,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const s={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,s),this.validatePasswordCharacterOptions(e,s),s.isValid&&(s.isValid=s.meetsMinPasswordLength??!0),s.isValid&&(s.isValid=s.meetsMaxPasswordLength??!0),s.isValid&&(s.isValid=s.containsLowercaseLetter??!0),s.isValid&&(s.isValid=s.containsUppercaseLetter??!0),s.isValid&&(s.isValid=s.containsNumericCharacter??!0),s.isValid&&(s.isValid=s.containsNonAlphanumericCharacter??!0),s}validatePasswordLengthOptions(e,s){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(s.meetsMinPasswordLength=e.length>=r),i&&(s.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,s){this.updatePasswordCharacterOptionsStatuses(s,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(s,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,s,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=s)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J3{constructor(e,s,r,i){this.app=e,this.heartbeatServiceProvider=s,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ib(this),this.idTokenSubscription=new ib(this),this.beforeStateQueue=new K3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=M2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,s){return s&&(this._popupRedirectResolver=Ur(s)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await Oa.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(s),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const s=await jd(this,{idToken:e}),r=await Ys._fromGetAccountInfoResponse(this,s,e);await this.directlySetCurrentUser(r)}catch(s){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",s),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(Qs(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let r=s,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(a=this.redirectUser)==null?void 0:a._redirectEventId,l=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&(c!=null&&c.user)&&(r=c.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let s=null;try{s=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return s}async reloadAndSetCurrentUserOrClear(e){try{await _d(e)}catch(s){if((s==null?void 0:s.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=A3()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Qs(this.app))return Promise.reject(Pi(this));const s=e?vt(e):null;return s&&be(s.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(s&&s._clone(this))}async _updateCurrentUser(e,s=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),s||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Qs(this.app)?Promise.reject(Pi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Qs(this.app)?Promise.reject(Pi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ur(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const s=this._getPasswordPolicyInternal();return s.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):s.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Q3(this),s=new X3(e);this.tenantId===null?this._projectPasswordPolicy=s:this._tenantPasswordPolicies[this.tenantId]=s}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new lc("auth","Firebase",e())}onAuthStateChanged(e,s,r){return this.registerStateListener(this.authStateSubscription,e,s,r)}beforeAuthStateChanged(e,s){return this.beforeStateQueue.pushCallback(e,s)}onIdTokenChanged(e,s,r){return this.registerStateListener(this.idTokenSubscription,e,s,r)}authStateReady(){return new Promise((e,s)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},s)}})}async revokeAccessToken(e){if(this.currentUser){const s=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:s};this.tenantId!=null&&(r.tenantId=this.tenantId),await H3(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,s){const r=await this.getOrInitRedirectPersistenceManager(s);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const s=e&&Ur(e)||this._popupRedirectResolver;be(s,this,"argument-error"),this.redirectPersistenceManager=await Oa.create(this,[Ur(s._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var s,r;return this._isInitialized&&await this.queue(async()=>{}),((s=this._currentUser)==null?void 0:s._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var s;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((s=this.currentUser)==null?void 0:s.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,s,r,i){if(this._deleted)return()=>{};const a=typeof s=="function"?s:s.next.bind(s);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(l,this,"internal-error"),l.then(()=>{o||a(this.currentUser)}),typeof s=="function"){const c=e.addObserver(s,r,i);return()=>{o=!0,c()}}else{const c=e.addObserver(s);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Y2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const s=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());s&&(e["X-Firebase-Client"]=s);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var s;if(Qs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((s=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getToken());return e!=null&&e.error&&P3(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function gx(t){return vt(t)}class ib{constructor(e){this.auth=e,this.observer=null,this.addObserver=xA(s=>this.observer=s)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xx={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Z3(t){xx=t}function eR(t){return xx.loadJS(t)}function tR(){return xx.gapiScript}function sR(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rR(t,e){const s=vh(t,"auth");if(s.isInitialized()){const i=s.getImmediate(),a=s.getOptions();if(Fi(a,e??{}))return i;Zr(i,"already-initialized")}return s.initialize({options:e})}function nR(t,e){const s=(e==null?void 0:e.persistence)||[],r=(Array.isArray(s)?s:[s]).map(Ur);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function iR(t,e,s){const r=gx(t);be(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(s!=null&&s.disableWarnings),a=X2(e),{host:o,port:l}=aR(e),c=l===null?"":`:${l}`,d={url:`${a}//${o}${c}/`},h=Object.freeze({host:o,port:l,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){be(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),be(Fi(d,r.config.emulator)&&Fi(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Yi(o)?(ax(`${a}//${o}${c}`),ox("Auth",!0)):oR()}function X2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function aR(t){const e=X2(t),s=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!s)return{host:"",port:null};const r=s[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:ab(r.substr(a.length+1))}}else{const[a,o]=r.split(":");return{host:a,port:ab(o)}}}function ab(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function oR(){function t(){const e=document.createElement("p"),s=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",s.position="fixed",s.width="100%",s.backgroundColor="#ffffff",s.border=".1em solid #000000",s.color="#b50000",s.bottom="0px",s.left="0px",s.margin="0px",s.zIndex="10000",s.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(e,s){this.providerId=e,this.signInMethod=s}toJSON(){return Fr("not implemented")}_getIdTokenResponse(e){return Fr("not implemented")}_linkToIdToken(e,s){return Fr("not implemented")}_getReauthenticationResolver(e){return Fr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Va(t,e){return O3(t,"POST","/v1/accounts:signInWithIdp",mx(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR="http://localhost";class Bi extends J2{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const s=new Bi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(s.idToken=e.idToken),e.accessToken&&(s.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(s.nonce=e.nonce),e.pendingToken&&(s.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(s.accessToken=e.oauthToken,s.secret=e.oauthTokenSecret):Zr("argument-error"),s}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const s=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...a}=s;if(!r||!i)return null;const o=new Bi(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const s=this.buildRequest();return Va(e,s)}_linkToIdToken(e,s){const r=this.buildRequest();return r.idToken=s,Va(e,r)}_getReauthenticationResolver(e){const s=this.buildRequest();return s.autoCreate=!1,Va(e,s)}buildRequest(){const e={requestUri:lR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const s={};this.idToken&&(s.id_token=this.idToken),this.accessToken&&(s.access_token=this.accessToken),this.secret&&(s.oauth_token_secret=this.secret),s.providerId=this.providerId,this.nonce&&!this.pendingToken&&(s.nonce=this.nonce),e.postBody=cc(s)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc extends Z2{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn extends dc{constructor(){super("facebook.com")}static credential(e){return Bi._fromParams({providerId:jn.PROVIDER_ID,signInMethod:jn.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return jn.credentialFromTaggedObject(e)}static credentialFromError(e){return jn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return jn.credential(e.oauthAccessToken)}catch{return null}}}jn.FACEBOOK_SIGN_IN_METHOD="facebook.com";jn.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n extends dc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,s){return Bi._fromParams({providerId:_n.PROVIDER_ID,signInMethod:_n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:s})}static credentialFromResult(e){return _n.credentialFromTaggedObject(e)}static credentialFromError(e){return _n.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:s,oauthAccessToken:r}=e;if(!s&&!r)return null;try{return _n.credential(s,r)}catch{return null}}}_n.GOOGLE_SIGN_IN_METHOD="google.com";_n.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En extends dc{constructor(){super("github.com")}static credential(e){return Bi._fromParams({providerId:En.PROVIDER_ID,signInMethod:En.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return En.credentialFromTaggedObject(e)}static credentialFromError(e){return En.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return En.credential(e.oauthAccessToken)}catch{return null}}}En.GITHUB_SIGN_IN_METHOD="github.com";En.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn extends dc{constructor(){super("twitter.com")}static credential(e,s){return Bi._fromParams({providerId:Tn.PROVIDER_ID,signInMethod:Tn.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:s})}static credentialFromResult(e){return Tn.credentialFromTaggedObject(e)}static credentialFromError(e){return Tn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:s,oauthTokenSecret:r}=e;if(!s||!r)return null;try{return Tn.credential(s,r)}catch{return null}}}Tn.TWITTER_SIGN_IN_METHOD="twitter.com";Tn.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,s,r,i=!1){const a=await Ys._fromIdTokenResponse(e,r,i),o=ob(r);return new Wa({user:a,providerId:o,_tokenResponse:r,operationType:s})}static async _forOperation(e,s,r){await e._updateTokensIfNecessary(r,!0);const i=ob(r);return new Wa({user:e,providerId:i,_tokenResponse:r,operationType:s})}}function ob(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed extends Er{constructor(e,s,r,i){super(s.code,s.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Ed.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:s.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,s,r,i){return new Ed(e,s,r,i)}}function e_(t,e,s,r){return(e==="reauthenticate"?s._getReauthenticationResolver(t):s._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Ed._fromErrorAndOperation(t,a,e,r):a})}async function cR(t,e,s=!1){const r=await Fl(t,e._linkToIdToken(t.auth,await t.getIdToken()),s);return Wa._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uR(t,e,s=!1){const{auth:r}=t;if(Qs(r.app))return Promise.reject(Pi(r));const i="reauthenticate";try{const a=await Fl(t,e_(r,i,e,t),s);be(a.idToken,r,"internal-error");const o=fx(a.idToken);be(o,r,"internal-error");const{sub:l}=o;return be(t.uid===l,r,"user-mismatch"),Wa._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Zr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dR(t,e,s=!1){if(Qs(t.app))return Promise.reject(Pi(t));const r="signIn",i=await e_(t,r,e),a=await Wa._fromIdTokenResponse(t,r,i);return s||await t._updateCurrentUser(a.user),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hR(t,e){return vt(t).setPersistence(e)}function mR(t,e,s,r){return vt(t).onIdTokenChanged(e,s,r)}function fR(t,e,s){return vt(t).beforeAuthStateChanged(e,s)}function pR(t,e,s,r){return vt(t).onAuthStateChanged(e,s,r)}function gR(t){return vt(t).signOut()}const Td="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_{constructor(e,s){this.storageRetriever=e,this.type=s}_isAvailable(){try{return this.storage?(this.storage.setItem(Td,"1"),this.storage.removeItem(Td),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,s){return this.storage.setItem(e,JSON.stringify(s)),Promise.resolve()}_get(e){const s=this.storage.getItem(e);return Promise.resolve(s?JSON.parse(s):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR=1e3,yR=10;class s_ extends t_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,s)=>this.onStorageEvent(e,s),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Q2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const s of Object.keys(this.listeners)){const r=this.storage.getItem(s),i=this.localCache[s];r!==i&&e(s,i,r)}}onStorageEvent(e,s=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const r=e.key;s?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!s&&this.localCache[r]===o||this.notifyListeners(r,o)},a=this.storage.getItem(r);G3()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,yR):i()}notifyListeners(e,s){this.localCache[e]=s;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(s&&JSON.parse(s))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,s,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:s,newValue:r}),!0)})},xR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,s){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(s)}_removeListener(e,s){this.listeners[e]&&(this.listeners[e].delete(s),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,s){await super._set(e,s),this.localCache[e]=JSON.stringify(s)}async _get(e){const s=await super._get(e);return this.localCache[e]=JSON.stringify(s),s}async _remove(e){await super._remove(e),delete this.localCache[e]}}s_.type="LOCAL";const r_=s_;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_ extends t_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,s){}_removeListener(e,s){}}n_.type="SESSION";const i_=n_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vR(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(s){return{fulfilled:!1,reason:s}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const s=this.receivers.find(i=>i.isListeningto(e));if(s)return s;const r=new bh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const s=e,{eventId:r,eventType:i,data:a}=s.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;s.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(o).map(async d=>d(s.origin,a)),c=await vR(l);s.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,s){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(s)}_unsubscribe(e,s){this.handlersMap[e]&&s&&this.handlersMap[e].delete(s),(!s||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}bh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yx(t="",e=10){let s="";for(let r=0;r<e;r++)s+=Math.floor(Math.random()*10);return t+s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,s,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,o;return new Promise((l,c)=>{const d=yx("",20);i.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const m=f;if(m.data.eventId===d)switch(m.data.status){case"ack":clearTimeout(h),a=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),l(m.data.response);break;default:clearTimeout(h),clearTimeout(a),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:s},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mr(){return window}function wR(t){mr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a_(){return typeof mr().WorkerGlobalScope<"u"&&typeof mr().importScripts=="function"}async function NR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function jR(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function _R(){return a_()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_="firebaseLocalStorageDb",ER=1,Cd="firebaseLocalStorage",l_="fbase_key";class hc{constructor(e){this.request=e}toPromise(){return new Promise((e,s)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{s(this.request.error)})})}}function wh(t,e){return t.transaction([Cd],e?"readwrite":"readonly").objectStore(Cd)}function TR(){const t=indexedDB.deleteDatabase(o_);return new hc(t).toPromise()}function pp(){const t=indexedDB.open(o_,ER);return new Promise((e,s)=>{t.addEventListener("error",()=>{s(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Cd,{keyPath:l_})}catch(i){s(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Cd)?e(r):(r.close(),await TR(),e(await pp()))})})}async function lb(t,e,s){const r=wh(t,!0).put({[l_]:e,value:s});return new hc(r).toPromise()}async function CR(t,e){const s=wh(t,!1).get(e),r=await new hc(s).toPromise();return r===void 0?null:r.value}function cb(t,e){const s=wh(t,!0).delete(e);return new hc(s).toPromise()}const SR=800,PR=3;class c_{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await pp(),this.db)}async _withRetries(e){let s=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(s++>PR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return a_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=bh._getInstance(_R()),this.receiver._subscribe("keyChanged",async(e,s)=>({keyProcessed:(await this._poll()).includes(s.key)})),this.receiver._subscribe("ping",async(e,s)=>["keyChanged"])}async initializeSender(){var s,r;if(this.activeServiceWorker=await NR(),!this.activeServiceWorker)return;this.sender=new bR(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(s=e[0])!=null&&s.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||jR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await pp();return await lb(e,Td,"1"),await cb(e,Td),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,s){return this._withPendingWrite(async()=>(await this._withRetries(r=>lb(r,e,s)),this.localCache[e]=s,this.notifyServiceWorker(e)))}async _get(e){const s=await this._withRetries(r=>CR(r,e));return this.localCache[e]=s,s}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(s=>cb(s,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=wh(i,!1).getAll();return new hc(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const s=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),s.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),s.push(i));return s}notifyListeners(e,s){this.localCache[e]=s;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(s)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),SR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,s){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(s)}_removeListener(e,s){this.listeners[e]&&(this.listeners[e].delete(s),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}c_.type="LOCAL";const kR=c_;new uc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IR(t,e){return e?Ur(e):(be(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx extends J2{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Va(e,this._buildIdpRequest())}_linkToIdToken(e,s){return Va(e,this._buildIdpRequest(s))}_getReauthenticationResolver(e){return Va(e,this._buildIdpRequest())}_buildIdpRequest(e){const s={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(s.idToken=e),s}}function AR(t){return dR(t.auth,new vx(t),t.bypassAuthState)}function RR(t){const{auth:e,user:s}=t;return be(s,e,"internal-error"),uR(s,new vx(t),t.bypassAuthState)}async function DR(t){const{auth:e,user:s}=t;return be(s,e,"internal-error"),cR(s,new vx(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{constructor(e,s,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(s)?s:[s]}execute(){return new Promise(async(e,s)=>{this.pendingPromise={resolve:e,reject:s};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:s,sessionId:r,postBody:i,tenantId:a,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:s,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return AR;case"linkViaPopup":case"linkViaRedirect":return DR;case"reauthViaPopup":case"reauthViaRedirect":return RR;default:Zr(this.auth,"internal-error")}}resolve(e){en(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){en(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR=new uc(2e3,1e4);class ja extends u_{constructor(e,s,r,i,a){super(e,s,i,a),this.provider=r,this.authWindow=null,this.pollId=null,ja.currentPopupAction&&ja.currentPopupAction.cancel(),ja.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){en(this.filter.length===1,"Popup operations only handle one event");const e=yx();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(s=>{this.reject(s)}),this.resolver._isIframeWebStorageSupported(this.auth,s=>{s||this.reject(hr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(hr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ja.currentPopupAction=null}pollUserCancellation(){const e=()=>{var s,r;if((r=(s=this.authWindow)==null?void 0:s.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(hr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,MR.get())};e()}}ja.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR="pendingRedirect",Ou=new Map;class VR extends u_{constructor(e,s,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],s,void 0,r),this.eventId=null}async execute(){let e=Ou.get(this.auth._key());if(!e){try{const r=await LR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(s){e=()=>Promise.reject(s)}Ou.set(this.auth._key(),e)}return this.bypassAuthState||Ou.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const s=await this.auth._redirectUserForId(e.eventId);if(s)return this.user=s,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function LR(t,e){const s=BR(e),r=UR(t);if(!await r._isAvailable())return!1;const i=await r._get(s)==="true";return await r._remove(s),i}function FR(t,e){Ou.set(t._key(),e)}function UR(t){return Ur(t._redirectPersistence)}function BR(t){return Mu(OR,t.config.apiKey,t.name)}async function $R(t,e,s=!1){if(Qs(t.app))return Promise.reject(Pi(t));const r=gx(t),i=IR(r,e),o=await new VR(r,i,s).execute();return o&&!s&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR=10*60*1e3;class qR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let s=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(s=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!HR(e)||(this.hasHandledPotentialRedirect=!0,s||(this.queuedRedirectEvent=e,s=!0)),s}sendToConsumer(e,s){var r;if(e.error&&!d_(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";s.onError(hr(this.auth,i))}else s.onAuthEvent(e)}isEventForConsumer(e,s){const r=s.eventId===null||!!e.eventId&&e.eventId===s.eventId;return s.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=zR&&this.cachedEventUids.clear(),this.cachedEventUids.has(ub(e))}saveEventToCache(e){this.cachedEventUids.add(ub(e)),this.lastProcessedEventTime=Date.now()}}function ub(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function d_({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function HR(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return d_(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WR(t,e={}){return lo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,KR=/^https?/;async function QR(t){if(t.config.emulator)return;const{authorizedDomains:e}=await WR(t);for(const s of e)try{if(YR(s))return}catch{}Zr(t,"unauthorized-domain")}function YR(t){const e=mp(),{protocol:s,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?s==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):s==="chrome-extension:"&&o.hostname===r}if(!KR.test(s))return!1;if(GR.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR=new uc(3e4,6e4);function db(){const t=mr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let s=0;s<t.CP.length;s++)t.CP[s]=null}}function JR(t){return new Promise((e,s)=>{var i,a,o;function r(){db(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{db(),s(hr(t,"network-request-failed"))},timeout:XR.get()})}if((a=(i=mr().gapi)==null?void 0:i.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((o=mr().gapi)!=null&&o.load)r();else{const l=sR("iframefcb");return mr()[l]=()=>{gapi.load?r():s(hr(t,"network-request-failed"))},eR(`${tR()}?onload=${l}`).catch(c=>s(c))}}).catch(e=>{throw Vu=null,e})}let Vu=null;function ZR(t){return Vu=Vu||JR(t),Vu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e6=new uc(5e3,15e3),t6="__/auth/iframe",s6="emulator/auth/iframe",r6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},n6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function i6(t){const e=t.config;be(e.authDomain,t,"auth-domain-config-required");const s=e.emulator?hx(e,s6):`https://${t.config.authDomain}/${t6}`,r={apiKey:e.apiKey,appName:t.name,v:Xi},i=n6.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${s}?${cc(r).slice(1)}`}async function a6(t){const e=await ZR(t),s=mr().gapi;return be(s,t,"internal-error"),e.open({where:document.body,url:i6(t),messageHandlersFilter:s.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:r6,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const o=hr(t,"network-request-failed"),l=mr().setTimeout(()=>{a(o)},e6.get());function c(){mr().clearTimeout(l),i(r)}r.ping(c).then(c,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},l6=500,c6=600,u6="_blank",d6="http://localhost";class hb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function h6(t,e,s,r=l6,i=c6){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c={...o6,width:r.toString(),height:i.toString(),top:a,left:o},d=Kt().toLowerCase();s&&(l=q2(d)?u6:s),$2(d)&&(e=e||d6,c.scrollbars="yes");const h=Object.entries(c).reduce((m,[p,_])=>`${m}${p}=${_},`,"");if(W3(d)&&l!=="_self")return m6(e||"",l),new hb(null);const f=window.open(e||"",l,h);be(f,t,"popup-blocked");try{f.focus()}catch{}return new hb(f)}function m6(t,e){const s=document.createElement("a");s.href=t,s.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),s.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f6="__/auth/handler",p6="emulator/auth/handler",g6=encodeURIComponent("fac");async function mb(t,e,s,r,i,a){be(t.config.authDomain,t,"auth-domain-config-required"),be(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:s,redirectUrl:r,v:Xi,eventId:i};if(e instanceof Z2){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",gA(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))o[h]=f}if(e instanceof dc){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const h of Object.keys(l))l[h]===void 0&&delete l[h];const c=await t._getAppCheckToken(),d=c?`#${g6}=${encodeURIComponent(c)}`:"";return`${x6(t)}?${cc(l).slice(1)}${d}`}function x6({config:t}){return t.emulator?hx(t,p6):`https://${t.authDomain}/${f6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bm="webStorageSupport";class y6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=i_,this._completeRedirectFn=$R,this._overrideRedirectResult=FR}async _openPopup(e,s,r,i){var o;en((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const a=await mb(e,s,r,mp(),i);return h6(e,a,yx())}async _openRedirect(e,s,r,i){await this._originValidation(e);const a=await mb(e,s,r,mp(),i);return wR(a),new Promise(()=>{})}_initialize(e){const s=e._key();if(this.eventManagers[s]){const{manager:i,promise:a}=this.eventManagers[s];return i?Promise.resolve(i):(en(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[s]={promise:r},r.catch(()=>{delete this.eventManagers[s]}),r}async initAndGetManager(e){const s=await a6(e),r=new qR(e);return s.register("authEvent",i=>(be(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=s,r}_isIframeWebStorageSupported(e,s){this.iframes[e._key()].send(Bm,{type:Bm},i=>{var o;const a=(o=i==null?void 0:i[0])==null?void 0:o[Bm];a!==void 0&&s(!!a),Zr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const s=e._key();return this.originValidationPromises[s]||(this.originValidationPromises[s]=QR(e)),this.originValidationPromises[s]}get _shouldInitProactively(){return Q2()||z2()||px()}}const v6=y6;var fb="@firebase/auth",pb="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const s=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,s),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const s=this.internalListeners.get(e);s&&(this.internalListeners.delete(e),s(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w6(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function N6(t){Ui(new Hn("auth",(e,{options:s})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;be(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Y2(t)},d=new J3(r,i,a,c);return nR(d,s),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,s,r)=>{e.getProvider("auth-internal").initialize()})),Ui(new Hn("auth-internal",e=>{const s=gx(e.getProvider("auth").getImmediate());return(r=>new b6(r))(s)},"PRIVATE").setInstantiationMode("EXPLICIT")),dr(fb,pb,w6(t)),dr(fb,pb,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j6=5*60,_6=C2("authIdTokenMaxAge")||j6;let gb=null;const E6=t=>async e=>{const s=e&&await e.getIdTokenResult(),r=s&&(new Date().getTime()-Date.parse(s.issuedAtTime))/1e3;if(r&&r>_6)return;const i=s==null?void 0:s.token;gb!==i&&(gb=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function T6(t=ux()){const e=vh(t,"auth");if(e.isInitialized())return e.getImmediate();const s=rR(t,{popupRedirectResolver:v6,persistence:[kR,r_,i_]}),r=C2("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const o=E6(a.toString());fR(s,o,()=>o(s.currentUser)),mR(s,l=>o(l))}}const i=_2("auth");return i&&iR(s,`http://${i}`),s}function C6(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}Z3({loadJS(t){return new Promise((e,s)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=hr("internal-error");a.customData=i,s(a)},r.type="text/javascript",r.charset="UTF-8",C6().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});N6("Browser");var xb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Bn,h_;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,j){function k(){}k.prototype=j.prototype,C.D=j.prototype,C.prototype=new k,C.prototype.constructor=C,C.C=function(O,A,V){for(var D=Array(arguments.length-2),U=2;U<arguments.length;U++)D[U-2]=arguments[U];return j.prototype[A].apply(O,D)}}function s(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,s),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,j,k){k||(k=0);var O=Array(16);if(typeof j=="string")for(var A=0;16>A;++A)O[A]=j.charCodeAt(k++)|j.charCodeAt(k++)<<8|j.charCodeAt(k++)<<16|j.charCodeAt(k++)<<24;else for(A=0;16>A;++A)O[A]=j[k++]|j[k++]<<8|j[k++]<<16|j[k++]<<24;j=C.g[0],k=C.g[1],A=C.g[2];var V=C.g[3],D=j+(V^k&(A^V))+O[0]+3614090360&4294967295;j=k+(D<<7&4294967295|D>>>25),D=V+(A^j&(k^A))+O[1]+3905402710&4294967295,V=j+(D<<12&4294967295|D>>>20),D=A+(k^V&(j^k))+O[2]+606105819&4294967295,A=V+(D<<17&4294967295|D>>>15),D=k+(j^A&(V^j))+O[3]+3250441966&4294967295,k=A+(D<<22&4294967295|D>>>10),D=j+(V^k&(A^V))+O[4]+4118548399&4294967295,j=k+(D<<7&4294967295|D>>>25),D=V+(A^j&(k^A))+O[5]+1200080426&4294967295,V=j+(D<<12&4294967295|D>>>20),D=A+(k^V&(j^k))+O[6]+2821735955&4294967295,A=V+(D<<17&4294967295|D>>>15),D=k+(j^A&(V^j))+O[7]+4249261313&4294967295,k=A+(D<<22&4294967295|D>>>10),D=j+(V^k&(A^V))+O[8]+1770035416&4294967295,j=k+(D<<7&4294967295|D>>>25),D=V+(A^j&(k^A))+O[9]+2336552879&4294967295,V=j+(D<<12&4294967295|D>>>20),D=A+(k^V&(j^k))+O[10]+4294925233&4294967295,A=V+(D<<17&4294967295|D>>>15),D=k+(j^A&(V^j))+O[11]+2304563134&4294967295,k=A+(D<<22&4294967295|D>>>10),D=j+(V^k&(A^V))+O[12]+1804603682&4294967295,j=k+(D<<7&4294967295|D>>>25),D=V+(A^j&(k^A))+O[13]+4254626195&4294967295,V=j+(D<<12&4294967295|D>>>20),D=A+(k^V&(j^k))+O[14]+2792965006&4294967295,A=V+(D<<17&4294967295|D>>>15),D=k+(j^A&(V^j))+O[15]+1236535329&4294967295,k=A+(D<<22&4294967295|D>>>10),D=j+(A^V&(k^A))+O[1]+4129170786&4294967295,j=k+(D<<5&4294967295|D>>>27),D=V+(k^A&(j^k))+O[6]+3225465664&4294967295,V=j+(D<<9&4294967295|D>>>23),D=A+(j^k&(V^j))+O[11]+643717713&4294967295,A=V+(D<<14&4294967295|D>>>18),D=k+(V^j&(A^V))+O[0]+3921069994&4294967295,k=A+(D<<20&4294967295|D>>>12),D=j+(A^V&(k^A))+O[5]+3593408605&4294967295,j=k+(D<<5&4294967295|D>>>27),D=V+(k^A&(j^k))+O[10]+38016083&4294967295,V=j+(D<<9&4294967295|D>>>23),D=A+(j^k&(V^j))+O[15]+3634488961&4294967295,A=V+(D<<14&4294967295|D>>>18),D=k+(V^j&(A^V))+O[4]+3889429448&4294967295,k=A+(D<<20&4294967295|D>>>12),D=j+(A^V&(k^A))+O[9]+568446438&4294967295,j=k+(D<<5&4294967295|D>>>27),D=V+(k^A&(j^k))+O[14]+3275163606&4294967295,V=j+(D<<9&4294967295|D>>>23),D=A+(j^k&(V^j))+O[3]+4107603335&4294967295,A=V+(D<<14&4294967295|D>>>18),D=k+(V^j&(A^V))+O[8]+1163531501&4294967295,k=A+(D<<20&4294967295|D>>>12),D=j+(A^V&(k^A))+O[13]+2850285829&4294967295,j=k+(D<<5&4294967295|D>>>27),D=V+(k^A&(j^k))+O[2]+4243563512&4294967295,V=j+(D<<9&4294967295|D>>>23),D=A+(j^k&(V^j))+O[7]+1735328473&4294967295,A=V+(D<<14&4294967295|D>>>18),D=k+(V^j&(A^V))+O[12]+2368359562&4294967295,k=A+(D<<20&4294967295|D>>>12),D=j+(k^A^V)+O[5]+4294588738&4294967295,j=k+(D<<4&4294967295|D>>>28),D=V+(j^k^A)+O[8]+2272392833&4294967295,V=j+(D<<11&4294967295|D>>>21),D=A+(V^j^k)+O[11]+1839030562&4294967295,A=V+(D<<16&4294967295|D>>>16),D=k+(A^V^j)+O[14]+4259657740&4294967295,k=A+(D<<23&4294967295|D>>>9),D=j+(k^A^V)+O[1]+2763975236&4294967295,j=k+(D<<4&4294967295|D>>>28),D=V+(j^k^A)+O[4]+1272893353&4294967295,V=j+(D<<11&4294967295|D>>>21),D=A+(V^j^k)+O[7]+4139469664&4294967295,A=V+(D<<16&4294967295|D>>>16),D=k+(A^V^j)+O[10]+3200236656&4294967295,k=A+(D<<23&4294967295|D>>>9),D=j+(k^A^V)+O[13]+681279174&4294967295,j=k+(D<<4&4294967295|D>>>28),D=V+(j^k^A)+O[0]+3936430074&4294967295,V=j+(D<<11&4294967295|D>>>21),D=A+(V^j^k)+O[3]+3572445317&4294967295,A=V+(D<<16&4294967295|D>>>16),D=k+(A^V^j)+O[6]+76029189&4294967295,k=A+(D<<23&4294967295|D>>>9),D=j+(k^A^V)+O[9]+3654602809&4294967295,j=k+(D<<4&4294967295|D>>>28),D=V+(j^k^A)+O[12]+3873151461&4294967295,V=j+(D<<11&4294967295|D>>>21),D=A+(V^j^k)+O[15]+530742520&4294967295,A=V+(D<<16&4294967295|D>>>16),D=k+(A^V^j)+O[2]+3299628645&4294967295,k=A+(D<<23&4294967295|D>>>9),D=j+(A^(k|~V))+O[0]+4096336452&4294967295,j=k+(D<<6&4294967295|D>>>26),D=V+(k^(j|~A))+O[7]+1126891415&4294967295,V=j+(D<<10&4294967295|D>>>22),D=A+(j^(V|~k))+O[14]+2878612391&4294967295,A=V+(D<<15&4294967295|D>>>17),D=k+(V^(A|~j))+O[5]+4237533241&4294967295,k=A+(D<<21&4294967295|D>>>11),D=j+(A^(k|~V))+O[12]+1700485571&4294967295,j=k+(D<<6&4294967295|D>>>26),D=V+(k^(j|~A))+O[3]+2399980690&4294967295,V=j+(D<<10&4294967295|D>>>22),D=A+(j^(V|~k))+O[10]+4293915773&4294967295,A=V+(D<<15&4294967295|D>>>17),D=k+(V^(A|~j))+O[1]+2240044497&4294967295,k=A+(D<<21&4294967295|D>>>11),D=j+(A^(k|~V))+O[8]+1873313359&4294967295,j=k+(D<<6&4294967295|D>>>26),D=V+(k^(j|~A))+O[15]+4264355552&4294967295,V=j+(D<<10&4294967295|D>>>22),D=A+(j^(V|~k))+O[6]+2734768916&4294967295,A=V+(D<<15&4294967295|D>>>17),D=k+(V^(A|~j))+O[13]+1309151649&4294967295,k=A+(D<<21&4294967295|D>>>11),D=j+(A^(k|~V))+O[4]+4149444226&4294967295,j=k+(D<<6&4294967295|D>>>26),D=V+(k^(j|~A))+O[11]+3174756917&4294967295,V=j+(D<<10&4294967295|D>>>22),D=A+(j^(V|~k))+O[2]+718787259&4294967295,A=V+(D<<15&4294967295|D>>>17),D=k+(V^(A|~j))+O[9]+3951481745&4294967295,C.g[0]=C.g[0]+j&4294967295,C.g[1]=C.g[1]+(A+(D<<21&4294967295|D>>>11))&4294967295,C.g[2]=C.g[2]+A&4294967295,C.g[3]=C.g[3]+V&4294967295}r.prototype.u=function(C,j){j===void 0&&(j=C.length);for(var k=j-this.blockSize,O=this.B,A=this.h,V=0;V<j;){if(A==0)for(;V<=k;)i(this,C,V),V+=this.blockSize;if(typeof C=="string"){for(;V<j;)if(O[A++]=C.charCodeAt(V++),A==this.blockSize){i(this,O),A=0;break}}else for(;V<j;)if(O[A++]=C[V++],A==this.blockSize){i(this,O),A=0;break}}this.h=A,this.o+=j},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var j=1;j<C.length-8;++j)C[j]=0;var k=8*this.o;for(j=C.length-8;j<C.length;++j)C[j]=k&255,k/=256;for(this.u(C),C=Array(16),j=k=0;4>j;++j)for(var O=0;32>O;O+=8)C[k++]=this.g[j]>>>O&255;return C};function a(C,j){var k=l;return Object.prototype.hasOwnProperty.call(k,C)?k[C]:k[C]=j(C)}function o(C,j){this.h=j;for(var k=[],O=!0,A=C.length-1;0<=A;A--){var V=C[A]|0;O&&V==j||(k[A]=V,O=!1)}this.g=k}var l={};function c(C){return-128<=C&&128>C?a(C,function(j){return new o([j|0],0>j?-1:0)}):new o([C|0],0>C?-1:0)}function d(C){if(isNaN(C)||!isFinite(C))return f;if(0>C)return y(d(-C));for(var j=[],k=1,O=0;C>=k;O++)j[O]=C/k|0,k*=4294967296;return new o(j,0)}function h(C,j){if(C.length==0)throw Error("number format error: empty string");if(j=j||10,2>j||36<j)throw Error("radix out of range: "+j);if(C.charAt(0)=="-")return y(h(C.substring(1),j));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=d(Math.pow(j,8)),O=f,A=0;A<C.length;A+=8){var V=Math.min(8,C.length-A),D=parseInt(C.substring(A,A+V),j);8>V?(V=d(Math.pow(j,V)),O=O.j(V).add(d(D))):(O=O.j(k),O=O.add(d(D)))}return O}var f=c(0),m=c(1),p=c(16777216);t=o.prototype,t.m=function(){if(N(this))return-y(this).m();for(var C=0,j=1,k=0;k<this.g.length;k++){var O=this.i(k);C+=(0<=O?O:4294967296+O)*j,j*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(_(this))return"0";if(N(this))return"-"+y(this).toString(C);for(var j=d(Math.pow(C,6)),k=this,O="";;){var A=E(k,j).g;k=b(k,A.j(j));var V=((0<k.g.length?k.g[0]:k.h)>>>0).toString(C);if(k=A,_(k))return V+O;for(;6>V.length;)V="0"+V;O=V+O}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function _(C){if(C.h!=0)return!1;for(var j=0;j<C.g.length;j++)if(C.g[j]!=0)return!1;return!0}function N(C){return C.h==-1}t.l=function(C){return C=b(this,C),N(C)?-1:_(C)?0:1};function y(C){for(var j=C.g.length,k=[],O=0;O<j;O++)k[O]=~C.g[O];return new o(k,~C.h).add(m)}t.abs=function(){return N(this)?y(this):this},t.add=function(C){for(var j=Math.max(this.g.length,C.g.length),k=[],O=0,A=0;A<=j;A++){var V=O+(this.i(A)&65535)+(C.i(A)&65535),D=(V>>>16)+(this.i(A)>>>16)+(C.i(A)>>>16);O=D>>>16,V&=65535,D&=65535,k[A]=D<<16|V}return new o(k,k[k.length-1]&-2147483648?-1:0)};function b(C,j){return C.add(y(j))}t.j=function(C){if(_(this)||_(C))return f;if(N(this))return N(C)?y(this).j(y(C)):y(y(this).j(C));if(N(C))return y(this.j(y(C)));if(0>this.l(p)&&0>C.l(p))return d(this.m()*C.m());for(var j=this.g.length+C.g.length,k=[],O=0;O<2*j;O++)k[O]=0;for(O=0;O<this.g.length;O++)for(var A=0;A<C.g.length;A++){var V=this.i(O)>>>16,D=this.i(O)&65535,U=C.i(A)>>>16,B=C.i(A)&65535;k[2*O+2*A]+=D*B,v(k,2*O+2*A),k[2*O+2*A+1]+=V*B,v(k,2*O+2*A+1),k[2*O+2*A+1]+=D*U,v(k,2*O+2*A+1),k[2*O+2*A+2]+=V*U,v(k,2*O+2*A+2)}for(O=0;O<j;O++)k[O]=k[2*O+1]<<16|k[2*O];for(O=j;O<2*j;O++)k[O]=0;return new o(k,0)};function v(C,j){for(;(C[j]&65535)!=C[j];)C[j+1]+=C[j]>>>16,C[j]&=65535,j++}function x(C,j){this.g=C,this.h=j}function E(C,j){if(_(j))throw Error("division by zero");if(_(C))return new x(f,f);if(N(C))return j=E(y(C),j),new x(y(j.g),y(j.h));if(N(j))return j=E(C,y(j)),new x(y(j.g),j.h);if(30<C.g.length){if(N(C)||N(j))throw Error("slowDivide_ only works with positive integers.");for(var k=m,O=j;0>=O.l(C);)k=I(k),O=I(O);var A=L(k,1),V=L(O,1);for(O=L(O,2),k=L(k,2);!_(O);){var D=V.add(O);0>=D.l(C)&&(A=A.add(k),V=D),O=L(O,1),k=L(k,1)}return j=b(C,A.j(j)),new x(A,j)}for(A=f;0<=C.l(j);){for(k=Math.max(1,Math.floor(C.m()/j.m())),O=Math.ceil(Math.log(k)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),V=d(k),D=V.j(j);N(D)||0<D.l(C);)k-=O,V=d(k),D=V.j(j);_(V)&&(V=m),A=A.add(V),C=b(C,D)}return new x(A,C)}t.A=function(C){return E(this,C).h},t.and=function(C){for(var j=Math.max(this.g.length,C.g.length),k=[],O=0;O<j;O++)k[O]=this.i(O)&C.i(O);return new o(k,this.h&C.h)},t.or=function(C){for(var j=Math.max(this.g.length,C.g.length),k=[],O=0;O<j;O++)k[O]=this.i(O)|C.i(O);return new o(k,this.h|C.h)},t.xor=function(C){for(var j=Math.max(this.g.length,C.g.length),k=[],O=0;O<j;O++)k[O]=this.i(O)^C.i(O);return new o(k,this.h^C.h)};function I(C){for(var j=C.g.length+1,k=[],O=0;O<j;O++)k[O]=C.i(O)<<1|C.i(O-1)>>>31;return new o(k,C.h)}function L(C,j){var k=j>>5;j%=32;for(var O=C.g.length-k,A=[],V=0;V<O;V++)A[V]=0<j?C.i(V+k)>>>j|C.i(V+k+1)<<32-j:C.i(V+k);return new o(A,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,h_=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=h,Bn=o}).apply(typeof xb<"u"?xb:typeof self<"u"?self:typeof window<"u"?window:{});var ou=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var m_,Wo,f_,Lu,gp,p_,g_,x_;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,g,w){return u==Array.prototype||u==Object.prototype||(u[g]=w.value),u};function s(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof ou=="object"&&ou];for(var g=0;g<u.length;++g){var w=u[g];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=s(this);function i(u,g){if(g)e:{var w=r;u=u.split(".");for(var S=0;S<u.length-1;S++){var q=u[S];if(!(q in w))break e;w=w[q]}u=u[u.length-1],S=w[u],g=g(S),g!=S&&g!=null&&e(w,u,{configurable:!0,writable:!0,value:g})}}function a(u,g){u instanceof String&&(u+="");var w=0,S=!1,q={next:function(){if(!S&&w<u.length){var K=w++;return{value:g(K,u[K]),done:!1}}return S=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}i("Array.prototype.values",function(u){return u||function(){return a(this,function(g,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function c(u){var g=typeof u;return g=g!="object"?g:u?Array.isArray(u)?"array":g:"null",g=="array"||g=="object"&&typeof u.length=="number"}function d(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function h(u,g,w){return u.call.apply(u.bind,arguments)}function f(u,g,w){if(!u)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,S),u.apply(g,q)}}return function(){return u.apply(g,arguments)}}function m(u,g,w){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,m.apply(null,arguments)}function p(u,g){var w=Array.prototype.slice.call(arguments,1);return function(){var S=w.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function _(u,g){function w(){}w.prototype=g.prototype,u.aa=g.prototype,u.prototype=new w,u.prototype.constructor=u,u.Qb=function(S,q,K){for(var se=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)se[Ue-2]=arguments[Ue];return g.prototype[q].apply(S,se)}}function N(u){const g=u.length;if(0<g){const w=Array(g);for(let S=0;S<g;S++)w[S]=u[S];return w}return[]}function y(u,g){for(let w=1;w<arguments.length;w++){const S=arguments[w];if(c(S)){const q=u.length||0,K=S.length||0;u.length=q+K;for(let se=0;se<K;se++)u[q+se]=S[se]}else u.push(S)}}class b{constructor(g,w){this.i=g,this.j=w,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function v(u){return/^[\s\xa0]*$/.test(u)}function x(){var u=l.navigator;return u&&(u=u.userAgent)?u:""}function E(u){return E[" "](u),u}E[" "]=function(){};var I=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function L(u,g,w){for(const S in u)g.call(w,u[S],S,u)}function C(u,g){for(const w in u)g.call(void 0,u[w],w,u)}function j(u){const g={};for(const w in u)g[w]=u[w];return g}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(u,g){let w,S;for(let q=1;q<arguments.length;q++){S=arguments[q];for(w in S)u[w]=S[w];for(let K=0;K<k.length;K++)w=k[K],Object.prototype.hasOwnProperty.call(S,w)&&(u[w]=S[w])}}function A(u){var g=1;u=u.split(":");const w=[];for(;0<g&&u.length;)w.push(u.shift()),g--;return u.length&&w.push(u.join(":")),w}function V(u){l.setTimeout(()=>{throw u},0)}function D(){var u=W;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class U{constructor(){this.h=this.g=null}add(g,w){const S=B.get();S.set(g,w),this.h?this.h.next=S:this.g=S,this.h=S}}var B=new b(()=>new R,u=>u.reset());class R{constructor(){this.next=this.g=this.h=null}set(g,w){this.h=g,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let $,H=!1,W=new U,G=()=>{const u=l.Promise.resolve(void 0);$=()=>{u.then(re)}};var re=()=>{for(var u;u=D();){try{u.h.call(u.g)}catch(w){V(w)}var g=B;g.j(u),100>g.h&&(g.h++,u.next=g.g,g.g=u)}H=!1};function ie(){this.s=this.s,this.C=this.C}ie.prototype.s=!1,ie.prototype.ma=function(){this.s||(this.s=!0,this.N())},ie.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function pe(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}pe.prototype.h=function(){this.defaultPrevented=!0};var ae=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const w=()=>{};l.addEventListener("test",w,g),l.removeEventListener("test",w,g)}catch{}return u}();function _e(u,g){if(pe.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var w=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget){if(I){e:{try{E(g.nodeName);var q=!0;break e}catch{}q=!1}q||(g=null)}}else w=="mouseover"?g=u.fromElement:w=="mouseout"&&(g=u.toElement);this.relatedTarget=g,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Me[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&_e.aa.h.call(this)}}_(_e,pe);var Me={2:"touch",3:"pen",4:"mouse"};_e.prototype.h=function(){_e.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var qe="closure_listenable_"+(1e6*Math.random()|0),Ee=0;function Oe(u,g,w,S,q){this.listener=u,this.proxy=null,this.src=g,this.type=w,this.capture=!!S,this.ha=q,this.key=++Ee,this.da=this.fa=!1}function Es(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Cr(u){this.src=u,this.g={},this.h=0}Cr.prototype.add=function(u,g,w,S,q){var K=u.toString();u=this.g[K],u||(u=this.g[K]=[],this.h++);var se=Sr(u,g,S,q);return-1<se?(g=u[se],w||(g.fa=!1)):(g=new Oe(g,this.src,K,!!S,q),g.fa=w,u.push(g)),g};function cn(u,g){var w=g.type;if(w in u.g){var S=u.g[w],q=Array.prototype.indexOf.call(S,g,void 0),K;(K=0<=q)&&Array.prototype.splice.call(S,q,1),K&&(Es(g),u.g[w].length==0&&(delete u.g[w],u.h--))}}function Sr(u,g,w,S){for(var q=0;q<u.length;++q){var K=u[q];if(!K.da&&K.listener==g&&K.capture==!!w&&K.ha==S)return q}return-1}var Z="closure_lm_"+(1e6*Math.random()|0),oe={};function X(u,g,w,S,q){if(Array.isArray(g)){for(var K=0;K<g.length;K++)X(u,g[K],w,S,q);return null}return w=z(w),u&&u[qe]?u.K(g,w,d(S)?!!S.capture:!!S,q):F(u,g,w,!1,S,q)}function F(u,g,w,S,q,K){if(!g)throw Error("Invalid event type");var se=d(q)?!!q.capture:!!q,Ue=Bs(u);if(Ue||(u[Z]=Ue=new Cr(u)),w=Ue.add(g,w,S,se,K),w.proxy)return w;if(S=ne(),w.proxy=S,S.src=u,S.listener=w,u.addEventListener)ae||(q=se),q===void 0&&(q=!1),u.addEventListener(g.toString(),S,q);else if(u.attachEvent)u.attachEvent(Ts(g.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return w}function ne(){function u(w){return g.call(u.src,u.listener,w)}const g=Pr;return u}function xe(u,g,w,S,q){if(Array.isArray(g))for(var K=0;K<g.length;K++)xe(u,g[K],w,S,q);else S=d(S)?!!S.capture:!!S,w=z(w),u&&u[qe]?(u=u.i,g=String(g).toString(),g in u.g&&(K=u.g[g],w=Sr(K,w,S,q),-1<w&&(Es(K[w]),Array.prototype.splice.call(K,w,1),K.length==0&&(delete u.g[g],u.h--)))):u&&(u=Bs(u))&&(g=u.g[g.toString()],u=-1,g&&(u=Sr(g,w,S,q)),(w=-1<u?g[u]:null)&&bt(w))}function bt(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[qe])cn(g.i,u);else{var w=u.type,S=u.proxy;g.removeEventListener?g.removeEventListener(w,S,u.capture):g.detachEvent?g.detachEvent(Ts(w),S):g.addListener&&g.removeListener&&g.removeListener(S),(w=Bs(g))?(cn(w,u),w.h==0&&(w.src=null,g[Z]=null)):Es(u)}}}function Ts(u){return u in oe?oe[u]:oe[u]="on"+u}function Pr(u,g){if(u.da)u=!0;else{g=new _e(g,this);var w=u.listener,S=u.ha||u.src;u.fa&&bt(u),u=w.call(S,g)}return u}function Bs(u){return u=u[Z],u instanceof Cr?u:null}var P="__closure_events_fn_"+(1e9*Math.random()>>>0);function z(u){return typeof u=="function"?u:(u[P]||(u[P]=function(g){return u.handleEvent(g)}),u[P])}function Q(){ie.call(this),this.i=new Cr(this),this.M=this,this.F=null}_(Q,ie),Q.prototype[qe]=!0,Q.prototype.removeEventListener=function(u,g,w,S){xe(this,u,g,w,S)};function ee(u,g){var w,S=u.F;if(S)for(w=[];S;S=S.F)w.push(S);if(u=u.M,S=g.type||g,typeof g=="string")g=new pe(g,u);else if(g instanceof pe)g.target=g.target||u;else{var q=g;g=new pe(S,u),O(g,q)}if(q=!0,w)for(var K=w.length-1;0<=K;K--){var se=g.g=w[K];q=he(se,S,!0,g)&&q}if(se=g.g=u,q=he(se,S,!0,g)&&q,q=he(se,S,!1,g)&&q,w)for(K=0;K<w.length;K++)se=g.g=w[K],q=he(se,S,!1,g)&&q}Q.prototype.N=function(){if(Q.aa.N.call(this),this.i){var u=this.i,g;for(g in u.g){for(var w=u.g[g],S=0;S<w.length;S++)Es(w[S]);delete u.g[g],u.h--}}this.F=null},Q.prototype.K=function(u,g,w,S){return this.i.add(String(u),g,!1,w,S)},Q.prototype.L=function(u,g,w,S){return this.i.add(String(u),g,!0,w,S)};function he(u,g,w,S){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();for(var q=!0,K=0;K<g.length;++K){var se=g[K];if(se&&!se.da&&se.capture==w){var Ue=se.listener,St=se.ha||se.src;se.fa&&cn(u.i,se),q=Ue.call(St,S)!==!1&&q}}return q&&!S.defaultPrevented}function ve(u,g,w){if(typeof u=="function")w&&(u=m(u,w));else if(u&&typeof u.handleEvent=="function")u=m(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:l.setTimeout(u,g||0)}function je(u){u.g=ve(()=>{u.g=null,u.i&&(u.i=!1,je(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class Le extends ie{constructor(g,w){super(),this.m=g,this.l=w,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:je(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Cs(u){ie.call(this),this.h=u,this.g={}}_(Cs,ie);var yo=[];function rt(u){L(u.g,function(g,w){this.g.hasOwnProperty(w)&&bt(g)},u),u.g={}}Cs.prototype.N=function(){Cs.aa.N.call(this),rt(this)},Cs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $s=l.JSON.stringify,VC=l.JSON.parse,LC=class{stringify(u){return l.JSON.stringify(u,void 0)}parse(u){return l.JSON.parse(u,void 0)}};function Hh(){}Hh.prototype.h=null;function V0(u){return u.h||(u.h=u.i())}function L0(){}var vo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Wh(){pe.call(this,"d")}_(Wh,pe);function Gh(){pe.call(this,"c")}_(Gh,pe);var ui={},F0=null;function Tc(){return F0=F0||new Q}ui.La="serverreachability";function U0(u){pe.call(this,ui.La,u)}_(U0,pe);function bo(u){const g=Tc();ee(g,new U0(g))}ui.STAT_EVENT="statevent";function B0(u,g){pe.call(this,ui.STAT_EVENT,u),this.stat=g}_(B0,pe);function Qt(u){const g=Tc();ee(g,new B0(g,u))}ui.Ma="timingevent";function $0(u,g){pe.call(this,ui.Ma,u),this.size=g}_($0,pe);function wo(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){u()},g)}function No(){this.g=!0}No.prototype.xa=function(){this.g=!1};function FC(u,g,w,S,q,K){u.info(function(){if(u.g)if(K)for(var se="",Ue=K.split("&"),St=0;St<Ue.length;St++){var Re=Ue[St].split("=");if(1<Re.length){var Lt=Re[0];Re=Re[1];var Ft=Lt.split("_");se=2<=Ft.length&&Ft[1]=="type"?se+(Lt+"="+Re+"&"):se+(Lt+"=redacted&")}}else se=null;else se=K;return"XMLHTTP REQ ("+S+") [attempt "+q+"]: "+g+`
`+w+`
`+se})}function UC(u,g,w,S,q,K,se){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+q+"]: "+g+`
`+w+`
`+K+" "+se})}function sa(u,g,w,S){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+$C(u,w)+(S?" "+S:"")})}function BC(u,g){u.info(function(){return"TIMEOUT: "+g})}No.prototype.info=function(){};function $C(u,g){if(!u.g)return g;if(!g)return null;try{var w=JSON.parse(g);if(w){for(u=0;u<w.length;u++)if(Array.isArray(w[u])){var S=w[u];if(!(2>S.length)){var q=S[1];if(Array.isArray(q)&&!(1>q.length)){var K=q[0];if(K!="noop"&&K!="stop"&&K!="close")for(var se=1;se<q.length;se++)q[se]=""}}}}return $s(w)}catch{return g}}var Cc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},z0={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Kh;function Sc(){}_(Sc,Hh),Sc.prototype.g=function(){return new XMLHttpRequest},Sc.prototype.i=function(){return{}},Kh=new Sc;function un(u,g,w,S){this.j=u,this.i=g,this.l=w,this.R=S||1,this.U=new Cs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new q0}function q0(){this.i=null,this.g="",this.h=!1}var H0={},Qh={};function Yh(u,g,w){u.L=1,u.v=Ac(kr(g)),u.m=w,u.P=!0,W0(u,null)}function W0(u,g){u.F=Date.now(),Pc(u),u.A=kr(u.v);var w=u.A,S=u.R;Array.isArray(S)||(S=[String(S)]),ay(w.i,"t",S),u.C=0,w=u.j.J,u.h=new q0,u.g=_y(u.j,w?g:null,!u.m),0<u.O&&(u.M=new Le(m(u.Y,u,u.g),u.O)),g=u.U,w=u.g,S=u.ca;var q="readystatechange";Array.isArray(q)||(q&&(yo[0]=q.toString()),q=yo);for(var K=0;K<q.length;K++){var se=X(w,q[K],S||g.handleEvent,!1,g.h||g);if(!se)break;g.g[se.key]=se}g=u.H?j(u.H):{},u.m?(u.u||(u.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,g)):(u.u="GET",u.g.ea(u.A,u.u,null,g)),bo(),FC(u.i,u.u,u.A,u.l,u.R,u.m)}un.prototype.ca=function(u){u=u.target;const g=this.M;g&&Ir(u)==3?g.j():this.Y(u)},un.prototype.Y=function(u){try{if(u==this.g)e:{const Ft=Ir(this.g);var g=this.g.Ba();const ia=this.g.Z();if(!(3>Ft)&&(Ft!=3||this.g&&(this.h.h||this.g.oa()||my(this.g)))){this.J||Ft!=4||g==7||(g==8||0>=ia?bo(3):bo(2)),Xh(this);var w=this.g.Z();this.X=w;t:if(G0(this)){var S=my(this.g);u="";var q=S.length,K=Ir(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){di(this),jo(this);var se="";break t}this.h.i=new l.TextDecoder}for(g=0;g<q;g++)this.h.h=!0,u+=this.h.i.decode(S[g],{stream:!(K&&g==q-1)});S.length=0,this.h.g+=u,this.C=0,se=this.h.g}else se=this.g.oa();if(this.o=w==200,UC(this.i,this.u,this.A,this.l,this.R,Ft,w),this.o){if(this.T&&!this.K){t:{if(this.g){var Ue,St=this.g;if((Ue=St.g?St.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(Ue)){var Re=Ue;break t}}Re=null}if(w=Re)sa(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Jh(this,w);else{this.o=!1,this.s=3,Qt(12),di(this),jo(this);break e}}if(this.P){w=!0;let zs;for(;!this.J&&this.C<se.length;)if(zs=zC(this,se),zs==Qh){Ft==4&&(this.s=4,Qt(14),w=!1),sa(this.i,this.l,null,"[Incomplete Response]");break}else if(zs==H0){this.s=4,Qt(15),sa(this.i,this.l,se,"[Invalid Chunk]"),w=!1;break}else sa(this.i,this.l,zs,null),Jh(this,zs);if(G0(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ft!=4||se.length!=0||this.h.h||(this.s=1,Qt(16),w=!1),this.o=this.o&&w,!w)sa(this.i,this.l,se,"[Invalid Chunked Response]"),di(this),jo(this);else if(0<se.length&&!this.W){this.W=!0;var Lt=this.j;Lt.g==this&&Lt.ba&&!Lt.M&&(Lt.j.info("Great, no buffering proxy detected. Bytes received: "+se.length),nm(Lt),Lt.M=!0,Qt(11))}}else sa(this.i,this.l,se,null),Jh(this,se);Ft==4&&di(this),this.o&&!this.J&&(Ft==4?by(this.j,this):(this.o=!1,Pc(this)))}else aS(this.g),w==400&&0<se.indexOf("Unknown SID")?(this.s=3,Qt(12)):(this.s=0,Qt(13)),di(this),jo(this)}}}catch{}finally{}};function G0(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function zC(u,g){var w=u.C,S=g.indexOf(`
`,w);return S==-1?Qh:(w=Number(g.substring(w,S)),isNaN(w)?H0:(S+=1,S+w>g.length?Qh:(g=g.slice(S,S+w),u.C=S+w,g)))}un.prototype.cancel=function(){this.J=!0,di(this)};function Pc(u){u.S=Date.now()+u.I,K0(u,u.I)}function K0(u,g){if(u.B!=null)throw Error("WatchDog timer not null");u.B=wo(m(u.ba,u),g)}function Xh(u){u.B&&(l.clearTimeout(u.B),u.B=null)}un.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(BC(this.i,this.A),this.L!=2&&(bo(),Qt(17)),di(this),this.s=2,jo(this)):K0(this,this.S-u)};function jo(u){u.j.G==0||u.J||by(u.j,u)}function di(u){Xh(u);var g=u.M;g&&typeof g.ma=="function"&&g.ma(),u.M=null,rt(u.U),u.g&&(g=u.g,u.g=null,g.abort(),g.ma())}function Jh(u,g){try{var w=u.j;if(w.G!=0&&(w.g==u||Zh(w.h,u))){if(!u.K&&Zh(w.h,u)&&w.G==3){try{var S=w.Da.g.parse(g)}catch{S=null}if(Array.isArray(S)&&S.length==3){var q=S;if(q[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<u.F)Lc(w),Oc(w);else break e;rm(w),Qt(18)}}else w.za=q[1],0<w.za-w.T&&37500>q[2]&&w.F&&w.v==0&&!w.C&&(w.C=wo(m(w.Za,w),6e3));if(1>=X0(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else mi(w,11)}else if((u.K||w.g==u)&&Lc(w),!v(g))for(q=w.Da.g.parse(g),g=0;g<q.length;g++){let Re=q[g];if(w.T=Re[0],Re=Re[1],w.G==2)if(Re[0]=="c"){w.K=Re[1],w.ia=Re[2];const Lt=Re[3];Lt!=null&&(w.la=Lt,w.j.info("VER="+w.la));const Ft=Re[4];Ft!=null&&(w.Aa=Ft,w.j.info("SVER="+w.Aa));const ia=Re[5];ia!=null&&typeof ia=="number"&&0<ia&&(S=1.5*ia,w.L=S,w.j.info("backChannelRequestTimeoutMs_="+S)),S=w;const zs=u.g;if(zs){const Uc=zs.g?zs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Uc){var K=S.h;K.g||Uc.indexOf("spdy")==-1&&Uc.indexOf("quic")==-1&&Uc.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(em(K,K.h),K.h=null))}if(S.D){const im=zs.g?zs.g.getResponseHeader("X-HTTP-Session-Id"):null;im&&(S.ya=im,He(S.I,S.D,im))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-u.F,w.j.info("Handshake RTT: "+w.R+"ms")),S=w;var se=u;if(S.qa=jy(S,S.J?S.ia:null,S.W),se.K){J0(S.h,se);var Ue=se,St=S.L;St&&(Ue.I=St),Ue.B&&(Xh(Ue),Pc(Ue)),S.g=se}else yy(S);0<w.i.length&&Vc(w)}else Re[0]!="stop"&&Re[0]!="close"||mi(w,7);else w.G==3&&(Re[0]=="stop"||Re[0]=="close"?Re[0]=="stop"?mi(w,7):sm(w):Re[0]!="noop"&&w.l&&w.l.ta(Re),w.v=0)}}bo(4)}catch{}}var qC=class{constructor(u,g){this.g=u,this.map=g}};function Q0(u){this.l=u||10,l.PerformanceNavigationTiming?(u=l.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Y0(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function X0(u){return u.h?1:u.g?u.g.size:0}function Zh(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function em(u,g){u.g?u.g.add(g):u.h=g}function J0(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}Q0.prototype.cancel=function(){if(this.i=Z0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Z0(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const w of u.g.values())g=g.concat(w.D);return g}return N(u.i)}function HC(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(c(u)){for(var g=[],w=u.length,S=0;S<w;S++)g.push(u[S]);return g}g=[],w=0;for(S in u)g[w++]=u[S];return g}function WC(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(c(u)||typeof u=="string"){var g=[];u=u.length;for(var w=0;w<u;w++)g.push(w);return g}g=[],w=0;for(const S in u)g[w++]=S;return g}}}function ey(u,g){if(u.forEach&&typeof u.forEach=="function")u.forEach(g,void 0);else if(c(u)||typeof u=="string")Array.prototype.forEach.call(u,g,void 0);else for(var w=WC(u),S=HC(u),q=S.length,K=0;K<q;K++)g.call(void 0,S[K],w&&w[K],u)}var ty=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function GC(u,g){if(u){u=u.split("&");for(var w=0;w<u.length;w++){var S=u[w].indexOf("="),q=null;if(0<=S){var K=u[w].substring(0,S);q=u[w].substring(S+1)}else K=u[w];g(K,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function hi(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof hi){this.h=u.h,kc(this,u.j),this.o=u.o,this.g=u.g,Ic(this,u.s),this.l=u.l;var g=u.i,w=new To;w.i=g.i,g.g&&(w.g=new Map(g.g),w.h=g.h),sy(this,w),this.m=u.m}else u&&(g=String(u).match(ty))?(this.h=!1,kc(this,g[1]||"",!0),this.o=_o(g[2]||""),this.g=_o(g[3]||"",!0),Ic(this,g[4]),this.l=_o(g[5]||"",!0),sy(this,g[6]||"",!0),this.m=_o(g[7]||"")):(this.h=!1,this.i=new To(null,this.h))}hi.prototype.toString=function(){var u=[],g=this.j;g&&u.push(Eo(g,ry,!0),":");var w=this.g;return(w||g=="file")&&(u.push("//"),(g=this.o)&&u.push(Eo(g,ry,!0),"@"),u.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&u.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&u.push("/"),u.push(Eo(w,w.charAt(0)=="/"?YC:QC,!0))),(w=this.i.toString())&&u.push("?",w),(w=this.m)&&u.push("#",Eo(w,JC)),u.join("")};function kr(u){return new hi(u)}function kc(u,g,w){u.j=w?_o(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function Ic(u,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);u.s=g}else u.s=null}function sy(u,g,w){g instanceof To?(u.i=g,ZC(u.i,u.h)):(w||(g=Eo(g,XC)),u.i=new To(g,u.h))}function He(u,g,w){u.i.set(g,w)}function Ac(u){return He(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function _o(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Eo(u,g,w){return typeof u=="string"?(u=encodeURI(u).replace(g,KC),w&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function KC(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ry=/[#\/\?@]/g,QC=/[#\?:]/g,YC=/[#\?]/g,XC=/[#\?@]/g,JC=/#/g;function To(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function dn(u){u.g||(u.g=new Map,u.h=0,u.i&&GC(u.i,function(g,w){u.add(decodeURIComponent(g.replace(/\+/g," ")),w)}))}t=To.prototype,t.add=function(u,g){dn(this),this.i=null,u=ra(this,u);var w=this.g.get(u);return w||this.g.set(u,w=[]),w.push(g),this.h+=1,this};function ny(u,g){dn(u),g=ra(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function iy(u,g){return dn(u),g=ra(u,g),u.g.has(g)}t.forEach=function(u,g){dn(this),this.g.forEach(function(w,S){w.forEach(function(q){u.call(g,q,S,this)},this)},this)},t.na=function(){dn(this);const u=Array.from(this.g.values()),g=Array.from(this.g.keys()),w=[];for(let S=0;S<g.length;S++){const q=u[S];for(let K=0;K<q.length;K++)w.push(g[S])}return w},t.V=function(u){dn(this);let g=[];if(typeof u=="string")iy(this,u)&&(g=g.concat(this.g.get(ra(this,u))));else{u=Array.from(this.g.values());for(let w=0;w<u.length;w++)g=g.concat(u[w])}return g},t.set=function(u,g){return dn(this),this.i=null,u=ra(this,u),iy(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},t.get=function(u,g){return u?(u=this.V(u),0<u.length?String(u[0]):g):g};function ay(u,g,w){ny(u,g),0<w.length&&(u.i=null,u.g.set(ra(u,g),N(w)),u.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(var w=0;w<g.length;w++){var S=g[w];const K=encodeURIComponent(String(S)),se=this.V(S);for(S=0;S<se.length;S++){var q=K;se[S]!==""&&(q+="="+encodeURIComponent(String(se[S]))),u.push(q)}}return this.i=u.join("&")};function ra(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function ZC(u,g){g&&!u.j&&(dn(u),u.i=null,u.g.forEach(function(w,S){var q=S.toLowerCase();S!=q&&(ny(this,S),ay(this,q,w))},u)),u.j=g}function eS(u,g){const w=new No;if(l.Image){const S=new Image;S.onload=p(hn,w,"TestLoadImage: loaded",!0,g,S),S.onerror=p(hn,w,"TestLoadImage: error",!1,g,S),S.onabort=p(hn,w,"TestLoadImage: abort",!1,g,S),S.ontimeout=p(hn,w,"TestLoadImage: timeout",!1,g,S),l.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else g(!1)}function tS(u,g){const w=new No,S=new AbortController,q=setTimeout(()=>{S.abort(),hn(w,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:S.signal}).then(K=>{clearTimeout(q),K.ok?hn(w,"TestPingServer: ok",!0,g):hn(w,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(q),hn(w,"TestPingServer: error",!1,g)})}function hn(u,g,w,S,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),S(w)}catch{}}function sS(){this.g=new LC}function rS(u,g,w){const S=w||"";try{ey(u,function(q,K){let se=q;d(q)&&(se=$s(q)),g.push(S+K+"="+encodeURIComponent(se))})}catch(q){throw g.push(S+"type="+encodeURIComponent("_badmap")),q}}function Rc(u){this.l=u.Ub||null,this.j=u.eb||!1}_(Rc,Hh),Rc.prototype.g=function(){return new Dc(this.l,this.j)},Rc.prototype.i=function(u){return function(){return u}}({});function Dc(u,g){Q.call(this),this.D=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(Dc,Q),t=Dc.prototype,t.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=g,this.readyState=1,So(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(g.body=u),(this.D||l).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Co(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,So(this)),this.g&&(this.readyState=3,So(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;oy(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function oy(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?Co(this):So(this),this.readyState==3&&oy(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,Co(this))},t.Qa=function(u){this.g&&(this.response=u,Co(this))},t.ga=function(){this.g&&Co(this)};function Co(u){u.readyState=4,u.l=null,u.j=null,u.v=null,So(u)}t.setRequestHeader=function(u,g){this.u.append(u,g)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var w=g.next();!w.done;)w=w.value,u.push(w[0]+": "+w[1]),w=g.next();return u.join(`\r
`)};function So(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Dc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function ly(u){let g="";return L(u,function(w,S){g+=S,g+=":",g+=w,g+=`\r
`}),g}function tm(u,g,w){e:{for(S in w){var S=!1;break e}S=!0}S||(w=ly(w),typeof u=="string"?w!=null&&encodeURIComponent(String(w)):He(u,g,w))}function nt(u){Q.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(nt,Q);var nS=/^https?$/i,iS=["POST","PUT"];t=nt.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,g,w,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Kh.g(),this.v=this.o?V0(this.o):V0(Kh),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(K){cy(this,K);return}if(u=w||"",w=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var q in S)w.set(q,S[q]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const K of S.keys())w.set(K,S.get(K));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(w.keys()).find(K=>K.toLowerCase()=="content-type"),q=l.FormData&&u instanceof l.FormData,!(0<=Array.prototype.indexOf.call(iS,g,void 0))||S||q||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,se]of w)this.g.setRequestHeader(K,se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{hy(this),this.u=!0,this.g.send(u),this.u=!1}catch(K){cy(this,K)}};function cy(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.m=5,uy(u),Mc(u)}function uy(u){u.A||(u.A=!0,ee(u,"complete"),ee(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,ee(this,"complete"),ee(this,"abort"),Mc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Mc(this,!0)),nt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?dy(this):this.bb())},t.bb=function(){dy(this)};function dy(u){if(u.h&&typeof o<"u"&&(!u.v[1]||Ir(u)!=4||u.Z()!=2)){if(u.u&&Ir(u)==4)ve(u.Ea,0,u);else if(ee(u,"readystatechange"),Ir(u)==4){u.h=!1;try{const se=u.Z();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var w;if(!(w=g)){var S;if(S=se===0){var q=String(u.D).match(ty)[1]||null;!q&&l.self&&l.self.location&&(q=l.self.location.protocol.slice(0,-1)),S=!nS.test(q?q.toLowerCase():"")}w=S}if(w)ee(u,"complete"),ee(u,"success");else{u.m=6;try{var K=2<Ir(u)?u.g.statusText:""}catch{K=""}u.l=K+" ["+u.Z()+"]",uy(u)}}finally{Mc(u)}}}}function Mc(u,g){if(u.g){hy(u);const w=u.g,S=u.v[0]?()=>{}:null;u.g=null,u.v=null,g||ee(u,"ready");try{w.onreadystatechange=S}catch{}}}function hy(u){u.I&&(l.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function Ir(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<Ir(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),VC(g)}};function my(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function aS(u){const g={};u=(u.g&&2<=Ir(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(v(u[S]))continue;var w=A(u[S]);const q=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const K=g[q]||[];g[q]=K,K.push(w)}C(g,function(S){return S.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Po(u,g,w){return w&&w.internalChannelParams&&w.internalChannelParams[u]||g}function fy(u){this.Aa=0,this.i=[],this.j=new No,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Po("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Po("baseRetryDelayMs",5e3,u),this.cb=Po("retryDelaySeedMs",1e4,u),this.Wa=Po("forwardChannelMaxRetries",2,u),this.wa=Po("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Q0(u&&u.concurrentRequestLimit),this.Da=new sS,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=fy.prototype,t.la=8,t.G=1,t.connect=function(u,g,w,S){Qt(0),this.W=u,this.H=g||{},w&&S!==void 0&&(this.H.OSID=w,this.H.OAID=S),this.F=this.X,this.I=jy(this,null,this.W),Vc(this)};function sm(u){if(py(u),u.G==3){var g=u.U++,w=kr(u.I);if(He(w,"SID",u.K),He(w,"RID",g),He(w,"TYPE","terminate"),ko(u,w),g=new un(u,u.j,g),g.L=2,g.v=Ac(kr(w)),w=!1,l.navigator&&l.navigator.sendBeacon)try{w=l.navigator.sendBeacon(g.v.toString(),"")}catch{}!w&&l.Image&&(new Image().src=g.v,w=!0),w||(g.g=_y(g.j,null),g.g.ea(g.v)),g.F=Date.now(),Pc(g)}Ny(u)}function Oc(u){u.g&&(nm(u),u.g.cancel(),u.g=null)}function py(u){Oc(u),u.u&&(l.clearTimeout(u.u),u.u=null),Lc(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&l.clearTimeout(u.s),u.s=null)}function Vc(u){if(!Y0(u.h)&&!u.s){u.s=!0;var g=u.Ga;$||G(),H||($(),H=!0),W.add(g,u),u.B=0}}function oS(u,g){return X0(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=g.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=wo(m(u.Ga,u,g),wy(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const q=new un(this,this.j,u);let K=this.o;if(this.S&&(K?(K=j(K),O(K,this.S)):K=this.S),this.m!==null||this.O||(q.H=K,K=null),this.P)e:{for(var g=0,w=0;w<this.i.length;w++){t:{var S=this.i[w];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(g+=S,4096<g){g=w;break e}if(g===4096||w===this.i.length-1){g=w+1;break e}}g=1e3}else g=1e3;g=xy(this,q,g),w=kr(this.I),He(w,"RID",u),He(w,"CVER",22),this.D&&He(w,"X-HTTP-Session-Id",this.D),ko(this,w),K&&(this.O?g="headers="+encodeURIComponent(String(ly(K)))+"&"+g:this.m&&tm(w,this.m,K)),em(this.h,q),this.Ua&&He(w,"TYPE","init"),this.P?(He(w,"$req",g),He(w,"SID","null"),q.T=!0,Yh(q,w,null)):Yh(q,w,g),this.G=2}}else this.G==3&&(u?gy(this,u):this.i.length==0||Y0(this.h)||gy(this))};function gy(u,g){var w;g?w=g.l:w=u.U++;const S=kr(u.I);He(S,"SID",u.K),He(S,"RID",w),He(S,"AID",u.T),ko(u,S),u.m&&u.o&&tm(S,u.m,u.o),w=new un(u,u.j,w,u.B+1),u.m===null&&(w.H=u.o),g&&(u.i=g.D.concat(u.i)),g=xy(u,w,1e3),w.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),em(u.h,w),Yh(w,S,g)}function ko(u,g){u.H&&L(u.H,function(w,S){He(g,S,w)}),u.l&&ey({},function(w,S){He(g,S,w)})}function xy(u,g,w){w=Math.min(u.i.length,w);var S=u.l?m(u.l.Na,u.l,u):null;e:{var q=u.i;let K=-1;for(;;){const se=["count="+w];K==-1?0<w?(K=q[0].g,se.push("ofs="+K)):K=0:se.push("ofs="+K);let Ue=!0;for(let St=0;St<w;St++){let Re=q[St].g;const Lt=q[St].map;if(Re-=K,0>Re)K=Math.max(0,q[St].g-100),Ue=!1;else try{rS(Lt,se,"req"+Re+"_")}catch{S&&S(Lt)}}if(Ue){S=se.join("&");break e}}}return u=u.i.splice(0,w),g.D=u,S}function yy(u){if(!u.g&&!u.u){u.Y=1;var g=u.Fa;$||G(),H||($(),H=!0),W.add(g,u),u.v=0}}function rm(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=wo(m(u.Fa,u),wy(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,vy(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=wo(m(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Qt(10),Oc(this),vy(this))};function nm(u){u.A!=null&&(l.clearTimeout(u.A),u.A=null)}function vy(u){u.g=new un(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var g=kr(u.qa);He(g,"RID","rpc"),He(g,"SID",u.K),He(g,"AID",u.T),He(g,"CI",u.F?"0":"1"),!u.F&&u.ja&&He(g,"TO",u.ja),He(g,"TYPE","xmlhttp"),ko(u,g),u.m&&u.o&&tm(g,u.m,u.o),u.L&&(u.g.I=u.L);var w=u.g;u=u.ia,w.L=1,w.v=Ac(kr(g)),w.m=null,w.P=!0,W0(w,u)}t.Za=function(){this.C!=null&&(this.C=null,Oc(this),rm(this),Qt(19))};function Lc(u){u.C!=null&&(l.clearTimeout(u.C),u.C=null)}function by(u,g){var w=null;if(u.g==g){Lc(u),nm(u),u.g=null;var S=2}else if(Zh(u.h,g))w=g.D,J0(u.h,g),S=1;else return;if(u.G!=0){if(g.o)if(S==1){w=g.m?g.m.length:0,g=Date.now()-g.F;var q=u.B;S=Tc(),ee(S,new $0(S,w)),Vc(u)}else yy(u);else if(q=g.s,q==3||q==0&&0<g.X||!(S==1&&oS(u,g)||S==2&&rm(u)))switch(w&&0<w.length&&(g=u.h,g.i=g.i.concat(w)),q){case 1:mi(u,5);break;case 4:mi(u,10);break;case 3:mi(u,6);break;default:mi(u,2)}}}function wy(u,g){let w=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(w*=2),w*g}function mi(u,g){if(u.j.info("Error code "+g),g==2){var w=m(u.fb,u),S=u.Xa;const q=!S;S=new hi(S||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||kc(S,"https"),Ac(S),q?eS(S.toString(),w):tS(S.toString(),w)}else Qt(2);u.G=0,u.l&&u.l.sa(g),Ny(u),py(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Qt(2)):(this.j.info("Failed to ping google.com"),Qt(1))};function Ny(u){if(u.G=0,u.ka=[],u.l){const g=Z0(u.h);(g.length!=0||u.i.length!=0)&&(y(u.ka,g),y(u.ka,u.i),u.h.i.length=0,N(u.i),u.i.length=0),u.l.ra()}}function jy(u,g,w){var S=w instanceof hi?kr(w):new hi(w);if(S.g!="")g&&(S.g=g+"."+S.g),Ic(S,S.s);else{var q=l.location;S=q.protocol,g=g?g+"."+q.hostname:q.hostname,q=+q.port;var K=new hi(null);S&&kc(K,S),g&&(K.g=g),q&&Ic(K,q),w&&(K.l=w),S=K}return w=u.D,g=u.ya,w&&g&&He(S,w,g),He(S,"VER",u.la),ko(u,S),S}function _y(u,g,w){if(g&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Ca&&!u.pa?new nt(new Rc({eb:w})):new nt(u.pa),g.Ha(u.J),g}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ey(){}t=Ey.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Fc(){}Fc.prototype.g=function(u,g){return new fs(u,g)};function fs(u,g){Q.call(this),this.g=new fy(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(u?u["X-WebChannel-Client-Profile"]=g.va:u={"X-WebChannel-Client-Profile":g.va}),this.g.S=u,(u=g&&g.Sb)&&!v(u)&&(this.g.m=u),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!v(g)&&(this.g.D=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new na(this)}_(fs,Q),fs.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},fs.prototype.close=function(){sm(this.g)},fs.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var w={};w.__data__=u,u=w}else this.u&&(w={},w.__data__=$s(u),u=w);g.i.push(new qC(g.Ya++,u)),g.G==3&&Vc(g)},fs.prototype.N=function(){this.g.l=null,delete this.j,sm(this.g),delete this.g,fs.aa.N.call(this)};function Ty(u){Wh.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){e:{for(const w in g){u=w;break e}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}_(Ty,Wh);function Cy(){Gh.call(this),this.status=1}_(Cy,Gh);function na(u){this.g=u}_(na,Ey),na.prototype.ua=function(){ee(this.g,"a")},na.prototype.ta=function(u){ee(this.g,new Ty(u))},na.prototype.sa=function(u){ee(this.g,new Cy)},na.prototype.ra=function(){ee(this.g,"b")},Fc.prototype.createWebChannel=Fc.prototype.g,fs.prototype.send=fs.prototype.o,fs.prototype.open=fs.prototype.m,fs.prototype.close=fs.prototype.close,x_=function(){return new Fc},g_=function(){return Tc()},p_=ui,gp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Cc.NO_ERROR=0,Cc.TIMEOUT=8,Cc.HTTP_ERROR=6,Lu=Cc,z0.COMPLETE="complete",f_=z0,L0.EventType=vo,vo.OPEN="a",vo.CLOSE="b",vo.ERROR="c",vo.MESSAGE="d",Q.prototype.listen=Q.prototype.K,Wo=L0,nt.prototype.listenOnce=nt.prototype.L,nt.prototype.getLastError=nt.prototype.Ka,nt.prototype.getLastErrorCode=nt.prototype.Ba,nt.prototype.getStatus=nt.prototype.Z,nt.prototype.getResponseJson=nt.prototype.Oa,nt.prototype.getResponseText=nt.prototype.oa,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Ha,m_=nt}).apply(typeof ou<"u"?ou:typeof self<"u"?self:typeof window<"u"?window:{});const yb="@firebase/firestore",vb="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};zt.UNAUTHENTICATED=new zt(null),zt.GOOGLE_CREDENTIALS=new zt("google-credentials-uid"),zt.FIRST_PARTY=new zt("first-party-uid"),zt.MOCK_USER=new zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let co="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i=new lx("@firebase/firestore");function oa(){return $i.logLevel}function ue(t,...e){if($i.logLevel<=Se.DEBUG){const s=e.map(bx);$i.debug(`Firestore (${co}): ${t}`,...s)}}function tn(t,...e){if($i.logLevel<=Se.ERROR){const s=e.map(bx);$i.error(`Firestore (${co}): ${t}`,...s)}}function Ga(t,...e){if($i.logLevel<=Se.WARN){const s=e.map(bx);$i.warn(`Firestore (${co}): ${t}`,...s)}}function bx(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(s){return JSON.stringify(s)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ge(t,e,s){let r="Unexpected state";typeof e=="string"?r=e:s=e,y_(t,r,s)}function y_(t,e,s){let r=`FIRESTORE (${co}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(s!==void 0)try{r+=" CONTEXT: "+JSON.stringify(s)}catch{r+=" CONTEXT: "+s}throw tn(r),new Error(r)}function Ve(t,e,s,r){let i="Unexpected state";typeof s=="string"?i=s:r=s,t||y_(e,i,r)}function Ne(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends Er{constructor(e,s){super(e,s),this.code=e,this.message=s,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(){this.promise=new Promise((e,s)=>{this.resolve=e,this.reject=s})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{constructor(e,s){this.user=s,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class S6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,s){e.enqueueRetryable(()=>s(zt.UNAUTHENTICATED))}shutdown(){}}class P6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,s){this.changeListener=s,e.enqueueRetryable(()=>s(this.token.user))}shutdown(){this.changeListener=null}}class k6{constructor(e){this.t=e,this.currentUser=zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,s){Ve(this.o===void 0,42304);let r=this.i;const i=c=>this.i!==r?(r=this.i,s(c)):Promise.resolve();let a=new zr;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new zr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const c=a;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},l=c=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new zr)}},0),o()}getToken(){const e=this.i,s=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(s).then(r=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ve(typeof r.accessToken=="string",31837,{l:r}),new v_(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ve(e===null||typeof e=="string",2055,{h:e}),new zt(e)}}class I6{constructor(e,s,r){this.P=e,this.T=s,this.I=r,this.type="FirstParty",this.user=zt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class A6{constructor(e,s,r){this.P=e,this.T=s,this.I=r}getToken(){return Promise.resolve(new I6(this.P,this.T,this.I))}start(e,s){e.enqueueRetryable(()=>s(zt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class bb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class R6{constructor(e,s){this.V=s,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Qs(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,s){Ve(this.o===void 0,3512);const r=a=>{a.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.m;return this.m=a.token,ue("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?s(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new bb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(s=>s?(Ve(typeof s.token=="string",44558,{tokenResult:s}),this.m=s.token,new bb(s.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D6(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),s=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(s);else for(let r=0;r<t;r++)s[r]=Math.floor(256*Math.random());return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=D6(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<s&&(r+=e.charAt(i[a]%62))}return r}}function Pe(t,e){return t<e?-1:t>e?1:0}function xp(t,e){const s=Math.min(t.length,e.length);for(let r=0;r<s;r++){const i=t.charAt(r),a=e.charAt(r);if(i!==a)return $m(i)===$m(a)?Pe(i,a):$m(i)?1:-1}return Pe(t.length,e.length)}const M6=55296,O6=57343;function $m(t){const e=t.charCodeAt(0);return e>=M6&&e<=O6}function Ka(t,e,s){return t.length===e.length&&t.every((r,i)=>s(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wb="__name__";class ar{constructor(e,s,r){s===void 0?s=0:s>e.length&&ge(637,{offset:s,range:e.length}),r===void 0?r=e.length-s:r>e.length-s&&ge(1746,{length:r,range:e.length-s}),this.segments=e,this.offset=s,this.len=r}get length(){return this.len}isEqual(e){return ar.comparator(this,e)===0}child(e){const s=this.segments.slice(this.offset,this.limit());return e instanceof ar?e.forEach(r=>{s.push(r)}):s.push(e),this.construct(s)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==e.get(s))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==e.get(s))return!1;return!0}forEach(e){for(let s=this.offset,r=this.limit();s<r;s++)e(this.segments[s])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,s){const r=Math.min(e.length,s.length);for(let i=0;i<r;i++){const a=ar.compareSegments(e.get(i),s.get(i));if(a!==0)return a}return Pe(e.length,s.length)}static compareSegments(e,s){const r=ar.isNumericId(e),i=ar.isNumericId(s);return r&&!i?-1:!r&&i?1:r&&i?ar.extractNumericId(e).compare(ar.extractNumericId(s)):xp(e,s)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Bn.fromString(e.substring(4,e.length-2))}}class $e extends ar{construct(e,s,r){return new $e(e,s,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const s=[];for(const r of e){if(r.indexOf("//")>=0)throw new le(Y.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);s.push(...r.split("/").filter(i=>i.length>0))}return new $e(s)}static emptyPath(){return new $e([])}}const V6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Rt extends ar{construct(e,s,r){return new Rt(e,s,r)}static isValidIdentifier(e){return V6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Rt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===wb}static keyField(){return new Rt([wb])}static fromServerFormat(e){const s=[];let r="",i=0;const a=()=>{if(r.length===0)throw new le(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);s.push(r),r=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new le(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new le(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(r+=l,i++):(a(),i++)}if(a(),o)throw new le(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Rt(s)}static emptyPath(){return new Rt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.path=e}static fromPath(e){return new fe($e.fromString(e))}static fromName(e){return new fe($e.fromString(e).popFirst(5))}static empty(){return new fe($e.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&$e.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,s){return $e.comparator(e.path,s.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new fe(new $e(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b_(t,e,s){if(!s)throw new le(Y.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function L6(t,e,s,r){if(e===!0&&r===!0)throw new le(Y.INVALID_ARGUMENT,`${t} and ${s} cannot be used together.`)}function Nb(t){if(!fe.isDocumentKey(t))throw new le(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function jb(t){if(fe.isDocumentKey(t))throw new le(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function w_(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Nh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ge(12329,{type:typeof t})}function ms(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new le(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const s=Nh(t);throw new le(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${s}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(t,e){const s={typeString:t};return e&&(s.value=e),s}function mc(t,e){if(!w_(t))throw new le(Y.INVALID_ARGUMENT,"JSON must be an object");let s;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){s=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){s=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&o!==a.value){s=`Expected '${r}' field to equal '${a.value}'`;break}}if(s)throw new le(Y.INVALID_ARGUMENT,s);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b=-62135596800,Eb=1e6;class Ge{static now(){return Ge.fromMillis(Date.now())}static fromDate(e){return Ge.fromMillis(e.getTime())}static fromMillis(e){const s=Math.floor(e/1e3),r=Math.floor((e-1e3*s)*Eb);return new Ge(s,r)}constructor(e,s){if(this.seconds=e,this.nanoseconds=s,s<0)throw new le(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(s>=1e9)throw new le(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(e<_b)throw new le(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Eb}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ge._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(mc(e,Ge._jsonSchema))return new Ge(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-_b;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ge._jsonSchemaVersion="firestore/timestamp/1.0",Ge._jsonSchema={type:yt("string",Ge._jsonSchemaVersion),seconds:yt("number"),nanoseconds:yt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new Ge(0,0))}static max(){return new we(new Ge(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ul=-1;function F6(t,e){const s=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=we.fromTimestamp(r===1e9?new Ge(s+1,0):new Ge(s,r));return new Wn(i,fe.empty(),e)}function U6(t){return new Wn(t.readTime,t.key,Ul)}class Wn{constructor(e,s,r){this.readTime=e,this.documentKey=s,this.largestBatchId=r}static min(){return new Wn(we.min(),fe.empty(),Ul)}static max(){return new Wn(we.max(),fe.empty(),Ul)}}function B6(t,e){let s=t.readTime.compareTo(e.readTime);return s!==0?s:(s=fe.comparator(t.documentKey,e.documentKey),s!==0?s:Pe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class z6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uo(t){if(t.code!==Y.FAILED_PRECONDITION||t.message!==$6)throw t;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(s=>{this.isDone=!0,this.result=s,this.nextCallback&&this.nextCallback(s)},s=>{this.isDone=!0,this.error=s,this.catchCallback&&this.catchCallback(s)})}catch(e){return this.next(void 0,e)}next(e,s){return this.callbackAttached&&ge(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(s,this.error):this.wrapSuccess(e,this.result):new J((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(s,a).next(r,i)}})}toPromise(){return new Promise((e,s)=>{this.next(e,s)})}wrapUserFunction(e){try{const s=e();return s instanceof J?s:J.resolve(s)}catch(s){return J.reject(s)}}wrapSuccess(e,s){return e?this.wrapUserFunction(()=>e(s)):J.resolve(s)}wrapFailure(e,s){return e?this.wrapUserFunction(()=>e(s)):J.reject(s)}static resolve(e){return new J((s,r)=>{s(e)})}static reject(e){return new J((s,r)=>{r(e)})}static waitFor(e){return new J((s,r)=>{let i=0,a=0,o=!1;e.forEach(l=>{++i,l.next(()=>{++a,o&&a===i&&s()},c=>r(c))}),o=!0,a===i&&s()})}static or(e){let s=J.resolve(!1);for(const r of e)s=s.next(i=>i?J.resolve(i):r());return s}static forEach(e,s){const r=[];return e.forEach((i,a)=>{r.push(s.call(this,i,a))}),this.waitFor(r)}static mapArray(e,s){return new J((r,i)=>{const a=e.length,o=new Array(a);let l=0;for(let c=0;c<a;c++){const d=c;s(e[d]).next(h=>{o[d]=h,++l,l===a&&r(o)},h=>i(h))}})}static doWhile(e,s){return new J((r,i)=>{const a=()=>{e()===!0?s().next(()=>{a()},i):r()};a()})}}function q6(t){const e=t.match(/Android ([\d.]+)/i),s=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(s)}function ho(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e,s){this.previousValue=e,s&&(s.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>s.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}jh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nx=-1;function _h(t){return t==null}function Sd(t){return t===0&&1/t==-1/0}function H6(t){return typeof t=="number"&&Number.isInteger(t)&&!Sd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N_="";function W6(t){let e="";for(let s=0;s<t.length;s++)e.length>0&&(e=Tb(e)),e=G6(t.get(s),e);return Tb(e)}function G6(t,e){let s=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":s+="";break;case N_:s+="";break;default:s+=a}}return s}function Tb(t){return t+N_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cb(t){let e=0;for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&e++;return e}function oi(t,e){for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&e(s,t[s])}function j_(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e,s){this.comparator=e,this.root=s||It.EMPTY}insert(e,s){return new st(this.comparator,this.root.insert(e,s,this.comparator).copy(null,null,It.BLACK,null,null))}remove(e){return new st(this.comparator,this.root.remove(e,this.comparator).copy(null,null,It.BLACK,null,null))}get(e){let s=this.root;for(;!s.isEmpty();){const r=this.comparator(e,s.key);if(r===0)return s.value;r<0?s=s.left:r>0&&(s=s.right)}return null}indexOf(e){let s=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return s+r.left.size;i<0?r=r.left:(s+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((s,r)=>(e(s,r),!1))}toString(){const e=[];return this.inorderTraversal((s,r)=>(e.push(`${s}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new lu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new lu(this.root,e,this.comparator,!1)}getReverseIterator(){return new lu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new lu(this.root,e,this.comparator,!0)}}class lu{constructor(e,s,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=s?r(e.key,s):1,s&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const s={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return s}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class It{constructor(e,s,r,i,a){this.key=e,this.value=s,this.color=r??It.RED,this.left=i??It.EMPTY,this.right=a??It.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,s,r,i,a){return new It(e??this.key,s??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,s,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,s,r),null):a===0?i.copy(null,s,null,null,null):i.copy(null,null,null,null,i.right.insert(e,s,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return It.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,s){let r,i=this;if(s(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,s),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),s(e,i.key)===0){if(i.right.isEmpty())return It.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,s))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,It.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,It.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),s=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,s)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ge(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ge(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ge(27949);return e+(this.isRed()?0:1)}}It.EMPTY=null,It.RED=!0,It.BLACK=!1;It.EMPTY=new class{constructor(){this.size=0}get key(){throw ge(57766)}get value(){throw ge(16141)}get color(){throw ge(16727)}get left(){throw ge(29726)}get right(){throw ge(36894)}copy(e,s,r,i,a){return this}insert(e,s,r){return new It(e,s)}remove(e,s){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e){this.comparator=e,this.data=new st(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((s,r)=>(e(s),!1))}forEachInRange(e,s){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;s(i.key)}}forEachWhile(e,s){let r;for(r=s!==void 0?this.data.getIteratorFrom(s):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const s=this.data.getIteratorFrom(e);return s.hasNext()?s.getNext().key:null}getIterator(){return new Sb(this.data.getIterator())}getIteratorFrom(e){return new Sb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let s=this;return s.size<e.size&&(s=e,e=this),e.forEach(r=>{s=s.add(r)}),s}isEqual(e){if(!(e instanceof _t)||this.size!==e.size)return!1;const s=this.data.getIterator(),r=e.data.getIterator();for(;s.hasNext();){const i=s.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(s=>{e.push(s)}),e}toString(){const e=[];return this.forEach(s=>e.push(s)),"SortedSet("+e.toString()+")"}copy(e){const s=new _t(this.comparator);return s.data=e,s}}class Sb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e){this.fields=e,e.sort(Rt.comparator)}static empty(){return new vs([])}unionWith(e){let s=new _t(Rt.comparator);for(const r of this.fields)s=s.add(r);for(const r of e)s=s.add(r);return new vs(s.toArray())}covers(e){for(const s of this.fields)if(s.isPrefixOf(e))return!0;return!1}isEqual(e){return Ka(this.fields,e.fields,(s,r)=>s.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.binaryString=e}static fromBase64String(e){const s=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new __("Invalid base64 string: "+a):a}}(e);return new Ot(s)}static fromUint8Array(e){const s=function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a}(e);return new Ot(s)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(s){return btoa(s)}(this.binaryString)}toUint8Array(){return function(s){const r=new Uint8Array(s.length);for(let i=0;i<s.length;i++)r[i]=s.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ot.EMPTY_BYTE_STRING=new Ot("");const K6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gn(t){if(Ve(!!t,39018),typeof t=="string"){let e=0;const s=K6.exec(t);if(Ve(!!s,46558,{timestamp:t}),s[1]){let i=s[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:dt(t.seconds),nanos:dt(t.nanos)}}function dt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Kn(t){return typeof t=="string"?Ot.fromBase64String(t):Ot.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_="server_timestamp",T_="__type__",C_="__previous_value__",S_="__local_write_time__";function jx(t){var s,r;return((r=(((s=t==null?void 0:t.mapValue)==null?void 0:s.fields)||{})[T_])==null?void 0:r.stringValue)===E_}function Eh(t){const e=t.mapValue.fields[C_];return jx(e)?Eh(e):e}function Bl(t){const e=Gn(t.mapValue.fields[S_].timestampValue);return new Ge(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q6{constructor(e,s,r,i,a,o,l,c,d,h){this.databaseId=e,this.appId=s,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=d,this.isUsingEmulator=h}}const Pd="(default)";class $l{constructor(e,s){this.projectId=e,this.database=s||Pd}static empty(){return new $l("","")}get isDefaultDatabase(){return this.database===Pd}isEqual(e){return e instanceof $l&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_="__type__",k_="__max__",cu={mapValue:{fields:{__type__:{stringValue:k_}}}},I_="__vector__",kd="value";function Qn(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?jx(t)?4:X6(t)?9007199254740991:Y6(t)?10:11:ge(28295,{value:t})}function wr(t,e){if(t===e)return!0;const s=Qn(t);if(s!==Qn(e))return!1;switch(s){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Bl(t).isEqual(Bl(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const o=Gn(i.timestampValue),l=Gn(a.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return Kn(i.bytesValue).isEqual(Kn(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return dt(i.geoPointValue.latitude)===dt(a.geoPointValue.latitude)&&dt(i.geoPointValue.longitude)===dt(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return dt(i.integerValue)===dt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const o=dt(i.doubleValue),l=dt(a.doubleValue);return o===l?Sd(o)===Sd(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return Ka(t.arrayValue.values||[],e.arrayValue.values||[],wr);case 10:case 11:return function(i,a){const o=i.mapValue.fields||{},l=a.mapValue.fields||{};if(Cb(o)!==Cb(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!wr(o[c],l[c])))return!1;return!0}(t,e);default:return ge(52216,{left:t})}}function zl(t,e){return(t.values||[]).find(s=>wr(s,e))!==void 0}function Qa(t,e){if(t===e)return 0;const s=Qn(t),r=Qn(e);if(s!==r)return Pe(s,r);switch(s){case 0:case 9007199254740991:return 0;case 1:return Pe(t.booleanValue,e.booleanValue);case 2:return function(a,o){const l=dt(a.integerValue||a.doubleValue),c=dt(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return Pb(t.timestampValue,e.timestampValue);case 4:return Pb(Bl(t),Bl(e));case 5:return xp(t.stringValue,e.stringValue);case 6:return function(a,o){const l=Kn(a),c=Kn(o);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(a,o){const l=a.split("/"),c=o.split("/");for(let d=0;d<l.length&&d<c.length;d++){const h=Pe(l[d],c[d]);if(h!==0)return h}return Pe(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,o){const l=Pe(dt(a.latitude),dt(o.latitude));return l!==0?l:Pe(dt(a.longitude),dt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return kb(t.arrayValue,e.arrayValue);case 10:return function(a,o){var m,p,_,N;const l=a.fields||{},c=o.fields||{},d=(m=l[kd])==null?void 0:m.arrayValue,h=(p=c[kd])==null?void 0:p.arrayValue,f=Pe(((_=d==null?void 0:d.values)==null?void 0:_.length)||0,((N=h==null?void 0:h.values)==null?void 0:N.length)||0);return f!==0?f:kb(d,h)}(t.mapValue,e.mapValue);case 11:return function(a,o){if(a===cu.mapValue&&o===cu.mapValue)return 0;if(a===cu.mapValue)return 1;if(o===cu.mapValue)return-1;const l=a.fields||{},c=Object.keys(l),d=o.fields||{},h=Object.keys(d);c.sort(),h.sort();for(let f=0;f<c.length&&f<h.length;++f){const m=xp(c[f],h[f]);if(m!==0)return m;const p=Qa(l[c[f]],d[h[f]]);if(p!==0)return p}return Pe(c.length,h.length)}(t.mapValue,e.mapValue);default:throw ge(23264,{he:s})}}function Pb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Pe(t,e);const s=Gn(t),r=Gn(e),i=Pe(s.seconds,r.seconds);return i!==0?i:Pe(s.nanos,r.nanos)}function kb(t,e){const s=t.values||[],r=e.values||[];for(let i=0;i<s.length&&i<r.length;++i){const a=Qa(s[i],r[i]);if(a)return a}return Pe(s.length,r.length)}function Ya(t){return yp(t)}function yp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(s){const r=Gn(s);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(s){return Kn(s).toBase64()}(t.bytesValue):"referenceValue"in t?function(s){return fe.fromName(s).toString()}(t.referenceValue):"geoPointValue"in t?function(s){return`geo(${s.latitude},${s.longitude})`}(t.geoPointValue):"arrayValue"in t?function(s){let r="[",i=!0;for(const a of s.values||[])i?i=!1:r+=",",r+=yp(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(s){const r=Object.keys(s.fields||{}).sort();let i="{",a=!0;for(const o of r)a?a=!1:i+=",",i+=`${o}:${yp(s.fields[o])}`;return i+"}"}(t.mapValue):ge(61005,{value:t})}function Fu(t){switch(Qn(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Eh(t);return e?16+Fu(e):16;case 5:return 2*t.stringValue.length;case 6:return Kn(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+Fu(a),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return oi(r.fields,(a,o)=>{i+=a.length+Fu(o)}),i}(t.mapValue);default:throw ge(13486,{value:t})}}function Ib(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function vp(t){return!!t&&"integerValue"in t}function _x(t){return!!t&&"arrayValue"in t}function Ab(t){return!!t&&"nullValue"in t}function Rb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Uu(t){return!!t&&"mapValue"in t}function Y6(t){var s,r;return((r=(((s=t==null?void 0:t.mapValue)==null?void 0:s.fields)||{})[P_])==null?void 0:r.stringValue)===I_}function ul(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return oi(t.mapValue.fields,(s,r)=>e.mapValue.fields[s]=ul(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let s=0;s<(t.arrayValue.values||[]).length;++s)e.arrayValue.values[s]=ul(t.arrayValue.values[s]);return e}return{...t}}function X6(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===k_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e){this.value=e}static empty(){return new is({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let s=this.value;for(let r=0;r<e.length-1;++r)if(s=(s.mapValue.fields||{})[e.get(r)],!Uu(s))return null;return s=(s.mapValue.fields||{})[e.lastSegment()],s||null}}set(e,s){this.getFieldsMap(e.popLast())[e.lastSegment()]=ul(s)}setAll(e){let s=Rt.emptyPath(),r={},i=[];e.forEach((o,l)=>{if(!s.isImmediateParentOf(l)){const c=this.getFieldsMap(s);this.applyChanges(c,r,i),r={},i=[],s=l.popLast()}o?r[l.lastSegment()]=ul(o):i.push(l.lastSegment())});const a=this.getFieldsMap(s);this.applyChanges(a,r,i)}delete(e){const s=this.field(e.popLast());Uu(s)&&s.mapValue.fields&&delete s.mapValue.fields[e.lastSegment()]}isEqual(e){return wr(this.value,e.value)}getFieldsMap(e){let s=this.value;s.mapValue.fields||(s.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=s.mapValue.fields[e.get(r)];Uu(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},s.mapValue.fields[e.get(r)]=i),s=i}return s.mapValue.fields}applyChanges(e,s,r){oi(s,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new is(ul(this.value))}}function A_(t){const e=[];return oi(t.fields,(s,r)=>{const i=new Rt([s]);if(Uu(r)){const a=A_(r.mapValue).fields;if(a.length===0)e.push(i);else for(const o of a)e.push(i.child(o))}else e.push(i)}),new vs(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e,s,r,i,a,o,l){this.key=e,this.documentType=s,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Ht(e,0,we.min(),we.min(),we.min(),is.empty(),0)}static newFoundDocument(e,s,r,i){return new Ht(e,1,s,we.min(),r,i,0)}static newNoDocument(e,s){return new Ht(e,2,s,we.min(),we.min(),is.empty(),0)}static newUnknownDocument(e,s){return new Ht(e,3,s,we.min(),we.min(),is.empty(),2)}convertToFoundDocument(e,s){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=s,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=is.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=is.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ht&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ht(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(e,s){this.position=e,this.inclusive=s}}function Db(t,e,s){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],o=t.position[i];if(a.field.isKeyField()?r=fe.comparator(fe.fromName(o.referenceValue),s.key):r=Qa(o,s.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function Mb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let s=0;s<t.position.length;s++)if(!wr(t.position[s],e.position[s]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e,s="asc"){this.field=e,this.dir=s}}function J6(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let R_=class{};class xt extends R_{constructor(e,s,r){super(),this.field=e,this.op=s,this.value=r}static create(e,s,r){return e.isKeyField()?s==="in"||s==="not-in"?this.createKeyFieldInFilter(e,s,r):new e5(e,s,r):s==="array-contains"?new r5(e,r):s==="in"?new n5(e,r):s==="not-in"?new i5(e,r):s==="array-contains-any"?new a5(e,r):new xt(e,s,r)}static createKeyFieldInFilter(e,s,r){return s==="in"?new t5(e,r):new s5(e,r)}matches(e){const s=e.data.field(this.field);return this.op==="!="?s!==null&&s.nullValue===void 0&&this.matchesComparison(Qa(s,this.value)):s!==null&&Qn(this.value)===Qn(s)&&this.matchesComparison(Qa(s,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ge(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class sr extends R_{constructor(e,s){super(),this.filters=e,this.op=s,this.Pe=null}static create(e,s){return new sr(e,s)}matches(e){return D_(this)?this.filters.find(s=>!s.matches(e))===void 0:this.filters.find(s=>s.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,s)=>e.concat(s.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function D_(t){return t.op==="and"}function M_(t){return Z6(t)&&D_(t)}function Z6(t){for(const e of t.filters)if(e instanceof sr)return!1;return!0}function bp(t){if(t instanceof xt)return t.field.canonicalString()+t.op.toString()+Ya(t.value);if(M_(t))return t.filters.map(e=>bp(e)).join(",");{const e=t.filters.map(s=>bp(s)).join(",");return`${t.op}(${e})`}}function O_(t,e){return t instanceof xt?function(r,i){return i instanceof xt&&r.op===i.op&&r.field.isEqual(i.field)&&wr(r.value,i.value)}(t,e):t instanceof sr?function(r,i){return i instanceof sr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,o,l)=>a&&O_(o,i.filters[l]),!0):!1}(t,e):void ge(19439)}function V_(t){return t instanceof xt?function(s){return`${s.field.canonicalString()} ${s.op} ${Ya(s.value)}`}(t):t instanceof sr?function(s){return s.op.toString()+" {"+s.getFilters().map(V_).join(" ,")+"}"}(t):"Filter"}class e5 extends xt{constructor(e,s,r){super(e,s,r),this.key=fe.fromName(r.referenceValue)}matches(e){const s=fe.comparator(e.key,this.key);return this.matchesComparison(s)}}class t5 extends xt{constructor(e,s){super(e,"in",s),this.keys=L_("in",s)}matches(e){return this.keys.some(s=>s.isEqual(e.key))}}class s5 extends xt{constructor(e,s){super(e,"not-in",s),this.keys=L_("not-in",s)}matches(e){return!this.keys.some(s=>s.isEqual(e.key))}}function L_(t,e){var s;return(((s=e.arrayValue)==null?void 0:s.values)||[]).map(r=>fe.fromName(r.referenceValue))}class r5 extends xt{constructor(e,s){super(e,"array-contains",s)}matches(e){const s=e.data.field(this.field);return _x(s)&&zl(s.arrayValue,this.value)}}class n5 extends xt{constructor(e,s){super(e,"in",s)}matches(e){const s=e.data.field(this.field);return s!==null&&zl(this.value.arrayValue,s)}}class i5 extends xt{constructor(e,s){super(e,"not-in",s)}matches(e){if(zl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const s=e.data.field(this.field);return s!==null&&s.nullValue===void 0&&!zl(this.value.arrayValue,s)}}class a5 extends xt{constructor(e,s){super(e,"array-contains-any",s)}matches(e){const s=e.data.field(this.field);return!(!_x(s)||!s.arrayValue.values)&&s.arrayValue.values.some(r=>zl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o5{constructor(e,s=null,r=[],i=[],a=null,o=null,l=null){this.path=e,this.collectionGroup=s,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=l,this.Te=null}}function Ob(t,e=null,s=[],r=[],i=null,a=null,o=null){return new o5(t,e,s,r,i,a,o)}function Ex(t){const e=Ne(t);if(e.Te===null){let s=e.path.canonicalString();e.collectionGroup!==null&&(s+="|cg:"+e.collectionGroup),s+="|f:",s+=e.filters.map(r=>bp(r)).join(","),s+="|ob:",s+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),_h(e.limit)||(s+="|l:",s+=e.limit),e.startAt&&(s+="|lb:",s+=e.startAt.inclusive?"b:":"a:",s+=e.startAt.position.map(r=>Ya(r)).join(",")),e.endAt&&(s+="|ub:",s+=e.endAt.inclusive?"a:":"b:",s+=e.endAt.position.map(r=>Ya(r)).join(",")),e.Te=s}return e.Te}function Tx(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let s=0;s<t.orderBy.length;s++)if(!J6(t.orderBy[s],e.orderBy[s]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let s=0;s<t.filters.length;s++)if(!O_(t.filters[s],e.filters[s]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Mb(t.startAt,e.startAt)&&Mb(t.endAt,e.endAt)}function wp(t){return fe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,s=null,r=[],i=[],a=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=s,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function l5(t,e,s,r,i,a,o,l){return new fc(t,e,s,r,i,a,o,l)}function Th(t){return new fc(t)}function Vb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function F_(t){return t.collectionGroup!==null}function dl(t){const e=Ne(t);if(e.Ie===null){e.Ie=[];const s=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),s.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new _t(Rt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(d=>{d.isInequality()&&(l=l.add(d.field))})}),l})(e).forEach(a=>{s.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Ad(a,r))}),s.has(Rt.keyField().canonicalString())||e.Ie.push(new Ad(Rt.keyField(),r))}return e.Ie}function fr(t){const e=Ne(t);return e.Ee||(e.Ee=c5(e,dl(t))),e.Ee}function c5(t,e){if(t.limitType==="F")return Ob(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Ad(i.field,a)});const s=t.endAt?new Id(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Id(t.startAt.position,t.startAt.inclusive):null;return Ob(t.path,t.collectionGroup,e,t.filters,t.limit,s,r)}}function Np(t,e){const s=t.filters.concat([e]);return new fc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),s,t.limit,t.limitType,t.startAt,t.endAt)}function jp(t,e,s){return new fc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,s,t.startAt,t.endAt)}function Ch(t,e){return Tx(fr(t),fr(e))&&t.limitType===e.limitType}function U_(t){return`${Ex(fr(t))}|lt:${t.limitType}`}function la(t){return`Query(target=${function(s){let r=s.path.canonicalString();return s.collectionGroup!==null&&(r+=" collectionGroup="+s.collectionGroup),s.filters.length>0&&(r+=`, filters: [${s.filters.map(i=>V_(i)).join(", ")}]`),_h(s.limit)||(r+=", limit: "+s.limit),s.orderBy.length>0&&(r+=`, orderBy: [${s.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),s.startAt&&(r+=", startAt: ",r+=s.startAt.inclusive?"b:":"a:",r+=s.startAt.position.map(i=>Ya(i)).join(",")),s.endAt&&(r+=", endAt: ",r+=s.endAt.inclusive?"a:":"b:",r+=s.endAt.position.map(i=>Ya(i)).join(",")),`Target(${r})`}(fr(t))}; limitType=${t.limitType})`}function Sh(t,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):fe.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,i){for(const a of dl(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,l,c){const d=Db(o,l,c);return o.inclusive?d<=0:d<0}(r.startAt,dl(r),i)||r.endAt&&!function(o,l,c){const d=Db(o,l,c);return o.inclusive?d>=0:d>0}(r.endAt,dl(r),i))}(t,e)}function u5(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function B_(t){return(e,s)=>{let r=!1;for(const i of dl(t)){const a=d5(i,e,s);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function d5(t,e,s){const r=t.field.isKeyField()?fe.comparator(e.key,s.key):function(a,o,l){const c=o.data.field(a),d=l.data.field(a);return c!==null&&d!==null?Qa(c,d):ge(42886)}(t.field,e,s);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ge(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e,s){this.mapKeyFn=e,this.equalsFn=s,this.inner={},this.innerSize=0}get(e){const s=this.mapKeyFn(e),r=this.inner[s];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,s){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,s]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,s]);i.push([e,s]),this.innerSize++}delete(e){const s=this.mapKeyFn(e),r=this.inner[s];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[s]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){oi(this.inner,(s,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return j_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h5=new st(fe.comparator);function sn(){return h5}const $_=new st(fe.comparator);function Go(...t){let e=$_;for(const s of t)e=e.insert(s.key,s);return e}function z_(t){let e=$_;return t.forEach((s,r)=>e=e.insert(s,r.overlayedDocument)),e}function ji(){return hl()}function q_(){return hl()}function hl(){return new Ji(t=>t.toString(),(t,e)=>t.isEqual(e))}const m5=new st(fe.comparator),f5=new _t(fe.comparator);function ke(...t){let e=f5;for(const s of t)e=e.add(s);return e}const p5=new _t(Pe);function g5(){return p5}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cx(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sd(e)?"-0":e}}function H_(t){return{integerValue:""+t}}function x5(t,e){return H6(e)?H_(e):Cx(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(){this._=void 0}}function y5(t,e,s){return t instanceof Rd?function(i,a){const o={fields:{[T_]:{stringValue:E_},[S_]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&jx(a)&&(a=Eh(a)),a&&(o.fields[C_]=a),{mapValue:o}}(s,e):t instanceof ql?G_(t,e):t instanceof Hl?K_(t,e):function(i,a){const o=W_(i,a),l=Lb(o)+Lb(i.Ae);return vp(o)&&vp(i.Ae)?H_(l):Cx(i.serializer,l)}(t,e)}function v5(t,e,s){return t instanceof ql?G_(t,e):t instanceof Hl?K_(t,e):s}function W_(t,e){return t instanceof Dd?function(r){return vp(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class Rd extends Ph{}class ql extends Ph{constructor(e){super(),this.elements=e}}function G_(t,e){const s=Q_(e);for(const r of t.elements)s.some(i=>wr(i,r))||s.push(r);return{arrayValue:{values:s}}}class Hl extends Ph{constructor(e){super(),this.elements=e}}function K_(t,e){let s=Q_(e);for(const r of t.elements)s=s.filter(i=>!wr(i,r));return{arrayValue:{values:s}}}class Dd extends Ph{constructor(e,s){super(),this.serializer=e,this.Ae=s}}function Lb(t){return dt(t.integerValue||t.doubleValue)}function Q_(t){return _x(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function b5(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof ql&&i instanceof ql||r instanceof Hl&&i instanceof Hl?Ka(r.elements,i.elements,wr):r instanceof Dd&&i instanceof Dd?wr(r.Ae,i.Ae):r instanceof Rd&&i instanceof Rd}(t.transform,e.transform)}class w5{constructor(e,s){this.version=e,this.transformResults=s}}class Os{constructor(e,s){this.updateTime=e,this.exists=s}static none(){return new Os}static exists(e){return new Os(void 0,e)}static updateTime(e){return new Os(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class kh{}function Y_(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Sx(t.key,Os.none()):new pc(t.key,t.data,Os.none());{const s=t.data,r=is.empty();let i=new _t(Rt.comparator);for(let a of e.fields)if(!i.has(a)){let o=s.field(a);o===null&&a.length>1&&(a=a.popLast(),o=s.field(a)),o===null?r.delete(a):r.set(a,o),i=i.add(a)}return new li(t.key,r,new vs(i.toArray()),Os.none())}}function N5(t,e,s){t instanceof pc?function(i,a,o){const l=i.value.clone(),c=Ub(i.fieldTransforms,a,o.transformResults);l.setAll(c),a.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,s):t instanceof li?function(i,a,o){if(!Bu(i.precondition,a))return void a.convertToUnknownDocument(o.version);const l=Ub(i.fieldTransforms,a,o.transformResults),c=a.data;c.setAll(X_(i)),c.setAll(l),a.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,s):function(i,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,s)}function ml(t,e,s,r){return t instanceof pc?function(a,o,l,c){if(!Bu(a.precondition,o))return l;const d=a.value.clone(),h=Bb(a.fieldTransforms,c,o);return d.setAll(h),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,s,r):t instanceof li?function(a,o,l,c){if(!Bu(a.precondition,o))return l;const d=Bb(a.fieldTransforms,c,o),h=o.data;return h.setAll(X_(a)),h.setAll(d),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),l===null?null:l.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(f=>f.field))}(t,e,s,r):function(a,o,l){return Bu(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,s)}function j5(t,e){let s=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=W_(r.transform,i||null);a!=null&&(s===null&&(s=is.empty()),s.set(r.field,a))}return s||null}function Fb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ka(r,i,(a,o)=>b5(a,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class pc extends kh{constructor(e,s,r,i=[]){super(),this.key=e,this.value=s,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class li extends kh{constructor(e,s,r,i,a=[]){super(),this.key=e,this.data=s,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function X_(t){const e=new Map;return t.fieldMask.fields.forEach(s=>{if(!s.isEmpty()){const r=t.data.field(s);e.set(s,r)}}),e}function Ub(t,e,s){const r=new Map;Ve(t.length===s.length,32656,{Re:s.length,Ve:t.length});for(let i=0;i<s.length;i++){const a=t[i],o=a.transform,l=e.data.field(a.field);r.set(a.field,v5(o,l,s[i]))}return r}function Bb(t,e,s){const r=new Map;for(const i of t){const a=i.transform,o=s.data.field(i.field);r.set(i.field,y5(a,o,e))}return r}class Sx extends kh{constructor(e,s){super(),this.key=e,this.precondition=s,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _5 extends kh{constructor(e,s){super(),this.key=e,this.precondition=s,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E5{constructor(e,s,r,i){this.batchId=e,this.localWriteTime=s,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,s){const r=s.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&N5(a,e,r[i])}}applyToLocalView(e,s){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(s=ml(r,e,s,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(s=ml(r,e,s,this.localWriteTime));return s}applyToLocalDocumentSet(e,s){const r=q_();return this.mutations.forEach(i=>{const a=e.get(i.key),o=a.overlayedDocument;let l=this.applyToLocalView(o,a.mutatedFields);l=s.has(i.key)?null:l;const c=Y_(o,l);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(we.min())}),r}keys(){return this.mutations.reduce((e,s)=>e.add(s.key),ke())}isEqual(e){return this.batchId===e.batchId&&Ka(this.mutations,e.mutations,(s,r)=>Fb(s,r))&&Ka(this.baseMutations,e.baseMutations,(s,r)=>Fb(s,r))}}class Px{constructor(e,s,r,i){this.batch=e,this.commitVersion=s,this.mutationResults=r,this.docVersions=i}static from(e,s,r){Ve(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return m5}();const a=e.mutations;for(let o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new Px(e,s,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T5{constructor(e,s){this.largestBatchId=e,this.mutation=s}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C5{constructor(e,s){this.count=e,this.unchangedNames=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ft,Ie;function S5(t){switch(t){case Y.OK:return ge(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return ge(15467,{code:t})}}function J_(t){if(t===void 0)return tn("GRPC error has no .code"),Y.UNKNOWN;switch(t){case ft.OK:return Y.OK;case ft.CANCELLED:return Y.CANCELLED;case ft.UNKNOWN:return Y.UNKNOWN;case ft.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case ft.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case ft.INTERNAL:return Y.INTERNAL;case ft.UNAVAILABLE:return Y.UNAVAILABLE;case ft.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case ft.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case ft.NOT_FOUND:return Y.NOT_FOUND;case ft.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case ft.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case ft.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case ft.ABORTED:return Y.ABORTED;case ft.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case ft.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case ft.DATA_LOSS:return Y.DATA_LOSS;default:return ge(39323,{code:t})}}(Ie=ft||(ft={}))[Ie.OK=0]="OK",Ie[Ie.CANCELLED=1]="CANCELLED",Ie[Ie.UNKNOWN=2]="UNKNOWN",Ie[Ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ie[Ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ie[Ie.NOT_FOUND=5]="NOT_FOUND",Ie[Ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ie[Ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ie[Ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ie[Ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ie[Ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ie[Ie.ABORTED=10]="ABORTED",Ie[Ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ie[Ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ie[Ie.INTERNAL=13]="INTERNAL",Ie[Ie.UNAVAILABLE=14]="UNAVAILABLE",Ie[Ie.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P5(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k5=new Bn([4294967295,4294967295],0);function $b(t){const e=P5().encode(t),s=new h_;return s.update(e),new Uint8Array(s.digest())}function zb(t){const e=new DataView(t.buffer),s=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Bn([s,r],0),new Bn([i,a],0)]}class kx{constructor(e,s,r){if(this.bitmap=e,this.padding=s,this.hashCount=r,s<0||s>=8)throw new Ko(`Invalid padding: ${s}`);if(r<0)throw new Ko(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ko(`Invalid hash count: ${r}`);if(e.length===0&&s!==0)throw new Ko(`Invalid padding when bitmap length is 0: ${s}`);this.ge=8*e.length-s,this.pe=Bn.fromNumber(this.ge)}ye(e,s,r){let i=e.add(s.multiply(Bn.fromNumber(r)));return i.compare(k5)===1&&(i=new Bn([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const s=$b(e),[r,i]=zb(s);for(let a=0;a<this.hashCount;a++){const o=this.ye(r,i,a);if(!this.we(o))return!1}return!0}static create(e,s,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new kx(a,i,s);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.ge===0)return;const s=$b(e),[r,i]=zb(s);for(let a=0;a<this.hashCount;a++){const o=this.ye(r,i,a);this.Se(o)}}Se(e){const s=Math.floor(e/8),r=e%8;this.bitmap[s]|=1<<r}}class Ko extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e,s,r,i,a){this.snapshotVersion=e,this.targetChanges=s,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,s,r){const i=new Map;return i.set(e,gc.createSynthesizedTargetChangeForCurrentChange(e,s,r)),new Ih(we.min(),i,new st(Pe),sn(),ke())}}class gc{constructor(e,s,r,i,a){this.resumeToken=e,this.current=s,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,s,r){return new gc(r,s,ke(),ke(),ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(e,s,r,i){this.be=e,this.removedTargetIds=s,this.key=r,this.De=i}}class Z_{constructor(e,s){this.targetId=e,this.Ce=s}}class eE{constructor(e,s,r=Ot.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=s,this.resumeToken=r,this.cause=i}}class qb{constructor(){this.ve=0,this.Fe=Hb(),this.Me=Ot.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ke(),s=ke(),r=ke();return this.Fe.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:s=s.add(i);break;case 1:r=r.add(i);break;default:ge(38017,{changeType:a})}}),new gc(this.Me,this.xe,e,s,r)}qe(){this.Oe=!1,this.Fe=Hb()}Qe(e,s){this.Oe=!0,this.Fe=this.Fe.insert(e,s)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ve(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class I5{constructor(e){this.Ge=e,this.ze=new Map,this.je=sn(),this.Je=uu(),this.He=uu(),this.Ye=new st(Pe)}Ze(e){for(const s of e.be)e.De&&e.De.isFoundDocument()?this.Xe(s,e.De):this.et(s,e.key,e.De);for(const s of e.removedTargetIds)this.et(s,e.key,e.De)}tt(e){this.forEachTarget(e,s=>{const r=this.nt(s);switch(e.state){case 0:this.rt(s)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(s);break;case 3:this.rt(s)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(s)&&(this.it(s),r.Le(e.resumeToken));break;default:ge(56790,{state:e.state})}})}forEachTarget(e,s){e.targetIds.length>0?e.targetIds.forEach(s):this.ze.forEach((r,i)=>{this.rt(i)&&s(i)})}st(e){const s=e.targetId,r=e.Ce.count,i=this.ot(s);if(i){const a=i.target;if(wp(a))if(r===0){const o=new fe(a.path);this.et(s,o,Ht.newNoDocument(o,we.min()))}else Ve(r===1,20013,{expectedCount:r});else{const o=this._t(s);if(o!==r){const l=this.ut(e),c=l?this.ct(l,e,o):1;if(c!==0){this.it(s);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(s,d)}}}}}ut(e){const s=e.Ce.unchangedNames;if(!s||!s.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=s;let o,l;try{o=Kn(r).toUint8Array()}catch(c){if(c instanceof __)return Ga("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new kx(o,i,a)}catch(c){return Ga(c instanceof Ko?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.ge===0?null:l}ct(e,s,r){return s.Ce.count===r-this.Pt(e,s.targetId)?0:2}Pt(e,s){const r=this.Ge.getRemoteKeysForTarget(s);let i=0;return r.forEach(a=>{const o=this.Ge.ht(),l=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(l)||(this.et(s,a,null),i++)}),i}Tt(e){const s=new Map;this.ze.forEach((a,o)=>{const l=this.ot(o);if(l){if(a.current&&wp(l.target)){const c=new fe(l.target.path);this.It(c).has(o)||this.Et(o,c)||this.et(o,c,Ht.newNoDocument(c,e))}a.Be&&(s.set(o,a.ke()),a.qe())}});let r=ke();this.He.forEach((a,o)=>{let l=!0;o.forEachWhile(c=>{const d=this.ot(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(a))}),this.je.forEach((a,o)=>o.setReadTime(e));const i=new Ih(e,s,this.Ye,this.je,r);return this.je=sn(),this.Je=uu(),this.He=uu(),this.Ye=new st(Pe),i}Xe(e,s){if(!this.rt(e))return;const r=this.Et(e,s.key)?2:0;this.nt(e).Qe(s.key,r),this.je=this.je.insert(s.key,s),this.Je=this.Je.insert(s.key,this.It(s.key).add(e)),this.He=this.He.insert(s.key,this.dt(s.key).add(e))}et(e,s,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,s)?i.Qe(s,1):i.$e(s),this.He=this.He.insert(s,this.dt(s).delete(e)),this.He=this.He.insert(s,this.dt(s).add(e)),r&&(this.je=this.je.insert(s,r))}removeTarget(e){this.ze.delete(e)}_t(e){const s=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+s.addedDocuments.size-s.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let s=this.ze.get(e);return s||(s=new qb,this.ze.set(e,s)),s}dt(e){let s=this.He.get(e);return s||(s=new _t(Pe),this.He=this.He.insert(e,s)),s}It(e){let s=this.Je.get(e);return s||(s=new _t(Pe),this.Je=this.Je.insert(e,s)),s}rt(e){const s=this.ot(e)!==null;return s||ue("WatchChangeAggregator","Detected inactive target",e),s}ot(e){const s=this.ze.get(e);return s&&s.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new qb),this.Ge.getRemoteKeysForTarget(e).forEach(s=>{this.et(e,s,null)})}Et(e,s){return this.Ge.getRemoteKeysForTarget(e).has(s)}}function uu(){return new st(fe.comparator)}function Hb(){return new st(fe.comparator)}const A5={asc:"ASCENDING",desc:"DESCENDING"},R5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},D5={and:"AND",or:"OR"};class M5{constructor(e,s){this.databaseId=e,this.useProto3Json=s}}function _p(t,e){return t.useProto3Json||_h(e)?e:{value:e}}function Md(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function tE(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function O5(t,e){return Md(t,e.toTimestamp())}function pr(t){return Ve(!!t,49232),we.fromTimestamp(function(s){const r=Gn(s);return new Ge(r.seconds,r.nanos)}(t))}function Ix(t,e){return Ep(t,e).canonicalString()}function Ep(t,e){const s=function(i){return new $e(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?s:s.child(e)}function sE(t){const e=$e.fromString(t);return Ve(oE(e),10190,{key:e.toString()}),e}function Tp(t,e){return Ix(t.databaseId,e.path)}function zm(t,e){const s=sE(e);if(s.get(1)!==t.databaseId.projectId)throw new le(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+s.get(1)+" vs "+t.databaseId.projectId);if(s.get(3)!==t.databaseId.database)throw new le(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+s.get(3)+" vs "+t.databaseId.database);return new fe(nE(s))}function rE(t,e){return Ix(t.databaseId,e)}function V5(t){const e=sE(t);return e.length===4?$e.emptyPath():nE(e)}function Cp(t){return new $e(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function nE(t){return Ve(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Wb(t,e,s){return{name:Tp(t,e),fields:s.value.mapValue.fields}}function L5(t,e){let s;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:ge(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(d,h){return d.useProto3Json?(Ve(h===void 0||typeof h=="string",58123),Ot.fromBase64String(h||"")):(Ve(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Ot.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(d){const h=d.code===void 0?Y.UNKNOWN:J_(d.code);return new le(h,d.message||"")}(o);s=new eE(r,i,a,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=zm(t,r.document.name),a=pr(r.document.updateTime),o=r.document.createTime?pr(r.document.createTime):we.min(),l=new is({mapValue:{fields:r.document.fields}}),c=Ht.newFoundDocument(i,a,o,l),d=r.targetIds||[],h=r.removedTargetIds||[];s=new $u(d,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=zm(t,r.document),a=r.readTime?pr(r.readTime):we.min(),o=Ht.newNoDocument(i,a),l=r.removedTargetIds||[];s=new $u([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=zm(t,r.document),a=r.removedTargetIds||[];s=new $u([],a,i,null)}else{if(!("filter"in e))return ge(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,o=new C5(i,a),l=r.targetId;s=new Z_(l,o)}}return s}function F5(t,e){let s;if(e instanceof pc)s={update:Wb(t,e.key,e.value)};else if(e instanceof Sx)s={delete:Tp(t,e.key)};else if(e instanceof li)s={update:Wb(t,e.key,e.data),updateMask:K5(e.fieldMask)};else{if(!(e instanceof _5))return ge(16599,{Vt:e.type});s={verify:Tp(t,e.key)}}return e.fieldTransforms.length>0&&(s.updateTransforms=e.fieldTransforms.map(r=>function(a,o){const l=o.transform;if(l instanceof Rd)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof ql)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Hl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Dd)return{fieldPath:o.field.canonicalString(),increment:l.Ae};throw ge(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(s.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:O5(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:ge(27497)}(t,e.precondition)),s}function U5(t,e){return t&&t.length>0?(Ve(e!==void 0,14353),t.map(s=>function(i,a){let o=i.updateTime?pr(i.updateTime):pr(a);return o.isEqual(we.min())&&(o=pr(a)),new w5(o,i.transformResults||[])}(s,e))):[]}function B5(t,e){return{documents:[rE(t,e.path)]}}function $5(t,e){const s={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,s.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),s.structuredQuery.from=[{collectionId:r.lastSegment()}]),s.parent=rE(t,i);const a=function(d){if(d.length!==0)return aE(sr.create(d,"and"))}(e.filters);a&&(s.structuredQuery.where=a);const o=function(d){if(d.length!==0)return d.map(h=>function(m){return{field:ca(m.field),direction:H5(m.dir)}}(h))}(e.orderBy);o&&(s.structuredQuery.orderBy=o);const l=_p(t,e.limit);return l!==null&&(s.structuredQuery.limit=l),e.startAt&&(s.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(s.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{ft:s,parent:i}}function z5(t){let e=V5(t.parent);const s=t.structuredQuery,r=s.from?s.from.length:0;let i=null;if(r>0){Ve(r===1,65062);const h=s.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let a=[];s.where&&(a=function(f){const m=iE(f);return m instanceof sr&&M_(m)?m.getFilters():[m]}(s.where));let o=[];s.orderBy&&(o=function(f){return f.map(m=>function(_){return new Ad(ua(_.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(m))}(s.orderBy));let l=null;s.limit&&(l=function(f){let m;return m=typeof f=="object"?f.value:f,_h(m)?null:m}(s.limit));let c=null;s.startAt&&(c=function(f){const m=!!f.before,p=f.values||[];return new Id(p,m)}(s.startAt));let d=null;return s.endAt&&(d=function(f){const m=!f.before,p=f.values||[];return new Id(p,m)}(s.endAt)),l5(e,i,o,a,l,"F",c,d)}function q5(t,e){const s=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ge(28987,{purpose:i})}}(e.purpose);return s==null?null:{"goog-listen-tags":s}}function iE(t){return t.unaryFilter!==void 0?function(s){switch(s.unaryFilter.op){case"IS_NAN":const r=ua(s.unaryFilter.field);return xt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ua(s.unaryFilter.field);return xt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=ua(s.unaryFilter.field);return xt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ua(s.unaryFilter.field);return xt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ge(61313);default:return ge(60726)}}(t):t.fieldFilter!==void 0?function(s){return xt.create(ua(s.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ge(58110);default:return ge(50506)}}(s.fieldFilter.op),s.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(s){return sr.create(s.compositeFilter.filters.map(r=>iE(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ge(1026)}}(s.compositeFilter.op))}(t):ge(30097,{filter:t})}function H5(t){return A5[t]}function W5(t){return R5[t]}function G5(t){return D5[t]}function ca(t){return{fieldPath:t.canonicalString()}}function ua(t){return Rt.fromServerFormat(t.fieldPath)}function aE(t){return t instanceof xt?function(s){if(s.op==="=="){if(Rb(s.value))return{unaryFilter:{field:ca(s.field),op:"IS_NAN"}};if(Ab(s.value))return{unaryFilter:{field:ca(s.field),op:"IS_NULL"}}}else if(s.op==="!="){if(Rb(s.value))return{unaryFilter:{field:ca(s.field),op:"IS_NOT_NAN"}};if(Ab(s.value))return{unaryFilter:{field:ca(s.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ca(s.field),op:W5(s.op),value:s.value}}}(t):t instanceof sr?function(s){const r=s.getFilters().map(i=>aE(i));return r.length===1?r[0]:{compositeFilter:{op:G5(s.op),filters:r}}}(t):ge(54877,{filter:t})}function K5(t){const e=[];return t.fields.forEach(s=>e.push(s.canonicalString())),{fieldPaths:e}}function oE(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e,s,r,i,a=we.min(),o=we.min(),l=Ot.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=s,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new Pn(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,s){return new Pn(this.target,this.targetId,this.purpose,this.sequenceNumber,s,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Pn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Pn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q5{constructor(e){this.yt=e}}function Y5(t){const e=z5({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?jp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X5{constructor(){this.Cn=new J5}addToCollectionParentIndex(e,s){return this.Cn.add(s),J.resolve()}getCollectionParents(e,s){return J.resolve(this.Cn.getEntries(s))}addFieldIndex(e,s){return J.resolve()}deleteFieldIndex(e,s){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,s){return J.resolve()}getDocumentsMatchingTarget(e,s){return J.resolve(null)}getIndexType(e,s){return J.resolve(0)}getFieldIndexes(e,s){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,s){return J.resolve(Wn.min())}getMinOffsetFromCollectionGroup(e,s){return J.resolve(Wn.min())}updateCollectionGroup(e,s,r){return J.resolve()}updateIndexEntries(e,s){return J.resolve()}}class J5{constructor(){this.index={}}add(e){const s=e.lastSegment(),r=e.popLast(),i=this.index[s]||new _t($e.comparator),a=!i.has(r);return this.index[s]=i.add(r),a}has(e){const s=e.lastSegment(),r=e.popLast(),i=this.index[s];return i&&i.has(r)}getEntries(e){return(this.index[e]||new _t($e.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},lE=41943040;class rs{static withCacheSize(e){return new rs(e,rs.DEFAULT_COLLECTION_PERCENTILE,rs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,s,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=s,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rs.DEFAULT_COLLECTION_PERCENTILE=10,rs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rs.DEFAULT=new rs(lE,rs.DEFAULT_COLLECTION_PERCENTILE,rs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rs.DISABLED=new rs(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Xa(0)}static cr(){return new Xa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb="LruGarbageCollector",Z5=1048576;function Qb([t,e],[s,r]){const i=Pe(t,s);return i===0?Pe(e,r):i}class eD{constructor(e){this.Ir=e,this.buffer=new _t(Qb),this.Er=0}dr(){return++this.Er}Ar(e){const s=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(s);else{const r=this.buffer.last();Qb(s,r)<0&&(this.buffer=this.buffer.delete(r).add(s))}}get maxValue(){return this.buffer.last()[0]}}class tD{constructor(e,s,r){this.garbageCollector=e,this.asyncQueue=s,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ue(Kb,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(s){ho(s)?ue(Kb,"Ignoring IndexedDB error during garbage collection: ",s):await uo(s)}await this.Vr(3e5)})}}class sD{constructor(e,s){this.mr=e,this.params=s}calculateTargetCount(e,s){return this.mr.gr(e).next(r=>Math.floor(s/100*r))}nthSequenceNumber(e,s){if(s===0)return J.resolve(jh.ce);const r=new eD(s);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,s,r){return this.mr.removeTargets(e,s,r)}removeOrphanedDocuments(e,s){return this.mr.removeOrphanedDocuments(e,s)}collect(e,s){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(Gb)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Gb):this.yr(e,s))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,s){let r,i,a,o,l,c,d;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,o=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,l=Date.now(),this.removeTargets(e,r,s))).next(f=>(a=f,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(d=Date.now(),oa()<=Se.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${i} in `+(l-o)+`ms
	Removed ${a} targets in `+(c-l)+`ms
	Removed ${f} documents in `+(d-c)+`ms
Total Duration: ${d-h}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:f})))}}function rD(t,e){return new sD(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(){this.changes=new Ji(e=>e.toString(),(e,s)=>e.isEqual(s)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,s){this.assertNotApplied(),this.changes.set(e,Ht.newInvalidDocument(e).setReadTime(s))}getEntry(e,s){this.assertNotApplied();const r=this.changes.get(s);return r!==void 0?J.resolve(r):this.getFromCache(e,s)}getEntries(e,s){return this.getAllFromCache(e,s)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(e,s){this.overlayedDocument=e,this.mutatedFields=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(e,s,r,i){this.remoteDocumentCache=e,this.mutationQueue=s,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,s){let r=null;return this.documentOverlayCache.getOverlay(e,s).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,s))).next(i=>(r!==null&&ml(r.mutation,i,vs.empty(),Ge.now()),i))}getDocuments(e,s){return this.remoteDocumentCache.getEntries(e,s).next(r=>this.getLocalViewOfDocuments(e,r,ke()).next(()=>r))}getLocalViewOfDocuments(e,s,r=ke()){const i=ji();return this.populateOverlays(e,i,s).next(()=>this.computeViews(e,s,i,r).next(a=>{let o=Go();return a.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,s){const r=ji();return this.populateOverlays(e,r,s).next(()=>this.computeViews(e,s,r,ke()))}populateOverlays(e,s,r){const i=[];return r.forEach(a=>{s.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((o,l)=>{s.set(o,l)})})}computeViews(e,s,r,i){let a=sn();const o=hl(),l=function(){return hl()}();return s.forEach((c,d)=>{const h=r.get(d.key);i.has(d.key)&&(h===void 0||h.mutation instanceof li)?a=a.insert(d.key,d):h!==void 0?(o.set(d.key,h.mutation.getFieldMask()),ml(h.mutation,d,h.mutation.getFieldMask(),Ge.now())):o.set(d.key,vs.empty())}),this.recalculateAndSaveOverlays(e,a).next(c=>(c.forEach((d,h)=>o.set(d,h)),s.forEach((d,h)=>l.set(d,new iD(h,o.get(d)??null))),l))}recalculateAndSaveOverlays(e,s){const r=hl();let i=new st((o,l)=>o-l),a=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,s).next(o=>{for(const l of o)l.keys().forEach(c=>{const d=s.get(c);if(d===null)return;let h=r.get(c)||vs.empty();h=l.applyToLocalView(d,h),r.set(c,h);const f=(i.get(l.batchId)||ke()).add(c);i=i.insert(l.batchId,f)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),d=c.key,h=c.value,f=q_();h.forEach(m=>{if(!a.has(m)){const p=Y_(s.get(m),r.get(m));p!==null&&f.set(m,p),a=a.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,f))}return J.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,s){return this.remoteDocumentCache.getEntries(e,s).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,s,r,i){return function(o){return fe.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(s)?this.getDocumentsMatchingDocumentQuery(e,s.path):F_(s)?this.getDocumentsMatchingCollectionGroupQuery(e,s,r,i):this.getDocumentsMatchingCollectionQuery(e,s,r,i)}getNextDocuments(e,s,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,s,r,i).next(a=>{const o=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,s,r.largestBatchId,i-a.size):J.resolve(ji());let l=Ul,c=a;return o.next(d=>J.forEach(d,(h,f)=>(l<f.largestBatchId&&(l=f.largestBatchId),a.get(h)?J.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{c=c.insert(h,m)}))).next(()=>this.populateOverlays(e,d,a)).next(()=>this.computeViews(e,c,d,ke())).next(h=>({batchId:l,changes:z_(h)})))})}getDocumentsMatchingDocumentQuery(e,s){return this.getDocument(e,new fe(s)).next(r=>{let i=Go();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,s,r,i){const a=s.collectionGroup;let o=Go();return this.indexManager.getCollectionParents(e,a).next(l=>J.forEach(l,c=>{const d=function(f,m){return new fc(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(s,c.child(a));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next(h=>{h.forEach((f,m)=>{o=o.insert(f,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,s,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,s.path,r.largestBatchId).next(o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,s,r,a,i))).next(o=>{a.forEach((c,d)=>{const h=d.getKey();o.get(h)===null&&(o=o.insert(h,Ht.newInvalidDocument(h)))});let l=Go();return o.forEach((c,d)=>{const h=a.get(c);h!==void 0&&ml(h.mutation,d,vs.empty(),Ge.now()),Sh(s,d)&&(l=l.insert(c,d))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,s){return J.resolve(this.Lr.get(s))}saveBundleMetadata(e,s){return this.Lr.set(s.id,function(i){return{id:i.id,version:i.version,createTime:pr(i.createTime)}}(s)),J.resolve()}getNamedQuery(e,s){return J.resolve(this.kr.get(s))}saveNamedQuery(e,s){return this.kr.set(s.name,function(i){return{name:i.name,query:Y5(i.bundledQuery),readTime:pr(i.readTime)}}(s)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(){this.overlays=new st(fe.comparator),this.qr=new Map}getOverlay(e,s){return J.resolve(this.overlays.get(s))}getOverlays(e,s){const r=ji();return J.forEach(s,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,s,r){return r.forEach((i,a)=>{this.St(e,s,a)}),J.resolve()}removeOverlaysForBatchId(e,s,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.qr.delete(r)),J.resolve()}getOverlaysForCollection(e,s,r){const i=ji(),a=s.length+1,o=new fe(s.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,d=c.getKey();if(!s.isPrefixOf(d.path))break;d.path.length===a&&c.largestBatchId>r&&i.set(c.getKey(),c)}return J.resolve(i)}getOverlaysForCollectionGroup(e,s,r,i){let a=new st((d,h)=>d-h);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===s&&d.largestBatchId>r){let h=a.get(d.largestBatchId);h===null&&(h=ji(),a=a.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const l=ji(),c=a.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,h)=>l.set(d,h)),!(l.size()>=i)););return J.resolve(l)}St(e,s,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new T5(s,r));let a=this.qr.get(s);a===void 0&&(a=ke(),this.qr.set(s,a)),this.qr.set(s,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(){this.sessionToken=Ot.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,s){return this.sessionToken=s,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(){this.Qr=new _t(Et.$r),this.Ur=new _t(Et.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,s){const r=new Et(e,s);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,s){e.forEach(r=>this.addReference(r,s))}removeReference(e,s){this.Gr(new Et(e,s))}zr(e,s){e.forEach(r=>this.removeReference(r,s))}jr(e){const s=new fe(new $e([])),r=new Et(s,e),i=new Et(s,e+1),a=[];return this.Ur.forEachInRange([r,i],o=>{this.Gr(o),a.push(o.key)}),a}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const s=new fe(new $e([])),r=new Et(s,e),i=new Et(s,e+1);let a=ke();return this.Ur.forEachInRange([r,i],o=>{a=a.add(o.key)}),a}containsKey(e){const s=new Et(e,0),r=this.Qr.firstAfterOrEqual(s);return r!==null&&e.isEqual(r.key)}}class Et{constructor(e,s){this.key=e,this.Yr=s}static $r(e,s){return fe.comparator(e.key,s.key)||Pe(e.Yr,s.Yr)}static Kr(e,s){return Pe(e.Yr,s.Yr)||fe.comparator(e.key,s.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(e,s){this.indexManager=e,this.referenceDelegate=s,this.mutationQueue=[],this.tr=1,this.Zr=new _t(Et.$r)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,s,r,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new E5(a,s,r,i);this.mutationQueue.push(o);for(const l of i)this.Zr=this.Zr.add(new Et(l.key,a)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return J.resolve(o)}lookupMutationBatch(e,s){return J.resolve(this.Xr(s))}getNextMutationBatchAfterBatchId(e,s){const r=s+1,i=this.ei(r),a=i<0?0:i;return J.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?Nx:this.tr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,s){const r=new Et(s,0),i=new Et(s,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,i],o=>{const l=this.Xr(o.Yr);a.push(l)}),J.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,s){let r=new _t(Pe);return s.forEach(i=>{const a=new Et(i,0),o=new Et(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,o],l=>{r=r.add(l.Yr)})}),J.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,s){const r=s.path,i=r.length+1;let a=r;fe.isDocumentKey(a)||(a=a.child(""));const o=new Et(new fe(a),0);let l=new _t(Pe);return this.Zr.forEachWhile(c=>{const d=c.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(l=l.add(c.Yr)),!0)},o),J.resolve(this.ti(l))}ti(e){const s=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&s.push(i)}),s}removeMutationBatch(e,s){Ve(this.ni(s.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return J.forEach(s.mutations,i=>{const a=new Et(i.key,s.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,s){const r=new Et(s,0),i=this.Zr.firstAfterOrEqual(r);return J.resolve(s.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ni(e,s){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const s=this.ei(e);return s<0||s>=this.mutationQueue.length?null:this.mutationQueue[s]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(e){this.ri=e,this.docs=function(){return new st(fe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,s){const r=s.key,i=this.docs.get(r),a=i?i.size:0,o=this.ri(s);return this.docs=this.docs.insert(r,{document:s.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const s=this.docs.get(e);s&&(this.docs=this.docs.remove(e),this.size-=s.size)}getEntry(e,s){const r=this.docs.get(s);return J.resolve(r?r.document.mutableCopy():Ht.newInvalidDocument(s))}getEntries(e,s){let r=sn();return s.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Ht.newInvalidDocument(i))}),J.resolve(r)}getDocumentsMatchingQuery(e,s,r,i){let a=sn();const o=s.path,l=new fe(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:d,value:{document:h}}=c.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||B6(U6(h),r)<=0||(i.has(h.key)||Sh(s,h))&&(a=a.insert(h.key,h.mutableCopy()))}return J.resolve(a)}getAllFromCollectionGroup(e,s,r,i){ge(9500)}ii(e,s){return J.forEach(this.docs,r=>s(r))}newChangeBuffer(e){return new hD(this)}getSize(e){return J.resolve(this.size)}}class hD extends nD{constructor(e){super(),this.Nr=e}applyChanges(e){const s=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?s.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),J.waitFor(s)}getFromCache(e,s){return this.Nr.getEntry(e,s)}getAllFromCache(e,s){return this.Nr.getEntries(e,s)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(e){this.persistence=e,this.si=new Ji(s=>Ex(s),Tx),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.oi=0,this._i=new Ax,this.targetCount=0,this.ai=Xa.ur()}forEachTarget(e,s){return this.si.forEach((r,i)=>s(i)),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,s,r){return r&&(this.lastRemoteSnapshotVersion=r),s>this.oi&&(this.oi=s),J.resolve()}Pr(e){this.si.set(e.target,e);const s=e.targetId;s>this.highestTargetId&&(this.ai=new Xa(s),this.highestTargetId=s),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,s){return this.Pr(s),this.targetCount+=1,J.resolve()}updateTargetData(e,s){return this.Pr(s),J.resolve()}removeTargetData(e,s){return this.si.delete(s.target),this._i.jr(s.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,s,r){let i=0;const a=[];return this.si.forEach((o,l)=>{l.sequenceNumber<=s&&r.get(l.targetId)===null&&(this.si.delete(o),a.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),J.waitFor(a).next(()=>i)}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,s){const r=this.si.get(s)||null;return J.resolve(r)}addMatchingKeys(e,s,r){return this._i.Wr(s,r),J.resolve()}removeMatchingKeys(e,s,r){this._i.zr(s,r);const i=this.persistence.referenceDelegate,a=[];return i&&s.forEach(o=>{a.push(i.markPotentiallyOrphaned(e,o))}),J.waitFor(a)}removeMatchingKeysForTargetId(e,s){return this._i.jr(s),J.resolve()}getMatchingKeysForTargetId(e,s){const r=this._i.Hr(s);return J.resolve(r)}containsKey(e,s){return J.resolve(this._i.containsKey(s))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(e,s){this.ui={},this.overlays={},this.ci=new jh(0),this.li=!1,this.li=!0,this.hi=new cD,this.referenceDelegate=e(this),this.Pi=new mD(this),this.indexManager=new X5,this.remoteDocumentCache=function(i){return new dD(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new Q5(s),this.Ii=new oD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let s=this.overlays[e.toKey()];return s||(s=new lD,this.overlays[e.toKey()]=s),s}getMutationQueue(e,s){let r=this.ui[e.toKey()];return r||(r=new uD(s,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,s,r){ue("MemoryPersistence","Starting transaction:",e);const i=new fD(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(a=>this.referenceDelegate.di(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ai(e,s){return J.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,s)))}}class fD extends z6{constructor(e){super(),this.currentSequenceNumber=e}}class Rx{constructor(e){this.persistence=e,this.Ri=new Ax,this.Vi=null}static mi(e){return new Rx(e)}get fi(){if(this.Vi)return this.Vi;throw ge(60996)}addReference(e,s,r){return this.Ri.addReference(r,s),this.fi.delete(r.toString()),J.resolve()}removeReference(e,s,r){return this.Ri.removeReference(r,s),this.fi.add(r.toString()),J.resolve()}markPotentiallyOrphaned(e,s){return this.fi.add(s.toString()),J.resolve()}removeTarget(e,s){this.Ri.jr(s.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,s.targetId).next(i=>{i.forEach(a=>this.fi.add(a.toString()))}).next(()=>r.removeTargetData(e,s))}Ei(){this.Vi=new Set}di(e){const s=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.fi,r=>{const i=fe.fromPath(r);return this.gi(e,i).next(a=>{a||s.removeEntry(i,we.min())})}).next(()=>(this.Vi=null,s.apply(e)))}updateLimboDocument(e,s){return this.gi(e,s).next(r=>{r?this.fi.delete(s.toString()):this.fi.add(s.toString())})}Ti(e){return 0}gi(e,s){return J.or([()=>J.resolve(this.Ri.containsKey(s)),()=>this.persistence.getTargetCache().containsKey(e,s),()=>this.persistence.Ai(e,s)])}}class Od{constructor(e,s){this.persistence=e,this.pi=new Ji(r=>W6(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=rD(this,s)}static mi(e,s){return new Od(e,s)}Ei(){}di(e){return J.resolve()}forEachTarget(e,s){return this.persistence.getTargetCache().forEachTarget(e,s)}gr(e){const s=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>s.next(i=>r+i))}wr(e){let s=0;return this.pr(e,r=>{s++}).next(()=>s)}pr(e,s){return J.forEach(this.pi,(r,i)=>this.br(e,r,i).next(a=>a?J.resolve():s(i)))}removeTargets(e,s,r){return this.persistence.getTargetCache().removeTargets(e,s,r)}removeOrphanedDocuments(e,s){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,o=>this.br(e,o,s).next(l=>{l||(r++,a.removeEntry(o,we.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,s){return this.pi.set(s,e.currentSequenceNumber),J.resolve()}removeTarget(e,s){const r=s.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,s,r){return this.pi.set(r,e.currentSequenceNumber),J.resolve()}removeReference(e,s,r){return this.pi.set(r,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,s){return this.pi.set(s,e.currentSequenceNumber),J.resolve()}Ti(e){let s=e.key.toString().length;return e.isFoundDocument()&&(s+=Fu(e.data.value)),s}br(e,s,r){return J.or([()=>this.persistence.Ai(e,s),()=>this.persistence.getTargetCache().containsKey(e,s),()=>{const i=this.pi.get(s);return J.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(e,s,r,i){this.targetId=e,this.fromCache=s,this.Es=r,this.ds=i}static As(e,s){let r=ke(),i=ke();for(const a of s.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Dx(e,s.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return uA()?8:q6(Kt())>0?6:4}()}initialize(e,s){this.ps=e,this.indexManager=s,this.Rs=!0}getDocumentsMatchingQuery(e,s,r,i){const a={result:null};return this.ys(e,s).next(o=>{a.result=o}).next(()=>{if(!a.result)return this.ws(e,s,i,r).next(o=>{a.result=o})}).next(()=>{if(a.result)return;const o=new pD;return this.Ss(e,s,o).next(l=>{if(a.result=l,this.Vs)return this.bs(e,s,o,l.size)})}).next(()=>a.result)}bs(e,s,r,i){return r.documentReadCount<this.fs?(oa()<=Se.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",la(s),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),J.resolve()):(oa()<=Se.DEBUG&&ue("QueryEngine","Query:",la(s),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(oa()<=Se.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",la(s),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,fr(s))):J.resolve())}ys(e,s){if(Vb(s))return J.resolve(null);let r=fr(s);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(s.limit!==null&&i===1&&(s=jp(s,null,"F"),r=fr(s)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const o=ke(...a);return this.ps.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const d=this.Ds(s,l);return this.Cs(s,d,o,c.readTime)?this.ys(e,jp(s,null,"F")):this.vs(e,d,s,c)}))})))}ws(e,s,r,i){return Vb(s)||i.isEqual(we.min())?J.resolve(null):this.ps.getDocuments(e,r).next(a=>{const o=this.Ds(s,a);return this.Cs(s,o,r,i)?J.resolve(null):(oa()<=Se.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),la(s)),this.vs(e,o,s,F6(i,Ul)).next(l=>l))})}Ds(e,s){let r=new _t(B_(e));return s.forEach((i,a)=>{Sh(e,a)&&(r=r.add(a))}),r}Cs(e,s,r,i){if(e.limit===null)return!1;if(r.size!==s.size)return!0;const a=e.limitType==="F"?s.last():s.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,s,r){return oa()<=Se.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",la(s)),this.ps.getDocumentsMatchingQuery(e,s,Wn.min(),r)}vs(e,s,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(a=>(s.forEach(o=>{a=a.insert(o.key,o)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx="LocalStore",xD=3e8;class yD{constructor(e,s,r,i){this.persistence=e,this.Fs=s,this.serializer=i,this.Ms=new st(Pe),this.xs=new Ji(a=>Ex(a),Tx),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new aD(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",s=>e.collect(s,this.Ms))}}function vD(t,e,s,r){return new yD(t,e,s,r)}async function uE(t,e){const s=Ne(t);return await s.persistence.runTransaction("Handle user change","readonly",r=>{let i;return s.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,s.Bs(e),s.mutationQueue.getAllMutationBatches(r))).next(a=>{const o=[],l=[];let c=ke();for(const d of i){o.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}for(const d of a){l.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}return s.localDocuments.getDocuments(r,c).next(d=>({Ls:d,removedBatchIds:o,addedBatchIds:l}))})})}function bD(t,e){const s=Ne(t);return s.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=s.Ns.newChangeBuffer({trackRemovals:!0});return function(l,c,d,h){const f=d.batch,m=f.keys();let p=J.resolve();return m.forEach(_=>{p=p.next(()=>h.getEntry(c,_)).next(N=>{const y=d.docVersions.get(_);Ve(y!==null,48541),N.version.compareTo(y)<0&&(f.applyToRemoteDocument(N,d),N.isValidDocument()&&(N.setReadTime(d.commitVersion),h.addEntry(N)))})}),p.next(()=>l.mutationQueue.removeMutationBatch(c,f))}(s,r,e,a).next(()=>a.apply(r)).next(()=>s.mutationQueue.performConsistencyCheck(r)).next(()=>s.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>s.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=ke();for(let d=0;d<l.mutationResults.length;++d)l.mutationResults[d].transformResults.length>0&&(c=c.add(l.batch.mutations[d].key));return c}(e))).next(()=>s.localDocuments.getDocuments(r,i))})}function dE(t){const e=Ne(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",s=>e.Pi.getLastRemoteSnapshotVersion(s))}function wD(t,e){const s=Ne(t),r=e.snapshotVersion;let i=s.Ms;return s.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const o=s.Ns.newChangeBuffer({trackRemovals:!0});i=s.Ms;const l=[];e.targetChanges.forEach((h,f)=>{const m=i.get(f);if(!m)return;l.push(s.Pi.removeMatchingKeys(a,h.removedDocuments,f).next(()=>s.Pi.addMatchingKeys(a,h.addedDocuments,f)));let p=m.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(Ot.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):h.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(h.resumeToken,r)),i=i.insert(f,p),function(N,y,b){return N.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=xD?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(m,p,h)&&l.push(s.Pi.updateTargetData(a,p))});let c=sn(),d=ke();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&l.push(s.persistence.referenceDelegate.updateLimboDocument(a,h))}),l.push(ND(a,o,e.documentUpdates).next(h=>{c=h.ks,d=h.qs})),!r.isEqual(we.min())){const h=s.Pi.getLastRemoteSnapshotVersion(a).next(f=>s.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r));l.push(h)}return J.waitFor(l).next(()=>o.apply(a)).next(()=>s.localDocuments.getLocalViewOfDocuments(a,c,d)).next(()=>c)}).then(a=>(s.Ms=i,a))}function ND(t,e,s){let r=ke(),i=ke();return s.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let o=sn();return s.forEach((l,c)=>{const d=a.get(l);c.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(we.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):ue(Mx,"Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",c.version)}),{ks:o,qs:i}})}function jD(t,e){const s=Ne(t);return s.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Nx),s.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function _D(t,e){const s=Ne(t);return s.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return s.Pi.getTargetData(r,e).next(a=>a?(i=a,J.resolve(i)):s.Pi.allocateTargetId(r).next(o=>(i=new Pn(e,o,"TargetPurposeListen",r.currentSequenceNumber),s.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=s.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(s.Ms=s.Ms.insert(r.targetId,r),s.xs.set(e,r.targetId)),r})}async function Sp(t,e,s){const r=Ne(t),i=r.Ms.get(e),a=s?"readwrite":"readwrite-primary";try{s||await r.persistence.runTransaction("Release target",a,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!ho(o))throw o;ue(Mx,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function Yb(t,e,s){const r=Ne(t);let i=we.min(),a=ke();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,d,h){const f=Ne(c),m=f.xs.get(h);return m!==void 0?J.resolve(f.Ms.get(m)):f.Pi.getTargetData(d,h)}(r,o,fr(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,l.targetId).next(c=>{a=c})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,s?i:we.min(),s?a:ke())).next(l=>(ED(r,u5(e),l),{documents:l,Qs:a})))}function ED(t,e,s){let r=t.Os.get(e)||we.min();s.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.Os.set(e,r)}class Xb{constructor(){this.activeTargetIds=g5()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class TD{constructor(){this.Mo=new Xb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,s,r){}addLocalQueryTarget(e,s=!0){return s&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,s,r){this.xo[e]=s}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Xb,Promise.resolve()}handleUserChange(e,s,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb="ConnectivityMonitor";class Zb{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ue(Jb,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ue(Jb,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let du=null;function Pp(){return du===null?du=function(){return 268435456+Math.round(2147483648*Math.random())}():du++,"0x"+du.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qm="RestConnection",SD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class PD{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const s=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=s+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Pd?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,s,r,i,a){const o=Pp(),l=this.zo(e,s.toUriEncodedString());ue(qm,`Sending RPC '${e}' ${o}:`,l,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,i,a);const{host:d}=new URL(l),h=Yi(d);return this.Jo(e,l,c,r,h).then(f=>(ue(qm,`Received RPC '${e}' ${o}: `,f),f),f=>{throw Ga(qm,`RPC '${e}' ${o} failed with error: `,f,"url: ",l,"request:",r),f})}Ho(e,s,r,i,a,o){return this.Go(e,s,r,i,a)}jo(e,s,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+co}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}zo(e,s){const r=SD[e];return`${this.Uo}/v1/${s}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $t="WebChannelConnection";class ID extends PD{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,s,r,i,a){const o=Pp();return new Promise((l,c)=>{const d=new m_;d.setWithCredentials(!0),d.listenOnce(f_.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Lu.NO_ERROR:const f=d.getResponseJson();ue($t,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),l(f);break;case Lu.TIMEOUT:ue($t,`RPC '${e}' ${o} timed out`),c(new le(Y.DEADLINE_EXCEEDED,"Request time out"));break;case Lu.HTTP_ERROR:const m=d.getStatus();if(ue($t,`RPC '${e}' ${o} failed with status:`,m,"response text:",d.getResponseText()),m>0){let p=d.getResponseJson();Array.isArray(p)&&(p=p[0]);const _=p==null?void 0:p.error;if(_&&_.status&&_.message){const N=function(b){const v=b.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(v)>=0?v:Y.UNKNOWN}(_.status);c(new le(N,_.message))}else c(new le(Y.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new le(Y.UNAVAILABLE,"Connection failed."));break;default:ge(9055,{l_:e,streamId:o,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{ue($t,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(i);ue($t,`RPC '${e}' ${o} sending request:`,i),d.send(s,"POST",h,r,15)})}T_(e,s,r){const i=Pp(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=x_(),l=g_(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,s,r),c.encodeInitMessageHeaders=!0;const h=a.join("");ue($t,`Creating RPC '${e}' stream ${i}: ${h}`,c);const f=o.createWebChannel(h,c);this.I_(f);let m=!1,p=!1;const _=new kD({Yo:y=>{p?ue($t,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(m||(ue($t,`Opening RPC '${e}' stream ${i} transport.`),f.open(),m=!0),ue($t,`RPC '${e}' stream ${i} sending:`,y),f.send(y))},Zo:()=>f.close()}),N=(y,b,v)=>{y.listen(b,x=>{try{v(x)}catch(E){setTimeout(()=>{throw E},0)}})};return N(f,Wo.EventType.OPEN,()=>{p||(ue($t,`RPC '${e}' stream ${i} transport opened.`),_.o_())}),N(f,Wo.EventType.CLOSE,()=>{p||(p=!0,ue($t,`RPC '${e}' stream ${i} transport closed`),_.a_(),this.E_(f))}),N(f,Wo.EventType.ERROR,y=>{p||(p=!0,Ga($t,`RPC '${e}' stream ${i} transport errored. Name:`,y.name,"Message:",y.message),_.a_(new le(Y.UNAVAILABLE,"The operation could not be completed")))}),N(f,Wo.EventType.MESSAGE,y=>{var b;if(!p){const v=y.data[0];Ve(!!v,16349);const x=v,E=(x==null?void 0:x.error)||((b=x[0])==null?void 0:b.error);if(E){ue($t,`RPC '${e}' stream ${i} received error:`,E);const I=E.status;let L=function(k){const O=ft[k];if(O!==void 0)return J_(O)}(I),C=E.message;L===void 0&&(L=Y.INTERNAL,C="Unknown error status: "+I+" with message "+E.message),p=!0,_.a_(new le(L,C)),f.close()}else ue($t,`RPC '${e}' stream ${i} received:`,v),_.u_(v)}}),N(l,p_.STAT_EVENT,y=>{y.stat===gp.PROXY?ue($t,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===gp.NOPROXY&&ue($t,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{_.__()},0),_}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(s=>s===e)}}function Hm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ah(t){return new M5(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(e,s,r=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=s,this.d_=r,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const s=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,s-r);i>0&&ue("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${s} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew="PersistentStream";class mE{constructor(e,s,r,i,a,o,l,c){this.Mi=e,this.S_=r,this.b_=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new hE(e,s)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,s){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():s&&s.code===Y.RESOURCE_EXHAUSTED?(tn(s.toString()),tn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):s&&s.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(s)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),s=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===s&&this.G_(r,i)},r=>{e(()=>{const i=new le(Y.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,s){const r=this.W_(this.D_);this.stream=this.j_(e,s),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ue(ew,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return s=>{this.Mi.enqueueAndForget(()=>this.D_===e?s():(ue(ew,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class AD extends mE{constructor(e,s,r,i,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",s,r,i,o),this.serializer=a}j_(e,s){return this.connection.T_("Listen",e,s)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const s=L5(this.serializer,e),r=function(a){if(!("targetChange"in a))return we.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?we.min():o.readTime?pr(o.readTime):we.min()}(e);return this.listener.H_(s,r)}Y_(e){const s={};s.database=Cp(this.serializer),s.addTarget=function(a,o){let l;const c=o.target;if(l=wp(c)?{documents:B5(a,c)}:{query:$5(a,c).ft},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=tE(a,o.resumeToken);const d=_p(a,o.expectedCount);d!==null&&(l.expectedCount=d)}else if(o.snapshotVersion.compareTo(we.min())>0){l.readTime=Md(a,o.snapshotVersion.toTimestamp());const d=_p(a,o.expectedCount);d!==null&&(l.expectedCount=d)}return l}(this.serializer,e);const r=q5(this.serializer,e);r&&(s.labels=r),this.q_(s)}Z_(e){const s={};s.database=Cp(this.serializer),s.removeTarget=e,this.q_(s)}}class RD extends mE{constructor(e,s,r,i,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",s,r,i,o),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,s){return this.connection.T_("Write",e,s)}J_(e){return Ve(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ve(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ve(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const s=U5(e.writeResults,e.commitTime),r=pr(e.commitTime);return this.listener.na(r,s)}ra(){const e={};e.database=Cp(this.serializer),this.q_(e)}ea(e){const s={streamToken:this.lastStreamToken,writes:e.map(r=>F5(this.serializer,r))};this.q_(s)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{}class MD extends DD{constructor(e,s,r,i){super(),this.authCredentials=e,this.appCheckCredentials=s,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new le(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,s,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Go(e,Ep(s,r),i,a,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new le(Y.UNKNOWN,a.toString())})}Ho(e,s,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Ho(e,Ep(s,r),i,o,l,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new le(Y.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class OD{constructor(e,s){this.asyncQueue=e,this.onlineStateHandler=s,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const s=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(tn(s),this.aa=!1):ue("OnlineStateTracker",s)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zi="RemoteStore";class VD{constructor(e,s,r,i,a){this.localStore=e,this.datastore=s,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{Zi(this)&&(ue(zi,"Restarting streams for network reachability change."),await async function(c){const d=Ne(c);d.Ea.add(4),await xc(d),d.Ra.set("Unknown"),d.Ea.delete(4),await Rh(d)}(this))})}),this.Ra=new OD(r,i)}}async function Rh(t){if(Zi(t))for(const e of t.da)await e(!0)}async function xc(t){for(const e of t.da)await e(!1)}function fE(t,e){const s=Ne(t);s.Ia.has(e.targetId)||(s.Ia.set(e.targetId,e),Fx(s)?Lx(s):mo(s).O_()&&Vx(s,e))}function Ox(t,e){const s=Ne(t),r=mo(s);s.Ia.delete(e),r.O_()&&pE(s,e),s.Ia.size===0&&(r.O_()?r.L_():Zi(s)&&s.Ra.set("Unknown"))}function Vx(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const s=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(s)}mo(t).Y_(e)}function pE(t,e){t.Va.Ue(e),mo(t).Z_(e)}function Lx(t){t.Va=new I5({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),mo(t).start(),t.Ra.ua()}function Fx(t){return Zi(t)&&!mo(t).x_()&&t.Ia.size>0}function Zi(t){return Ne(t).Ea.size===0}function gE(t){t.Va=void 0}async function LD(t){t.Ra.set("Online")}async function FD(t){t.Ia.forEach((e,s)=>{Vx(t,e)})}async function UD(t,e){gE(t),Fx(t)?(t.Ra.ha(e),Lx(t)):t.Ra.set("Unknown")}async function BD(t,e,s){if(t.Ra.set("Online"),e instanceof eE&&e.state===2&&e.cause)try{await async function(i,a){const o=a.cause;for(const l of a.targetIds)i.Ia.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.Ia.delete(l),i.Va.removeTarget(l))}(t,e)}catch(r){ue(zi,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Vd(t,r)}else if(e instanceof $u?t.Va.Ze(e):e instanceof Z_?t.Va.st(e):t.Va.tt(e),!s.isEqual(we.min()))try{const r=await dE(t.localStore);s.compareTo(r)>=0&&await function(a,o){const l=a.Va.Tt(o);return l.targetChanges.forEach((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const h=a.Ia.get(d);h&&a.Ia.set(d,h.withResumeToken(c.resumeToken,o))}}),l.targetMismatches.forEach((c,d)=>{const h=a.Ia.get(c);if(!h)return;a.Ia.set(c,h.withResumeToken(Ot.EMPTY_BYTE_STRING,h.snapshotVersion)),pE(a,c);const f=new Pn(h.target,c,d,h.sequenceNumber);Vx(a,f)}),a.remoteSyncer.applyRemoteEvent(l)}(t,s)}catch(r){ue(zi,"Failed to raise snapshot:",r),await Vd(t,r)}}async function Vd(t,e,s){if(!ho(e))throw e;t.Ea.add(1),await xc(t),t.Ra.set("Offline"),s||(s=()=>dE(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ue(zi,"Retrying IndexedDB access"),await s(),t.Ea.delete(1),await Rh(t)})}function xE(t,e){return e().catch(s=>Vd(t,s,e))}async function Dh(t){const e=Ne(t),s=Yn(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Nx;for(;$D(e);)try{const i=await jD(e.localStore,r);if(i===null){e.Ta.length===0&&s.L_();break}r=i.batchId,zD(e,i)}catch(i){await Vd(e,i)}yE(e)&&vE(e)}function $D(t){return Zi(t)&&t.Ta.length<10}function zD(t,e){t.Ta.push(e);const s=Yn(t);s.O_()&&s.X_&&s.ea(e.mutations)}function yE(t){return Zi(t)&&!Yn(t).x_()&&t.Ta.length>0}function vE(t){Yn(t).start()}async function qD(t){Yn(t).ra()}async function HD(t){const e=Yn(t);for(const s of t.Ta)e.ea(s.mutations)}async function WD(t,e,s){const r=t.Ta.shift(),i=Px.from(r,e,s);await xE(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Dh(t)}async function GD(t,e){e&&Yn(t).X_&&await async function(r,i){if(function(o){return S5(o)&&o!==Y.ABORTED}(i.code)){const a=r.Ta.shift();Yn(r).B_(),await xE(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await Dh(r)}}(t,e),yE(t)&&vE(t)}async function tw(t,e){const s=Ne(t);s.asyncQueue.verifyOperationInProgress(),ue(zi,"RemoteStore received new credentials");const r=Zi(s);s.Ea.add(3),await xc(s),r&&s.Ra.set("Unknown"),await s.remoteSyncer.handleCredentialChange(e),s.Ea.delete(3),await Rh(s)}async function KD(t,e){const s=Ne(t);e?(s.Ea.delete(2),await Rh(s)):e||(s.Ea.add(2),await xc(s),s.Ra.set("Unknown"))}function mo(t){return t.ma||(t.ma=function(s,r,i){const a=Ne(s);return a.sa(),new AD(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Xo:LD.bind(null,t),t_:FD.bind(null,t),r_:UD.bind(null,t),H_:BD.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),Fx(t)?Lx(t):t.Ra.set("Unknown")):(await t.ma.stop(),gE(t))})),t.ma}function Yn(t){return t.fa||(t.fa=function(s,r,i){const a=Ne(s);return a.sa(),new RD(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:qD.bind(null,t),r_:GD.bind(null,t),ta:HD.bind(null,t),na:WD.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Dh(t)):(await t.fa.stop(),t.Ta.length>0&&(ue(zi,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(e,s,r,i,a){this.asyncQueue=e,this.timerId=s,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new zr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,s,r,i,a){const o=Date.now()+r,l=new Ux(e,s,o,i,a);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bx(t,e){if(tn("AsyncQueue",`${e}: ${t}`),ho(t))return new le(Y.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{static emptySet(e){return new La(e.comparator)}constructor(e){this.comparator=e?(s,r)=>e(s,r)||fe.comparator(s.key,r.key):(s,r)=>fe.comparator(s.key,r.key),this.keyedMap=Go(),this.sortedSet=new st(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const s=this.keyedMap.get(e);return s?this.sortedSet.indexOf(s):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((s,r)=>(e(s),!1))}add(e){const s=this.delete(e.key);return s.copy(s.keyedMap.insert(e.key,e),s.sortedSet.insert(e,null))}delete(e){const s=this.get(e);return s?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(s)):this}isEqual(e){if(!(e instanceof La)||this.size!==e.size)return!1;const s=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;s.hasNext();){const i=s.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(s=>{e.push(s.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,s){const r=new La;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=s,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(){this.ga=new st(fe.comparator)}track(e){const s=e.doc.key,r=this.ga.get(s);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(s,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(s,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(s,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(s,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(s):e.type===1&&r.type===2?this.ga=this.ga.insert(s,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(s,{type:2,doc:e.doc}):ge(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(s,e)}ya(){const e=[];return this.ga.inorderTraversal((s,r)=>{e.push(r)}),e}}class Ja{constructor(e,s,r,i,a,o,l,c,d){this.query=e,this.docs=s,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,s,r,i,a){const o=[];return s.forEach(l=>{o.push({type:0,doc:l})}),new Ja(e,s,La.emptySet(s),o,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ch(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const s=this.docChanges,r=e.docChanges;if(s.length!==r.length)return!1;for(let i=0;i<s.length;i++)if(s[i].type!==r[i].type||!s[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class YD{constructor(){this.queries=rw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(s,r){const i=Ne(s),a=i.queries;i.queries=rw(),a.forEach((o,l)=>{for(const c of l.Sa)c.onError(r)})})(this,new le(Y.ABORTED,"Firestore shutting down"))}}function rw(){return new Ji(t=>U_(t),Ch)}async function $x(t,e){const s=Ne(t);let r=3;const i=e.query;let a=s.queries.get(i);a?!a.ba()&&e.Da()&&(r=2):(a=new QD,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await s.onListen(i,!0);break;case 1:a.wa=await s.onListen(i,!1);break;case 2:await s.onFirstRemoteStoreListen(i)}}catch(o){const l=Bx(o,`Initialization of query '${la(e.query)}' failed`);return void e.onError(l)}s.queries.set(i,a),a.Sa.push(e),e.va(s.onlineState),a.wa&&e.Fa(a.wa)&&qx(s)}async function zx(t,e){const s=Ne(t),r=e.query;let i=3;const a=s.queries.get(r);if(a){const o=a.Sa.indexOf(e);o>=0&&(a.Sa.splice(o,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return s.queries.delete(r),s.onUnlisten(r,!0);case 1:return s.queries.delete(r),s.onUnlisten(r,!1);case 2:return s.onLastRemoteStoreUnlisten(r);default:return}}function XD(t,e){const s=Ne(t);let r=!1;for(const i of e){const a=i.query,o=s.queries.get(a);if(o){for(const l of o.Sa)l.Fa(i)&&(r=!0);o.wa=i}}r&&qx(s)}function JD(t,e,s){const r=Ne(t),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(s);r.queries.delete(e)}function qx(t){t.Ca.forEach(e=>{e.next()})}var kp,nw;(nw=kp||(kp={})).Ma="default",nw.Cache="cache";class Hx{constructor(e,s,r){this.query=e,this.xa=s,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ja(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let s=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),s=!0):this.La(e,this.onlineState)&&(this.ka(e),s=!0),this.Na=e,s}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let s=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),s=!0),s}La(e,s){if(!e.fromCache||!this.Da())return!0;const r=s!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||s==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const s=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!s)&&this.options.includeMetadataChanges===!0}ka(e){e=Ja.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==kp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(e){this.key=e}}class wE{constructor(e){this.key=e}}class ZD{constructor(e,s){this.query=e,this.Ya=s,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ke(),this.mutatedKeys=ke(),this.eu=B_(e),this.tu=new La(this.eu)}get nu(){return this.Ya}ru(e,s){const r=s?s.iu:new sw,i=s?s.tu:this.tu;let a=s?s.mutatedKeys:this.mutatedKeys,o=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,f)=>{const m=i.get(h),p=Sh(this.query,f)?f:null,_=!!m&&this.mutatedKeys.has(m.key),N=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let y=!1;m&&p?m.data.isEqual(p.data)?_!==N&&(r.track({type:3,doc:p}),y=!0):this.su(m,p)||(r.track({type:2,doc:p}),y=!0,(c&&this.eu(p,c)>0||d&&this.eu(p,d)<0)&&(l=!0)):!m&&p?(r.track({type:0,doc:p}),y=!0):m&&!p&&(r.track({type:1,doc:m}),y=!0,(c||d)&&(l=!0)),y&&(p?(o=o.add(p),a=N?a.add(h):a.delete(h)):(o=o.delete(h),a=a.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),a=a.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Cs:l,mutatedKeys:a}}su(e,s){return e.hasLocalMutations&&s.hasCommittedMutations&&!s.hasLocalMutations}applyChanges(e,s,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((h,f)=>function(p,_){const N=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ge(20277,{Rt:y})}};return N(p)-N(_)}(h.type,f.type)||this.eu(h.doc,f.doc)),this.ou(r),i=i??!1;const l=s&&!i?this._u():[],c=this.Xa.size===0&&this.current&&!i?1:0,d=c!==this.Za;return this.Za=c,o.length!==0||d?{snapshot:new Ja(this.query,e.tu,a,o,e.mutatedKeys,c===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new sw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(s=>this.Ya=this.Ya.add(s)),e.modifiedDocuments.forEach(s=>{}),e.removedDocuments.forEach(s=>this.Ya=this.Ya.delete(s)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ke(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const s=[];return e.forEach(r=>{this.Xa.has(r)||s.push(new wE(r))}),this.Xa.forEach(r=>{e.has(r)||s.push(new bE(r))}),s}cu(e){this.Ya=e.Qs,this.Xa=ke();const s=this.ru(e.documents);return this.applyChanges(s,!0)}lu(){return Ja.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Wx="SyncEngine";class eM{constructor(e,s,r){this.query=e,this.targetId=s,this.view=r}}class tM{constructor(e){this.key=e,this.hu=!1}}class sM{constructor(e,s,r,i,a,o){this.localStore=e,this.remoteStore=s,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Ji(l=>U_(l),Ch),this.Iu=new Map,this.Eu=new Set,this.du=new st(fe.comparator),this.Au=new Map,this.Ru=new Ax,this.Vu={},this.mu=new Map,this.fu=Xa.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function rM(t,e,s=!0){const r=CE(t);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await NE(r,e,s,!0),i}async function nM(t,e){const s=CE(t);await NE(s,e,!0,!1)}async function NE(t,e,s,r){const i=await _D(t.localStore,fr(e)),a=i.targetId,o=t.sharedClientState.addLocalQueryTarget(a,s);let l;return r&&(l=await iM(t,e,a,o==="current",i.resumeToken)),t.isPrimaryClient&&s&&fE(t.remoteStore,i),l}async function iM(t,e,s,r,i){t.pu=(f,m,p)=>async function(N,y,b,v){let x=y.view.ru(b);x.Cs&&(x=await Yb(N.localStore,y.query,!1).then(({documents:C})=>y.view.ru(C,x)));const E=v&&v.targetChanges.get(y.targetId),I=v&&v.targetMismatches.get(y.targetId)!=null,L=y.view.applyChanges(x,N.isPrimaryClient,E,I);return aw(N,y.targetId,L.au),L.snapshot}(t,f,m,p);const a=await Yb(t.localStore,e,!0),o=new ZD(e,a.Qs),l=o.ru(a.documents),c=gc.createSynthesizedTargetChangeForCurrentChange(s,r&&t.onlineState!=="Offline",i),d=o.applyChanges(l,t.isPrimaryClient,c);aw(t,s,d.au);const h=new eM(e,s,o);return t.Tu.set(e,h),t.Iu.has(s)?t.Iu.get(s).push(e):t.Iu.set(s,[e]),d.snapshot}async function aM(t,e,s){const r=Ne(t),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter(o=>!Ch(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Sp(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),s&&Ox(r.remoteStore,i.targetId),Ip(r,i.targetId)}).catch(uo)):(Ip(r,i.targetId),await Sp(r.localStore,i.targetId,!0))}async function oM(t,e){const s=Ne(t),r=s.Tu.get(e),i=s.Iu.get(r.targetId);s.isPrimaryClient&&i.length===1&&(s.sharedClientState.removeLocalQueryTarget(r.targetId),Ox(s.remoteStore,r.targetId))}async function lM(t,e,s){const r=pM(t);try{const i=await function(o,l){const c=Ne(o),d=Ge.now(),h=l.reduce((p,_)=>p.add(_.key),ke());let f,m;return c.persistence.runTransaction("Locally write mutations","readwrite",p=>{let _=sn(),N=ke();return c.Ns.getEntries(p,h).next(y=>{_=y,_.forEach((b,v)=>{v.isValidDocument()||(N=N.add(b))})}).next(()=>c.localDocuments.getOverlayedDocuments(p,_)).next(y=>{f=y;const b=[];for(const v of l){const x=j5(v,f.get(v.key).overlayedDocument);x!=null&&b.push(new li(v.key,x,A_(x.value.mapValue),Os.exists(!0)))}return c.mutationQueue.addMutationBatch(p,d,b,l)}).next(y=>{m=y;const b=y.applyToLocalDocumentSet(f,N);return c.documentOverlayCache.saveOverlays(p,y.batchId,b)})}).then(()=>({batchId:m.batchId,changes:z_(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,l,c){let d=o.Vu[o.currentUser.toKey()];d||(d=new st(Pe)),d=d.insert(l,c),o.Vu[o.currentUser.toKey()]=d}(r,i.batchId,s),await yc(r,i.changes),await Dh(r.remoteStore)}catch(i){const a=Bx(i,"Failed to persist write");s.reject(a)}}async function jE(t,e){const s=Ne(t);try{const r=await wD(s.localStore,e);e.targetChanges.forEach((i,a)=>{const o=s.Au.get(a);o&&(Ve(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?Ve(o.hu,14607):i.removedDocuments.size>0&&(Ve(o.hu,42227),o.hu=!1))}),await yc(s,r,e)}catch(r){await uo(r)}}function iw(t,e,s){const r=Ne(t);if(r.isPrimaryClient&&s===0||!r.isPrimaryClient&&s===1){const i=[];r.Tu.forEach((a,o)=>{const l=o.view.va(e);l.snapshot&&i.push(l.snapshot)}),function(o,l){const c=Ne(o);c.onlineState=l;let d=!1;c.queries.forEach((h,f)=>{for(const m of f.Sa)m.va(l)&&(d=!0)}),d&&qx(c)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function cM(t,e,s){const r=Ne(t);r.sharedClientState.updateQueryState(e,"rejected",s);const i=r.Au.get(e),a=i&&i.key;if(a){let o=new st(fe.comparator);o=o.insert(a,Ht.newNoDocument(a,we.min()));const l=ke().add(a),c=new Ih(we.min(),new Map,new st(Pe),o,l);await jE(r,c),r.du=r.du.remove(a),r.Au.delete(e),Gx(r)}else await Sp(r.localStore,e,!1).then(()=>Ip(r,e,s)).catch(uo)}async function uM(t,e){const s=Ne(t),r=e.batch.batchId;try{const i=await bD(s.localStore,e);EE(s,r,null),_E(s,r),s.sharedClientState.updateMutationState(r,"acknowledged"),await yc(s,i)}catch(i){await uo(i)}}async function dM(t,e,s){const r=Ne(t);try{const i=await function(o,l){const c=Ne(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let h;return c.mutationQueue.lookupMutationBatch(d,l).next(f=>(Ve(f!==null,37113),h=f.keys(),c.mutationQueue.removeMutationBatch(d,f))).next(()=>c.mutationQueue.performConsistencyCheck(d)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(d,h,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h)).next(()=>c.localDocuments.getDocuments(d,h))})}(r.localStore,e);EE(r,e,s),_E(r,e),r.sharedClientState.updateMutationState(e,"rejected",s),await yc(r,i)}catch(i){await uo(i)}}function _E(t,e){(t.mu.get(e)||[]).forEach(s=>{s.resolve()}),t.mu.delete(e)}function EE(t,e,s){const r=Ne(t);let i=r.Vu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(s?a.reject(s):a.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function Ip(t,e,s=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),s&&t.Pu.yu(r,s);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||TE(t,r)})}function TE(t,e){t.Eu.delete(e.path.canonicalString());const s=t.du.get(e);s!==null&&(Ox(t.remoteStore,s),t.du=t.du.remove(e),t.Au.delete(s),Gx(t))}function aw(t,e,s){for(const r of s)r instanceof bE?(t.Ru.addReference(r.key,e),hM(t,r)):r instanceof wE?(ue(Wx,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||TE(t,r.key)):ge(19791,{wu:r})}function hM(t,e){const s=e.key,r=s.path.canonicalString();t.du.get(s)||t.Eu.has(r)||(ue(Wx,"New document in limbo: "+s),t.Eu.add(r),Gx(t))}function Gx(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const s=new fe($e.fromString(e)),r=t.fu.next();t.Au.set(r,new tM(s)),t.du=t.du.insert(s,r),fE(t.remoteStore,new Pn(fr(Th(s.path)),r,"TargetPurposeLimboResolution",jh.ce))}}async function yc(t,e,s){const r=Ne(t),i=[],a=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((l,c)=>{o.push(r.pu(c,e,s).then(d=>{var h;if((d||s)&&r.isPrimaryClient){const f=d?!d.fromCache:(h=s==null?void 0:s.targetChanges.get(c.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(d){i.push(d);const f=Dx.As(c.targetId,d);a.push(f)}}))}),await Promise.all(o),r.Pu.H_(i),await async function(c,d){const h=Ne(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>J.forEach(d,m=>J.forEach(m.Es,p=>h.persistence.referenceDelegate.addReference(f,m.targetId,p)).next(()=>J.forEach(m.ds,p=>h.persistence.referenceDelegate.removeReference(f,m.targetId,p)))))}catch(f){if(!ho(f))throw f;ue(Mx,"Failed to update sequence numbers: "+f)}for(const f of d){const m=f.targetId;if(!f.fromCache){const p=h.Ms.get(m),_=p.snapshotVersion,N=p.withLastLimboFreeSnapshotVersion(_);h.Ms=h.Ms.insert(m,N)}}}(r.localStore,a))}async function mM(t,e){const s=Ne(t);if(!s.currentUser.isEqual(e)){ue(Wx,"User change. New user:",e.toKey());const r=await uE(s.localStore,e);s.currentUser=e,function(a,o){a.mu.forEach(l=>{l.forEach(c=>{c.reject(new le(Y.CANCELLED,o))})}),a.mu.clear()}(s,"'waitForPendingWrites' promise is rejected due to a user change."),s.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await yc(s,r.Ls)}}function fM(t,e){const s=Ne(t),r=s.Au.get(e);if(r&&r.hu)return ke().add(r.key);{let i=ke();const a=s.Iu.get(e);if(!a)return i;for(const o of a){const l=s.Tu.get(o);i=i.unionWith(l.view.nu)}return i}}function CE(t){const e=Ne(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=jE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=fM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=cM.bind(null,e),e.Pu.H_=XD.bind(null,e.eventManager),e.Pu.yu=JD.bind(null,e.eventManager),e}function pM(t){const e=Ne(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=uM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=dM.bind(null,e),e}class Ld{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ah(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,s){return null}Mu(e,s){return null}vu(e){return vD(this.persistence,new gD,e.initialUser,this.serializer)}Cu(e){return new cE(Rx.mi,this.serializer)}Du(e){return new TD}async terminate(){var e,s;(e=this.gcScheduler)==null||e.stop(),(s=this.indexBackfillerScheduler)==null||s.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ld.provider={build:()=>new Ld};class gM extends Ld{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,s){Ve(this.persistence.referenceDelegate instanceof Od,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new tD(r,e.asyncQueue,s)}Cu(e){const s=this.cacheSizeBytes!==void 0?rs.withCacheSize(this.cacheSizeBytes):rs.DEFAULT;return new cE(r=>Od.mi(r,s),this.serializer)}}class Ap{async initialize(e,s){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(s),this.remoteStore=this.createRemoteStore(s),this.eventManager=this.createEventManager(s),this.syncEngine=this.createSyncEngine(s,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>iw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=mM.bind(null,this.syncEngine),await KD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new YD}()}createDatastore(e){const s=Ah(e.databaseInfo.databaseId),r=function(a){return new ID(a)}(e.databaseInfo);return function(a,o,l,c){return new MD(a,o,l,c)}(e.authCredentials,e.appCheckCredentials,r,s)}createRemoteStore(e){return function(r,i,a,o,l){return new VD(r,i,a,o,l)}(this.localStore,this.datastore,e.asyncQueue,s=>iw(this.syncEngine,s,0),function(){return Zb.v()?new Zb:new CD}())}createSyncEngine(e,s){return function(i,a,o,l,c,d,h){const f=new sM(i,a,o,l,c,d);return h&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,s)}async terminate(){var e,s;await async function(i){const a=Ne(i);ue(zi,"RemoteStore shutting down."),a.Ea.add(5),await xc(a),a.Aa.shutdown(),a.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(s=this.eventManager)==null||s.terminate()}}Ap.provider={build:()=>new Ap};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):tn("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,s){setTimeout(()=>{this.muted||e(s)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xn="FirestoreClient";class xM{constructor(e,s,r,i,a){this.authCredentials=e,this.appCheckCredentials=s,this.asyncQueue=r,this.databaseInfo=i,this.user=zt.UNAUTHENTICATED,this.clientId=wx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async o=>{ue(Xn,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(ue(Xn,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new zr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(s){const r=Bx(s,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Wm(t,e){t.asyncQueue.verifyOperationInProgress(),ue(Xn,"Initializing OfflineComponentProvider");const s=t.configuration;await e.initialize(s);let r=s.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await uE(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function ow(t,e){t.asyncQueue.verifyOperationInProgress();const s=await yM(t);ue(Xn,"Initializing OnlineComponentProvider"),await e.initialize(s,t.configuration),t.setCredentialChangeListener(r=>tw(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>tw(e.remoteStore,i)),t._onlineComponents=e}async function yM(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ue(Xn,"Using user provided OfflineComponentProvider");try{await Wm(t,t._uninitializedComponentsProvider._offline)}catch(e){const s=e;if(!function(i){return i.name==="FirebaseError"?i.code===Y.FAILED_PRECONDITION||i.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(s))throw s;Ga("Error using user provided cache. Falling back to memory cache: "+s),await Wm(t,new Ld)}}else ue(Xn,"Using default OfflineComponentProvider"),await Wm(t,new gM(void 0));return t._offlineComponents}async function SE(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ue(Xn,"Using user provided OnlineComponentProvider"),await ow(t,t._uninitializedComponentsProvider._online)):(ue(Xn,"Using default OnlineComponentProvider"),await ow(t,new Ap))),t._onlineComponents}function vM(t){return SE(t).then(e=>e.syncEngine)}async function Fd(t){const e=await SE(t),s=e.eventManager;return s.onListen=rM.bind(null,e.syncEngine),s.onUnlisten=aM.bind(null,e.syncEngine),s.onFirstRemoteStoreListen=nM.bind(null,e.syncEngine),s.onLastRemoteStoreUnlisten=oM.bind(null,e.syncEngine),s}function bM(t,e,s={}){const r=new zr;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,l,c,d){const h=new Kx({next:m=>{h.Nu(),o.enqueueAndForget(()=>zx(a,f));const p=m.docs.has(l);!p&&m.fromCache?d.reject(new le(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&m.fromCache&&c&&c.source==="server"?d.reject(new le(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(m)},error:m=>d.reject(m)}),f=new Hx(Th(l.path),h,{includeMetadataChanges:!0,qa:!0});return $x(a,f)}(await Fd(t),t.asyncQueue,e,s,r)),r.promise}function wM(t,e,s={}){const r=new zr;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,l,c,d){const h=new Kx({next:m=>{h.Nu(),o.enqueueAndForget(()=>zx(a,f)),m.fromCache&&c.source==="server"?d.reject(new le(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(m)},error:m=>d.reject(m)}),f=new Hx(l,h,{includeMetadataChanges:!0,qa:!0});return $x(a,f)}(await Fd(t),t.asyncQueue,e,s,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PE(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE="firestore.googleapis.com",cw=!0;class uw{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=kE,this.ssl=cw}else this.host=e.host,this.ssl=e.ssl??cw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=lE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Z5)throw new le(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}L6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=PE(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new le(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new le(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new le(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Mh{constructor(e,s,r,i){this._authCredentials=e,this._appCheckCredentials=s,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new S6;switch(r.type){case"firstParty":return new A6(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new le(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(s){const r=lw.get(s);r&&(ue("ComponentProvider","Removing Datastore"),lw.delete(s),r.terminate())}(this),Promise.resolve()}}function NM(t,e,s,r={}){var d;t=ms(t,Mh);const i=Yi(e),a=t._getSettings(),o={...a,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${s}`;i&&(ax(`https://${l}`),ox("Firestore",!0)),a.host!==kE&&a.host!==l&&Ga("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...a,host:l,ssl:i,emulatorOptions:r};if(!Fi(c,o)&&(t._setSettings(c),r.mockUserToken)){let h,f;if(typeof r.mockUserToken=="string")h=r.mockUserToken,f=zt.MOCK_USER;else{h=S2(r.mockUserToken,(d=t._app)==null?void 0:d.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new le(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new zt(m)}t._authCredentials=new P6(new v_(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e,s,r){this.converter=s,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ea(this.firestore,e,this._query)}}class ct{constructor(e,s,r){this.converter=s,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $n(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ct(this.firestore,e,this._key)}toJSON(){return{type:ct._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,s,r){if(mc(s,ct._jsonSchema))return new ct(e,r||null,new fe($e.fromString(s.referencePath)))}}ct._jsonSchemaVersion="firestore/documentReference/1.0",ct._jsonSchema={type:yt("string",ct._jsonSchemaVersion),referencePath:yt("string")};class $n extends ea{constructor(e,s,r){super(e,s,Th(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ct(this.firestore,null,new fe(e))}withConverter(e){return new $n(this.firestore,e,this._path)}}function it(t,e,...s){if(t=vt(t),b_("collection","path",e),t instanceof Mh){const r=$e.fromString(e,...s);return jb(r),new $n(t,null,r)}{if(!(t instanceof ct||t instanceof $n))throw new le(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child($e.fromString(e,...s));return jb(r),new $n(t.firestore,null,r)}}function Te(t,e,...s){if(t=vt(t),arguments.length===1&&(e=wx.newId()),b_("doc","path",e),t instanceof Mh){const r=$e.fromString(e,...s);return Nb(r),new ct(t,null,new fe(r))}{if(!(t instanceof ct||t instanceof $n))throw new le(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child($e.fromString(e,...s));return Nb(r),new ct(t.firestore,t instanceof $n?t.converter:null,new fe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw="AsyncQueue";class hw{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new hE(this,"async_queue_retry"),this._c=()=>{const r=Hm();r&&ue(dw,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const s=Hm();s&&typeof s.addEventListener=="function"&&s.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const s=Hm();s&&typeof s.removeEventListener=="function"&&s.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const s=new zr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(s.resolve,s.reject),s.promise)).then(()=>s.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ho(e))throw e;ue(dw,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const s=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,tn("INTERNAL UNHANDLED ERROR: ",mw(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=s,s}enqueueAfterDelay(e,s,r){this.uc(),this.oc.indexOf(e)>-1&&(s=0);const i=Ux.createAndSchedule(this,e,s,r,a=>this.hc(a));return this.tc.push(i),i}uc(){this.nc&&ge(47125,{Pc:mw(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const s of this.tc)if(s.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((s,r)=>s.targetTimeMs-r.targetTimeMs);for(const s of this.tc)if(s.skipDelay(),e!=="all"&&s.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const s=this.tc.indexOf(e);this.tc.splice(s,1)}}function mw(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fw(t){return function(s,r){if(typeof s!="object"||s===null)return!1;const i=s;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1}(t,["next","error","complete"])}class rn extends Mh{constructor(e,s,r,i){super(e,s,r,i),this.type="firestore",this._queue=new hw,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new hw(e),this._firestoreClient=void 0,await e}}}function jM(t,e){const s=typeof t=="object"?t:ux(),r=typeof t=="string"?t:Pd,i=vh(s,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=E2("firestore");a&&NM(i,...a)}return i}function Oh(t){if(t._terminated)throw new le(Y.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||_M(t),t._firestoreClient}function _M(t){var r,i,a;const e=t._freezeSettings(),s=function(l,c,d,h){return new Q6(l,c,d,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,PE(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new xM(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e){this._byteString=e}static fromBase64String(e){try{return new As(Ot.fromBase64String(e))}catch(s){throw new le(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+s)}}static fromUint8Array(e){return new As(Ot.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:As._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(mc(e,As._jsonSchema))return As.fromBase64String(e.bytes)}}As._jsonSchemaVersion="firestore/bytes/1.0",As._jsonSchema={type:yt("string",As._jsonSchemaVersion),bytes:yt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(...e){for(let s=0;s<e.length;++s)if(e[s].length===0)throw new le(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e,s){if(!isFinite(e)||e<-90||e>90)throw new le(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(s)||s<-180||s>180)throw new le(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+s);this._lat=e,this._long=s}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:gr._jsonSchemaVersion}}static fromJSON(e){if(mc(e,gr._jsonSchema))return new gr(e.latitude,e.longitude)}}gr._jsonSchemaVersion="firestore/geoPoint/1.0",gr._jsonSchema={type:yt("string",gr._jsonSchemaVersion),latitude:yt("number"),longitude:yt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e){this._values=(e||[]).map(s=>s)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:xr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(mc(e,xr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(s=>typeof s=="number"))return new xr(e.vectorValues);throw new le(Y.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}xr._jsonSchemaVersion="firestore/vectorValue/1.0",xr._jsonSchema={type:yt("string",xr._jsonSchemaVersion),vectorValues:yt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EM=/^__.*__$/;class TM{constructor(e,s,r){this.data=e,this.fieldMask=s,this.fieldTransforms=r}toMutation(e,s){return this.fieldMask!==null?new li(e,this.data,this.fieldMask,s,this.fieldTransforms):new pc(e,this.data,s,this.fieldTransforms)}}class IE{constructor(e,s,r){this.data=e,this.fieldMask=s,this.fieldTransforms=r}toMutation(e,s){return new li(e,this.data,this.fieldMask,s,this.fieldTransforms)}}function AE(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ge(40011,{Ac:t})}}class Yx{constructor(e,s,r,i,a,o){this.settings=e,this.databaseId=s,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Yx({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const s=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:s,fc:!1});return r.gc(e),r}yc(e){var i;const s=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:s,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ud(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(s=>e.isPrefixOf(s))!==void 0||this.fieldTransforms.find(s=>e.isPrefixOf(s.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(AE(this.Ac)&&EM.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class CM{constructor(e,s,r){this.databaseId=e,this.ignoreUndefinedProperties=s,this.serializer=r||Ah(e)}Cc(e,s,r,i=!1){return new Yx({Ac:e,methodName:s,Dc:r,path:Rt.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Lh(t){const e=t._freezeSettings(),s=Ah(t._databaseId);return new CM(t._databaseId,!!e.ignoreUndefinedProperties,s)}function RE(t,e,s,r,i,a={}){const o=t.Cc(a.merge||a.mergeFields?2:0,e,s,i);Xx("Data must be an object, but it was:",o,r);const l=DE(r,o);let c,d;if(a.merge)c=new vs(o.fieldMask),d=o.fieldTransforms;else if(a.mergeFields){const h=[];for(const f of a.mergeFields){const m=Rp(e,f,s);if(!o.contains(m))throw new le(Y.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);OE(h,m)||h.push(m)}c=new vs(h),d=o.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,d=o.fieldTransforms;return new TM(new is(l),c,d)}class Fh extends Qx{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Fh}}function SM(t,e,s,r){const i=t.Cc(1,e,s);Xx("Data must be an object, but it was:",i,r);const a=[],o=is.empty();oi(r,(c,d)=>{const h=Jx(e,c,s);d=vt(d);const f=i.yc(h);if(d instanceof Fh)a.push(h);else{const m=vc(d,f);m!=null&&(a.push(h),o.set(h,m))}});const l=new vs(a);return new IE(o,l,i.fieldTransforms)}function PM(t,e,s,r,i,a){const o=t.Cc(1,e,s),l=[Rp(e,r,s)],c=[i];if(a.length%2!=0)throw new le(Y.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<a.length;m+=2)l.push(Rp(e,a[m])),c.push(a[m+1]);const d=[],h=is.empty();for(let m=l.length-1;m>=0;--m)if(!OE(d,l[m])){const p=l[m];let _=c[m];_=vt(_);const N=o.yc(p);if(_ instanceof Fh)d.push(p);else{const y=vc(_,N);y!=null&&(d.push(p),h.set(p,y))}}const f=new vs(d);return new IE(h,f,o.fieldTransforms)}function kM(t,e,s,r=!1){return vc(s,t.Cc(r?4:3,e))}function vc(t,e){if(ME(t=vt(t)))return Xx("Unsupported field value:",e,t),DE(t,e);if(t instanceof Qx)return function(r,i){if(!AE(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const a=[];let o=0;for(const l of r){let c=vc(l,i.wc(o));c==null&&(c={nullValue:"NULL_VALUE"}),a.push(c),o++}return{arrayValue:{values:a}}}(t,e)}return function(r,i){if((r=vt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return x5(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Ge.fromDate(r);return{timestampValue:Md(i.serializer,a)}}if(r instanceof Ge){const a=new Ge(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Md(i.serializer,a)}}if(r instanceof gr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof As)return{bytesValue:tE(i.serializer,r._byteString)};if(r instanceof ct){const a=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(a))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Ix(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof xr)return function(o,l){return{mapValue:{fields:{[P_]:{stringValue:I_},[kd]:{arrayValue:{values:o.toArray().map(d=>{if(typeof d!="number")throw l.Sc("VectorValues must only contain numeric values.");return Cx(l.serializer,d)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${Nh(r)}`)}(t,e)}function DE(t,e){const s={};return j_(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):oi(t,(r,i)=>{const a=vc(i,e.mc(r));a!=null&&(s[r]=a)}),{mapValue:{fields:s}}}function ME(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ge||t instanceof gr||t instanceof As||t instanceof ct||t instanceof Qx||t instanceof xr)}function Xx(t,e,s){if(!ME(s)||!w_(s)){const r=Nh(s);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Rp(t,e,s){if((e=vt(e))instanceof Vh)return e._internalPath;if(typeof e=="string")return Jx(t,e);throw Ud("Field path arguments must be of type string or ",t,!1,void 0,s)}const IM=new RegExp("[~\\*/\\[\\]]");function Jx(t,e,s){if(e.search(IM)>=0)throw Ud(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,s);try{return new Vh(...e.split("."))._internalPath}catch{throw Ud(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,s)}}function Ud(t,e,s,r,i){const a=r&&!r.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;s&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(a||o)&&(c+=" (found",a&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new le(Y.INVALID_ARGUMENT,l+t+c)}function OE(t,e){return t.some(s=>s.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(e,s,r,i,a){this._firestore=e,this._userDataWriter=s,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new ct(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new AM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const s=this._document.data.field(Zx("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s)}}}class AM extends VE{data(){return super.data()}}function Zx(t,e){return typeof e=="string"?Jx(t,e):e instanceof Vh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LE(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new le(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class e0{}class RM extends e0{}function hu(t,e,...s){let r=[];e instanceof e0&&r.push(e),r=r.concat(s),function(a){const o=a.filter(c=>c instanceof t0).length,l=a.filter(c=>c instanceof Uh).length;if(o>1||o>0&&l>0)throw new le(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Uh extends RM{constructor(e,s,r){super(),this._field=e,this._op=s,this._value=r,this.type="where"}static _create(e,s,r){return new Uh(e,s,r)}_apply(e){const s=this._parse(e);return FE(e._query,s),new ea(e.firestore,e.converter,Np(e._query,s))}_parse(e){const s=Lh(e.firestore);return function(a,o,l,c,d,h,f){let m;if(d.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new le(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){gw(f,h);const _=[];for(const N of f)_.push(pw(c,a,N));m={arrayValue:{values:_}}}else m=pw(c,a,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||gw(f,h),m=kM(l,o,f,h==="in"||h==="not-in");return xt.create(d,h,m)}(e._query,"where",s,e.firestore._databaseId,this._field,this._op,this._value)}}function mu(t,e,s){const r=e,i=Zx("where",t);return Uh._create(i,r,s)}class t0 extends e0{constructor(e,s){super(),this.type=e,this._queryConstraints=s}static _create(e,s){return new t0(e,s)}_parse(e){const s=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return s.length===1?s[0]:sr.create(s,this._getOperator())}_apply(e){const s=this._parse(e);return s.getFilters().length===0?e:(function(i,a){let o=i;const l=a.getFlattenedFilters();for(const c of l)FE(o,c),o=Np(o,c)}(e._query,s),new ea(e.firestore,e.converter,Np(e._query,s)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function pw(t,e,s){if(typeof(s=vt(s))=="string"){if(s==="")throw new le(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!F_(e)&&s.indexOf("/")!==-1)throw new le(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${s}' contains a '/' character.`);const r=e.path.child($e.fromString(s));if(!fe.isDocumentKey(r))throw new le(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ib(t,new fe(r))}if(s instanceof ct)return Ib(t,s._key);throw new le(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Nh(s)}.`)}function gw(t,e){if(!Array.isArray(t)||t.length===0)throw new le(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function FE(t,e){const s=function(i,a){for(const o of i)for(const l of o.getFlattenedFilters())if(a.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(s!==null)throw s===e.op?new le(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${s.toString()}' filters.`)}class DM{convertValue(e,s="none"){switch(Qn(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,s);case 5:return e.stringValue;case 6:return this.convertBytes(Kn(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,s);case 11:return this.convertObject(e.mapValue,s);case 10:return this.convertVectorValue(e.mapValue);default:throw ge(62114,{value:e})}}convertObject(e,s){return this.convertObjectMap(e.fields,s)}convertObjectMap(e,s="none"){const r={};return oi(e,(i,a)=>{r[i]=this.convertValue(a,s)}),r}convertVectorValue(e){var r,i,a;const s=(a=(i=(r=e.fields)==null?void 0:r[kd].arrayValue)==null?void 0:i.values)==null?void 0:a.map(o=>dt(o.doubleValue));return new xr(s)}convertGeoPoint(e){return new gr(dt(e.latitude),dt(e.longitude))}convertArray(e,s){return(e.values||[]).map(r=>this.convertValue(r,s))}convertServerTimestamp(e,s){switch(s){case"previous":const r=Eh(e);return r==null?null:this.convertValue(r,s);case"estimate":return this.convertTimestamp(Bl(e));default:return null}}convertTimestamp(e){const s=Gn(e);return new Ge(s.seconds,s.nanos)}convertDocumentKey(e,s){const r=$e.fromString(e);Ve(oE(r),9688,{name:e});const i=new $l(r.get(1),r.get(3)),a=new fe(r.popFirst(5));return i.isEqual(s)||tn(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${s.projectId}/${s.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE(t,e,s){let r;return r=t?t.toFirestore(e):e,r}class Qo{constructor(e,s){this.hasPendingWrites=e,this.fromCache=s}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ki extends VE{constructor(e,s,r,i,a,o){super(e,s,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const s=new zu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(s,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,s={}){if(this._document){const r=this._document.data.field(Zx("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,s.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(Y.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,s={};return s.type=ki._jsonSchemaVersion,s.bundle="",s.bundleSource="DocumentSnapshot",s.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?s:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),s.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),s)}}ki._jsonSchemaVersion="firestore/documentSnapshot/1.0",ki._jsonSchema={type:yt("string",ki._jsonSchemaVersion),bundleSource:yt("string","DocumentSnapshot"),bundleName:yt("string"),bundle:yt("string")};class zu extends ki{data(e={}){return super.data(e)}}class Ii{constructor(e,s,r,i){this._firestore=e,this._userDataWriter=s,this._snapshot=i,this.metadata=new Qo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(s=>e.push(s)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,s){this._snapshot.docs.forEach(r=>{e.call(s,new zu(this._firestore,this._userDataWriter,r.key,r,new Qo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const s=!!e.includeMetadataChanges;if(s&&this._snapshot.excludesMetadataChanges)throw new le(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===s||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(l=>{const c=new zu(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Qo(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>a||l.type!==3).map(l=>{const c=new zu(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Qo(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,h=-1;return l.type!==0&&(d=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),h=o.indexOf(l.doc.key)),{type:MM(l.type),doc:c,oldIndex:d,newIndex:h}})}}(this,s),this._cachedChangesIncludeMetadataChanges=s),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(Y.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ii._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=wx.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const s=[],r=[],i=[];return this.docs.forEach(a=>{a._document!==null&&(s.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function MM(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ge(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(t){t=ms(t,ct);const e=ms(t.firestore,rn);return bM(Oh(e),t._key).then(s=>BE(e,t,s))}Ii._jsonSchemaVersion="firestore/querySnapshot/1.0",Ii._jsonSchema={type:yt("string",Ii._jsonSchemaVersion),bundleSource:yt("string","QuerySnapshot"),bundleName:yt("string"),bundle:yt("string")};class s0 extends DM{constructor(e){super(),this.firestore=e}convertBytes(e){return new As(e)}convertReference(e){const s=this.convertDocumentKey(e,this.firestore._databaseId);return new ct(this.firestore,null,s)}}function Yo(t){t=ms(t,ea);const e=ms(t.firestore,rn),s=Oh(e),r=new s0(e);return LE(t._query),wM(s,t._query).then(i=>new Ii(e,r,t,i))}function Uo(t,e,s){t=ms(t,ct);const r=ms(t.firestore,rn),i=UE(t.converter,e);return Bh(r,[RE(Lh(r),"setDoc",t._key,i,t.converter!==null,s).toMutation(t._key,Os.none())])}function wt(t,e,s,...r){t=ms(t,ct);const i=ms(t.firestore,rn),a=Lh(i);let o;return o=typeof(e=vt(e))=="string"||e instanceof Vh?PM(a,"updateDoc",t._key,e,s,r):SM(a,"updateDoc",t._key,e),Bh(i,[o.toMutation(t._key,Os.exists(!0))])}function Rr(t){return Bh(ms(t.firestore,rn),[new Sx(t._key,Os.none())])}function Dr(t,e){const s=ms(t.firestore,rn),r=Te(t),i=UE(t.converter,e);return Bh(s,[RE(Lh(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Os.exists(!1))]).then(()=>r)}function gn(t,...e){var c,d,h;t=vt(t);let s={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||fw(e[r])||(s=e[r++]);const i={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(fw(e[r])){const f=e[r];e[r]=(c=f.next)==null?void 0:c.bind(f),e[r+1]=(d=f.error)==null?void 0:d.bind(f),e[r+2]=(h=f.complete)==null?void 0:h.bind(f)}let a,o,l;if(t instanceof ct)o=ms(t.firestore,rn),l=Th(t._key.path),a={next:f=>{e[r]&&e[r](BE(o,t,f))},error:e[r+1],complete:e[r+2]};else{const f=ms(t,ea);o=ms(f.firestore,rn),l=f._query;const m=new s0(o);a={next:p=>{e[r]&&e[r](new Ii(o,m,f,p))},error:e[r+1],complete:e[r+2]},LE(t._query)}return function(m,p,_,N){const y=new Kx(N),b=new Hx(p,y,_);return m.asyncQueue.enqueueAndForget(async()=>$x(await Fd(m),b)),()=>{y.Nu(),m.asyncQueue.enqueueAndForget(async()=>zx(await Fd(m),b))}}(Oh(o),l,i,a)}function Bh(t,e){return function(r,i){const a=new zr;return r.asyncQueue.enqueueAndForget(async()=>lM(await vM(r),i,a)),a.promise}(Oh(t),e)}function BE(t,e,s){const r=s.docs.get(e._key),i=new s0(t);return new ki(t,i,e._key,r,new Qo(s.hasPendingWrites,s.fromCache),e.converter)}(function(e,s=!0){(function(i){co=i})(Xi),Ui(new Hn("firestore",(r,{instanceIdentifier:i,options:a})=>{const o=r.getProvider("app").getImmediate(),l=new rn(new k6(r.getProvider("auth-internal")),new R6(o,r.getProvider("app-check-internal")),function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new le(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $l(d.options.projectId,h)}(o,i),o);return a={useFetchStreams:s,...a},l._setSettings(a),l},"PUBLIC").setMultipleInstances(!0)),dr(yb,vb,e),dr(yb,vb,"esm2020")})();var OM="firebase",VM="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */dr(OM,VM,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E="firebasestorage.googleapis.com",LM="storageBucket",FM=2*60*1e3,UM=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr extends Er{constructor(e,s,r=0){super(Gm(e),`Firebase Storage: ${s} (${Gm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Tr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Gm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Nr;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Nr||(Nr={}));function Gm(t){return"storage/"+t}function BM(){const t="An unknown error occurred, please check the error payload for server response.";return new Tr(Nr.UNKNOWN,t)}function $M(){return new Tr(Nr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function zM(){return new Tr(Nr.CANCELED,"User canceled the upload/download.")}function qM(t){return new Tr(Nr.INVALID_URL,"Invalid URL '"+t+"'.")}function HM(t){return new Tr(Nr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function xw(t){return new Tr(Nr.INVALID_ARGUMENT,t)}function zE(){return new Tr(Nr.APP_DELETED,"The Firebase app was deleted.")}function WM(t){return new Tr(Nr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e,s){this.bucket=e,this.path_=s}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,s){let r;try{r=Xs.makeFromUrl(e,s)}catch{return new Xs(e,"")}if(r.path==="")return r;throw HM(e)}static makeFromUrl(e,s){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a(E){E.path.charAt(E.path.length-1)==="/"&&(E.path_=E.path_.slice(0,-1))}const o="(/(.*))?$",l=new RegExp("^gs://"+i+o,"i"),c={bucket:1,path:3};function d(E){E.path_=decodeURIComponent(E.path)}const h="v[A-Za-z0-9_]+",f=s.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",p=new RegExp(`^https?://${f}/${h}/b/${i}/o${m}`,"i"),_={bucket:1,path:3},N=s===$E?"(?:storage.googleapis.com|storage.cloud.google.com)":s,y="([^?#]*)",b=new RegExp(`^https?://${N}/${i}/${y}`,"i"),x=[{regex:l,indices:c,postModify:a},{regex:p,indices:_,postModify:d},{regex:b,indices:{bucket:1,path:2},postModify:d}];for(let E=0;E<x.length;E++){const I=x[E],L=I.regex.exec(e);if(L){const C=L[I.indices.bucket];let j=L[I.indices.path];j||(j=""),r=new Xs(C,j),I.postModify(r);break}}if(r==null)throw qM(e);return r}}class GM{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KM(t,e,s){let r=1,i=null,a=null,o=!1,l=0;function c(){return l===2}let d=!1;function h(...y){d||(d=!0,e.apply(null,y))}function f(y){i=setTimeout(()=>{i=null,t(p,c())},y)}function m(){a&&clearTimeout(a)}function p(y,...b){if(d){m();return}if(y){m(),h.call(null,y,...b);return}if(c()||o){m(),h.call(null,y,...b);return}r<64&&(r*=2);let x;l===1?(l=2,x=0):x=(r+Math.random())*1e3,f(x)}let _=!1;function N(y){_||(_=!0,m(),!d&&(i!==null?(y||(l=2),clearTimeout(i),f(0)):y||(l=1)))}return f(0),a=setTimeout(()=>{o=!0,N(!0)},s),N}function QM(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YM(t){return t!==void 0}function yw(t,e,s,r){if(r<e)throw xw(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>s)throw xw(`Invalid value for '${t}'. Expected ${s} or less.`)}function XM(t){const e=encodeURIComponent;let s="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);s=s+i+"&"}return s=s.slice(0,-1),s}var Bd;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Bd||(Bd={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JM(t,e){const s=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return s||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{constructor(e,s,r,i,a,o,l,c,d,h,f,m=!0,p=!1){this.url_=e,this.method_=s,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=l,this.errorCallback_=c,this.timeout_=d,this.progressCallback_=h,this.connectionFactory_=f,this.retry=m,this.isUsingEmulator=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((_,N)=>{this.resolve_=_,this.reject_=N,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new fu(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const o=l=>{const c=l.loaded,d=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,d)};this.progressCallback_!==null&&a.addUploadProgressListener(o),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(o),this.pendingConnection_=null;const l=a.getErrorCode()===Bd.NO_ERROR,c=a.getStatus();if(!l||JM(c,this.additionalRetryCodes_)&&this.retry){const h=a.getErrorCode()===Bd.ABORT;r(!1,new fu(!1,null,h));return}const d=this.successCodes_.indexOf(c)!==-1;r(!0,new fu(d,a))})},s=(r,i)=>{const a=this.resolve_,o=this.reject_,l=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());YM(c)?a(c):a()}catch(c){o(c)}else if(l!==null){const c=BM();c.serverResponse=l.getErrorText(),this.errorCallback_?o(this.errorCallback_(l,c)):o(c)}else if(i.canceled){const c=this.appDelete_?zE():zM();o(c)}else{const c=$M();o(c)}};this.canceled_?s(!1,new fu(!1,null,!0)):this.backoffId_=KM(e,s,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&QM(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class fu{constructor(e,s,r){this.wasSuccessCode=e,this.connection=s,this.canceled=!!r}}function e9(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function t9(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function s9(t,e){e&&(t["X-Firebase-GMPID"]=e)}function r9(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function n9(t,e,s,r,i,a,o=!0,l=!1){const c=XM(t.urlParams),d=t.url+c,h=Object.assign({},t.headers);return s9(h,e),e9(h,s),t9(h,a),r9(h,r),new ZM(d,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i9(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function a9(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e,s){this._service=e,s instanceof Xs?this._location=s:this._location=Xs.makeFromUrl(s,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,s){return new $d(e,s)}get root(){const e=new Xs(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return a9(this._location.path)}get storage(){return this._service}get parent(){const e=i9(this._location.path);if(e===null)return null;const s=new Xs(this._location.bucket,e);return new $d(this._service,s)}_throwIfRoot(e){if(this._location.path==="")throw WM(e)}}function vw(t,e){const s=e==null?void 0:e[LM];return s==null?null:Xs.makeFromBucketSpec(s,t)}function o9(t,e,s,r={}){t.host=`${e}:${s}`;const i=Yi(e);i&&(ax(`https://${t.host}/b`),ox("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:S2(a,t.app.options.projectId))}class l9{constructor(e,s,r,i,a,o=!1){this.app=e,this._authProvider=s,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=o,this._bucket=null,this._host=$E,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=FM,this._maxUploadRetryTime=UM,this._requests=new Set,i!=null?this._bucket=Xs.makeFromBucketSpec(i,this._host):this._bucket=vw(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Xs.makeFromBucketSpec(this._url,e):this._bucket=vw(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){yw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){yw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const s=await e.getToken();if(s!==null)return s.accessToken}return null}async _getAppCheckToken(){if(Qs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new $d(this,e)}_makeRequest(e,s,r,i,a=!0){if(this._deleted)return new GM(zE());{const o=n9(e,this._appId,r,i,s,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,s){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,s,r,i).getPromise()}}const bw="@firebase/storage",ww="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE="storage";function c9(t=ux(),e){t=vt(t);const r=vh(t,qE).getImmediate({identifier:e}),i=E2("storage");return i&&u9(r,...i),r}function u9(t,e,s,r={}){o9(t,e,s,r)}function d9(t,{instanceIdentifier:e}){const s=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new l9(s,r,i,e,Xi)}function h9(){Ui(new Hn(qE,d9,"PUBLIC").setMultipleInstances(!0)),dr(bw,ww,""),dr(bw,ww,"esm2020")}h9();const m9={apiKey:"AIzaSyDSsPQ3Rzr3e7beF5CTZlM1BDEbG5Bef7o",authDomain:"tabloo-17e7f.firebaseapp.com",projectId:"tabloo-17e7f",storageBucket:"tabloo-17e7f.appspot.com",messagingSenderId:"662845885349",appId:"1:662845885349:web:7b9595f55cd3bd0841b64c",measurementId:"G-DXSSMD7DS9"},r0=I2(m9),or=T6(r0),me=jM(r0);c9(r0);hR(or,r_).catch(t=>{console.error("Error setting auth persistence:",t)});const HE=T.createContext(void 0),Vt=()=>{const t=T.useContext(HE);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},f9=({children:t})=>{const[e,s]=T.useState(null),[r,i]=T.useState(!0),a=async(y,b=3,v=1e3)=>{let x;for(let E=1;E<=b;E++)try{return await y()}catch(I){x=I,console.warn(`Attempt ${E} failed:`,I),E<b&&await new Promise(L=>setTimeout(L,v*E))}throw x};T.useEffect(()=>{(async()=>{try{console.log("Initializing authentication...");const b=setTimeout(()=>{console.log("Auth initialization timeout, falling back to localStorage"),i(!1);const x=localStorage.getItem("currentUser");if(x)try{const E=JSON.parse(x);s(E),console.log("User restored from localStorage after timeout:",E)}catch(E){console.error("Error parsing stored user after timeout:",E),localStorage.removeItem("currentUser")}},1e4),v=pR(or,async x=>{try{if(clearTimeout(b),x){console.log("Firebase user found:",x.uid);const E=await a(()=>pn(Te(me,"users",x.uid)));if(E.exists()){const I=E.data(),L={id:x.uid,name:I.name||x.displayName||"User",email:I.email||x.email||void 0,phone:I.phone,role:I.role||"public_user",restaurantId:I.restaurantId,walletBalance:I.walletBalance||0};s(L),localStorage.setItem("currentUser",JSON.stringify(L)),console.log("User set from Firebase Auth:",L)}}else{console.log("No Firebase user, checking localStorage...");const E=localStorage.getItem("currentUser");if(E)try{const I=JSON.parse(E);console.log("Found stored user:",I);const L=await a(()=>pn(Te(me,"users",I.id)));if(L.exists()){const C=L.data();if(I.role==="public_user"){C.walletBalance!==0&&(await a(()=>wt(Te(me,"users",I.id),{walletBalance:0})),console.log("Updated wallet balance to 0 in Firestore for existing user"));const j={...I,walletBalance:0};localStorage.setItem("currentUser",JSON.stringify(j)),s(j),console.log("User restored from localStorage with 0 wallet balance:",j)}else s(I),console.log("User restored from localStorage:",I)}else console.log("User no longer exists in Firestore, clearing storage"),localStorage.removeItem("currentUser"),s(null)}catch(I){console.error("Error parsing stored user:",I),localStorage.removeItem("currentUser"),s(null)}else console.log("No stored user found"),s(null)}i(!1)}catch(E){console.error("Error in Firebase auth state change:",E),clearTimeout(b),i(!1);const I=localStorage.getItem("currentUser");if(I)try{const L=JSON.parse(I);s(L),console.log("User restored from localStorage after error:",L)}catch(L){console.error("Error parsing stored user after error:",L),localStorage.removeItem("currentUser")}}});return()=>{clearTimeout(b),v()}}catch(b){console.error("Auth initialization error:",b),i(!1);const v=localStorage.getItem("currentUser");if(v)try{const x=JSON.parse(v);s(x),console.log("User restored from localStorage after init error:",x)}catch(x){console.error("Error parsing stored user after init error:",x),localStorage.removeItem("currentUser")}}})()},[]);const N={user:e,login:async(y,b)=>{i(!0);try{if(b==="admin")if(["9985121257","tablooofficial1@gmail.com"].includes(y.username)&&y.password==="admin123"){(await pn(Te(me,"users","admin_001"))).exists()||await Uo(Te(me,"users","admin_001"),{name:"Admin",email:"tablooofficial1@gmail.com",phone:"9985121257",role:"admin",createdAt:new Date});const I={id:"admin_001",name:"Admin",email:"tablooofficial1@gmail.com",phone:"9985121257",role:"admin"};return s(I),localStorage.setItem("currentUser",JSON.stringify(I)),console.log("Admin user logged in:",I),i(!1),!0}else return M.error("Invalid admin credentials. Only authorized users can access admin panel."),i(!1),!1;if(b==="restaurant_owner")try{if(!y.username||!y.password)return M.error("Username and password are required"),i(!1),!1;const v=await Yo(it(me,"restaurants"));let x=null;if(v.forEach(E=>{const I=E.data();I.ownerCredentials&&I.ownerCredentials.username===y.username&&I.ownerCredentials.password===y.password&&(x={id:E.id,...I})}),x){const E=`owner_${x.id}`,I={name:`${x.name} Owner`,email:x.ownerCredentials.username,role:"restaurant_owner",restaurantId:x.id,canChangePassword:!0,createdAt:new Date};try{await Uo(Te(me,"users",E),I)}catch(C){console.log("User creation error (continuing anyway):",C)}const L={id:E,name:I.name,email:I.email,role:"restaurant_owner",restaurantId:x.id,canChangePassword:!0};return s(L),localStorage.setItem("currentUser",JSON.stringify(L)),console.log("Restaurant owner logged in:",L),i(!1),!0}else return M.error("Invalid restaurant owner credentials"),i(!1),!1}catch(v){return console.error("Restaurant owner login error:",v),M.error("Login failed. Please try again."),i(!1),!1}if(b==="public_user")try{if(!y.phone||!y.otp)return M.error("Phone number and OTP are required"),i(!1),!1;const v=`user_${y.phone.replace(/\D/g,"")}`;try{const x=await pn(Te(me,"users",v));if(x.exists()){const E=x.data();await wt(Te(me,"users",v),{walletBalance:0});const I={id:v,name:E.name,phone:E.phone,role:"public_user",walletBalance:0};s(I),localStorage.setItem("currentUser",JSON.stringify(I)),console.log("Public user logged in:",I)}else{const E={name:`User_${y.phone.slice(-4)}`,phone:y.phone,role:"public_user",walletBalance:0,createdAt:new Date};await Uo(Te(me,"users",v),E);const I={id:v,name:E.name,phone:E.phone,role:"public_user",walletBalance:E.walletBalance};s(I),localStorage.setItem("currentUser",JSON.stringify(I)),console.log("New public user created and logged in:",I)}return i(!1),!0}catch(x){return console.error("Error accessing user document:",x),M.error("Login failed. Please try again."),i(!1),!1}}catch(v){return console.error("Public user login error:",v),M.error("Login failed. Please try again."),i(!1),!1}if(b==="delivery_boy")try{if(!y.phone)return M.error("Phone number is required"),i(!1),!1;if(y.password&&!y.otp){if(!y.password)return M.error("Password is required"),i(!1),!1;const v=`delivery_${y.phone.replace(/\D/g,"")}`;try{const x=await pn(Te(me,"users",v));if(x.exists()){const E=x.data();if(E.password!==y.password)return M.error("Invalid password"),i(!1),!1;const I={id:v,name:E.name,phone:E.phone,role:"delivery_boy",isOnline:E.isOnline||!1,currentLocation:E.currentLocation,vehicleDetails:E.vehicleDetails,earnings:E.earnings||{total:0,thisMonth:0,thisWeek:0}};return s(I),localStorage.setItem("currentUser",JSON.stringify(I)),console.log("Delivery boy logged in with password:",I),i(!1),!0}else return M.error("Delivery partner not found. Please register first."),i(!1),!1}catch(x){return console.error("Error accessing delivery boy document:",x),M.error("Login failed. Please try again."),i(!1),!1}}else if(y.otp&&!y.password){if(!y.otp)return M.error("OTP is required"),i(!1),!1;if(localStorage.getItem(`delivery_login_otp_${y.phone}`)!==y.otp)return M.error("Invalid OTP. Please try again."),i(!1),!1;const x=`delivery_${y.phone.replace(/\D/g,"")}`;try{const E=await pn(Te(me,"users",x));if(E.exists()){const I=E.data(),L={id:x,name:I.name,phone:I.phone,role:"delivery_boy",isOnline:I.isOnline||!1,currentLocation:I.currentLocation,vehicleDetails:I.vehicleDetails,earnings:I.earnings||{total:0,thisMonth:0,thisWeek:0}};return s(L),localStorage.setItem("currentUser",JSON.stringify(L)),localStorage.removeItem(`delivery_login_otp_${y.phone}`),console.log("Delivery boy logged in with OTP:",L),i(!1),!0}else return M.error("Delivery partner not found. Please register first."),i(!1),!1}catch(E){return console.error("Error accessing delivery boy document:",E),M.error("Login failed. Please try again."),i(!1),!1}}else return M.error("Please provide either password or OTP for login"),i(!1),!1}catch(v){return console.error("Delivery boy login error:",v),M.error("Login failed. Please try again."),i(!1),!1}return i(!1),!1}catch(v){return console.error("Login error:",v),M.error("Login failed. Please try again."),i(!1),!1}},register:async y=>{i(!0);try{if(y.role==="delivery_boy"){if(!y.phone||!y.name||!y.password)return M.error("Name, phone number, and password are required"),i(!1),!1;const I=`delivery_${y.phone.replace(/\D/g,"")}`;if((await pn(Te(me,"users",I))).exists())return M.error("Delivery partner with this phone number already exists"),i(!1),!1;const C={id:I,name:y.name,email:y.email,phone:y.phone,password:y.password,role:"delivery_boy",vehicleDetails:y.vehicleDetails,address:y.address,idProof:y.idProof,emergencyContact:y.emergencyContact,profilePhoto:y.profilePhoto,panCardPhoto:y.panCardPhoto,aadhaarCardPhoto:y.aadhaarCardPhoto,bankDetails:y.bankDetails,isOnline:!1,earnings:y.earnings||{total:0,thisMonth:0,thisWeek:0},createdAt:new Date};try{return await Uo(Te(me,"users",I),C),M.success("Delivery partner registration successful! You can now login."),i(!1),!0}catch(j){return console.error("Error creating delivery boy:",j),M.error("Registration failed. Please try again."),i(!1),!1}}if(!y.phone||!y.name||!y.otp)return M.error("Name, phone number, and OTP are required"),i(!1),!1;const b=`user_${y.phone.replace(/\D/g,"")}`;if((await pn(Te(me,"users",b))).exists())return M.error("User with this phone number already exists"),i(!1),!1;const x={name:y.name,phone:y.phone,role:"public_user",walletBalance:0,createdAt:new Date};await Uo(Te(me,"users",b),x);const E={id:b,name:x.name,phone:x.phone,role:"public_user",walletBalance:x.walletBalance};return s(E),localStorage.setItem("currentUser",JSON.stringify(E)),console.log("New user registered:",E),i(!1),!0}catch(b){return console.error("Registration error:",b),M.error("Registration failed. Please try again."),i(!1),!1}},logout:async()=>{try{console.log("Logging out user:",e),or.currentUser&&await gR(or),localStorage.removeItem("currentUser"),localStorage.removeItem("restaurantOwnerSession"),s(null),console.log("User logged out successfully")}catch(y){console.error("Logout error:",y)}},loading:r,updateUser:async y=>{if(!e)return M.error("No user logged in"),!1;try{await wt(Te(me,"users",e.id),y);const b={...e,...y};return s(b),localStorage.setItem("currentUser",JSON.stringify(b)),M.success("Profile updated successfully!"),!0}catch(b){return console.error("Error updating user profile:",b),M.error("Failed to update profile. Please try again."),!1}},updateWalletBalance:async y=>{if(e)try{await wt(Te(me,"users",e.id),{walletBalance:y});const b={...e,walletBalance:y};s(b),localStorage.setItem("currentUser",JSON.stringify(b))}catch(b){console.error("Error updating wallet balance:",b),M.error("Failed to update wallet balance")}},resetWalletBalanceToZero:async()=>{if(e&&e.role==="public_user")try{await wt(Te(me,"users",e.id),{walletBalance:0});const y={...e,walletBalance:0};return s(y),localStorage.setItem("currentUser",JSON.stringify(y)),console.log("Wallet balance reset to 0 for user:",e.id),!0}catch(y){return console.error("Error resetting wallet balance:",y),M.error("Failed to reset wallet balance"),!1}return!1},changeRestaurantOwnerPassword:async y=>{if(!e||e.role!=="restaurant_owner"||!e.restaurantId)return M.error("Only restaurant owners can change passwords"),!1;try{const b=Te(me,"restaurants",e.restaurantId);return await wt(b,{"ownerCredentials.password":y}),M.success("Password changed successfully!"),!0}catch(b){return console.error("Error changing password:",b),M.error("Failed to change password. Please try again."),!1}},sendDeliveryLoginOTP:async y=>{try{return console.log(`Sending login OTP to phone: ${y}`),localStorage.setItem(`delivery_login_otp_${y}`,"123456"),M.success("OTP sent to your registered mobile number"),!0}catch(b){return console.error("Error sending delivery login OTP:",b),M.error("Failed to send OTP. Please try again."),!1}},isDefaultUsername:y=>/^User_\d{4}$/.test(y)};return n.jsx(HE.Provider,{value:N,children:t})},WE=T.createContext(void 0),Us=()=>{const t=T.useContext(WE);if(t===void 0)throw new Error("useApp must be used within an AppProvider");return t},p9=({children:t})=>{const[e,s]=T.useState([]),[r,i]=T.useState([]),[a,o]=T.useState([]),[l,c]=T.useState([]),[d,h]=T.useState([]),[f,m]=T.useState([]),[p,_]=T.useState([]),[N,y]=T.useState([]),[b,v]=T.useState(!0),[x,E]=T.useState(null);T.useEffect(()=>{const X=setTimeout(()=>{b&&(E("App initialization timed out. Please check your internet connection."),v(!1))},1e4);try{const F=gn(it(me,"restaurants"),z=>{try{const Q=z.docs.map(ee=>({id:ee.id,...ee.data()}));s(Q)}catch(Q){console.error("Error processing restaurant data:",Q)}},z=>{console.error("Error fetching restaurants:",z)}),ne=gn(it(me,"menuItems"),z=>{try{const Q=z.docs.map(ee=>({id:ee.id,...ee.data()}));i(Q)}catch(Q){console.error("Error processing menu data:",Q)}},z=>{console.error("Error fetching menu items:",z)}),xe=gn(it(me,"orders"),z=>{try{const Q=z.docs.map(ee=>{var he;return{id:ee.id,...ee.data(),createdAt:((he=ee.data().createdAt)==null?void 0:he.toDate())||new Date}});o(Q)}catch(Q){console.error("Error processing order data:",Q)}},z=>{console.error("Error fetching orders:",z)}),bt=gn(it(me,"bookings"),z=>{try{const Q=z.docs.map(ee=>{var he;return{id:ee.id,...ee.data(),createdAt:((he=ee.data().createdAt)==null?void 0:he.toDate())||new Date}});c(Q)}catch(Q){console.error("Error processing booking data:",Q)}},z=>{console.error("Error fetching bookings:",z)}),Ts=gn(it(me,"eventRequirements"),z=>{try{const Q=z.docs.map(ee=>{var he,ve;return{id:ee.id,...ee.data(),createdAt:((he=ee.data().createdAt)==null?void 0:he.toDate())||new Date,updatedAt:((ve=ee.data().updatedAt)==null?void 0:ve.toDate())||new Date}});h(Q)}catch(Q){console.error("Error processing event requirement data:",Q)}},z=>{console.error("Error fetching event requirements:",z)}),Pr=gn(it(me,"eventManagers"),z=>{try{const Q=z.docs.map(ee=>{var he,ve;return{id:ee.id,...ee.data(),createdAt:((he=ee.data().createdAt)==null?void 0:he.toDate())||new Date,updatedAt:((ve=ee.data().updatedAt)==null?void 0:ve.toDate())||new Date}});m(Q)}catch(Q){console.error("Error processing event manager data:",Q)}},z=>{console.error("Error fetching event managers:",z)}),Bs=gn(it(me,"eventBookings"),z=>{try{const Q=z.docs.map(ee=>{var he,ve;return{id:ee.id,...ee.data(),createdAt:((he=ee.data().createdAt)==null?void 0:he.toDate())||new Date,updatedAt:((ve=ee.data().updatedAt)==null?void 0:ve.toDate())||new Date}});_(Q)}catch(Q){console.error("Error processing event booking data:",Q)}},z=>{console.error("Error fetching event bookings:",z)}),P=gn(it(me,"eventChats"),z=>{try{const Q=z.docs.map(ee=>{var he,ve;return{id:ee.id,...ee.data(),createdAt:((he=ee.data().createdAt)==null?void 0:he.toDate())||new Date,updatedAt:((ve=ee.data().updatedAt)==null?void 0:ve.toDate())||new Date}});y(Q)}catch(Q){console.error("Error processing event chat data:",Q)}},z=>{console.error("Error fetching event chats:",z)});return v(!1),()=>{clearTimeout(X),F(),ne(),xe(),bt(),Ts(),Pr(),Bs(),P()}}catch(F){console.error("Error setting up real-time listeners:",F),E(F instanceof Error?F.message:"Failed to initialize app"),v(!1)}},[]);const oe={restaurants:e,menuItems:r,orders:a,bookings:l,eventRequirements:d,eventManagers:f,eventBookings:p,eventChats:N,loading:b,error:x,addRestaurant:async X=>{try{const F=await Dr(it(me,"restaurants"),{...X,createdAt:new Date});console.log("Restaurant added with ID:",F.id),M.success("Restaurant added successfully!")}catch(F){throw console.error("Error adding restaurant:",F),M.error("Failed to add restaurant"),F}},addMenuItem:async X=>{try{const F=await Dr(it(me,"menuItems"),{...X,createdAt:new Date});console.log("Menu item added with ID:",F.id),M.success("Menu item added successfully!")}catch(F){throw console.error("Error adding menu item:",F),M.error("Failed to add menu item"),F}},addOrder:async X=>{try{const F=await Dr(it(me,"orders"),X);console.log("Order added with ID:",F.id),M.success("Order placed successfully!")}catch(F){throw console.error("Error adding order:",F),M.error("Failed to place order"),F}},addBooking:async X=>{try{const F=await Dr(it(me,"bookings"),X);console.log("Booking added with ID:",F.id),M.success("Booking created successfully!")}catch(F){throw console.error("Error adding booking:",F),M.error("Failed to create booking"),F}},updateOrderStatus:async(X,F)=>{var ne;try{const xe=a.find(Ts=>Ts.id===X);if(!xe)throw new Error("Order not found");if(!{pending:["confirmed","cancelled"],confirmed:["preparing","cancelled"],preparing:["ready","cancelled"],ready:["delivered","cancelled"],delivered:["completed"],completed:[],cancelled:[]}[xe.status].includes(F))throw new Error(`Invalid status transition from ${xe.status} to ${F}`);console.log("Updating order status:",{orderId:X,status:F,userId:(ne=or.currentUser)==null?void 0:ne.uid}),await wt(Te(me,"orders",X),{status:F,statusUpdatedAt:new Date,previousStatus:xe.status}),M.success(`Order status updated to ${F}!`)}catch(xe){console.error("Error updating order status:",xe);const bt=xe instanceof Error?xe.message:"Failed to update order status";throw M.error(bt),xe}},updateBookingStatus:async(X,F)=>{var ne;try{const xe=l.find(Ts=>Ts.id===X);if(!xe)throw new Error("Booking not found");if(!{pending:["confirmed","cancelled"],confirmed:["completed","cancelled"],completed:[],cancelled:[]}[xe.status].includes(F))throw new Error(`Invalid status transition from ${xe.status} to ${F}`);console.log("Updating booking status:",{bookingId:X,status:F,userId:(ne=or.currentUser)==null?void 0:ne.uid}),await wt(Te(me,"bookings",X),{status:F,statusUpdatedAt:new Date,previousStatus:xe.status}),M.success(`Booking status updated to ${F}!`)}catch(xe){console.error("Error updating booking status:",xe);const bt=xe instanceof Error?xe.message:"Failed to update booking status";throw M.error(bt),xe}},getOrderStatusHistory:async X=>{try{const F=a.find(xe=>xe.id===X);if(!F)throw new Error("Order not found");const ne=[];return F.previousStatus&&ne.push({status:F.previousStatus,timestamp:F.statusUpdatedAt||F.createdAt,updatedBy:"restaurant_owner"}),ne.push({status:F.status,timestamp:F.statusUpdatedAt||F.createdAt,updatedBy:"restaurant_owner"}),ne}catch(F){throw console.error("Error getting order status history:",F),F}},getBookingStatusHistory:async X=>{try{const F=l.find(xe=>xe.id===X);if(!F)throw new Error("Booking not found");const ne=[];return F.previousStatus&&ne.push({status:F.previousStatus,timestamp:F.statusUpdatedAt||F.createdAt,updatedBy:"restaurant_owner"}),ne.push({status:F.status,timestamp:F.statusUpdatedAt||F.createdAt,updatedBy:"restaurant_owner"}),ne}catch(F){throw console.error("Error getting booking status history:",F),F}},updateRestaurant:async X=>{var F;try{console.log("Updating restaurant:",{restaurantId:X.id,userId:(F=or.currentUser)==null?void 0:F.uid});const{id:ne,...xe}=X;await wt(Te(me,"restaurants",ne),xe),M.success("Restaurant updated successfully!")}catch(ne){throw console.error("Error updating restaurant:",ne),M.error("Failed to update restaurant"),ne}},updateMenuItem:async X=>{var F;try{console.log("Updating menu item:",{menuItemId:X.id,userId:(F=or.currentUser)==null?void 0:F.uid});const{id:ne,...xe}=X;await wt(Te(me,"menuItems",ne),xe),M.success("Menu item updated successfully!")}catch(ne){throw console.error("Error updating menu item:",ne),M.error("Failed to update menu item"),ne}},updateRestaurantStatus:async(X,F)=>{var ne;try{console.log("Updating restaurant status:",{restaurantId:X,isOpen:F,userId:(ne=or.currentUser)==null?void 0:ne.uid}),await wt(Te(me,"restaurants",X),{isOpen:F}),M.success(`Restaurant ${F?"opened":"closed"}!`)}catch(xe){throw console.error("Error updating restaurant status:",xe),M.error(`Failed to update restaurant status: ${xe instanceof Error?xe.message:"Unknown error"}`),xe}},updateMenuItemAvailability:async(X,F)=>{var ne;try{console.log("Updating menu item availability:",{itemId:X,available:F,userId:(ne=or.currentUser)==null?void 0:ne.uid}),await wt(Te(me,"menuItems",X),{available:F}),M.success(`Menu item ${F?"made available":"made unavailable"}!`)}catch(xe){throw console.error("Error updating menu item availability:",xe),M.error(`Failed to update menu item availability: ${xe instanceof Error?xe.message:"Unknown error"}`),xe}},deleteRestaurant:async X=>{try{await Rr(Te(me,"restaurants",X));const F=hu(it(me,"menuItems"),mu("restaurantId","==",X)),xe=(await Yo(F)).docs.map(Q=>Rr(Q.ref));await Promise.all(xe);const bt=hu(it(me,"orders"),mu("restaurantId","==",X)),Pr=(await Yo(bt)).docs.map(Q=>Rr(Q.ref));await Promise.all(Pr);const Bs=hu(it(me,"bookings"),mu("restaurantId","==",X)),z=(await Yo(Bs)).docs.map(Q=>Rr(Q.ref));await Promise.all(z),M.success("Restaurant and all associated data deleted successfully!")}catch(F){throw console.error("Error deleting restaurant:",F),M.error("Failed to delete restaurant"),F}},deleteMenuItem:async X=>{try{await Rr(Te(me,"menuItems",X)),M.success("Menu item deleted successfully!")}catch(F){throw console.error("Error deleting menu item:",F),M.error("Failed to delete menu item"),F}},submitRestaurantRegistration:async X=>{try{const F={...X,status:"pending",createdAt:new Date};await Dr(it(me,"restaurantRegistrationRequests"),F),M.success("Restaurant registration request submitted successfully! Please check your email for admin response within 24-48 hours.")}catch(F){throw console.error("Error submitting restaurant registration:",F),M.error("Failed to submit registration request"),F}},addEventRequirement:async X=>{try{const F=new Date,ne=await Dr(it(me,"eventRequirements"),{...X,createdAt:F,updatedAt:F});console.log("Event requirement added with ID:",ne.id),M.success("Event requirement posted successfully!")}catch(F){throw console.error("Error adding event requirement:",F),M.error("Failed to post event requirement"),F}},addEventManager:async X=>{try{const F=new Date,ne=await Dr(it(me,"eventManagers"),{...X,createdAt:F,updatedAt:F});console.log("Event manager added with ID:",ne.id),M.success("Event manager profile created successfully!")}catch(F){throw console.error("Error adding event manager:",F),M.error("Failed to create event manager profile"),F}},addEventBooking:async X=>{try{const F=new Date,ne=await Dr(it(me,"eventBookings"),{...X,createdAt:F,updatedAt:F});console.log("Event booking added with ID:",ne.id),M.success("Event booking created successfully!")}catch(F){throw console.error("Error adding event booking:",F),M.error("Failed to create event booking"),F}},addEventChat:async X=>{try{const F=new Date,ne=await Dr(it(me,"eventChats"),{...X,createdAt:F,updatedAt:F});console.log("Event chat added with ID:",ne.id)}catch(F){throw console.error("Error adding event chat:",F),M.error("Failed to create chat"),F}},updateEventRequirement:async(X,F)=>{try{await wt(Te(me,"eventRequirements",X),{...F,updatedAt:new Date}),M.success("Event requirement updated successfully!")}catch(ne){throw console.error("Error updating event requirement:",ne),M.error("Failed to update event requirement"),ne}},updateEventManager:async(X,F)=>{try{await wt(Te(me,"eventManagers",X),{...F,updatedAt:new Date}),M.success("Event manager profile updated successfully!")}catch(ne){throw console.error("Error updating event manager:",ne),M.error("Failed to update event manager profile"),ne}},updateEventBooking:async(X,F)=>{try{await wt(Te(me,"eventBookings",X),{...F,updatedAt:new Date}),M.success("Event booking updated successfully!")}catch(ne){throw console.error("Error updating event booking:",ne),M.error("Failed to update event booking"),ne}},updateEventChat:async(X,F)=>{try{await wt(Te(me,"eventChats",X),{...F,updatedAt:new Date})}catch(ne){throw console.error("Error updating event chat:",ne),M.error("Failed to update chat"),ne}},deleteEventRequirement:async X=>{try{await Rr(Te(me,"eventRequirements",X)),M.success("Event requirement deleted successfully!")}catch(F){throw console.error("Error deleting event requirement:",F),M.error("Failed to delete event requirement"),F}},deleteEventManager:async X=>{try{await Rr(Te(me,"eventManagers",X)),M.success("Event manager profile deleted successfully!")}catch(F){throw console.error("Error deleting event manager:",F),M.error("Failed to delete event manager profile"),F}},deleteEventBooking:async X=>{try{await Rr(Te(me,"eventBookings",X)),M.success("Event booking deleted successfully!")}catch(F){throw console.error("Error deleting event booking:",F),M.error("Failed to delete event booking"),F}},deleteEventChat:async X=>{try{await Rr(Te(me,"eventChats",X))}catch(F){throw console.error("Error deleting event chat:",F),M.error("Failed to delete chat"),F}},approveEventManager:async X=>{try{await wt(Te(me,"eventManagers",X),{status:"approved",updatedAt:new Date}),M.success("Event manager approved successfully!")}catch(F){throw console.error("Error approving event manager:",F),M.error("Failed to approve event manager"),F}},rejectEventManager:async(X,F)=>{try{await wt(Te(me,"eventManagers",X),{status:"rejected",adminResponse:F,updatedAt:new Date}),M.success("Event manager rejected successfully!")}catch(ne){throw console.error("Error rejecting event manager:",ne),M.error("Failed to reject event manager"),ne}},sendMessage:async(X,F)=>{try{const ne={...F,id:Math.random().toString(36).substr(2,9),timestamp:new Date,read:!1},xe=Te(me,"eventChats",X),bt=await Yo(hu(it(me,"eventChats"),mu("id","==",X)));if(!bt.empty){const Pr=[...bt.docs[0].data().messages,ne];await wt(xe,{messages:Pr,lastMessage:{message:ne.message,timestamp:ne.timestamp,senderId:ne.senderId},updatedAt:new Date})}}catch(ne){throw console.error("Error sending message:",ne),M.error("Failed to send message"),ne}}};return b?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:n.jsxs("div",{className:"text-center p-8",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Initializing app..."})]})}):x?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:n.jsxs("div",{className:"text-center p-8",children:[n.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"App Initialization Error"}),n.jsx("p",{className:"text-gray-600 mb-4",children:x}),n.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Reload Page"})]})}):n.jsx(WE.Provider,{value:oe,children:t})},GE=T.createContext(void 0),g9=({children:t})=>{const{user:e}=Vt(),[s,r]=T.useState([]);T.useEffect(()=>{if(e){const m=localStorage.getItem(`cart_${e.id}`);if(m)try{r(JSON.parse(m))}catch(p){console.error("Error loading cart from localStorage:",p),localStorage.removeItem(`cart_${e.id}`)}}},[e]),T.useEffect(()=>{e&&localStorage.setItem(`cart_${e.id}`,JSON.stringify(s))},[s,e]);const i=m=>{r(p=>p.find(N=>N.id===m.id)?p.map(N=>N.id===m.id?{...N,quantity:N.quantity+1}:N):[...p,{...m,quantity:1}])},a=m=>{r(p=>p.filter(_=>_.id!==m))},f={items:s,addToCart:i,removeFromCart:a,updateQuantity:(m,p)=>{if(p<=0){a(m);return}r(_=>_.map(N=>N.id===m?{...N,quantity:p}:N))},clearCart:()=>{r([])},getTotalItems:()=>s.reduce((m,p)=>m+p.quantity,0),getTotalPrice:()=>s.reduce((m,p)=>m+p.price*p.quantity,0),getItemsByRestaurant:()=>{const m={};return s.forEach(p=>{m[p.restaurantId]||(m[p.restaurantId]=[]),m[p.restaurantId].push(p)}),m}};return n.jsx(GE.Provider,{value:f,children:t})},bc=()=>{const t=T.useContext(GE);if(t===void 0)throw new Error("useCart must be used within a CartProvider");return t};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var x9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y9=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ce=(t,e)=>{const s=T.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:o,className:l="",children:c,...d},h)=>T.createElement("svg",{ref:h,...x9,width:i,height:i,stroke:r,strokeWidth:o?Number(a)*24/Number(i):a,className:["lucide",`lucide-${y9(t)}`,l].join(" "),...d},[...e.map(([f,m])=>T.createElement(f,m)),...Array.isArray(c)?c:[c]]));return s.displayName=`${t}`,s};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v9=ce("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KE=ce("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=ce("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b9=ce("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wl=ce("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QE=ce("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zd=ce("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n0=ce("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=ce("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nw=ce("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qi=ce("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w9=ce("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N9=ce("ChefHat",[["path",{d:"M6 13.87A4 4 0 0 1 7.41 6a5.11 5.11 0 0 1 1.05-1.54 5 5 0 0 1 7.08 0A5.11 5.11 0 0 1 16.59 6 4 4 0 0 1 18 13.87V21H6Z",key:"z3ra2g"}],["line",{x1:"6",x2:"18",y1:"17",y2:"17",key:"12q60k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=ce("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qr=ce("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jn=ce("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _i=ce("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kn=ce("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j9=ce("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _9=ce("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E9=ce("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YE=ce("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qd=ce("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T9=ce("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C9=ce("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S9=ce("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P9=ce("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k9=ce("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wc=ce("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=ce("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I9=ce("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fl=ce("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A9=ce("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XE=ce("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R9=ce("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hd=ce("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xs=ce("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hi=ce("PartyPopper",[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12v0c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"bpx1uq"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11v0c-.11.7-.72 1.22-1.43 1.22H17",key:"1pd0s7"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98v0C9.52 4.9 9 5.52 9 6.23V7",key:"zq5xbz"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D9=ce("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jr=ce("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=ce("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M9=ce("Route",[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O9=ce("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dp=ce("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JE=ce("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V9=ce("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wd=ce("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Km=ce("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rs=ce("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L9=ce("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZE=ce("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mp=ce("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Op=ce("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vp=ce("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F9=ce("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U9=ce("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fo=ce("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eT=ce("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wi=ce("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tT=ce("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B9=ce("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $9=ce("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const as=ce("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zn=ce("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sT=ce("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"1ogz0v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hr=ce("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z9=ce("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q9=ce("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=ce("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),De=t=>{const e=t.replace(/\D/g,"");return e.length===10&&/^[6-9]/.test(e)},nn=t=>t.replace(/\D/g,"").slice(0,10),jw=t=>t.replace(/\D/g,"").length===16,H9=t=>t.replace(/\D/g,"").slice(0,16).replace(/(.{4})/g,"$1 ").trim(),_w=t=>t.replace(/\D/g,"").length===3,W9=t=>t.replace(/\D/g,"").slice(0,3),Ew=t=>{if(!/^(0[1-9]|1[0-2])\/\d{2}$/.test(t))return!1;const[s,r]=t.split("/"),i=new Date,a=i.getFullYear()%100,o=i.getMonth()+1,l=parseInt(r),c=parseInt(s);return!(l<a||l===a&&c<o)},G9=t=>{const e=t.replace(/\D/g,"");if(e.length>=2){const s=e.slice(0,2),r=e.slice(2,4);return r?`${s}/${r}`:s}return e},K9=({role:t,onSwitchToRegister:e,onLoginSuccess:s})=>{const{login:r}=Vt(),[i,a]=T.useState({username:"",phone:"",otp:"",password:""}),[o,l]=T.useState(!1),[c,d]=T.useState(0),[h,f]=T.useState(!1);J1.useEffect(()=>{let y;return c>0&&(y=setInterval(()=>{d(b=>b-1)},1e3)),()=>clearInterval(y)},[c]);const m=()=>Math.floor(1e5+Math.random()*9e5).toString(),p=async()=>{if(!i.phone.trim()){M.error("Please enter your phone number first");return}if(!De(i.phone)){M.error("Please enter a valid 10-digit Indian phone number");return}f(!0);try{const y=m();localStorage.setItem(`otp_${i.phone}`,y),d(60),l(!0),M.success(`OTP sent to ${i.phone}: ${y}`),console.log(`OTP for ${i.phone}: ${y}`)}catch{M.error("Failed to send OTP. Please try again.")}finally{f(!1)}},_=async y=>{if(y.preventDefault(),t==="public_user"){if(!i.phone.trim()||!i.otp.trim()){M.error("Phone number and OTP are required");return}if(!De(i.phone)){M.error("Please enter a valid 10-digit Indian phone number");return}if(i.otp.length!==6){M.error("Please enter a valid 6-digit OTP");return}const v=localStorage.getItem(`otp_${i.phone}`);if(!v||v!==i.otp){M.error("Invalid OTP. Please try again.");return}localStorage.removeItem(`otp_${i.phone}`)}else if(t==="restaurant_owner"){if(!i.username.trim()||!i.password.trim()){M.error("Username and password are required");return}}else if(t==="admin"&&(!i.username.trim()||!i.password.trim())){M.error("Username and password are required");return}await r(i,t)?(M.success("Login successful!"),s&&s()):M.error("Invalid credentials. Please try again.")},N=()=>{switch(t){case"admin":return"Admin Login";case"restaurant_owner":return"Restaurant Owner Login";case"public_user":return"User Login";default:return"Login"}};return n.jsxs("div",{className:"bg-white p-8 rounded-2xl w-full",children:[n.jsxs("div",{className:"text-center mb-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:N()}),n.jsx("p",{className:"text-gray-600 mt-2",children:t==="restaurant_owner"?"Enter your username and password to continue":"Enter your phone number and OTP to continue"})]}),n.jsxs("form",{onSubmit:_,className:"space-y-4",children:[t==="public_user"?n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),n.jsx("input",{type:"tel",required:!0,value:i.phone,onChange:y=>{const b=nn(y.target.value);a(v=>({...v,phone:b}))},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Enter 10-digit phone number",maxLength:10,disabled:o}),i.phone&&!De(i.phone)&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:"Please enter a valid 10-digit Indian phone number"})]}),o?n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"OTP"}),n.jsx("input",{type:"text",required:!0,value:i.otp,onChange:y=>a(b=>({...b,otp:y.target.value.replace(/\D/g,"").slice(0,6)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent text-center text-lg tracking-widest",placeholder:"Enter 6-digit OTP",maxLength:6}),n.jsxs("div",{className:"flex items-center justify-between mt-2",children:[n.jsx("span",{className:"text-sm text-gray-500",children:c>0?n.jsxs("span",{className:"flex items-center text-orange-600",children:[n.jsx(At,{className:"h-4 w-4 mr-1"}),"Resend in ",c,"s"]}):n.jsx("button",{type:"button",onClick:p,className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"Resend OTP"})}),n.jsx("button",{type:"button",onClick:()=>{l(!1),a(y=>({...y,otp:""})),d(0)},className:"text-gray-500 hover:text-gray-700 text-sm",children:"Change Number"})]})]}):n.jsxs("button",{type:"button",onClick:p,disabled:h||!i.phone.trim()||!De(i.phone),className:"w-full bg-gradient-to-r from-blue-500 to-blue-600 text-white py-2 px-4 rounded-lg hover:from-blue-600 hover:to-blue-700 transition-all flex items-center justify-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[n.jsx(jr,{className:"h-4 w-4"}),n.jsx("span",{children:h?"Sending...":"Send OTP"})]})]}):t==="restaurant_owner"?n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Username"}),n.jsx("input",{type:"text",required:!0,value:i.username,onChange:y=>a(b=>({...b,username:y.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Enter username"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),n.jsx("input",{type:"password",required:!0,value:i.password,onChange:y=>a(b=>({...b,password:y.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Enter password"}),n.jsx("div",{className:"text-right mt-1",children:n.jsx("button",{type:"button",className:"text-sm text-blue-600 hover:text-blue-700",onClick:()=>{const y=encodeURIComponent("Password reset request - Restaurant Owner"),b=encodeURIComponent(`Hello Admin,

I forgot my restaurant owner password. Please reset my credentials and share them to this email.

Username: ${i.username||"(not provided)"}
Role: restaurant_owner

Thank you.`),v=`https://mail.google.com/mail/?view=cm&to=tablooofficial1@gmail.com&su=${y}&body=${b}`;window.open(v,"_blank")},children:"Forgot password?"})})]})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Admin Username/Email/Phone"}),n.jsx("input",{type:"text",required:!0,value:i.username,onChange:y=>a(b=>({...b,username:y.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Enter admin credentials"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Admin Password"}),n.jsx("input",{type:"password",required:!0,value:i.password,onChange:y=>a(b=>({...b,password:y.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Enter admin password"})]})]}),(o||t==="restaurant_owner"||t==="admin")&&n.jsxs("button",{type:"submit",className:"w-full bg-gradient-to-r from-orange-500 to-red-500 text-white py-2 px-4 rounded-lg hover:from-orange-600 hover:to-red-600 transition-all flex items-center justify-center space-x-2",children:[n.jsx(P9,{className:"h-4 w-4"}),n.jsx("span",{children:"Login"})]}),t==="restaurant_owner"&&n.jsx("div",{className:"text-center pt-4",children:n.jsxs("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",n.jsx("button",{type:"button",onClick:()=>window.location.href="/restaurant-owner",className:"text-orange-600 hover:text-orange-700 font-medium",children:"Register here"})]})}),t==="public_user"&&e&&n.jsx("div",{className:"text-center pt-4",children:n.jsxs("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",n.jsx("button",{type:"button",onClick:e,className:"text-orange-600 hover:text-orange-700 font-medium",children:"Register here"})]})})]})]})},Q9=({onSwitchToLogin:t,onRegisterSuccess:e})=>{const{register:s}=Vt(),[r,i]=T.useState("details"),[a,o]=T.useState(""),[l,c]=T.useState(!1),[d,h]=T.useState(0),[f,m]=T.useState(!1),[p,_]=T.useState({name:"",phone:""});J1.useEffect(()=>{let x;return d>0&&(x=setInterval(()=>{h(E=>E-1)},1e3)),()=>clearInterval(x)},[d]);const N=()=>Math.floor(1e5+Math.random()*9e5).toString(),y=async()=>{if(!p.name.trim()||!p.phone.trim()){M.error("Please fill in all required fields");return}if(!De(p.phone)){M.error("Please enter a valid phone number");return}m(!0);try{const x=N();localStorage.setItem(`otp_${p.phone}`,x),h(60),c(!0),i("otp"),M.success(`OTP sent to ${p.phone}: ${x}`),console.log(`OTP for ${p.phone}: ${x}`)}catch{M.error("Failed to send OTP. Please try again.")}finally{m(!1)}},b=async()=>{if(a.length!==6){M.error("Please enter a valid 6-digit OTP");return}const x=localStorage.getItem(`otp_${p.phone}`);if(!x||x!==a){M.error("Invalid OTP. Please try again.");return}localStorage.removeItem(`otp_${p.phone}`),await s({...p,otp:a})?(M.success("Registration successful!"),e&&e()):M.error("Registration failed. Please try again.")},v=async()=>{d>0||await y()};return n.jsxs("div",{className:"bg-white p-8 rounded-2xl w-full",children:[n.jsxs("div",{className:"text-center mb-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Create Account"}),n.jsx("p",{className:"text-gray-600 mt-2",children:"Join Tabuloo today with OTP verification"})]}),r==="details"&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),n.jsx("input",{type:"text",required:!0,value:p.name,onChange:x=>_(E=>({...E,name:x.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Enter your full name"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),n.jsx("input",{type:"tel",required:!0,value:p.phone,onChange:x=>{const E=nn(x.target.value);_(I=>({...I,phone:E}))},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Enter 10-digit phone number",maxLength:10}),p.phone&&!De(p.phone)&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:"Please enter a valid 10-digit Indian phone number"})]}),n.jsxs("button",{type:"button",onClick:y,disabled:f||!p.name.trim()||!p.phone.trim()||!De(p.phone),className:"w-full bg-gradient-to-r from-blue-500 to-blue-600 text-white py-2 px-4 rounded-lg hover:from-blue-600 hover:to-blue-700 transition-all flex items-center justify-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[n.jsx(jr,{className:"h-4 w-4"}),n.jsx("span",{children:f?"Sending...":"Send OTP"})]})]}),r==="otp"&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"text-center",children:n.jsxs("p",{className:"text-gray-600 mb-4",children:["We've sent a 6-digit OTP to ",n.jsx("span",{className:"font-semibold",children:p.phone})]})}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Enter OTP"}),n.jsx("input",{type:"text",required:!0,value:a,onChange:x=>o(x.target.value.replace(/\D/g,"").slice(0,6)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent text-center text-lg tracking-widest",placeholder:"Enter 6-digit OTP",maxLength:6})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-500",children:d>0?n.jsxs("span",{className:"flex items-center text-orange-600",children:[n.jsx(At,{className:"h-4 w-4 mr-1"}),"Resend in ",d,"s"]}):n.jsx("button",{type:"button",onClick:v,className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"Resend OTP"})}),n.jsx("button",{type:"button",onClick:()=>{i("details"),c(!1),o(""),h(0)},className:"text-gray-500 hover:text-gray-700 text-sm",children:"Change Number"})]}),n.jsxs("button",{type:"button",onClick:b,disabled:a.length!==6,className:"w-full bg-gradient-to-r from-orange-500 to-red-500 text-white py-2 px-4 rounded-lg hover:from-orange-600 hover:to-red-600 transition-all flex items-center justify-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[n.jsx($9,{className:"h-4 w-4"}),n.jsx("span",{children:"Verify OTP & Register"})]})]}),n.jsx("div",{className:"text-center pt-4",children:n.jsxs("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",n.jsx("button",{type:"button",onClick:t,className:"text-orange-600 hover:text-orange-700 font-medium",children:"Login here"})]})})]})},Y9=({isOpen:t,onClose:e,authType:s})=>{const[r,i]=T.useState(!1);return t?n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-2 sm:p-4",children:n.jsxs("div",{className:"bg-white rounded-lg sm:rounded-2xl w-full max-w-md max-h-[90vh] overflow-y-auto relative",children:[n.jsx("button",{onClick:e,className:"absolute top-2 right-2 sm:top-4 sm:right-4 text-gray-400 hover:text-gray-600 z-10 p-2",children:n.jsx(mt,{className:"h-5 w-5 sm:h-6 sm:w-6"})}),n.jsx("div",{className:"p-4 sm:p-8",children:r&&s==="public_user"?n.jsx(Q9,{onSwitchToLogin:()=>i(!1),onRegisterSuccess:e}):n.jsx(K9,{role:s,onSwitchToRegister:s==="public_user"?()=>i(!0):void 0,onLoginSuccess:e})})]})}):null},X9=({isOpen:t,onClose:e})=>{const{login:s,register:r,sendDeliveryLoginOTP:i}=Vt(),[a,o]=T.useState(!0),[l,c]=T.useState(!1),[d,h]=T.useState(!1),[f,m]=T.useState(!1),[p,_]=T.useState(!1),[N,y]=T.useState(""),[b,v]=T.useState("password"),[x,E]=T.useState({name:"",email:"",phone:"",password:"",confirmPassword:"",vehicleType:"bike",vehicleNumber:"",vehicleModel:"",address:"",city:"",pincode:"",idProofType:"aadhar",idProofNumber:"",emergencyContact:"",emergencyContactRelation:"",profilePhoto:null,panCardPhoto:null,aadhaarCardPhoto:null,bankAccountNumber:"",ifscCode:"",upiId:"",paymentMethod:"bank"}),[I,L]=T.useState({phone:"",password:""});if(!t)return null;const C=(R,$)=>{E(H=>({...H,[R]:$}))},j=(R,$)=>{E(H=>({...H,[R]:$}))},k=(R,$)=>{L(H=>({...H,[R]:$}))},O=()=>{if(!x.name.trim())return M.error("Name is required"),!1;if(!x.email.trim())return M.error("Email is required"),!1;if(!x.phone.trim())return M.error("Phone number is required"),!1;if(x.phone.length!==10)return M.error("Phone number must be exactly 10 digits"),!1;if(!x.emergencyContact.trim())return M.error("Emergency contact is required"),!1;if(x.emergencyContact.length!==10)return M.error("Emergency contact must be exactly 10 digits"),!1;if(x.phone===x.emergencyContact)return M.error("Emergency contact cannot be the same as your phone number"),!1;if(!x.password)return M.error("Password is required"),!1;if(x.password.length<6)return M.error("Password must be at least 6 characters"),!1;if(x.password!==x.confirmPassword)return M.error("Passwords do not match"),!1;if(!x.vehicleNumber.trim())return M.error("Vehicle number is required"),!1;if(!x.address.trim())return M.error("Address is required"),!1;if(!x.city.trim())return M.error("City is required"),!1;if(!x.pincode.trim())return M.error("Pincode is required"),!1;if(x.pincode.length!==6)return M.error("Pincode must be exactly 6 digits"),!1;if(!x.idProofNumber.trim())return M.error("ID proof number is required"),!1;if(x.idProofType==="aadhar"&&x.idProofNumber.length!==12)return M.error("Aadhaar number must be exactly 12 digits"),!1;if(x.idProofType==="pan"&&x.idProofNumber.length!==10)return M.error("PAN number must be exactly 10 characters"),!1;if(!x.profilePhoto)return M.error("Profile photo is required"),!1;if(!x.panCardPhoto)return M.error("PAN card photo is required"),!1;if(!x.aadhaarCardPhoto)return M.error("Aadhaar card photo is required"),!1;if(x.paymentMethod==="bank"){if(!x.bankAccountNumber.trim())return M.error("Bank account number is required"),!1;if(!x.ifscCode.trim())return M.error("IFSC code is required"),!1;if(x.ifscCode.length!==11)return M.error("IFSC code must be exactly 11 characters"),!1}else if(!x.upiId.trim())return M.error("UPI ID is required"),!1;return!0},A=()=>I.phone.trim()?I.phone.length!==10?(M.error("Phone number must be exactly 10 digits"),!1):b==="password"&&!I.password.trim()?(M.error("Password is required"),!1):b==="otp"&&!N.trim()?(M.error("OTP is required"),!1):!0:(M.error("Phone number is required"),!1),V=async()=>{if(!I.phone.trim())return M.error("Please enter phone number first"),!1;if(I.phone.length!==10)return M.error("Phone number must be exactly 10 digits"),!1;m(!0);try{await i(I.phone)&&_(!0)}catch(R){console.error("Error sending login OTP:",R)}finally{m(!1)}},D=async R=>{if(R.preventDefault(),!!O()){m(!0);try{const $={name:x.name,email:x.email,phone:x.phone,password:x.password,role:"delivery_boy",vehicleDetails:{type:x.vehicleType,number:x.vehicleNumber,model:x.vehicleModel},address:`${x.address}, ${x.city} - ${x.pincode}`,idProof:{type:x.idProofType,number:x.idProofNumber},emergencyContact:{phone:x.emergencyContact,relation:x.emergencyContactRelation},profilePhoto:x.profilePhoto,panCardPhoto:x.panCardPhoto,aadhaarCardPhoto:x.aadhaarCardPhoto,bankDetails:{method:x.paymentMethod,accountNumber:x.bankAccountNumber,ifscCode:x.ifscCode,upiId:x.upiId},isOnline:!1,earnings:{total:0,thisMonth:0,thisWeek:0}};await r($)&&(M.success("Registration successful! You can now login."),o(!0),E({name:"",email:"",phone:"",password:"",confirmPassword:"",vehicleType:"bike",vehicleNumber:"",vehicleModel:"",address:"",city:"",pincode:"",idProofType:"aadhar",idProofNumber:"",emergencyContact:"",emergencyContactRelation:"",profilePhoto:null,panCardPhoto:null,aadhaarCardPhoto:null,bankAccountNumber:"",ifscCode:"",upiId:"",paymentMethod:"bank"}))}catch($){console.error("Registration error:",$),M.error("Registration failed. Please try again.")}finally{m(!1)}}},U=async R=>{if(R.preventDefault(),!!A()){m(!0);try{let $;b==="password"?$={phone:I.phone,password:I.password}:$={phone:I.phone,otp:N},await s($,"delivery_boy")&&(M.success("Login successful!"),e(),L({phone:"",password:""}),y(""),_(!1),v("password"))}catch($){console.error("Login error:",$),M.error("Login failed. Please check your credentials.")}finally{m(!1)}}},B=(R,$,H)=>{var W;return n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(Nw,{className:"h-4 w-4 inline mr-2"}),$," *"]}),n.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center hover:border-red-400 transition-colors",children:x[R]?n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-center space-x-2 text-green-600",children:[n.jsx(qi,{className:"h-5 w-5"}),n.jsx("span",{className:"text-sm font-medium",children:"File uploaded successfully"})]}),n.jsx("p",{className:"text-xs text-gray-600",children:(W=x[R])==null?void 0:W.name}),n.jsx("button",{type:"button",onClick:()=>j(R,null),className:"text-red-600 hover:text-red-700 text-xs font-medium",children:"Remove file"})]}):n.jsxs("div",{children:[n.jsx(tT,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),n.jsx("p",{className:"text-sm text-gray-600 mb-2",children:H}),n.jsx("input",{type:"file",accept:"image/*",onChange:G=>{var ie;const re=((ie=G.target.files)==null?void 0:ie[0])||null;j(R,re)},className:"hidden",id:`${R}-upload`}),n.jsx("label",{htmlFor:`${R}-upload`,className:"inline-flex items-center px-4 py-2 bg-red-600 text-white text-sm font-medium rounded-lg hover:bg-red-700 transition-colors cursor-pointer",children:"Choose File"})]})})]})};return n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl w-full max-w-4xl max-h-[95vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(xs,{className:"h-8 w-8 text-red-600"}),n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:a?"Delivery Partner Login":"Delivery Partner Registration"})]}),n.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 p-2",children:n.jsx(mt,{className:"h-6 w-6"})})]}),n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg mb-6",children:[n.jsx("button",{onClick:()=>o(!0),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ${a?"bg-white text-red-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Login"}),n.jsx("button",{onClick:()=>o(!1),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ${a?"text-gray-600 hover:text-gray-900":"bg-white text-red-600 shadow-sm"}`,children:"Register"})]}),a?n.jsxs("form",{onSubmit:U,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(jr,{className:"h-4 w-4 inline mr-2"}),"Phone Number"]}),n.jsx("input",{type:"tel",required:!0,value:I.phone,onChange:R=>k("phone",R.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Enter your phone number",maxLength:10})]}),n.jsxs("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg",children:[n.jsx("button",{type:"button",onClick:()=>v("password"),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ${b==="password"?"bg-white text-red-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Password"}),n.jsx("button",{type:"button",onClick:()=>v("otp"),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ${b==="otp"?"bg-white text-red-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"OTP"})]}),b==="password"?n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:l?"text":"password",required:!0,value:I.password,onChange:R=>k("password",R.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent pr-12",placeholder:"Enter your password"}),n.jsx("button",{type:"button",onClick:()=>c(!l),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:l?n.jsx(_i,{className:"h-5 w-5"}):n.jsx(kn,{className:"h-5 w-5"})})]})]}):n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"OTP"}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("input",{type:"text",required:!0,value:N,onChange:R=>y(R.target.value),className:"flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Enter 6-digit OTP",maxLength:6}),n.jsx("button",{type:"button",onClick:V,disabled:f||p,className:"px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed whitespace-nowrap",children:p?"OTP Sent":"Send OTP"})]}),p&&n.jsx("p",{className:"text-xs text-green-600 mt-1",children:"OTP sent to your registered mobile number"})]}),n.jsx("button",{type:"submit",disabled:f,className:"w-full bg-gradient-to-r from-red-600 to-red-700 text-white py-3 px-4 rounded-lg hover:from-red-700 hover:to-red-800 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:f?"Logging in...":"Login"})]}):n.jsxs("form",{onSubmit:D,className:"space-y-6",children:[n.jsxs("div",{className:"border-t pt-4",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[n.jsx(as,{className:"h-5 w-5 mr-2 text-red-600"}),"Basic Information"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(as,{className:"h-4 w-4 inline mr-2"}),"Full Name *"]}),n.jsx("input",{type:"text",required:!0,value:x.name,onChange:R=>C("name",R.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Enter your full name"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(wc,{className:"h-4 w-4 inline mr-2"}),"Email *"]}),n.jsx("input",{type:"email",required:!0,value:x.email,onChange:R=>C("email",R.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Enter your email"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(jr,{className:"h-4 w-4 inline mr-2"}),"Phone Number *"]}),n.jsx("input",{type:"tel",required:!0,value:x.phone,onChange:R=>C("phone",R.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Enter 10-digit phone number",maxLength:10})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Emergency Contact *"}),n.jsx("input",{type:"tel",required:!0,value:x.emergencyContact,onChange:R=>C("emergencyContact",R.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Emergency contact number",maxLength:10})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Emergency Contact Relation"}),n.jsx("input",{type:"text",value:x.emergencyContactRelation,onChange:R=>C("emergencyContactRelation",R.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"e.g., Father, Mother, Spouse"})]})]}),n.jsxs("div",{className:"border-t pt-4",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[n.jsx(Nw,{className:"h-5 w-5 mr-2 text-red-600"}),"Document Verification"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[B("profilePhoto","Profile Photo","Upload a clear photo of yourself"),B("panCardPhoto","PAN Card Photo","Upload a clear photo of your PAN card"),B("aadhaarCardPhoto","Aadhaar Card Photo","Upload a clear photo of your Aadhaar card")]})]}),n.jsxs("div",{className:"border-t pt-4",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[n.jsx(Wi,{className:"h-5 w-5 mr-2 text-red-600"}),"Vehicle Information"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Vehicle Type *"}),n.jsxs("select",{required:!0,value:x.vehicleType,onChange:R=>C("vehicleType",R.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",children:[n.jsx("option",{value:"bike",children:"Bike"}),n.jsx("option",{value:"scooter",children:"Scooter"}),n.jsx("option",{value:"car",children:"Car"}),n.jsx("option",{value:"bicycle",children:"Bicycle"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Vehicle Number *"}),n.jsx("input",{type:"text",required:!0,value:x.vehicleNumber,onChange:R=>C("vehicleNumber",R.target.value.toUpperCase()),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"e.g., KA01AB1234"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Vehicle Model"}),n.jsx("input",{type:"text",value:x.vehicleModel,onChange:R=>C("vehicleModel",R.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"e.g., Honda Activa 6G"})]})]})]}),n.jsxs("div",{className:"border-t pt-4",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[n.jsx(Be,{className:"h-5 w-5 mr-2 text-red-600"}),"Address Information"]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Address *"}),n.jsx("textarea",{required:!0,value:x.address,onChange:R=>C("address",R.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",rows:3,placeholder:"Enter your complete address"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City *"}),n.jsx("input",{type:"text",required:!0,value:x.city,onChange:R=>C("city",R.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Enter your city"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pincode *"}),n.jsx("input",{type:"text",required:!0,value:x.pincode,onChange:R=>C("pincode",R.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Enter 6-digit pincode",maxLength:6})]})]})]})]}),n.jsxs("div",{className:"border-t pt-4",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Identity Verification"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ID Proof Type *"}),n.jsxs("select",{required:!0,value:x.idProofType,onChange:R=>C("idProofType",R.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",children:[n.jsx("option",{value:"aadhar",children:"Aadhaar Card"}),n.jsx("option",{value:"pan",children:"PAN Card"}),n.jsx("option",{value:"driving_license",children:"Driving License"}),n.jsx("option",{value:"voter_id",children:"Voter ID"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ID Proof Number *"}),n.jsx("input",{type:"text",required:!0,value:x.idProofNumber,onChange:R=>C("idProofNumber",R.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:x.idProofType==="aadhar"?"Enter 12-digit Aadhaar number":x.idProofType==="pan"?"Enter 10-character PAN number":"Enter ID proof number",maxLength:x.idProofType==="aadhar"?12:x.idProofType==="pan"?10:void 0})]})]})]}),n.jsxs("div",{className:"border-t pt-4",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[n.jsx(Wl,{className:"h-5 w-5 mr-2 text-red-600"}),"Payment Details"]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Method *"}),n.jsxs("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg",children:[n.jsx("button",{type:"button",onClick:()=>C("paymentMethod","bank"),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ${x.paymentMethod==="bank"?"bg-white text-red-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Bank Account"}),n.jsx("button",{type:"button",onClick:()=>C("paymentMethod","upi"),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ${x.paymentMethod==="upi"?"bg-white text-red-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"UPI ID"})]})]}),x.paymentMethod==="bank"?n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bank Account Number *"}),n.jsx("input",{type:"text",required:!0,value:x.bankAccountNumber,onChange:R=>C("bankAccountNumber",R.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Enter your bank account number"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"IFSC Code *"}),n.jsx("input",{type:"text",required:!0,value:x.ifscCode,onChange:R=>C("ifscCode",R.target.value.toUpperCase()),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"e.g., SBIN0001234",maxLength:11})]})]}):n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"UPI ID *"}),n.jsx("input",{type:"text",required:!0,value:x.upiId,onChange:R=>C("upiId",R.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"e.g., username@upi"})]})]}),n.jsxs("div",{className:"border-t pt-4",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Security"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password *"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:l?"text":"password",required:!0,value:x.password,onChange:R=>C("password",R.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent pr-12",placeholder:"Create a password"}),n.jsx("button",{type:"button",onClick:()=>c(!l),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:l?n.jsx(_i,{className:"h-5 w-5"}):n.jsx(kn,{className:"h-5 w-5"})})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password *"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:d?"text":"password",required:!0,value:x.confirmPassword,onChange:R=>C("confirmPassword",R.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent pr-12",placeholder:"Confirm your password"}),n.jsx("button",{type:"button",onClick:()=>h(!d),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:d?n.jsx(_i,{className:"h-5 w-5"}):n.jsx(kn,{className:"h-5 w-5"})})]})]})]})]}),n.jsx("button",{type:"submit",disabled:f,className:"w-full bg-gradient-to-r from-red-600 to-red-700 text-white py-3 px-4 rounded-lg hover:from-red-700 hover:to-red-800 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:f?"Creating Account...":"Create Account"})]}),n.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(qi,{className:"h-5 w-5 text-blue-600 mt-0.5"}),n.jsxs("div",{className:"text-sm text-blue-800",children:[n.jsx("p",{className:"font-medium",children:"Why become a delivery partner?"}),n.jsxs("ul",{className:"mt-2 space-y-1",children:[n.jsx("li",{children:" Flexible working hours"}),n.jsx("li",{children:" Earn 20-50 per delivery"}),n.jsx("li",{children:" Weekly payments"}),n.jsx("li",{children:" Performance bonuses"})]})]})]})})]})]})})},J9=({className:t="",showCount:e=!0,onClick:s})=>{const{getTotalItems:r}=bc();return n.jsxs("div",{className:`relative ${t}`,onClick:s,children:[n.jsx(Rs,{className:"h-5 w-5"}),e&&r()>0&&n.jsx("span",{className:"absolute -top-1 -right-1 bg-red-800 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-medium",children:r()>99?"99+":r()})]})};class Z9{constructor(){this.razorpayKey="rzp_live_pM9jaMaFl7RvBv"}checkRazorpayLoaded(){return typeof window.Razorpay<"u"}async createDirectOrder(e){try{return console.log("Creating direct order with Razorpay"),{key:this.razorpayKey,amount:e.total*100,currency:"INR",name:"Tabuloo",description:"Food Order Payment",receipt:`order_${Date.now()}`,prefill:{name:e.customerName,email:e.customerEmail||"customer@tabuloo.com",contact:e.customerPhone},notes:{customer_name:e.customerName,customer_phone:e.customerPhone,delivery_address:e.address},theme:{color:"#DC2626"}}}catch(s){throw console.error("Direct order creation error:",s),s}}async createTableBookingOrder(e){try{return console.log("Creating table booking order with Razorpay"),{key:this.razorpayKey,amount:e.amount*100,currency:"INR",name:"Tabuloo",description:"Table Booking Payment",receipt:`table_${Date.now()}`,prefill:{name:e.customerName,email:e.customerEmail||"customer@tabuloo.com",contact:e.customerPhone},notes:{customer_name:e.customerName,customer_phone:e.customerPhone,restaurant:e.restaurantName,date:e.date,time:e.time,customers:e.customers,booking_type:"table"},theme:{color:"#DC2626"}}}catch(s){throw console.error("Table booking order creation error:",s),s}}async createEventBookingOrder(e){try{return console.log("Creating event booking order with Razorpay"),{key:this.razorpayKey,amount:e.amount*100,currency:"INR",name:"Tabuloo",description:"Event Booking Payment",receipt:`event_${Date.now()}`,prefill:{name:e.customerName,email:e.customerEmail||"customer@tabuloo.com",contact:e.customerPhone},notes:{customer_name:e.customerName,customer_phone:e.customerPhone,venue:e.venueName,occasion:e.occasion,date:e.date,time:e.time,attendees:e.attendees,booking_type:"event"},theme:{color:"#DC2626"}}}catch(s){throw console.error("Event booking order creation error:",s),s}}async verifyPayment(e,s){try{return console.log("Verifying payment:",{paymentId:e,orderId:s}),{success:!0,message:"Payment verification completed",payment_id:e,order_id:s}}catch(r){return console.error("Payment verification error:",r),{success:!0,message:"Payment verification completed",payment_id:e,order_id:s}}}async initializePayment(e,s,r,i){try{if(console.log("Initializing payment for order:",e),!this.checkRazorpayLoaded())throw new Error("Razorpay is not loaded. Please refresh the page and try again.");const a=await this.createDirectOrder({total:e.total,customerName:s.name,customerEmail:s.email,customerPhone:e.customerPhone,address:e.address}),o={key:this.razorpayKey,amount:e.total*100,currency:"INR",name:"Tabuloo",description:"Food Order Payment",receipt:`order_${Date.now()}`,handler:r,prefill:{name:s.name,email:s.email,contact:e.customerPhone},notes:{customer_name:s.name,customer_email:s.email,customer_phone:e.customerPhone,delivery_address:e.address},theme:{color:"#DC2626"},modal:{ondismiss:()=>{console.log("Payment modal dismissed")}}},l=new window.Razorpay(o);l.on("payment.failed",c=>{console.error("Payment failed:",c),i(new Error(`Payment failed: ${c.error.description||"Unknown error"}`))}),l.on("payment.cancelled",()=>{console.log("Payment cancelled by user"),i(new Error("Payment cancelled by user"))}),l.open()}catch(a){console.error("Payment initialization error:",a),i(a)}}async initializeTableBookingPayment(e,s,r,i){try{if(console.log("Initializing table booking payment:",e),!this.checkRazorpayLoaded())throw new Error("Razorpay is not loaded. Please refresh the page and try again.");const a={key:this.razorpayKey,amount:e.amount*100,currency:"INR",name:"Tabuloo",description:"Table Booking Payment",receipt:`table_${Date.now()}`,handler:r,prefill:{name:s.name,email:s.email,contact:e.phone},notes:{customer_name:s.name,customer_email:s.email,customer_phone:e.phone,restaurant:e.restaurantName,date:e.date,time:e.time,customers:e.customers,booking_type:"table"},theme:{color:"#DC2626"},modal:{ondismiss:()=>{console.log("Payment modal dismissed")}}},o=new window.Razorpay(a);o.on("payment.failed",l=>{console.error("Payment failed:",l),i(new Error(`Payment failed: ${l.error.description||"Unknown error"}`))}),o.on("payment.cancelled",()=>{console.log("Payment cancelled by user"),i(new Error("Payment cancelled by user"))}),o.open()}catch(a){console.error("Table booking payment initialization error:",a),i(a)}}async initializeEventBookingPayment(e,s,r,i){try{if(console.log("Initializing event booking payment:",e),!this.checkRazorpayLoaded())throw new Error("Razorpay is not loaded. Please refresh the page and try again.");const a={key:this.razorpayKey,amount:e.amount*100,currency:"INR",name:"Tabuloo",description:"Event Booking Payment",receipt:`event_${Date.now()}`,handler:r,prefill:{name:s.name,email:s.email,contact:e.phone},notes:{customer_name:s.name,customer_email:s.email,customer_phone:e.phone,venue:e.venueName,occasion:e.occasion,date:e.date,time:e.time,attendees:e.attendees,booking_type:"event"},theme:{color:"#DC2626"},modal:{ondismiss:()=>{console.log("Payment modal dismissed")}}},o=new window.Razorpay(a);o.on("payment.failed",l=>{console.error("Payment failed:",l),i(new Error(`Payment failed: ${l.error.description||"Unknown error"}`))}),o.on("payment.cancelled",()=>{console.log("Payment cancelled by user"),i(new Error("Payment cancelled by user"))}),o.open()}catch(a){console.error("Event booking payment initialization error:",a),i(a)}}}const Za=new Z9,rT=({isOpen:t,onClose:e,selectedRestaurantId:s})=>{const{user:r,updateWalletBalance:i}=Vt(),{restaurants:a,menuItems:o,addBooking:l}=Us(),[c,d]=T.useState("details"),[h,f]=T.useState("razorpay"),[m,p]=T.useState({restaurantId:s||"",date:"",time:"",customers:"1",customerNames:[""],customerPhones:[(r==null?void 0:r.phone)||""],phone:(r==null?void 0:r.phone)||"",specialRequests:"",foodOptions:""}),[_,N]=T.useState({}),y=[{id:"wallet",name:"Tabuloo Wallet",icon:Hr,description:`Balance: ${((r==null?void 0:r.walletBalance)||0).toFixed(2)}`},{id:"razorpay",name:"Secure Payment",icon:qr,description:"Credit/Debit Card, UPI, Net Banking via Razorpay"}],b=a.find(B=>B.id===m.restaurantId),v=o.filter(B=>B.restaurantId===m.restaurantId&&B.available),x=()=>Object.entries(_).reduce((B,[R,$])=>{const H=v.find(W=>W.id===R);return B+(H?H.price*$:0)},0),E=()=>x()*.2,I=B=>{const R=parseInt(B)||1;let $,H;R<=3?($=Array(R).fill("").map((W,G)=>m.customerNames[G]||""),H=Array(R).fill("").map((W,G)=>m.customerPhones[G]||"")):($=Array(3).fill("").map((W,G)=>m.customerNames[G]||""),H=Array(3).fill("").map((W,G)=>m.customerPhones[G]||"")),p(W=>({...W,customers:B,customerNames:$,customerPhones:H}))},L=(B,R)=>{const $=[...m.customerNames];$[B]=R,p(H=>({...H,customerNames:$}))},C=(B,R)=>{const $=[...m.customerPhones];$[B]=R,p(H=>({...H,customerPhones:$}))},j=()=>{p(B=>({...B,customerNames:[...B.customerNames,""],customerPhones:[...B.customerPhones,""]}))},k=B=>{if(m.customerNames.length>1){const R=m.customerNames.filter((H,W)=>W!==B),$=m.customerPhones.filter((H,W)=>W!==B);p(H=>({...H,customerNames:R,customerPhones:$,customers:R.length.toString()}))}},O=(B,R)=>{if(R<=0){const $={..._};delete $[B],N($)}else N($=>({...$,[B]:R}))},A=()=>{var R,$,H,W,G,re,ie,pe,ae,_e;if(!b)return M.error("Please select a restaurant"),!1;if(!m.date||!m.time)return M.error("Please select date and time"),!1;if(!m.phone)return M.error("Phone number is required"),!1;if(!De(m.phone))return M.error("Please enter a valid 10-digit Indian phone number"),!1;const B=parseInt(m.customers);if(B===1){if(!((R=m.customerNames[0])!=null&&R.trim()))return M.error("Please provide the customer name"),!1;if(!(($=m.customerPhones[0])!=null&&$.trim()))return M.error("Please provide the customer phone number"),!1;if(!De(m.customerPhones[0]))return M.error("Please enter a valid 10-digit Indian phone number for the customer"),!1}else if(B===2){if(!((H=m.customerNames[0])!=null&&H.trim())||!((W=m.customerNames[1])!=null&&W.trim()))return M.error("Please provide names for both customers"),!1;if(!((G=m.customerPhones[0])!=null&&G.trim())||!((re=m.customerPhones[1])!=null&&re.trim()))return M.error("Please provide phone numbers for both customers"),!1;if(!De(m.customerPhones[0])||!De(m.customerPhones[1]))return M.error("Please enter valid 10-digit Indian phone numbers for both customers"),!1}else if(B===3){const Me=m.customerNames.filter(Ee=>Ee.trim()!==""),qe=m.customerPhones.filter(Ee=>Ee.trim()!=="");if(Me.length!==B)return M.error("Please provide names for all customers"),!1;if(qe.length!==B)return M.error("Please provide phone numbers for all customers"),!1;for(let Ee=0;Ee<B;Ee++)if(!De(m.customerPhones[Ee]))return M.error(`Please enter a valid 10-digit Indian phone number for customer ${Ee+1}`),!1}else if(B>3){if(!((ie=m.customerNames[0])!=null&&ie.trim())||!((pe=m.customerNames[1])!=null&&pe.trim()))return M.error("Please provide names for at least the first two customers"),!1;if(!((ae=m.customerPhones[0])!=null&&ae.trim())||!((_e=m.customerPhones[1])!=null&&_e.trim()))return M.error("Please provide phone numbers for at least the first two customers"),!1;if(!De(m.customerPhones[0])||!De(m.customerPhones[1]))return M.error("Please enter valid 10-digit Indian phone numbers for the first two customers"),!1}return Object.keys(_).length===0?(M.error("Please select at least one menu item"),!1):!0},V=B=>{B.preventDefault(),A()&&d("payment")},D=async()=>{if(!b||!r)return;x();const B=E();if(h==="wallet"){if((r.walletBalance||0)<B)return M.error("Insufficient wallet balance"),!1;i((r.walletBalance||0)-B);const R={userId:r.id,restaurantId:m.restaurantId,type:"table",date:m.date,time:m.time,customers:parseInt(m.customers),customerNames:m.customerNames.filter($=>$.trim()!==""),customerPhones:m.customerPhones.filter($=>$.trim()!==""),phone:m.phone,status:"confirmed",paymentStatus:"paid",amount:B,createdAt:new Date,specialRequests:m.specialRequests,foodOptions:m.foodOptions,paymentMethod:h,selectedMenuItems:_};try{await l(R),await U(R,b,r),d("confirmation")}catch($){console.error("Booking error:",$),M.error("Failed to create booking")}return}try{const R={amount:B,phone:m.phone,restaurantName:b.name,date:m.date,time:m.time,customers:m.customers,customerNames:m.customerNames.filter($=>$.trim()!==""),customerPhones:m.customerPhones.filter($=>$.trim()!==""),specialRequests:m.specialRequests,foodOptions:m.foodOptions,selectedMenuItems:_};await Za.initializeTableBookingPayment(R,r,async $=>{try{if(console.log("Payment successful:",$),(await Za.verifyPayment($.razorpay_payment_id,$.razorpay_order_id)).success){const W={userId:r.id,restaurantId:m.restaurantId,type:"table",date:m.date,time:m.time,customers:parseInt(m.customers),customerNames:m.customerNames.filter(G=>G.trim()!==""),customerPhones:m.customerPhones.filter(G=>G.trim()!==""),phone:m.phone,status:"confirmed",paymentStatus:"paid",amount:B,createdAt:new Date,specialRequests:m.specialRequests,foodOptions:m.foodOptions,paymentMethod:"razorpay",selectedMenuItems:_,paymentId:$.razorpay_payment_id,orderId:$.razorpay_order_id};await l(W),await U(W,b,r),M.success("Payment successful! Table booked."),d("confirmation")}else M.error("Payment verification failed. Please contact support.")}catch(H){console.error("Payment verification error:",H),M.error("Payment verification failed. Please contact support.")}},$=>{console.error("Payment error:",$),M.error(`Payment failed: ${$.message}`)})}catch(R){console.error("Payment initialization error:",R),M.error("Failed to initialize payment. Please try again.")}},U=async(B,R,$)=>(console.log("Sending booking confirmation emails:",{userEmail:$.email||$.phone,restaurantEmail:R.ownerCredentials.username,bookingDetails:B}),new Promise(H=>setTimeout(H,1e3)));return t?n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-2 sm:p-4",children:n.jsxs("div",{className:"bg-white rounded-lg sm:rounded-xl w-full max-w-2xl max-h-[95vh] sm:max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center p-4 sm:p-6 border-b",children:[n.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Book Table"}),n.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 p-2",children:n.jsx(mt,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),c==="details"&&n.jsxs("form",{onSubmit:V,className:"p-4 sm:p-6 space-y-4 sm:space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name of the Restaurant *"}),n.jsxs("select",{value:m.restaurantId,onChange:B=>{p(R=>({...R,restaurantId:B.target.value})),N({})},className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent text-base",required:!0,children:[n.jsx("option",{value:"",children:"Select a restaurant"}),a.filter(B=>B.isOpen).map(B=>n.jsx("option",{value:B.id,children:B.name},B.id))]})]}),b&&v.length>0&&n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(sT,{className:"h-4 w-4 inline mr-1"}),"Select Menu Items *"]}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg max-h-64 overflow-y-auto",children:[n.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Choose the food items you'd like to eat when you arrive. The booking price will be 20% of your total selection."}),n.jsx("div",{className:"space-y-3",children:v.map(B=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg border",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:`w-3 h-3 rounded-full ${B.category==="veg"?"bg-green-500":"bg-red-500"}`}),n.jsx("h4",{className:"font-medium text-gray-900",children:B.name})]}),n.jsxs("p",{className:"text-sm text-gray-600",children:[B.itemCategory,"  ",B.quantity]}),n.jsxs("p",{className:"text-sm font-medium text-red-800",children:["",B.price]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{type:"button",onClick:()=>O(B.id,(_[B.id]||0)-1),className:"w-8 h-8 rounded-full bg-red-100 text-red-600 hover:bg-red-200 flex items-center justify-center",children:n.jsx("span",{className:"text-lg font-bold",children:"-"})}),n.jsx("span",{className:"w-8 text-center font-medium",children:_[B.id]||0}),n.jsx("button",{type:"button",onClick:()=>O(B.id,(_[B.id]||0)+1),className:"w-8 h-8 rounded-full bg-red-100 text-red-600 hover:bg-red-200 flex items-center justify-center",children:n.jsx("span",{className:"text-lg font-bold",children:"+"})})]})]},B.id))})]}),Object.keys(_).length>0&&n.jsxs("div",{className:"mt-3 text-sm text-gray-600",children:[n.jsxs("p",{children:["Selected items: ",Object.values(_).reduce((B,R)=>B+R,0)]}),n.jsxs("p",{className:"font-medium text-red-800",children:["Total menu cost: ",x().toFixed(2)]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(lt,{className:"h-4 w-4 inline mr-1"}),"Date *"]}),n.jsx("input",{type:"date",required:!0,value:m.date,onChange:B=>p(R=>({...R,date:B.target.value})),className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent text-base",min:new Date().toISOString().split("T")[0]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(At,{className:"h-4 w-4 inline mr-1"}),"Time *"]}),n.jsx("input",{type:"time",required:!0,value:m.time,onChange:B=>p(R=>({...R,time:B.target.value})),className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent text-base"})]}),parseInt(m.customers)>3&&n.jsx("div",{className:"mt-2 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:n.jsxs("div",{className:"text-sm text-blue-800",children:[n.jsx("p",{className:"font-medium",children:"Note:"}),n.jsx("p",{children:"For bookings with more than 3 customers, we only need the names and phone numbers of the first 3 people (first 2 required, 3rd optional). This helps us prepare the table and manage the booking efficiently."})]})})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(Zn,{className:"h-4 w-4 inline mr-1"}),"Number of Customers *"]}),n.jsx("input",{type:"number",min:"1",max:"20",required:!0,value:m.customers,onChange:B=>I(B.target.value),className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent text-base"})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Name of the Customers",parseInt(m.customers)===1&&n.jsx("span",{className:"text-xs sm:text-sm text-gray-500 ml-1",children:"(Required)"}),parseInt(m.customers)===2&&n.jsx("span",{className:"text-xs sm:text-sm text-gray-500 ml-1",children:"(Both required)"}),parseInt(m.customers)===3&&n.jsx("span",{className:"text-xs sm:text-sm text-gray-500 ml-1",children:"(All three required)"}),parseInt(m.customers)>3&&n.jsx("span",{className:"text-xs sm:text-sm text-gray-500 ml-1",children:"(First 2 required, 3rd optional)"})]}),parseInt(m.customers)<=3&&n.jsxs("button",{type:"button",onClick:j,className:"flex items-center space-x-1 text-red-800 hover:text-red-900 text-sm",children:[n.jsx(ls,{className:"h-4 w-4"}),n.jsx("span",{children:"Add Customer"})]})]}),n.jsx("div",{className:"space-y-3 max-h-48 sm:max-h-60 overflow-y-auto",children:m.customerNames.map((B,R)=>{const $=parseInt(m.customers);let H=!1,W="";return $===1?(H=R===0,W="Customer name (required)"):$===2||$===3?(H=!0,W=`Customer ${R+1} name (required)`):$>3&&(R===0||R===1?(H=!0,W=`Customer ${R+1} name (required)`):R===2?(H=!1,W=`Customer ${R+1} name (optional)`):(H=!1,W=`Customer ${R+1} name`)),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"text",placeholder:W,value:B,onChange:G=>L(R,G.target.value),className:"flex-1 px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent text-base",required:H}),m.customerNames.length>1&&n.jsx("button",{type:"button",onClick:()=>k(R),className:"p-2 text-red-600 hover:text-red-700 hover:bg-red-50 rounded-lg",children:n.jsx(fo,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"tel",placeholder:`Customer ${R+1} phone number ${H?"(required)":"(optional)"}`,value:m.customerPhones[R]||"",onChange:G=>{const re=nn(G.target.value);C(R,re)},className:"flex-1 px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent text-base",required:H,maxLength:10}),m.customerPhones[R]&&!De(m.customerPhones[R])&&n.jsx("p",{className:"text-red-500 text-sm",children:"Invalid phone number"})]})]},R)})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number *"}),n.jsx("input",{type:"tel",required:!0,value:m.phone,onChange:B=>{const R=nn(B.target.value);p($=>({...$,phone:R}))},className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent text-base",placeholder:"Enter 10-digit phone number",maxLength:10}),m.phone&&!De(m.phone)&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:"Please enter a valid 10-digit Indian phone number"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Food Options & Preferences"}),n.jsx("textarea",{value:m.foodOptions,onChange:B=>p(R=>({...R,foodOptions:B.target.value})),className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent text-base",rows:3,placeholder:"Any specific food preferences, dietary restrictions, or additional menu requests..."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Special Requests"}),n.jsx("textarea",{value:m.specialRequests,onChange:B=>p(R=>({...R,specialRequests:B.target.value})),className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent text-base",rows:3,placeholder:"Any special arrangements, celebrations, or additional requests..."})]}),b&&Object.keys(_).length>0&&n.jsxs("div",{className:"bg-red-50 p-4 rounded-lg",children:[n.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Booking Summary"}),n.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[n.jsxs("p",{children:["Restaurant: ",b.name]}),n.jsxs("p",{children:["Date: ",m.date," at ",m.time]}),n.jsxs("p",{children:["Customers: ",m.customers]}),n.jsxs("p",{children:["Selected Items: ",Object.values(_).reduce((B,R)=>B+R,0)]}),n.jsxs("p",{children:["Total Menu Cost: ",x().toFixed(2)]}),n.jsxs("p",{className:"font-medium text-red-600",children:["Advance Payment (20%): ",E().toFixed(2)]})]})]}),n.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-red-800 to-red-900 text-white py-3 px-4 rounded-lg hover:from-red-900 hover:to-red-950 transition-colors flex items-center justify-center space-x-2 font-medium text-base",children:n.jsx("span",{children:"Book Table"})})]}),c==="payment"&&b&&n.jsxs("div",{className:"p-4 sm:p-6",children:[n.jsxs("div",{className:"text-center mb-6",children:[n.jsx(qr,{className:"h-10 w-10 sm:h-12 sm:w-12 text-red-800 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-2",children:"Payment Details"}),n.jsxs("p",{className:"text-sm sm:text-base text-gray-600",children:["Advance payment of ",E().toFixed(2)," required"]})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-4",children:"Select Payment Method"}),n.jsx("div",{className:"space-y-3",children:y.map(B=>{const R=B.icon,$=B.id==="wallet"&&((r==null?void 0:r.walletBalance)||0)<E();return n.jsx("button",{onClick:()=>f(B.id),disabled:$,className:`w-full p-3 sm:p-4 border-2 rounded-lg text-left transition-all ${h===B.id?"border-red-500 bg-red-50":$?"border-gray-200 bg-gray-50 opacity-50 cursor-not-allowed":"border-gray-200 hover:border-gray-300"}`,children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(R,{className:"h-5 w-5 sm:h-6 sm:w-6 text-gray-600 mr-3"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h5",{className:"font-medium text-gray-900 text-sm sm:text-base",children:B.name}),n.jsx("p",{className:`text-xs sm:text-sm ${$?"text-red-500":"text-gray-600"}`,children:$?"Insufficient balance":B.description})]}),h===B.id&&n.jsx("div",{className:"w-3 h-3 sm:w-4 sm:h-4 bg-red-500 rounded-full"})]})},B.id)})})]}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg mb-6",children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Booking Summary"}),n.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[n.jsxs("p",{children:["Restaurant: ",b.name]}),n.jsxs("p",{children:["Date & Time: ",m.date," at ",m.time]}),n.jsxs("p",{children:["Customers: ",m.customers]}),n.jsxs("p",{children:["Phone: ",m.phone]}),n.jsxs("p",{children:["Selected Items: ",Object.values(_).reduce((B,R)=>B+R,0)]}),n.jsxs("p",{children:["Total Menu Cost: ",x().toFixed(2)]}),n.jsxs("p",{className:"font-medium text-red-600",children:["Advance (20%): ",E().toFixed(2)]})]})]}),h==="razorpay"&&n.jsx("div",{className:"bg-blue-50 p-4 rounded-lg mb-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(qr,{className:"h-5 w-5 sm:h-6 sm:w-6 text-blue-600 mr-3"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-blue-900 text-sm sm:text-base",children:"Secure Payment via Razorpay"}),n.jsx("p",{className:"text-xs sm:text-sm text-blue-700",children:"You'll be redirected to a secure payment gateway where you can pay using Credit/Debit Card, UPI, Net Banking, or other payment methods."})]})]})}),h==="wallet"&&n.jsx("div",{className:"bg-green-50 p-4 rounded-lg mb-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Hr,{className:"h-5 w-5 sm:h-6 sm:w-6 text-green-600 mr-3"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-green-900 text-sm sm:text-base",children:"Payment via Tabuloo Wallet"}),n.jsxs("p",{className:"text-xs sm:text-sm text-green-700",children:["",E().toFixed(2)," will be deducted from your wallet"]})]})]})}),n.jsxs("div",{className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3",children:[n.jsx("button",{onClick:()=>d("details"),className:"flex-1 px-4 py-3 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 font-medium text-base",children:"Back"}),n.jsxs("button",{onClick:D,className:"flex-1 bg-gradient-to-r from-red-800 to-red-900 text-white py-3 px-4 rounded-lg hover:from-red-900 hover:to-red-950 font-medium text-base",children:["Pay ",E().toFixed(2)]})]})]}),c==="confirmation"&&b&&n.jsxs("div",{className:"p-4 sm:p-6 text-center",children:[n.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(lt,{className:"h-6 w-6 sm:h-8 sm:w-8 text-green-600"})}),n.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-2",children:"Booking Confirmed!"}),n.jsx("p",{className:"text-sm sm:text-base text-gray-600 mb-6",children:"Your table has been successfully booked. Confirmation details have been sent to your email and the restaurant."}),n.jsxs("div",{className:"bg-green-50 p-4 rounded-lg mb-6 text-left",children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Booking Details"}),n.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[n.jsxs("p",{children:["Restaurant: ",b.name]}),n.jsxs("p",{children:["Date & Time: ",m.date," at ",m.time]}),n.jsxs("p",{children:["Customers: ",m.customers]}),n.jsxs("p",{children:["Phone: ",m.phone]}),n.jsxs("p",{children:["Selected Items: ",Object.values(_).reduce((B,R)=>B+R,0)]}),n.jsxs("p",{children:["Total Menu Cost: ",x().toFixed(2)]}),n.jsxs("p",{children:["Advance Paid: ",E().toFixed(2)]}),n.jsxs("div",{className:"mt-3 pt-3 border-t border-green-200",children:[n.jsx("p",{className:"font-medium text-green-800",children:"Customer Details:"}),m.customerNames.map((B,R)=>B.trim()?n.jsxs("p",{className:"text-xs",children:[B," - ",m.customerPhones[R]||"No phone"]},R):null)]})]})]}),n.jsx("button",{onClick:e,className:"w-full bg-gradient-to-r from-red-800 to-red-900 text-white py-3 px-4 rounded-lg hover:from-red-900 hover:to-red-950 font-medium text-base",children:"Done"})]})]})}):null},i0=({onLocationSelect:t,initialLocation:e,placeholder:s="Search for an address..."})=>{const r=T.useRef(null),i=T.useRef(null),[a,o]=T.useState(null),[l,c]=T.useState(null),[d,h]=T.useState(null),[f,m]=T.useState(e||null),[p,_]=T.useState(!1);T.useEffect(()=>{if(!r.current)return;const b=()=>{if(!window.google||!window.google.maps){setTimeout(b,100);return}const v=new window.google.maps.Map(r.current,{center:e?{lat:e.lat,lng:e.lng}:{lat:20.5937,lng:78.9629},zoom:12,mapTypeControl:!1,streetViewControl:!1,fullscreenControl:!1,styles:[{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]}]});if(o(v),i.current){const x=new window.google.maps.places.Autocomplete(i.current,{types:["address"],componentRestrictions:{country:"IN"}});x.addListener("place_changed",()=>{const E=x.getPlace();if(E.geometry&&E.geometry.location){const I={lat:E.geometry.location.lat(),lng:E.geometry.location.lng(),address:E.formatted_address||"",formattedAddress:E.formatted_address||""};m(I),t(I),v.setCenter(E.geometry.location),v.setZoom(16),d&&d.setMap(null);const L=new window.google.maps.Marker({position:E.geometry.location,map:v,title:E.formatted_address||""});h(L)}}),c(x)}if(v.addListener("click",x=>{if(x.latLng){const E={lat:x.latLng.lat(),lng:x.latLng.lng(),address:"",formattedAddress:""};new window.google.maps.Geocoder().geocode({location:{lat:E.lat,lng:E.lng}},(L,C)=>{C==="OK"&&L&&L[0]&&(E.address=L[0].formatted_address,E.formattedAddress=L[0].formatted_address),m(E),t(E),d&&d.setMap(null);const j=new window.google.maps.Marker({position:{lat:E.lat,lng:E.lng},map:v,title:E.formattedAddress});h(j)})}}),e){const x=new window.google.maps.Marker({position:{lat:e.lat,lng:e.lng},map:v,title:e.formattedAddress});h(x)}};b()},[e,t]);const N=()=>{m(null),d&&(d.setMap(null),h(null)),i.current&&(i.current.value=""),t({lat:0,lng:0,address:"",formattedAddress:""})},y=()=>{navigator.geolocation&&(_(!0),navigator.geolocation.getCurrentPosition(b=>{const v={lat:b.coords.latitude,lng:b.coords.longitude,address:"",formattedAddress:""};window.google&&window.google.maps&&new window.google.maps.Geocoder().geocode({location:{lat:v.lat,lng:v.lng}},(E,I)=>{if(_(!1),I==="OK"&&E&&E[0]&&(v.address=E[0].formatted_address,v.formattedAddress=E[0].formatted_address),m(v),t(v),a){a.setCenter({lat:v.lat,lng:v.lng}),a.setZoom(16),d&&d.setMap(null);const L=new window.google.maps.Marker({position:{lat:v.lat,lng:v.lng},map:a,title:v.formattedAddress});h(L)}})},b=>{_(!1),console.error("Error getting current location:",b)}))};return!window.google||!window.google.maps?n.jsx("div",{className:"space-y-4",children:n.jsx("div",{className:"p-4 bg-gray-50 border border-gray-200 rounded-md",children:n.jsxs("div",{className:"flex items-center justify-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),n.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"Loading Google Maps..."})]})})}):n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(Dp,{className:"h-5 w-5 text-gray-400"})}),n.jsx("input",{ref:i,type:"text",placeholder:s,className:"block w-full pl-10 pr-10 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm"}),f&&n.jsx("button",{onClick:N,className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:n.jsx(mt,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]}),n.jsx("div",{className:"flex space-x-2",children:n.jsx("button",{onClick:y,disabled:p,className:"flex-1 px-3 py-2 bg-blue-600 text-white text-sm rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:p?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),n.jsx("span",{children:"Getting Location..."})]}):n.jsxs(n.Fragment,{children:[n.jsx(Be,{className:"h-4 w-4"}),n.jsx("span",{children:"Use Current Location"})]})})}),n.jsx("div",{ref:r,className:"w-full h-64 border border-gray-300 rounded-md"}),f&&n.jsx("div",{className:"p-3 bg-green-50 border border-green-200 rounded-md",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx(Be,{className:"h-4 w-4 text-green-600 mr-2 mt-0.5 flex-shrink-0"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm font-medium text-green-900",children:" Location Selected:"}),n.jsx("p",{className:"text-sm text-green-800",children:f.formattedAddress}),n.jsxs("p",{className:"text-xs text-green-600 mt-1",children:["Coordinates: ",f.lat.toFixed(6),", ",f.lng.toFixed(6)]})]})]})})]})},nT=({isOpen:t,onClose:e,selectedRestaurantId:s})=>{var Sr;const r=_s(),{user:i,updateWalletBalance:a}=Vt(),{restaurants:o,menuItems:l,addOrder:c}=Us(),{addToCart:d}=bc(),[h,f]=T.useState(s||""),[m,p]=T.useState([]),[_,N]=T.useState("restaurants"),[y,b]=T.useState("pickup"),[v,x]=T.useState("card"),[E,I]=T.useState({number:"",expiry:"",cvv:"",name:""}),[L,C]=T.useState(""),[j,k]=T.useState({name:(i==null?void 0:i.name)||"",phone:(i==null?void 0:i.phone)||""}),[O,A]=T.useState(null),[V,D]=T.useState(!1),[U,B]=T.useState(null),R=[{id:"wallet",name:"Tabuloo Wallet",icon:Hr,description:`Balance: ${((i==null?void 0:i.walletBalance)||0).toFixed(2)}`},{id:"netbanking",name:"Net Banking",icon:n0,description:"All major banks supported"},{id:"card",name:"Credit/Debit Card",icon:qr,description:"Visa, Mastercard, Amex"},{id:"upi",name:"UPI",icon:L9,description:"Pay using UPI apps"},{id:"cod",name:"Cash on Delivery",icon:Wl,description:"Pay on delivery/pickup"}],$=o.filter(Z=>Z.isOpen),H=l.filter(Z=>Z.restaurantId===h&&Z.available),W=Z=>{p(oe=>oe.find(F=>F.id===Z)?oe.map(F=>F.id===Z?{...F,quantity:F.quantity+1}:F):[...oe,{id:Z,quantity:1}]),M.success("Added to cart!")},G=Z=>{var X;const oe=l.find(F=>F.id===Z);oe&&(d({id:oe.id,name:oe.name,price:oe.price,image:oe.image,restaurantId:oe.restaurantId,restaurantName:((X=o.find(F=>F.id===h))==null?void 0:X.name)||"",category:oe.category,itemCategory:oe.itemCategory}),M.success("Item added to cart! Redirecting to checkout..."),e(),setTimeout(()=>{r("/cart")},1e3))},re=(Z,oe)=>{p(X=>X.map(F=>{if(F.id===Z){const ne=F.quantity+oe;return ne>0?{...F,quantity:ne}:F}return F}).filter(F=>F.quantity>0))},ie=()=>m.reduce((Z,oe)=>{const X=l.find(F=>F.id===oe.id);return Z+(X?X.price*oe.quantity:0)},0),pe=()=>m.map(Z=>{const oe=l.find(X=>X.id===Z.id);return oe?{...oe,quantity:Z.quantity}:null}).filter(Boolean),ae=Z=>{f(Z),p([]),N("menu")},_e=()=>{if(m.length===0){M.error("Your cart is empty");return}pe().forEach(oe=>{var X;oe&&d({id:oe.id,name:oe.name,price:oe.price,image:oe.image,restaurantId:oe.restaurantId,restaurantName:((X=o.find(F=>F.id===h))==null?void 0:X.name)||"",category:oe.category,itemCategory:oe.itemCategory})}),M.success("Items added to cart! Redirecting to checkout..."),e(),setTimeout(()=>{r("/cart")},1e3)},Me=Z=>{b(Z),N(Z==="delivery"?"address":"payment")},qe=()=>{if(!L.trim()){M.error("Please enter delivery address");return}if(L.trim().length<10){M.error("Please enter a complete delivery address (minimum 10 characters)");return}if(!j.name.trim()||!j.phone.trim()){M.error("Please enter your name and phone number");return}if(!De(j.phone)){M.error("Please enter a valid 10-digit Indian phone number");return}N("payment")},Ee=async()=>{if(!i||!h){M.error("Please ensure you are logged in and have selected a restaurant");return}if(v==="card"){if(!jw(E.number)){M.error("Please enter a valid 16-digit card number");return}if(!_w(E.cvv)){M.error("Please enter a valid 3-digit CVV");return}if(!Ew(E.expiry)){M.error("Please enter a valid expiry date (MM/YY)");return}if(!E.name.trim()){M.error("Please enter cardholder name");return}}const Z=pe(),oe=ie();if(v==="wallet"){if((i.walletBalance||0)<oe){M.error("Insufficient wallet balance");return}a((i.walletBalance||0)-oe)}const X=o.find(ne=>ne.id===h),F={userId:i.id,restaurantId:h,items:Z,status:"pending",type:y,total:oe,customerName:j.name,customerPhone:j.phone,createdAt:new Date,paymentMethod:v};y==="delivery"&&(F.address=L,O&&(F.location={lat:O.lat,lng:O.lng}));try{await c(F),await cn(F,X,i),N("confirmation")}catch(ne){console.error("Order error:",ne)}},Oe=()=>{if(!navigator.geolocation){M.error("Geolocation is not supported by this browser");return}M.loading("Getting your current location..."),navigator.geolocation.getCurrentPosition(Z=>{const{latitude:oe,longitude:X}=Z.coords;A({lat:oe,lng:X});const F=`Current Location (${oe.toFixed(6)}, ${X.toFixed(6)})`;C(F),M.dismiss(),M.success("Location captured successfully!")},Z=>{switch(M.dismiss(),Z.code){case Z.PERMISSION_DENIED:M.error("Location access denied. Please enable location permissions.");break;case Z.POSITION_UNAVAILABLE:M.error("Location information unavailable.");break;case Z.TIMEOUT:M.error("Location request timed out.");break;default:M.error("Error getting location. Please enter address manually.")}},{enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4})},Es=Z=>{B(Z),C(Z.formattedAddress),D(!1),M.success("Location selected successfully!")},Cr=()=>{D(!V)},cn=async(Z,oe,X)=>(console.log("Sending order notifications:",{userEmail:X.email||X.phone,restaurantEmail:oe==null?void 0:oe.ownerCredentials.username,orderDetails:Z}),new Promise(F=>setTimeout(F,1e3)));return t?n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-2 sm:p-4",children:n.jsxs("div",{className:"bg-white rounded-lg sm:rounded-xl w-full max-w-6xl max-h-[95vh] sm:max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center p-4 sm:p-6 border-b",children:[n.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Order Food"}),n.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[m.length>0&&n.jsxs("div",{className:"flex items-center bg-red-100 text-red-800 px-2 sm:px-3 py-1 rounded-full text-xs sm:text-sm",children:[n.jsx(Rs,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1"}),n.jsxs("span",{children:[m.reduce((Z,oe)=>Z+oe.quantity,0)," items - ",ie().toFixed(2)]})]}),n.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 p-2",children:n.jsx(mt,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]})]}),_==="restaurants"&&n.jsxs("div",{className:"p-4 sm:p-6",children:[n.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-4 sm:mb-6",children:"Available Restaurants, Hotels & Food Places"}),$.length===0?n.jsxs("div",{className:"text-center py-8 sm:py-12",children:[n.jsx(Rs,{className:"h-10 w-10 sm:h-12 sm:w-12 text-gray-400 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:"No restaurants available at the moment"})]}):n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:$.map(Z=>n.jsxs("div",{onClick:()=>ae(Z.id),className:"border rounded-lg sm:rounded-xl p-3 sm:p-4 hover:shadow-lg transition-shadow cursor-pointer group",children:[Z.images[0]&&n.jsx("img",{src:Z.images[0],alt:Z.name,className:"w-full h-32 sm:h-40 object-cover rounded-lg mb-3 sm:mb-4 group-hover:scale-105 transition-transform"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsx("h4",{className:"font-semibold text-gray-900 text-sm sm:text-base",children:Z.name}),n.jsx("span",{className:"bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full",children:"Open"})]}),n.jsx("p",{className:"text-xs sm:text-sm text-gray-600 capitalize",children:Z.type}),n.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:Z.address}),n.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:Z.timings}),n.jsxs("div",{className:"flex justify-between items-center pt-2",children:[n.jsxs("span",{className:"text-base sm:text-lg font-semibold text-red-800",children:["",Z.price,"/person"]}),n.jsx("button",{className:"bg-gradient-to-r from-red-800 to-red-900 text-white px-3 sm:px-4 py-2 rounded-lg hover:from-red-900 hover:to-red-950 transition-colors text-xs sm:text-sm",children:"View Menu"})]})]})]},Z.id))})]}),_==="menu"&&n.jsxs("div",{className:"p-4 sm:p-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-4 sm:mb-6",children:[n.jsxs("div",{children:[n.jsx("button",{onClick:()=>N("restaurants"),className:"text-red-800 hover:text-red-900 mb-2 text-sm sm:text-base",children:" Back to Restaurants"}),n.jsxs("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:[(Sr=o.find(Z=>Z.id===h))==null?void 0:Sr.name," Menu"]})]}),m.length>0&&n.jsxs("button",{onClick:_e,className:"bg-gradient-to-r from-green-600 to-green-700 text-white px-4 sm:px-6 py-2 sm:py-3 rounded-lg hover:from-green-700 hover:to-green-800 flex items-center space-x-2 text-sm sm:text-base mt-2 sm:mt-0",children:[n.jsx(Rs,{className:"h-4 w-4 sm:h-5 sm:w-5"}),n.jsxs("span",{children:["Proceed to Checkout (",ie().toFixed(2),")"]})]})]}),H.length===0?n.jsxs("div",{className:"text-center py-8 sm:py-12",children:[n.jsx(Rs,{className:"h-10 w-10 sm:h-12 sm:w-12 text-gray-400 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:"No menu items available"})]}):n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:H.map(Z=>{const oe=m.find(X=>X.id===Z.id);return n.jsxs("div",{className:"border rounded-lg sm:rounded-xl p-3 sm:p-4 hover:shadow-md transition-shadow",children:[n.jsx("img",{src:Z.image,alt:Z.name,className:"w-full h-32 sm:h-40 object-cover rounded-lg mb-3 sm:mb-4"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-gray-900 text-sm sm:text-base",children:Z.name}),n.jsxs("p",{className:"text-xs sm:text-sm text-gray-600",children:[Z.itemCategory,"  ",Z.quantity]})]}),n.jsx("span",{className:`w-3 h-3 sm:w-4 sm:h-4 rounded-full ${Z.category==="veg"?"bg-green-500":"bg-red-500"}`})]}),n.jsxs("div",{className:"flex justify-between items-center pt-2",children:[n.jsxs("span",{className:"text-base sm:text-lg font-semibold text-gray-900",children:["",Z.price]}),oe?n.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[n.jsx("button",{onClick:()=>re(Z.id,-1),className:"p-1 bg-red-100 text-red-600 rounded-full hover:bg-red-200",children:n.jsx(XE,{className:"h-3 w-3 sm:h-4 sm:w-4"})}),n.jsx("span",{className:"px-2 sm:px-3 py-1 bg-gray-100 rounded-lg font-medium text-xs sm:text-sm",children:oe.quantity}),n.jsx("button",{onClick:()=>re(Z.id,1),className:"p-1 bg-green-100 text-green-600 rounded-full hover:bg-green-200",children:n.jsx(ls,{className:"h-3 w-3 sm:h-4 sm:w-4"})})]}):n.jsxs("div",{className:"flex flex-col space-y-2",children:[n.jsx("button",{onClick:()=>W(Z.id),className:"bg-gradient-to-r from-red-800 to-red-900 text-white px-3 sm:px-4 py-2 rounded-lg hover:from-red-900 hover:to-red-950 transition-colors text-xs sm:text-sm",children:"Add to Cart"}),n.jsx("button",{onClick:()=>G(Z.id),className:"bg-gradient-to-r from-green-600 to-green-700 text-white px-3 sm:px-4 py-2 rounded-lg hover:from-green-700 hover:to-green-800 transition-colors text-xs sm:text-sm",children:"Add & Checkout"})]})]})]})]},Z.id)})}),m.length>0&&n.jsxs("div",{className:"fixed bottom-4 right-4 bg-white border shadow-lg rounded-lg p-3 sm:p-4 max-w-xs sm:max-w-sm",children:[n.jsxs("div",{className:"mb-2 p-2 bg-blue-50 border border-blue-200 rounded text-xs text-blue-800",children:[" ",n.jsx("strong",{children:"Tip:"}),' Use "Add & Checkout" for individual items or "Proceed to Checkout" for all items']}),n.jsx("h4",{className:"font-medium text-gray-900 mb-2 text-sm sm:text-base",children:"Cart Summary"}),n.jsx("div",{className:"space-y-1 mb-3 max-h-24 sm:max-h-32 overflow-y-auto",children:pe().map(Z=>n.jsxs("div",{className:"flex justify-between text-xs sm:text-sm",children:[n.jsxs("span",{children:[Z.name," x ",Z.quantity]}),n.jsxs("span",{children:["",(Z.price*Z.quantity).toFixed(2)]})]},Z.id))}),n.jsxs("div",{className:"flex justify-between items-center pt-2 border-t",children:[n.jsxs("span",{className:"font-semibold text-sm sm:text-base",children:["Total: ",ie().toFixed(2)]}),n.jsx("button",{onClick:_e,className:"bg-gradient-to-r from-green-600 to-green-700 text-white px-3 sm:px-4 py-2 rounded-lg hover:from-green-700 hover:to-green-800 text-xs sm:text-sm",children:"Checkout"})]})]})]}),_==="checkout"&&n.jsxs("div",{className:"p-4 sm:p-6",children:[n.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-4 sm:mb-6",children:"Choose Order Type"}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[n.jsx("button",{onClick:()=>Me("pickup"),className:"p-6 sm:p-8 border-2 border-gray-200 rounded-lg sm:rounded-xl hover:border-red-500 hover:bg-red-50 transition-all group",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Rs,{className:"h-8 w-8 sm:h-12 sm:w-12 text-red-800 mx-auto mb-3 sm:mb-4 group-hover:scale-110 transition-transform"}),n.jsx("h4",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-2",children:"Self Pickup"}),n.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:"Pick up your order from the restaurant"}),n.jsx("p",{className:"text-xs sm:text-sm text-green-600 mt-2",children:"No delivery charges"})]})}),n.jsx("button",{onClick:()=>Me("delivery"),className:"p-6 sm:p-8 border-2 border-gray-200 rounded-lg sm:rounded-xl hover:border-green-500 hover:bg-green-50 transition-all group",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Wi,{className:"h-8 w-8 sm:h-12 sm:w-12 text-green-600 mx-auto mb-3 sm:mb-4 group-hover:scale-110 transition-transform"}),n.jsx("h4",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-2",children:"Home Delivery"}),n.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:"Get it delivered to your doorstep"}),n.jsx("p",{className:"text-xs sm:text-sm text-orange-600 mt-2",children:"Delivery charges may apply"})]})})]}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-2 text-sm sm:text-base",children:"Order Summary"}),n.jsxs("div",{className:"text-xs sm:text-sm text-gray-600 space-y-1",children:[n.jsxs("p",{children:["Items: ",m.reduce((Z,oe)=>Z+oe.quantity,0)]}),n.jsxs("p",{children:["Subtotal: ",ie().toFixed(2)]})]})]}),n.jsx("button",{onClick:()=>N("menu"),className:"mt-4 text-red-800 hover:text-red-900 text-sm sm:text-base",children:" Back to Menu"})]}),_==="address"&&n.jsxs("div",{className:"p-4 sm:p-6",children:[n.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-4 sm:mb-6",children:"Delivery Address"}),n.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(Be,{className:"h-4 w-4 inline mr-1"}),"Full Delivery Address *"]}),n.jsx("textarea",{value:L,onChange:Z=>C(Z.target.value),className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent text-base",rows:4,placeholder:"Enter your complete delivery address with landmarks...",required:!0}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mt-3",children:[n.jsxs("button",{type:"button",onClick:Oe,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center text-sm",children:[n.jsx(Hd,{className:"h-4 w-4 mr-2"}),"Use Current Location"]}),n.jsxs("button",{type:"button",onClick:Cr,className:"flex-1 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors flex items-center justify-center text-sm",children:[n.jsx(Be,{className:"h-4 w-4 mr-2"}),V?"Hide Map":"Show Map & Pick Location"]})]}),V&&n.jsxs("div",{className:"mt-4 p-4 bg-gray-50 border border-gray-200 rounded-lg",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Select Location on Map"}),n.jsx(i0,{onLocationSelect:Es,placeholder:"Search for your delivery address..."})]}),U&&n.jsx("div",{className:"mt-3 p-3 bg-green-50 border border-green-200 rounded-lg",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx(Be,{className:"h-5 w-5 text-green-600 mr-2 mt-0.5 flex-shrink-0"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm font-medium text-green-900",children:" Location Selected:"}),n.jsx("p",{className:"text-sm text-green-800 mt-1",children:U.formattedAddress}),n.jsxs("p",{className:"text-xs text-green-700 mt-1",children:["Coordinates: ",U.lat.toFixed(6),", ",U.lng.toFixed(6)]})]})]})}),O&&n.jsx("div",{className:"mt-3 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx(Hd,{className:"h-5 w-5 text-blue-600 mr-2 mt-0.5 flex-shrink-0"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm font-medium text-blue-900",children:" Current Location Captured:"}),n.jsxs("p",{className:"text-sm text-blue-800 mt-1",children:["Latitude: ",O.lat.toFixed(6),", Longitude: ",O.lng.toFixed(6)]}),n.jsx("p",{className:"text-xs text-blue-700 mt-1",children:"You can edit the address above if needed"})]})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Name *"}),n.jsx("input",{type:"text",value:j.name,onChange:Z=>k(oe=>({...oe,name:Z.target.value})),className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent text-base",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number *"}),n.jsx("input",{type:"tel",value:j.phone,onChange:Z=>{const oe=nn(Z.target.value);k(X=>({...X,phone:oe}))},className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent text-base",placeholder:"Enter 10-digit phone number",maxLength:10,required:!0}),j.phone&&!De(j.phone)&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:"Please enter a valid 10-digit Indian phone number"})]})]})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3 mt-6 sm:mt-8",children:[n.jsx("button",{onClick:()=>N("checkout"),className:"flex-1 px-4 py-3 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 font-medium text-base",children:"Back"}),n.jsx("button",{onClick:qe,className:"flex-1 bg-gradient-to-r from-red-800 to-red-900 text-white py-3 px-4 rounded-lg hover:from-red-900 hover:to-red-950 font-medium text-base",children:"Continue to Payment"})]})]}),_==="payment"&&n.jsxs("div",{className:"p-4 sm:p-6",children:[n.jsxs("div",{className:"text-center mb-4 sm:mb-6",children:[n.jsx(qr,{className:"h-10 w-10 sm:h-12 sm:w-12 text-red-800 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-2",children:"Payment"}),n.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Complete your order payment"})]}),n.jsxs("div",{className:"mb-4 sm:mb-6",children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-4 text-sm sm:text-base",children:"Select Payment Method"}),n.jsx("div",{className:"space-y-3",children:R.map(Z=>{const oe=Z.icon,X=Z.id==="wallet"&&((i==null?void 0:i.walletBalance)||0)<ie(),F=Z.id==="cod"&&y==="pickup",ne=X||F;return n.jsx("button",{onClick:()=>x(Z.id),disabled:ne,className:`w-full p-3 sm:p-4 border-2 rounded-lg text-left transition-all ${v===Z.id?"border-red-500 bg-red-50":ne?"border-gray-200 bg-gray-50 opacity-50 cursor-not-allowed":"border-gray-200 hover:border-gray-300"}`,children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(oe,{className:"h-5 w-5 sm:h-6 sm:w-6 text-gray-600 mr-3"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h5",{className:"font-medium text-gray-900 text-sm sm:text-base",children:Z.name}),n.jsx("p",{className:`text-xs sm:text-sm ${ne?"text-red-500":"text-gray-600"}`,children:X?"Insufficient balance":F?"Not available for pickup":Z.description})]}),v===Z.id&&n.jsx("div",{className:"w-3 h-3 sm:w-4 sm:h-4 bg-red-500 rounded-full"})]})},Z.id)})})]}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg mb-4 sm:mb-6",children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-2 text-sm sm:text-base",children:"Order Summary"}),n.jsxs("div",{className:"text-xs sm:text-sm text-gray-600 space-y-1",children:[n.jsxs("p",{children:["Order Type: ",y==="delivery"?"Home Delivery":"Self Pickup"]}),y==="delivery"&&n.jsxs("p",{children:["Address: ",L]}),n.jsxs("p",{children:["Items: ",m.reduce((Z,oe)=>Z+oe.quantity,0)]}),n.jsxs("p",{className:"font-medium text-gray-900 text-sm sm:text-base",children:["Total: ",ie().toFixed(2)]})]})]}),v==="card"&&n.jsxs("div",{className:"space-y-4 mb-4 sm:mb-6",children:[n.jsx("input",{type:"text",placeholder:"Card Number",value:E.number,onChange:Z=>{const oe=H9(Z.target.value);I(X=>({...X,number:oe}))},className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 text-base",maxLength:19}),E.number&&!jw(E.number)&&n.jsx("p",{className:"text-red-500 text-sm",children:"Please enter a valid 16-digit card number"}),n.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:gap-4",children:[n.jsx("input",{type:"text",placeholder:"MM/YY",value:E.expiry,onChange:Z=>{const oe=G9(Z.target.value);I(X=>({...X,expiry:oe}))},className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 text-base",maxLength:5}),n.jsx("input",{type:"text",placeholder:"CVV",value:E.cvv,onChange:Z=>{const oe=W9(Z.target.value);I(X=>({...X,cvv:oe}))},className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 text-base",maxLength:3})]}),E.expiry&&!Ew(E.expiry)&&n.jsx("p",{className:"text-red-500 text-sm",children:"Please enter a valid expiry date (MM/YY)"}),E.cvv&&!_w(E.cvv)&&n.jsx("p",{className:"text-red-500 text-sm",children:"Please enter a valid 3-digit CVV"}),n.jsx("input",{type:"text",placeholder:"Cardholder Name",value:E.name,onChange:Z=>I(oe=>({...oe,name:Z.target.value})),className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 text-base"})]}),v==="netbanking"&&n.jsx("div",{className:"space-y-4 mb-4 sm:mb-6",children:n.jsxs("select",{className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 text-base",children:[n.jsx("option",{value:"",children:"Select your bank"}),n.jsx("option",{value:"sbi",children:"State Bank of India"}),n.jsx("option",{value:"hdfc",children:"HDFC Bank"}),n.jsx("option",{value:"icici",children:"ICICI Bank"}),n.jsx("option",{value:"axis",children:"Axis Bank"}),n.jsx("option",{value:"kotak",children:"Kotak Mahindra Bank"})]})}),v==="upi"&&n.jsxs("div",{className:"space-y-4 mb-4 sm:mb-6",children:[n.jsx("input",{type:"text",placeholder:"Enter UPI ID (example@upi)",className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 text-base"}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Or scan QR code"}),n.jsx("div",{className:"w-24 h-24 sm:w-32 sm:h-32 bg-gray-200 rounded-lg mx-auto flex items-center justify-center",children:n.jsx("span",{className:"text-gray-500 text-xs sm:text-sm",children:"QR Code"})})]})]}),v==="wallet"&&n.jsx("div",{className:"bg-green-50 p-4 rounded-lg mb-4 sm:mb-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Hr,{className:"h-5 w-5 sm:h-6 sm:w-6 text-green-600 mr-3"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-green-900 text-sm sm:text-base",children:"Payment via Tabuloo Wallet"}),n.jsxs("p",{className:"text-xs sm:text-sm text-green-700",children:["",ie().toFixed(2)," will be deducted from your wallet"]})]})]})}),v==="cod"&&n.jsx("div",{className:"bg-orange-50 p-4 rounded-lg mb-4 sm:mb-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Wl,{className:"h-5 w-5 sm:h-6 sm:w-6 text-orange-600 mr-3"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-orange-900 text-sm sm:text-base",children:"Cash on Delivery"}),n.jsxs("p",{className:"text-xs sm:text-sm text-orange-700",children:["Pay ",ie().toFixed(2)," when your order is delivered"]})]})]})}),n.jsxs("div",{className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3",children:[n.jsx("button",{onClick:()=>N(y==="delivery"?"address":"checkout"),className:"flex-1 px-4 py-3 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 font-medium text-base",children:"Back"}),n.jsxs("button",{onClick:Ee,className:"flex-1 bg-gradient-to-r from-green-600 to-green-700 text-white py-3 px-4 rounded-lg hover:from-green-700 hover:to-green-800 font-medium text-base",children:["Place Order - ",ie().toFixed(2)]})]})]}),_==="confirmation"&&n.jsxs("div",{className:"p-4 sm:p-6 text-center",children:[n.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(qi,{className:"h-6 w-6 sm:h-8 sm:w-8 text-green-600"})}),n.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-2",children:"Order Placed Successfully!"}),n.jsx("p",{className:"text-sm sm:text-base text-gray-600 mb-6",children:"Your order has been confirmed. You'll receive notifications about the order status and delivery updates."}),n.jsxs("div",{className:"bg-green-50 p-4 rounded-lg mb-6 text-left",children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-2 text-sm sm:text-base",children:"Order Details"}),n.jsxs("div",{className:"text-xs sm:text-sm text-gray-600 space-y-1",children:[n.jsxs("p",{children:["Order Type: ",y==="delivery"?"Home Delivery":"Self Pickup"]}),n.jsxs("p",{children:["Items: ",m.reduce((Z,oe)=>Z+oe.quantity,0)]}),n.jsxs("p",{children:["Total Paid: ",ie().toFixed(2)]}),n.jsx("p",{children:"Status: Order Confirmed"})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("button",{onClick:()=>{p([]),N("restaurants")},className:"w-full bg-gradient-to-r from-red-800 to-red-900 text-white py-3 px-4 rounded-lg hover:from-red-900 hover:to-red-950 font-medium text-base",children:"Order More Food"}),n.jsx("button",{onClick:e,className:"w-full text-gray-600 py-3 px-4 rounded-lg hover:bg-gray-50 font-medium text-base",children:"Close"})]})]})]})}):null},eO=({isOpen:t,onClose:e})=>{const[s,r]=T.useState([{id:"1",text:"Hi!  I'm your Tabuloo Event Planning Assistant. I can help you with venue selection, booking, pricing, and any questions about planning your perfect event. What would you like to know?",sender:"bot",timestamp:new Date}]),[i,a]=T.useState(""),[o,l]=T.useState(!1),c=T.useRef(null),d=T.useRef(null),h=()=>{var _;(_=c.current)==null||_.scrollIntoView({behavior:"smooth"})};T.useEffect(()=>{h()},[s]),T.useEffect(()=>{t&&d.current&&d.current.focus()},[t]);const f=async()=>{if(!i.trim())return;const _={id:Date.now().toString(),text:i.trim(),sender:"user",timestamp:new Date};r(N=>[...N,_]),a(""),l(!0),setTimeout(()=>{const N=m(i.trim()),y={id:(Date.now()+1).toString(),text:N,sender:"bot",timestamp:new Date};r(b=>[...b,y]),l(!1)},1e3)},m=_=>{const N=_.toLowerCase();return N.includes("venue")||N.includes("restaurant")||N.includes("place")?`Great question! For venue selection, consider:
 Guest count and capacity
 Location and accessibility
 Budget and pricing
 Event type and atmosphere
 Available dates and time slots

Would you like me to help you find the perfect venue?`:N.includes("price")||N.includes("cost")||N.includes("money")||N.includes("")?`Event pricing includes:
 Base venue cost per person
 50% event surcharge
 20% advance payment required
 Remaining balance on event day

For example: 50 people  200 = 10,000 base + 5,000 surcharge = 15,000 total. Advance: 3,000`:N.includes("book")||N.includes("reserve")||N.includes("confirm")?`Here's how to book your event:
1. Select your venue
2. Choose date and time
3. Enter attendee details
4. Make advance payment (20%)
5. Receive confirmation

Need help with any specific step?`:N.includes("cancel")||N.includes("refund")||N.includes("change")?`Cancellation policy:
 48+ hours before: Full refund
 24-48 hours: 50% refund
 Less than 24 hours: No refund

Date changes are free if made 7+ days in advance. Need to modify your booking?`:N.includes("plan")||N.includes("organize")||N.includes("arrange")?`Event planning checklist:
 Set budget and guest count
 Choose venue and date
 Plan menu and catering
 Arrange decorations
 Send invitations
 Confirm final details

Which area would you like help with?`:`I'm here to help with your event planning! You can ask me about:
 Venue selection and availability
 Pricing and payment options
 Booking process and requirements
 Cancellation policies
 Event planning tips

What specific help do you need?`},p=_=>{_.key==="Enter"&&!_.shiftKey&&(_.preventDefault(),f())};return t?n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md h-[600px] flex flex-col shadow-xl",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b bg-gradient-to-r from-red-800 to-red-900 text-white rounded-t-lg",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(fl,{className:"h-5 w-5"}),n.jsx("h3",{className:"font-semibold",children:"Event Planning Support"})]}),n.jsx("button",{onClick:e,className:"text-white hover:text-gray-200 p-1",children:n.jsx(mt,{className:"h-5 w-5"})})]}),n.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:[s.map(_=>n.jsx("div",{className:`flex ${_.sender==="user"?"justify-end":"justify-start"}`,children:n.jsx("div",{className:`max-w-[80%] rounded-lg p-3 ${_.sender==="user"?"bg-red-600 text-white":"bg-gray-100 text-gray-800"}`,children:n.jsxs("div",{className:"flex items-start space-x-2",children:[_.sender==="bot"&&n.jsx(zd,{className:"h-4 w-4 text-red-600 mt-0.5 flex-shrink-0"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm whitespace-pre-line",children:_.text}),n.jsx("p",{className:`text-xs mt-1 ${_.sender==="user"?"text-red-100":"text-gray-500"}`,children:_.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),_.sender==="user"&&n.jsx(as,{className:"h-4 w-4 text-red-100 mt-0.5 flex-shrink-0"})]})})},_.id)),o&&n.jsx("div",{className:"flex justify-start",children:n.jsx("div",{className:"bg-gray-100 rounded-lg p-3",children:n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(zd,{className:"h-4 w-4 text-red-600"}),n.jsxs("div",{className:"flex space-x-1",children:[n.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),n.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),n.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})]})})}),n.jsx("div",{ref:c})]}),n.jsx("div",{className:"p-4 border-t",children:n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("input",{ref:d,type:"text",value:i,onChange:_=>a(_.target.value),onKeyPress:p,placeholder:"Type your message...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"}),n.jsx("button",{onClick:f,disabled:!i.trim(),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:n.jsx(JE,{className:"h-4 w-4"})})]})})]})}):null},iT=({isOpen:t,onClose:e,selectedRestaurantId:s})=>{const{user:r,updateWalletBalance:i}=Vt(),{restaurants:a,addBooking:o}=Us(),[l,c]=T.useState("details"),[d,h]=T.useState("razorpay"),[f,m]=T.useState(!1),[p,_]=T.useState({restaurantId:s||"",occasion:"",date:"",time:"",customers:"1",customerNames:[""],customerPhones:[(r==null?void 0:r.phone)||""],phone:(r==null?void 0:r.phone)||"",placeForEvent:"",description:"",specialRequests:""}),N=[{id:"wallet",name:"Tabuloo Wallet",icon:Hr,description:`Balance: ${((r==null?void 0:r.walletBalance)||0).toFixed(2)}`},{id:"razorpay",name:"Secure Payment",icon:qr,description:"Credit/Debit Card, UPI, Net Banking via Razorpay"},{id:"cod",name:"Cash on Arrival",icon:Wl,description:"Pay when you arrive for the event"}],y=a.find(A=>A.id===p.restaurantId),b=["Birthday Party","Anniversary","Wedding Reception","Corporate Event","Baby Shower","Graduation Party","Holiday Celebration","Reunion","Business Meeting","Product Launch","Engagement Party","Retirement Party","Housewarming","Festival Celebration","Other"],v=A=>{const V=parseInt(A)||1;let D,U;V<=3?(D=Array(V).fill("").map((B,R)=>p.customerNames[R]||""),U=Array(V).fill("").map((B,R)=>p.customerPhones[R]||"")):(D=Array(3).fill("").map((B,R)=>p.customerNames[R]||""),U=Array(3).fill("").map((B,R)=>p.customerPhones[R]||"")),_(B=>({...B,customers:A,customerNames:D,customerPhones:U}))},x=(A,V)=>{const D=[...p.customerNames];D[A]=V,_(U=>({...U,customerNames:D}))},E=(A,V)=>{const D=[...p.customerPhones];D[A]=V,_(U=>({...U,customerPhones:D}))},I=()=>{_(A=>({...A,customerNames:[...A.customerNames,""],customerPhones:[...A.customerPhones,""]}))},L=A=>{if(p.customerNames.length>1){const V=p.customerNames.filter((U,B)=>B!==A),D=p.customerPhones.filter((U,B)=>B!==A);_(U=>({...U,customerNames:V,customerPhones:D,customers:V.length.toString()}))}},C=()=>{var V,D,U,B,R,$,H,W,G,re,ie,pe,ae;if(!y)return M.error("Please select a venue"),!1;if(!p.occasion||!p.date||!p.time)return M.error("Please fill in all required fields"),!1;if(!p.phone)return M.error("Phone number is required"),!1;if(!De(p.phone))return M.error("Please enter a valid 10-digit Indian phone number"),!1;const A=parseInt(p.customers);if(A>y.crowdCapacity)return M.error(`Venue capacity is limited to ${y.crowdCapacity} people`),!1;if(A===1){if(!((V=p.customerNames[0])!=null&&V.trim()))return M.error("Please provide the customer name"),!1}else if(A===2){if(!((D=p.customerNames[0])!=null&&D.trim())||!((U=p.customerNames[1])!=null&&U.trim()))return M.error("Please provide names for both attendees"),!1;if(!((B=p.customerPhones[0])!=null&&B.trim())||!((R=p.customerPhones[1])!=null&&R.trim()))return M.error("Please provide phone numbers for both attendees"),!1;if(!De(p.customerPhones[0])||!De(p.customerPhones[1]))return M.error("Please enter valid 10-digit Indian phone numbers for both attendees"),!1}else if(A===3){if(!(($=p.customerNames[0])!=null&&$.trim())||!((H=p.customerNames[1])!=null&&H.trim()))return M.error("Please provide names for at least the first two attendees"),!1;if(!((W=p.customerPhones[0])!=null&&W.trim())||!((G=p.customerPhones[1])!=null&&G.trim()))return M.error("Please provide phone numbers for at least the first two attendees"),!1;if(!De(p.customerPhones[0])||!De(p.customerPhones[1]))return M.error("Please enter valid 10-digit Indian phone numbers for the first two attendees"),!1}else if(A>3){if(!((re=p.customerNames[0])!=null&&re.trim())||!((ie=p.customerNames[1])!=null&&ie.trim()))return M.error("Please provide names for at least the first two attendees"),!1;if(!((pe=p.customerPhones[0])!=null&&pe.trim())||!((ae=p.customerPhones[1])!=null&&ae.trim()))return M.error("Please provide phone numbers for at least the first two attendees"),!1;if(!De(p.customerPhones[0])||!De(p.customerPhones[1]))return M.error("Please enter valid 10-digit Indian phone numbers for the first two attendees"),!1}return!0},j=A=>{A.preventDefault(),C()&&c("payment")},k=async()=>{if(!y||!r)return;const A=y.price*parseInt(p.customers),V=A*.5,U=(A+V)*.2;if(d==="wallet"){if((r.walletBalance||0)<U){M.error("Insufficient wallet balance");return}i((r.walletBalance||0)-U);const B={userId:r.id,restaurantId:p.restaurantId,type:"event",date:p.date,time:p.time,customers:parseInt(p.customers),customerNames:p.customerNames.filter(R=>R.trim()!==""),customerPhones:p.customerPhones.filter(R=>R.trim()!==""),phone:p.phone,status:"confirmed",paymentStatus:"paid",amount:U,createdAt:new Date,occasion:p.occasion,placeForEvent:p.placeForEvent,description:p.description,specialRequests:p.specialRequests,paymentMethod:d};try{await o(B),await O(B,y,r),c("confirmation")}catch(R){console.error("Event booking error:",R),M.error("Failed to create event booking")}return}if(d==="cod"){const B={userId:r.id,restaurantId:p.restaurantId,type:"event",date:p.date,time:p.time,customers:parseInt(p.customers),customerNames:p.customerNames.filter(R=>R.trim()!==""),customerPhones:p.customerPhones.filter(R=>R.trim()!==""),phone:p.phone,status:"confirmed",paymentStatus:"pending",amount:U,createdAt:new Date,occasion:p.occasion,placeForEvent:p.placeForEvent,description:p.description,specialRequests:p.specialRequests,paymentMethod:d};try{await o(B),await O(B,y,r),c("confirmation")}catch(R){console.error("Event booking error:",R),M.error("Failed to create event booking")}return}try{const B={amount:U,phone:p.phone,venueName:y.name,occasion:p.occasion,date:p.date,time:p.time,attendees:p.customers,customerNames:p.customerNames.filter(R=>R.trim()!==""),customerPhones:p.customerPhones.filter(R=>R.trim()!==""),placeForEvent:p.placeForEvent,description:p.description,specialRequests:p.specialRequests};await Za.initializeEventBookingPayment(B,r,async R=>{try{if(console.log("Payment successful:",R),(await Za.verifyPayment(R.razorpay_payment_id,R.razorpay_order_id)).success){const H={userId:r.id,restaurantId:p.restaurantId,type:"event",date:p.date,time:p.time,customers:parseInt(p.customers),customerNames:p.customerNames.filter(W=>W.trim()!==""),customerPhones:p.customerPhones.filter(W=>W.trim()!==""),phone:p.phone,status:"confirmed",paymentStatus:"paid",amount:U,createdAt:new Date,occasion:p.occasion,placeForEvent:p.placeForEvent,description:p.description,specialRequests:p.specialRequests,paymentMethod:"razorpay",paymentId:R.razorpay_payment_id,orderId:R.razorpay_order_id};await o(H),await O(H,y,r),M.success("Payment successful! Event booked."),c("confirmation")}else M.error("Payment verification failed. Please contact support.")}catch($){console.error("Payment verification error:",$),M.error("Payment verification failed. Please contact support.")}},R=>{console.error("Payment error:",R),M.error(`Payment failed: ${R.message}`)})}catch(B){console.error("Payment initialization error:",B),M.error("Failed to initialize payment. Please try again.")}},O=async(A,V,D)=>(console.log("Sending event booking emails:",{userEmail:D.email||D.phone,restaurantEmail:V.ownerCredentials.username,eventDetails:A}),new Promise(U=>setTimeout(U,1e3)));return t?n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-2 sm:p-4",children:n.jsxs("div",{className:"bg-white rounded-lg sm:rounded-xl w-full max-w-3xl max-h-[95vh] sm:max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center p-4 sm:p-6 border-b",children:[n.jsxs("div",{children:[n.jsxs("h2",{className:"text-lg sm:text-2xl font-bold text-gray-900 flex items-center",children:[n.jsx(Hi,{className:"h-5 w-5 sm:h-6 sm:w-6 mr-2 text-red-800"}),"Event Management & Booking"]}),n.jsxs("p",{className:"text-xs text-red-600 mt-1 flex items-center",children:[n.jsx(qd,{className:"h-3 w-3 mr-1"}),"Need help? Click the help button for instant support!"]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs("div",{className:"relative",children:[n.jsx("button",{onClick:()=>m(!0),className:"text-red-600 hover:text-red-700 p-2 transition-colors bg-red-50 rounded-full animate-pulse hover:animate-none",title:"Get Help with Event Planning",children:n.jsx(qd,{className:"h-5 w-5 sm:h-6 sm:w-6"})}),n.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full animate-ping"}),n.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full"})]}),n.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 p-2",children:n.jsx(mt,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]})]}),l==="details"&&n.jsxs("form",{onSubmit:j,className:"p-4 sm:p-6 space-y-4 sm:space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Venue/Restaurant *"}),n.jsxs("select",{value:p.restaurantId,onChange:A=>_(V=>({...V,restaurantId:A.target.value})),className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent text-base",required:!0,children:[n.jsx("option",{value:"",children:"Select a venue"}),a.filter(A=>A.isOpen).map(A=>n.jsxs("option",{value:A.id,children:[A.name," - Capacity: ",A.crowdCapacity," people"]},A.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Occasion *"}),n.jsxs("select",{value:p.occasion,onChange:A=>_(V=>({...V,occasion:A.target.value})),className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent text-base",required:!0,children:[n.jsx("option",{value:"",children:"Select occasion"}),b.map(A=>n.jsx("option",{value:A,children:A},A))]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Number of Persons Attending *"}),n.jsx("input",{type:"number",min:"1",max:(y==null?void 0:y.crowdCapacity)||100,required:!0,value:p.customers,onChange:A=>v(A.target.value),className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent text-base"}),y&&n.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Maximum capacity: ",y.crowdCapacity," people"]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number *"}),n.jsx("input",{type:"tel",required:!0,value:p.phone,onChange:A=>{const V=nn(A.target.value);_(D=>({...D,phone:V}))},className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent text-base",placeholder:"Enter 10-digit phone number",maxLength:10}),p.phone&&!De(p.phone)&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:"Please enter a valid 10-digit Indian phone number"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Place for the Event"}),n.jsx("input",{type:"text",value:p.placeForEvent,onChange:A=>_(V=>({...V,placeForEvent:A.target.value})),className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent text-base",placeholder:"Specific area or hall within the venue (optional)"})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(lt,{className:"h-4 w-4 inline mr-1"}),"Event Date *"]}),n.jsx("input",{type:"date",required:!0,value:p.date,onChange:A=>_(V=>({...V,date:A.target.value})),className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent text-base",min:new Date().toISOString().split("T")[0]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(At,{className:"h-4 w-4 inline mr-1"}),"Event Time *"]}),n.jsx("input",{type:"time",required:!0,value:p.time,onChange:A=>_(V=>({...V,time:A.target.value})),className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent text-base"})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[n.jsx(Zn,{className:"h-4 w-4 inline mr-1"}),"Customer Details - Name of the Customers",parseInt(p.customers)===1&&n.jsx("span",{className:"text-xs sm:text-sm text-gray-500 ml-1",children:"(Required)"}),parseInt(p.customers)===2&&n.jsx("span",{className:"text-xs sm:text-sm text-gray-500 ml-1",children:"(Both required)"}),parseInt(p.customers)===3&&n.jsx("span",{className:"text-xs sm:text-sm text-gray-500 ml-1",children:"(First 2 required, 3rd optional)"}),parseInt(p.customers)>3&&n.jsx("span",{className:"text-xs sm:text-sm text-gray-500 ml-1",children:"(First 2 required, 3rd optional - Only 3 names needed)"})]}),parseInt(p.customers)<=3&&n.jsxs("button",{type:"button",onClick:I,className:"flex items-center space-x-1 text-red-800 hover:text-red-900 text-sm",children:[n.jsx(ls,{className:"h-4 w-4"}),n.jsx("span",{children:"Add Attendee"})]})]}),n.jsx("div",{className:"space-y-3 max-h-48 sm:max-h-60 overflow-y-auto",children:p.customerNames.map((A,V)=>{const D=parseInt(p.customers);let U=!1,B="";return D===1?(U=V===0,B="Attendee name (required)"):D===2?(U=!0,B=`Attendee ${V+1} name (required)`):D===3?V===0||V===1?(U=!0,B=`Attendee ${V+1} name (required)`):V===2&&(U=!1,B=`Attendee ${V+1} name (optional)`):D>3&&(V===0||V===1?(U=!0,B=`Attendee ${V+1} name (required)`):V===2&&(U=!1,B=`Attendee ${V+1} name (optional)`)),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"text",placeholder:B,value:A,onChange:R=>x(V,R.target.value),className:"flex-1 px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent text-base",required:U}),p.customerNames.length>1&&n.jsx("button",{type:"button",onClick:()=>L(V),className:"p-2 text-red-600 hover:text-red-700 hover:bg-red-50 rounded-lg",children:n.jsx(fo,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"tel",placeholder:`Attendee ${V+1} phone number ${U?"(required)":"(optional)"}`,value:p.customerPhones[V]||"",onChange:R=>{const $=nn(R.target.value);E(V,$)},className:"flex-1 px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent text-base",required:U,maxLength:10}),p.customerPhones[V]&&!De(p.customerPhones[V])&&n.jsx("p",{className:"text-red-500 text-sm",children:"Invalid phone number"})]})]},V)})}),parseInt(p.customers)>3&&n.jsx("div",{className:"mt-2 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:n.jsxs("div",{className:"text-sm text-blue-800",children:[n.jsx("p",{className:"font-medium",children:"Note:"}),n.jsx("p",{children:"For events with more than 3 attendees, we only need the names of the first 3 people (first 2 required, 3rd optional). This helps us prepare the venue and manage the booking efficiently."})]})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Event Description"}),n.jsx("textarea",{value:p.description,onChange:A=>_(V=>({...V,description:A.target.value})),className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent text-base",rows:4,placeholder:"Brief description of your event, theme, or special requirements..."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Special Requests & Additional Details"}),n.jsx("textarea",{value:p.specialRequests,onChange:A=>_(V=>({...V,specialRequests:A.target.value})),className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent text-base",rows:4,placeholder:"Any special decorations, catering preferences, equipment needs, entertainment requirements, etc..."})]}),y&&parseInt(p.customers)>0&&n.jsxs("div",{className:"bg-red-50 p-4 rounded-lg",children:[n.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Event Booking Summary"}),n.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[n.jsxs("p",{children:["Venue: ",y.name]}),n.jsxs("p",{children:["Occasion: ",p.occasion]}),n.jsxs("p",{children:["Date: ",p.date," at ",p.time]}),n.jsxs("p",{children:["Attendees: ",p.customers]}),n.jsxs("p",{children:["Base Cost: ",(y.price*parseInt(p.customers)).toFixed(2)]}),n.jsxs("p",{children:["Event Surcharge (50%): ",(y.price*parseInt(p.customers)*.5).toFixed(2)]}),n.jsxs("p",{children:["Total Amount: ",(y.price*parseInt(p.customers)*1.5).toFixed(2)]}),n.jsxs("p",{className:"font-medium text-red-600",children:["Advance Payment (20%): ",(y.price*parseInt(p.customers)*1.5*.2).toFixed(2)]})]})]}),n.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-red-800 to-red-900 text-white py-3 px-4 rounded-lg hover:from-red-900 hover:to-red-950 transition-colors flex items-center justify-center space-x-2 font-medium text-base",children:n.jsx("span",{children:"Book Event"})})]}),l==="payment"&&y&&n.jsxs("div",{className:"p-4 sm:p-6",children:[n.jsxs("div",{className:"text-center mb-4 sm:mb-6",children:[n.jsx(qr,{className:"h-10 w-10 sm:h-12 sm:w-12 text-red-800 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-2",children:"Event Payment"}),n.jsxs("p",{className:"text-sm sm:text-base text-gray-600",children:["Advance payment of ",(y.price*parseInt(p.customers)*1.5*.2).toFixed(2)," required"]})]}),n.jsxs("div",{className:"mb-4 sm:mb-6",children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-4 text-sm sm:text-base",children:"Select Payment Method"}),n.jsx("div",{className:"space-y-3",children:N.map(A=>{const V=A.icon,D=y.price*parseInt(p.customers)*1.5*.2,U=A.id==="wallet"&&((r==null?void 0:r.walletBalance)||0)<D;return n.jsx("button",{onClick:()=>h(A.id),disabled:U,className:`w-full p-3 sm:p-4 border-2 rounded-lg text-left transition-all ${d===A.id?"border-red-500 bg-red-50":U?"border-gray-200 bg-gray-50 opacity-50 cursor-not-allowed":"border-gray-200 hover:border-gray-300"}`,children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(V,{className:"h-5 w-5 sm:h-6 sm:w-6 text-gray-600 mr-3"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h5",{className:"font-medium text-gray-900 text-sm sm:text-base",children:A.name}),n.jsx("p",{className:`text-xs sm:text-sm ${U?"text-red-500":"text-gray-600"}`,children:U?"Insufficient balance":A.description})]}),d===A.id&&n.jsx("div",{className:"w-3 h-3 sm:w-4 sm:h-4 bg-red-500 rounded-full"})]})},A.id)})})]}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg mb-4 sm:mb-6",children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-2 text-sm sm:text-base",children:"Event Summary"}),n.jsxs("div",{className:"text-xs sm:text-sm text-gray-600 space-y-1",children:[n.jsxs("p",{children:["Venue: ",y.name]}),n.jsxs("p",{children:["Occasion: ",p.occasion]}),n.jsxs("p",{children:["Date & Time: ",p.date," at ",p.time]}),n.jsxs("p",{children:["Attendees: ",p.customers]}),n.jsxs("p",{children:["Contact: ",p.phone]}),n.jsxs("p",{children:["Total: ",(y.price*parseInt(p.customers)*1.5).toFixed(2)]}),n.jsxs("p",{className:"font-medium text-red-600",children:["Advance: ",(y.price*parseInt(p.customers)*1.5*.2).toFixed(2)]})]})]}),d==="razorpay"&&n.jsx("div",{className:"bg-blue-50 p-4 rounded-lg mb-4 sm:mb-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(qr,{className:"h-5 w-5 sm:h-6 sm:w-6 text-blue-600 mr-3"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-blue-900 text-sm sm:text-base",children:"Secure Payment via Razorpay"}),n.jsx("p",{className:"text-xs sm:text-sm text-blue-700",children:"You'll be redirected to a secure payment gateway where you can pay using Credit/Debit Card, UPI, Net Banking, or other payment methods."})]})]})}),d==="wallet"&&n.jsx("div",{className:"bg-green-50 p-4 rounded-lg mb-4 sm:mb-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Hr,{className:"h-5 w-5 sm:h-6 sm:w-6 text-green-600 mr-3"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-green-900 text-sm sm:text-base",children:"Payment via Tabuloo Wallet"}),n.jsxs("p",{className:"text-xs sm:text-sm text-green-700",children:["",(y.price*parseInt(p.customers)*1.5*.2).toFixed(2)," will be deducted from your wallet"]})]})]})}),d==="cod"&&n.jsx("div",{className:"bg-orange-50 p-4 rounded-lg mb-4 sm:mb-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Wl,{className:"h-5 w-5 sm:h-6 sm:w-6 text-orange-600 mr-3"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-orange-900 text-sm sm:text-base",children:"Cash on Arrival"}),n.jsxs("p",{className:"text-xs sm:text-sm text-orange-700",children:["Pay ",(y.price*parseInt(p.customers)*1.5*.2).toFixed(2)," when you arrive for the event"]})]})]})}),n.jsxs("div",{className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3",children:[n.jsx("button",{onClick:()=>c("details"),className:"flex-1 px-4 py-3 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 font-medium text-base",children:"Back"}),n.jsxs("button",{onClick:k,className:"flex-1 bg-gradient-to-r from-red-800 to-red-900 text-white py-3 px-4 rounded-lg hover:from-red-900 hover:to-red-950 font-medium text-base",children:["Pay ",(y.price*parseInt(p.customers||"0")*1.5*.2).toFixed(2)]})]})]}),l==="confirmation"&&y&&n.jsxs("div",{className:"p-4 sm:p-6 text-center",children:[n.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(qi,{className:"h-6 w-6 sm:h-8 sm:w-8 text-red-600"})}),n.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-2",children:"Event Booked Successfully!"}),n.jsx("p",{className:"text-sm sm:text-base text-gray-600 mb-6",children:"Your event has been confirmed. Booking details have been sent to both you and the venue via email."}),n.jsxs("div",{className:"bg-red-50 p-4 rounded-lg mb-6 text-left",children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-2 text-sm sm:text-base",children:"Event Details"}),n.jsxs("div",{className:"text-xs sm:text-sm text-gray-600 space-y-1",children:[n.jsxs("p",{children:["Venue: ",y.name]}),n.jsxs("p",{children:["Occasion: ",p.occasion]}),n.jsxs("p",{children:["Date & Time: ",p.date," at ",p.time]}),n.jsxs("p",{children:["Attendees: ",p.customers]}),n.jsxs("p",{children:["Contact: ",p.phone]}),n.jsxs("p",{children:["Advance Paid: ",(y.price*parseInt(p.customers)*1.5*.2).toFixed(2)]}),n.jsxs("div",{className:"mt-3 pt-3 border-t border-red-200",children:[n.jsx("p",{className:"font-medium text-red-800",children:"Attendee Details:"}),p.customerNames.map((A,V)=>A.trim()?n.jsxs("p",{className:"text-xs",children:[A," - ",p.customerPhones[V]||"No phone"]},V):null)]})]})]}),n.jsx("button",{onClick:e,className:"w-full bg-gradient-to-r from-red-800 to-red-900 text-white py-3 px-4 rounded-lg hover:from-red-900 hover:to-red-950 font-medium text-base",children:"Done"})]}),n.jsx(eO,{isOpen:f,onClose:()=>m(!1)})]})}):null},aT=({isOpen:t,onClose:e})=>{const[s,r]=T.useState([{id:"1",text:"Hi!  I'm your Tabuloo Support Assistant. I can help you with anything related to our platform - from booking tables and ordering food to event planning and general inquiries. What can I help you with today?",sender:"bot",timestamp:new Date}]),[i,a]=T.useState(""),[o,l]=T.useState(!1),c=T.useRef(null),d=T.useRef(null),h=()=>{var _;(_=c.current)==null||_.scrollIntoView({behavior:"smooth"})};T.useEffect(()=>{h()},[s]),T.useEffect(()=>{t&&d.current&&d.current.focus()},[t]);const f=async()=>{if(!i.trim())return;const _={id:Date.now().toString(),text:i.trim(),sender:"user",timestamp:new Date};r(N=>[...N,_]),a(""),l(!0),setTimeout(()=>{const N=m(i.trim()),y={id:(Date.now()+1).toString(),text:N,sender:"bot",timestamp:new Date};r(b=>[...b,y]),l(!1)},1e3)},m=_=>{const N=_.toLowerCase();return N.includes("what is tabuloo")||N.includes("about tabuloo")||N.includes("platform")?`Tabuloo is your comprehensive dining and event planning platform! 

We offer:
 Table reservations at top restaurants
 Food delivery and pickup
 Event planning and venue booking
 Premium dining experiences
 Multiple payment options

We connect food lovers with the best dining experiences!`:N.includes("table")||N.includes("reservation")||N.includes("book table")?`Table booking is super easy! 

Here's how:
1. Click 'Book Table' on any restaurant
2. Choose your date and time
3. Select number of guests
4. Enter contact details
5. Make advance payment (20%)
6. Get instant confirmation

Need help with a specific booking?`:N.includes("food")||N.includes("order")||N.includes("delivery")||N.includes("pickup")?`Food ordering made simple! 

Options available:
 Home delivery
 Restaurant pickup
 Express delivery
 Scheduled orders

Process:
1. Browse restaurant menus
2. Add items to cart
3. Choose delivery/pickup
4. Enter address & payment
5. Track your order

What type of food are you looking for?`:N.includes("event")||N.includes("party")||N.includes("celebration")?`Event planning is our specialty! 

We help with:
 Birthday parties
 Corporate events
 Weddings & receptions
 Anniversaries
 Business meetings

Features:
 Venue selection
 Capacity planning
 Catering options
 Decoration services
 Payment plans

What type of event are you planning?`:N.includes("payment")||N.includes("pay")||N.includes("money")||N.includes("")||N.includes("wallet")?`We offer multiple payment options! 

Payment methods:
 Tabuloo Wallet
 Credit/Debit cards
 UPI
 Net banking
 Cash on delivery/arrival

For bookings:
 20% advance payment required
 Remaining on service day

For food orders:
 Full payment upfront
 Multiple payment options

Need help with a specific payment?`:N.includes("restaurant")||N.includes("venue")||N.includes("place")||N.includes("food place")?`We have amazing restaurants! 

Restaurant types:
 Fine dining
 Casual restaurants
 Hotels & resorts
 Cafes & bistros

Features:
 Real-time availability
 Customer reviews
 Photos & menus
 Location & directions
 Opening hours

Looking for a specific cuisine or area?`:N.includes("account")||N.includes("profile")||N.includes("login")||N.includes("sign up")?`Account management is simple! 

Features:
 Quick OTP-based login
 Profile management
 Order history
 Booking history
 Wallet management
 Address book

Login options:
 Public users (food ordering)
 Restaurant owners
 Admin users
 Delivery partners

Need help with your account?`:N.includes("contact")||N.includes("support")||N.includes("help")||N.includes("phone")||N.includes("email")?`We're here to help! 

Contact options:
 Phone: +91 9100933477
 Email: support@tabuloo.com
 Live chat (right here!)
 In-app support

Support hours:
 24/7 online support
 Phone: 9 AM - 9 PM
 Emergency: Always available

What specific help do you need?`:N.includes("problem")||N.includes("issue")||N.includes("error")||N.includes("not working")||N.includes("bug")?`Sorry to hear you're having issues! 

Let's troubleshoot:
 What exactly isn't working?
 Which page/feature?
 What error message?
 Browser/device details?

Quick fixes:
 Refresh the page
 Clear browser cache
 Check internet connection
 Try different browser

Can you describe the issue in detail?`:N.includes("price")||N.includes("cost")||N.includes("fee")||N.includes("charges")?`Our pricing is transparent! 

Table booking:
 Restaurant base price per person
 20% advance payment
 No hidden charges

Food delivery:
 Menu prices + delivery fee
 Free delivery on orders above 200
 No service charges

Event planning:
 Venue cost + 50% surcharge
 20% advance payment
 Transparent pricing

Need specific pricing details?`:N.includes("cancel")||N.includes("refund")||N.includes("change")||N.includes("modify")?`Cancellation policies are fair! 

Table bookings:
 24+ hours: Full refund
 12-24 hours: 50% refund
 Less than 12 hours: No refund

Food orders:
 Before preparation: Full refund
 During preparation: 50% refund
 After dispatch: No refund

Event bookings:
 48+ hours: Full refund
 24-48 hours: 50% refund
 Less than 24 hours: No refund

Need to modify a booking?`:`I'm here to help with anything Tabuloo-related! 

You can ask me about:
 Platform features and services
 How to use different features
 Payment and pricing
 Restaurant information
 Event planning
 Account management
 Technical support
 Contact information

What would you like to know more about?`},p=_=>{_.key==="Enter"&&!_.shiftKey&&(_.preventDefault(),f())};return t?n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md h-[600px] flex flex-col shadow-xl",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b bg-gradient-to-r from-red-800 to-red-900 text-white rounded-t-lg",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(qd,{className:"h-5 w-5"}),n.jsx("h3",{className:"font-semibold",children:"Tabuloo Support"})]}),n.jsx("button",{onClick:e,className:"text-white hover:text-gray-200 p-1",children:n.jsx(mt,{className:"h-5 w-5"})})]}),n.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:[s.map(_=>n.jsx("div",{className:`flex ${_.sender==="user"?"justify-end":"justify-start"}`,children:n.jsx("div",{className:`max-w-[80%] rounded-lg p-3 ${_.sender==="user"?"bg-red-600 text-white":"bg-gray-100 text-gray-800"}`,children:n.jsxs("div",{className:"flex items-start space-x-2",children:[_.sender==="bot"&&n.jsx(zd,{className:"h-4 w-4 text-red-600 mt-0.5 flex-shrink-0"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm whitespace-pre-line",children:_.text}),n.jsx("p",{className:`text-xs mt-1 ${_.sender==="user"?"text-red-100":"text-gray-500"}`,children:_.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),_.sender==="user"&&n.jsx(as,{className:"h-4 w-4 text-red-100 mt-0.5 flex-shrink-0"})]})})},_.id)),o&&n.jsx("div",{className:"flex justify-start",children:n.jsx("div",{className:"bg-gray-100 rounded-lg p-3",children:n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(zd,{className:"h-4 w-4 text-red-600"}),n.jsxs("div",{className:"flex space-x-1",children:[n.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),n.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),n.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})]})})}),n.jsx("div",{ref:c})]}),n.jsx("div",{className:"p-4 border-t",children:n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("input",{ref:d,type:"text",value:i,onChange:_=>a(_.target.value),onKeyPress:p,placeholder:"Ask me anything about Tabuloo...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"}),n.jsx("button",{onClick:f,disabled:!i.trim(),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:n.jsx(JE,{className:"h-4 w-4"})})]})})]})}):null},tO=()=>{var C;const{user:t,logout:e}=Vt(),{getTotalItems:s}=bc(),r=_s(),[i,a]=T.useState(!1),[o,l]=T.useState(!1),[c,d]=T.useState(!1),[h,f]=T.useState(!1),[m,p]=T.useState(!1),[_,N]=T.useState("public_user"),[y,b]=T.useState(!1),[v,x]=T.useState(!1),E=j=>{N(j),f(!0),b(!1)},I=()=>{e(),M.success("Logout successful!"),b(!1)},L=[{id:"book-table",title:"Book Table",icon:lt,color:"text-red-800 hover:text-red-900",action:()=>{a(!0),b(!1)}},{id:"order-food",title:"Order Food",icon:Rs,color:"text-red-800 hover:text-red-900",action:()=>{l(!0),b(!1)}},{id:"event-management",title:"Event Management",icon:Hi,color:"text-red-800 hover:text-red-900",action:()=>{d(!0),b(!1)}},{id:"event-planning",title:"Event Planning",icon:Hi,color:"text-red-800 hover:text-red-900",action:()=>{r("/event-planning"),b(!1)}},{id:"support",title:"Get Help",icon:qd,color:"text-red-800 hover:text-red-900",action:()=>{x(!0),b(!1)}}];return n.jsx(n.Fragment,{children:n.jsx("header",{className:"bg-white shadow-md sticky top-0 z-50",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"flex justify-between items-center h-16 gap-4",children:[n.jsx("div",{className:"flex items-center flex-shrink-0",children:n.jsxs("div",{className:"flex items-center cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>r("/"),children:[n.jsx("img",{src:"/tabuloo-logo.png",alt:"Tabuloo",className:"h-10 w-auto mr-2 sm:h-12 sm:mr-3"}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(Be,{className:"h-4 w-4 sm:h-5 sm:w-5 text-red-800 mr-1 sm:mr-2"}),n.jsx("span",{className:"text-lg sm:text-xl font-black bg-gradient-to-r from-red-800 to-red-900 bg-clip-text text-transparent tracking-wide",children:"TABULOO"})]})]})}),n.jsxs("div",{className:"hidden md:flex items-center space-x-6",children:[t&&t.role==="public_user"&&n.jsx("div",{className:"flex items-center space-x-3",children:L.map(j=>{const k=j.icon;return n.jsxs("button",{onClick:j.action,className:`flex items-center space-x-2 px-2 py-2 rounded-lg transition-all hover:bg-red-50 ${j.color} text-xs lg:text-sm`,children:[n.jsx(k,{className:"h-4 w-4"}),n.jsx("span",{className:"font-medium hidden lg:inline",children:j.title})]},j.id)})}),t?n.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[t.role==="public_user"&&n.jsxs(n.Fragment,{children:[n.jsxs("button",{onClick:()=>r("/cart"),className:"flex items-center space-x-2 px-3 py-2 text-gray-600 hover:text-red-800 hover:bg-red-50 rounded-lg transition-colors",children:[n.jsx(J9,{}),n.jsx("span",{className:"text-sm font-medium",children:"Cart"})]}),n.jsxs("button",{onClick:()=>r("/profile"),className:"flex items-center space-x-2 px-3 py-2 text-gray-600 hover:text-red-800 hover:bg-red-50 rounded-lg transition-colors",children:[n.jsx(as,{className:"h-5 w-5"}),n.jsx("span",{className:"text-sm font-medium",children:"Profile"})]})]}),n.jsx("div",{className:"flex items-center space-x-2",children:n.jsx("span",{className:"text-sm text-gray-700 font-medium",children:t.name})}),n.jsxs("button",{onClick:I,className:"flex items-center space-x-1 text-gray-600 hover:text-red-800 transition-colors p-2 rounded-lg hover:bg-red-50",children:[n.jsx(k9,{className:"h-4 w-4"}),n.jsx("span",{className:"text-sm",children:"Logout"})]})]}):n.jsx("div",{className:"hidden md:flex items-center space-x-4",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>p(!0),className:"p-2 text-gray-600 hover:text-red-800 hover:bg-red-50 rounded-full transition-colors",title:"Delivery Boy Login",children:n.jsx(Wi,{className:"h-5 w-5"})}),n.jsx("button",{onClick:()=>E("admin"),className:"p-2 text-gray-600 hover:text-red-800 hover:bg-red-50 rounded-full transition-colors",title:"Admin Login",children:n.jsx(Wd,{className:"h-5 w-5"})}),n.jsx("button",{onClick:()=>E("restaurant_owner"),className:"p-2 text-gray-600 hover:text-red-800 hover:bg-red-50 rounded-full transition-colors",title:"Restaurant Owner Login",children:n.jsx(Op,{className:"h-5 w-5"})}),n.jsx("button",{onClick:()=>E("public_user"),className:"bg-gradient-to-r from-red-800 to-red-900 text-white px-6 py-2 rounded-full hover:from-red-900 hover:to-red-950 transition-all font-medium",children:"Sign In"})]})})]}),n.jsx("button",{onClick:()=>b(!y),className:"md:hidden p-2 text-gray-700 hover:text-red-800",children:y?n.jsx(mt,{className:"h-6 w-6"}):n.jsx(I9,{className:"h-6 w-6"})})]}),y&&n.jsx("div",{className:"md:hidden absolute top-full left-0 right-0 bg-white border-t border-gray-200 shadow-lg",children:n.jsxs("div",{className:"p-4 space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Quick Actions"}),L.map(j=>n.jsxs("button",{onClick:()=>{j.action(),b(!1)},className:"w-full flex items-center space-x-3 p-3 text-left rounded-lg hover:bg-gray-50 transition-colors",children:[n.jsx(j.icon,{className:`h-5 w-5 ${j.color}`}),n.jsx("span",{className:"text-gray-700",children:j.title})]},j.title))]}),t?n.jsxs("div",{className:"space-y-2",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Account"}),n.jsxs("div",{className:"flex items-center space-x-3 p-3",children:[n.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-red-800 font-semibold",children:((C=t.name)==null?void 0:C.charAt(0).toUpperCase())||"U"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-gray-900 font-medium",children:t.name||"User"}),n.jsx("p",{className:"text-sm text-gray-500",children:t.role})]})]}),t.role==="public_user"&&n.jsxs(n.Fragment,{children:[n.jsxs("button",{onClick:()=>{r("/cart"),b(!1)},className:"w-full text-left p-3 text-gray-700 hover:bg-gray-50 rounded-lg flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(Rs,{className:"h-5 w-5 mr-3"}),n.jsx("span",{children:"Cart"})]}),s()>0&&n.jsx("span",{className:"bg-red-800 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:s()})]}),n.jsx("button",{onClick:()=>{r("/profile"),b(!1)},className:"w-full text-left p-3 text-gray-700 hover:bg-gray-50 rounded-lg",children:"Profile"})]}),n.jsx("button",{onClick:()=>{I(),b(!1)},className:"w-full text-left p-3 text-gray-700 hover:bg-gray-50 rounded-lg",children:"Logout"})]}):n.jsxs("div",{className:"space-y-2",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Account"}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsxs("button",{onClick:()=>{p(!0),b(!1)},className:"p-3 text-center rounded-lg border border-gray-200 hover:border-red-300 hover:bg-red-50 transition-colors",children:[n.jsx(Wi,{className:"h-6 w-6 mx-auto mb-1 text-gray-600"}),n.jsx("span",{className:"text-xs text-gray-600",children:"Delivery"})]}),n.jsxs("button",{onClick:()=>{E("admin"),b(!1)},className:"p-3 text-center rounded-lg border border-gray-200 hover:border-red-300 hover:bg-red-50 transition-colors",children:[n.jsx(Wd,{className:"h-6 w-6 mx-auto mb-1 text-gray-600"}),n.jsx("span",{className:"text-xs text-gray-600",children:"Admin"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsxs("button",{onClick:()=>{E("restaurant_owner"),b(!1)},className:"p-3 text-center rounded-lg border border-gray-200 hover:border-red-300 hover:bg-red-50 transition-colors",children:[n.jsx(Op,{className:"h-6 w-6 mx-auto mb-1 text-gray-600"}),n.jsx("span",{className:"text-xs text-gray-600",children:"Restaurant"})]}),n.jsxs("button",{onClick:()=>{E("public_user"),b(!1)},className:"p-3 text-center rounded-lg bg-gradient-to-r from-red-800 to-red-900 text-white hover:from-red-900 hover:to-red-950 transition-colors",children:[n.jsx(as,{className:"h-6 w-6 mx-auto mb-1"}),n.jsx("span",{className:"text-xs",children:"Sign In"})]})]})]})]})}),t&&i&&n.jsx(rT,{isOpen:i,onClose:()=>a(!1)}),t&&o&&n.jsx(nT,{isOpen:o,onClose:()=>l(!1)}),t&&c&&n.jsx(iT,{isOpen:c,onClose:()=>d(!1)}),h&&n.jsx(Y9,{isOpen:h,onClose:()=>f(!1),authType:_}),m&&n.jsx(X9,{isOpen:m,onClose:()=>p(!1)}),n.jsx(aT,{isOpen:v,onClose:()=>x(!1)})]})})})},sO=()=>{const t=new Date().getFullYear(),e=_s(),s=r=>{e(r),window.scrollTo({top:0,behavior:"smooth"})};return n.jsx("footer",{className:"bg-gray-900 text-white",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-12",children:[n.jsxs("div",{className:"grid md:grid-cols-4 gap-8",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx("img",{src:"/tabuloo-logo.png",alt:"Tabuloo",className:"h-8 w-auto mr-3"}),n.jsx("span",{className:"text-xl font-bold",children:"TABULOO"})]}),n.jsx("p",{className:"text-gray-300 mb-4 leading-relaxed",children:"Revolutionizing the dining experience by connecting food lovers with exceptional restaurants. Book tables, order food, and coordinate events seamlessly."}),n.jsxs("div",{className:"flex space-x-4",children:[n.jsxs("a",{href:"https://www.linkedin.com/in/tabuloo-ind-128991378?utm_source=share&utm_campaign=share_via&utm_content=profile&utm_medium=android_app",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-white transition-colors","aria-label":"LinkedIn",children:[n.jsx("span",{className:"sr-only",children:"LinkedIn"}),n.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})})]}),n.jsxs("a",{href:"https://www.facebook.com/share/14HXqDbsibT/",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-white transition-colors","aria-label":"Facebook",children:[n.jsx("span",{className:"sr-only",children:"Facebook"}),n.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})})]}),n.jsxs("a",{href:"https://www.instagram.com/__tabuloo__official__?igsh=MTBoY3oxN3pvdDIxZg==",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-white transition-colors","aria-label":"Instagram",children:[n.jsx("span",{className:"sr-only",children:"Instagram"}),n.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})})]}),n.jsxs("a",{href:"https://chat.whatsapp.com/GqT2sx2oC7gLCgOLR6kipX?mode=ac_t",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-white transition-colors","aria-label":"WhatsApp",children:[n.jsx("span",{className:"sr-only",children:"WhatsApp"}),n.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.87 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.885 3.488"})})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Quick Links"}),n.jsxs("ul",{className:"space-y-2",children:[n.jsx("li",{children:n.jsx("button",{onClick:()=>s("/about-us"),className:"text-gray-300 hover:text-white transition-colors text-left w-full",children:"About Us"})}),n.jsx("li",{children:n.jsx("button",{onClick:()=>s("/contact-us"),className:"text-gray-300 hover:text-white transition-colors text-left w-full",children:"Contact Us"})}),n.jsx("li",{children:n.jsx("button",{onClick:()=>s("/refund-policy"),className:"text-gray-300 hover:text-white transition-colors text-left w-full",children:"Refund Policy"})}),n.jsx("li",{children:n.jsx("button",{onClick:()=>s("/shipping-policy"),className:"text-gray-300 hover:text-white transition-colors text-left w-full",children:"Shipping Policy"})}),n.jsx("li",{children:n.jsx("a",{href:"#",className:"text-gray-300 hover:text-white transition-colors",children:"Partner with Us"})})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Legal"}),n.jsxs("ul",{className:"space-y-2",children:[n.jsx("li",{children:n.jsx("button",{onClick:()=>s("/privacy-policy"),className:"text-gray-300 hover:text-white transition-colors text-left w-full",children:"Privacy Policy"})}),n.jsx("li",{children:n.jsx("button",{onClick:()=>s("/terms-conditions"),className:"text-gray-300 hover:text-white transition-colors text-left w-full",children:"Terms & Conditions"})}),n.jsx("li",{children:n.jsx("a",{href:"#",className:"text-gray-300 hover:text-white transition-colors",children:"Cookie Policy"})}),n.jsx("li",{children:n.jsx("a",{href:"#",className:"text-gray-300 hover:text-white transition-colors",children:"Data Protection"})})]})]})]}),n.jsx("div",{className:"border-t border-gray-800 mt-8 pt-8",children:n.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(Be,{className:"h-5 w-5 text-red-400 mr-3"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-400",children:"Address"}),n.jsx("p",{className:"text-gray-300",children:"6-237-98-79, Devalam Extation, Madanapalle, Madanapalle, Chittoor- 517325, Andhra Pradesh"})]})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(wc,{className:"h-5 w-5 text-red-400 mr-3"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-400",children:"Email"}),n.jsx("p",{className:"text-gray-300",children:"support@tabuloo.com"})]})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(jr,{className:"h-5 w-5 text-red-400 mr-3"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-400",children:"Phone"}),n.jsx("p",{className:"text-gray-300",children:"+91 9100933477"})]})]})]})}),n.jsx("div",{className:"border-t border-gray-800 mt-8 pt-8 text-center",children:n.jsxs("p",{className:"text-gray-400",children:[" ",t," Tabuloo Technologies Pvt. Ltd. All rights reserved."]})})]})})},rO=()=>n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-800 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}),oT=T.createContext({});function nO(t){const e=T.useRef(null);return e.current===null&&(e.current=t()),e.current}const a0=typeof window<"u",iO=a0?T.useLayoutEffect:T.useEffect,o0=T.createContext(null);function l0(t,e){t.indexOf(e)===-1&&t.push(e)}function c0(t,e){const s=t.indexOf(e);s>-1&&t.splice(s,1)}const an=(t,e,s)=>s>e?e:s<t?t:s;let Gd=()=>{};const on={},lT=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function cT(t){return typeof t=="object"&&t!==null}const uT=t=>/^0[^.\s]+$/u.test(t);function u0(t){let e;return()=>(e===void 0&&(e=t()),e)}const Vs=t=>t,aO=(t,e)=>s=>e(t(s)),Nc=(...t)=>t.reduce(aO),Gl=(t,e,s)=>{const r=e-t;return r===0?1:(s-t)/r};class d0{constructor(){this.subscriptions=[]}add(e){return l0(this.subscriptions,e),()=>c0(this.subscriptions,e)}notify(e,s,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,s,r);else for(let a=0;a<i;a++){const o=this.subscriptions[a];o&&o(e,s,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const yr=t=>t*1e3,vr=t=>t/1e3;function dT(t,e){return e?t*(1e3/e):0}const hT=(t,e,s)=>(((1-3*s+3*e)*t+(3*s-6*e))*t+3*e)*t,oO=1e-7,lO=12;function cO(t,e,s,r,i){let a,o,l=0;do o=e+(s-e)/2,a=hT(o,r,i)-t,a>0?s=o:e=o;while(Math.abs(a)>oO&&++l<lO);return o}function jc(t,e,s,r){if(t===e&&s===r)return Vs;const i=a=>cO(a,0,1,t,s);return a=>a===0||a===1?a:hT(i(a),e,r)}const mT=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,fT=t=>e=>1-t(1-e),pT=jc(.33,1.53,.69,.99),h0=fT(pT),gT=mT(h0),xT=t=>(t*=2)<1?.5*h0(t):.5*(2-Math.pow(2,-10*(t-1))),m0=t=>1-Math.sin(Math.acos(t)),yT=fT(m0),vT=mT(m0),uO=jc(.42,0,1,1),dO=jc(0,0,.58,1),bT=jc(.42,0,.58,1),hO=t=>Array.isArray(t)&&typeof t[0]!="number",wT=t=>Array.isArray(t)&&typeof t[0]=="number",Tw={linear:Vs,easeIn:uO,easeInOut:bT,easeOut:dO,circIn:m0,circInOut:vT,circOut:yT,backIn:h0,backInOut:gT,backOut:pT,anticipate:xT},mO=t=>typeof t=="string",Cw=t=>{if(wT(t)){Gd(t.length===4);const[e,s,r,i]=t;return jc(e,s,r,i)}else if(mO(t))return Gd(Tw[t]!==void 0),Tw[t];return t},pu=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],Sw={value:null,addProjectionMetrics:null};function fO(t,e){let s=new Set,r=new Set,i=!1,a=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},c=0;function d(f){o.has(f)&&(h.schedule(f),t()),c++,f(l)}const h={schedule:(f,m=!1,p=!1)=>{const N=p&&i?s:r;return m&&o.add(f),N.has(f)||N.add(f),f},cancel:f=>{r.delete(f),o.delete(f)},process:f=>{if(l=f,i){a=!0;return}i=!0,[s,r]=[r,s],s.forEach(d),e&&Sw.value&&Sw.value.frameloop[e].push(c),c=0,s.clear(),i=!1,a&&(a=!1,h.process(f))}};return h}const pO=40;function NT(t,e){let s=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>s=!0,o=pu.reduce((x,E)=>(x[E]=fO(a,e?E:void 0),x),{}),{setup:l,read:c,resolveKeyframes:d,preUpdate:h,update:f,preRender:m,render:p,postRender:_}=o,N=()=>{const x=on.useManualTiming?i.timestamp:performance.now();s=!1,on.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(x-i.timestamp,pO),1)),i.timestamp=x,i.isProcessing=!0,l.process(i),c.process(i),d.process(i),h.process(i),f.process(i),m.process(i),p.process(i),_.process(i),i.isProcessing=!1,s&&e&&(r=!1,t(N))},y=()=>{s=!0,r=!0,i.isProcessing||t(N)};return{schedule:pu.reduce((x,E)=>{const I=o[E];return x[E]=(L,C=!1,j=!1)=>(s||y(),I.schedule(L,C,j)),x},{}),cancel:x=>{for(let E=0;E<pu.length;E++)o[pu[E]].cancel(x)},state:i,steps:o}}const{schedule:Ye,cancel:ei,state:kt,steps:Qm}=NT(typeof requestAnimationFrame<"u"?requestAnimationFrame:Vs,!0);let qu;function gO(){qu=void 0}const cs={now:()=>(qu===void 0&&cs.set(kt.isProcessing||on.useManualTiming?kt.timestamp:performance.now()),qu),set:t=>{qu=t,queueMicrotask(gO)}},jT=t=>e=>typeof e=="string"&&e.startsWith(t),f0=jT("--"),xO=jT("var(--"),p0=t=>xO(t)?yO.test(t.split("/*")[0].trim()):!1,yO=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,po={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Kl={...po,transform:t=>an(0,1,t)},gu={...po,default:1},pl=t=>Math.round(t*1e5)/1e5,g0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function vO(t){return t==null}const bO=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,x0=(t,e)=>s=>!!(typeof s=="string"&&bO.test(s)&&s.startsWith(t)||e&&!vO(s)&&Object.prototype.hasOwnProperty.call(s,e)),_T=(t,e,s)=>r=>{if(typeof r!="string")return r;const[i,a,o,l]=r.match(g0);return{[t]:parseFloat(i),[e]:parseFloat(a),[s]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},wO=t=>an(0,255,t),Ym={...po,transform:t=>Math.round(wO(t))},Ei={test:x0("rgb","red"),parse:_T("red","green","blue"),transform:({red:t,green:e,blue:s,alpha:r=1})=>"rgba("+Ym.transform(t)+", "+Ym.transform(e)+", "+Ym.transform(s)+", "+pl(Kl.transform(r))+")"};function NO(t){let e="",s="",r="",i="";return t.length>5?(e=t.substring(1,3),s=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),s=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,s+=s,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(s,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Lp={test:x0("#"),parse:NO,transform:Ei.transform},_c=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),xn=_c("deg"),br=_c("%"),ye=_c("px"),jO=_c("vh"),_O=_c("vw"),Pw={...br,parse:t=>br.parse(t)/100,transform:t=>br.transform(t*100)},_a={test:x0("hsl","hue"),parse:_T("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:s,alpha:r=1})=>"hsla("+Math.round(t)+", "+br.transform(pl(e))+", "+br.transform(pl(s))+", "+pl(Kl.transform(r))+")"},pt={test:t=>Ei.test(t)||Lp.test(t)||_a.test(t),parse:t=>Ei.test(t)?Ei.parse(t):_a.test(t)?_a.parse(t):Lp.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ei.transform(t):_a.transform(t),getAnimatableNone:t=>{const e=pt.parse(t);return e.alpha=0,pt.transform(e)}},EO=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function TO(t){var e,s;return isNaN(t)&&typeof t=="string"&&(((e=t.match(g0))==null?void 0:e.length)||0)+(((s=t.match(EO))==null?void 0:s.length)||0)>0}const ET="number",TT="color",CO="var",SO="var(",kw="${}",PO=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ql(t){const e=t.toString(),s=[],r={color:[],number:[],var:[]},i=[];let a=0;const l=e.replace(PO,c=>(pt.test(c)?(r.color.push(a),i.push(TT),s.push(pt.parse(c))):c.startsWith(SO)?(r.var.push(a),i.push(CO),s.push(c)):(r.number.push(a),i.push(ET),s.push(parseFloat(c))),++a,kw)).split(kw);return{values:s,split:l,indexes:r,types:i}}function CT(t){return Ql(t).values}function ST(t){const{split:e,types:s}=Ql(t),r=e.length;return i=>{let a="";for(let o=0;o<r;o++)if(a+=e[o],i[o]!==void 0){const l=s[o];l===ET?a+=pl(i[o]):l===TT?a+=pt.transform(i[o]):a+=i[o]}return a}}const kO=t=>typeof t=="number"?0:pt.test(t)?pt.getAnimatableNone(t):t;function IO(t){const e=CT(t);return ST(t)(e.map(kO))}const ti={test:TO,parse:CT,createTransformer:ST,getAnimatableNone:IO};function Xm(t,e,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?t+(e-t)*6*s:s<1/2?e:s<2/3?t+(e-t)*(2/3-s)*6:t}function AO({hue:t,saturation:e,lightness:s,alpha:r}){t/=360,e/=100,s/=100;let i=0,a=0,o=0;if(!e)i=a=o=s;else{const l=s<.5?s*(1+e):s+e-s*e,c=2*s-l;i=Xm(c,l,t+1/3),a=Xm(c,l,t),o=Xm(c,l,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:r}}function Kd(t,e){return s=>s>0?e:t}const Ze=(t,e,s)=>t+(e-t)*s,Jm=(t,e,s)=>{const r=t*t,i=s*(e*e-r)+r;return i<0?0:Math.sqrt(i)},RO=[Lp,Ei,_a],DO=t=>RO.find(e=>e.test(t));function Iw(t){const e=DO(t);if(!e)return!1;let s=e.parse(t);return e===_a&&(s=AO(s)),s}const Aw=(t,e)=>{const s=Iw(t),r=Iw(e);if(!s||!r)return Kd(t,e);const i={...s};return a=>(i.red=Jm(s.red,r.red,a),i.green=Jm(s.green,r.green,a),i.blue=Jm(s.blue,r.blue,a),i.alpha=Ze(s.alpha,r.alpha,a),Ei.transform(i))},Fp=new Set(["none","hidden"]);function MO(t,e){return Fp.has(t)?s=>s<=0?t:e:s=>s>=1?e:t}function OO(t,e){return s=>Ze(t,e,s)}function y0(t){return typeof t=="number"?OO:typeof t=="string"?p0(t)?Kd:pt.test(t)?Aw:FO:Array.isArray(t)?PT:typeof t=="object"?pt.test(t)?Aw:VO:Kd}function PT(t,e){const s=[...t],r=s.length,i=t.map((a,o)=>y0(a)(a,e[o]));return a=>{for(let o=0;o<r;o++)s[o]=i[o](a);return s}}function VO(t,e){const s={...t,...e},r={};for(const i in s)t[i]!==void 0&&e[i]!==void 0&&(r[i]=y0(t[i])(t[i],e[i]));return i=>{for(const a in r)s[a]=r[a](i);return s}}function LO(t,e){const s=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const a=e.types[i],o=t.indexes[a][r[a]],l=t.values[o]??0;s[i]=l,r[a]++}return s}const FO=(t,e)=>{const s=ti.createTransformer(e),r=Ql(t),i=Ql(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Fp.has(t)&&!i.values.length||Fp.has(e)&&!r.values.length?MO(t,e):Nc(PT(LO(r,i),i.values),s):Kd(t,e)};function kT(t,e,s){return typeof t=="number"&&typeof e=="number"&&typeof s=="number"?Ze(t,e,s):y0(t)(t,e)}const UO=t=>{const e=({timestamp:s})=>t(s);return{start:(s=!0)=>Ye.update(e,s),stop:()=>ei(e),now:()=>kt.isProcessing?kt.timestamp:cs.now()}},IT=(t,e,s=10)=>{let r="";const i=Math.max(Math.round(e/s),2);for(let a=0;a<i;a++)r+=Math.round(t(a/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Qd=2e4;function v0(t){let e=0;const s=50;let r=t.next(e);for(;!r.done&&e<Qd;)e+=s,r=t.next(e);return e>=Qd?1/0:e}function BO(t,e=100,s){const r=s({...t,keyframes:[0,e]}),i=Math.min(v0(r),Qd);return{type:"keyframes",ease:a=>r.next(i*a).value/e,duration:vr(i)}}const $O=5;function AT(t,e,s){const r=Math.max(e-$O,0);return dT(s-t(r),e-r)}const at={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Zm=.001;function zO({duration:t=at.duration,bounce:e=at.bounce,velocity:s=at.velocity,mass:r=at.mass}){let i,a,o=1-e;o=an(at.minDamping,at.maxDamping,o),t=an(at.minDuration,at.maxDuration,vr(t)),o<1?(i=d=>{const h=d*o,f=h*t,m=h-s,p=Up(d,o),_=Math.exp(-f);return Zm-m/p*_},a=d=>{const f=d*o*t,m=f*s+s,p=Math.pow(o,2)*Math.pow(d,2)*t,_=Math.exp(-f),N=Up(Math.pow(d,2),o);return(-i(d)+Zm>0?-1:1)*((m-p)*_)/N}):(i=d=>{const h=Math.exp(-d*t),f=(d-s)*t+1;return-Zm+h*f},a=d=>{const h=Math.exp(-d*t),f=(s-d)*(t*t);return h*f});const l=5/t,c=HO(i,a,l);if(t=yr(t),isNaN(c))return{stiffness:at.stiffness,damping:at.damping,duration:t};{const d=Math.pow(c,2)*r;return{stiffness:d,damping:o*2*Math.sqrt(r*d),duration:t}}}const qO=12;function HO(t,e,s){let r=s;for(let i=1;i<qO;i++)r=r-t(r)/e(r);return r}function Up(t,e){return t*Math.sqrt(1-e*e)}const WO=["duration","bounce"],GO=["stiffness","damping","mass"];function Rw(t,e){return e.some(s=>t[s]!==void 0)}function KO(t){let e={velocity:at.velocity,stiffness:at.stiffness,damping:at.damping,mass:at.mass,isResolvedFromDuration:!1,...t};if(!Rw(t,GO)&&Rw(t,WO))if(t.visualDuration){const s=t.visualDuration,r=2*Math.PI/(s*1.2),i=r*r,a=2*an(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:at.mass,stiffness:i,damping:a}}else{const s=zO(t);e={...e,...s,mass:at.mass},e.isResolvedFromDuration=!0}return e}function Yd(t=at.visualDuration,e=at.bounce){const s=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=s;const a=s.keyframes[0],o=s.keyframes[s.keyframes.length-1],l={done:!1,value:a},{stiffness:c,damping:d,mass:h,duration:f,velocity:m,isResolvedFromDuration:p}=KO({...s,velocity:-vr(s.velocity||0)}),_=m||0,N=d/(2*Math.sqrt(c*h)),y=o-a,b=vr(Math.sqrt(c/h)),v=Math.abs(y)<5;r||(r=v?at.restSpeed.granular:at.restSpeed.default),i||(i=v?at.restDelta.granular:at.restDelta.default);let x;if(N<1){const I=Up(b,N);x=L=>{const C=Math.exp(-N*b*L);return o-C*((_+N*b*y)/I*Math.sin(I*L)+y*Math.cos(I*L))}}else if(N===1)x=I=>o-Math.exp(-b*I)*(y+(_+b*y)*I);else{const I=b*Math.sqrt(N*N-1);x=L=>{const C=Math.exp(-N*b*L),j=Math.min(I*L,300);return o-C*((_+N*b*y)*Math.sinh(j)+I*y*Math.cosh(j))/I}}const E={calculatedDuration:p&&f||null,next:I=>{const L=x(I);if(p)l.done=I>=f;else{let C=I===0?_:0;N<1&&(C=I===0?yr(_):AT(x,I,L));const j=Math.abs(C)<=r,k=Math.abs(o-L)<=i;l.done=j&&k}return l.value=l.done?o:L,l},toString:()=>{const I=Math.min(v0(E),Qd),L=IT(C=>E.next(I*C).value,I,30);return I+"ms "+L},toTransition:()=>{}};return E}Yd.applyToOptions=t=>{const e=BO(t,100,Yd);return t.ease=e.ease,t.duration=yr(e.duration),t.type="keyframes",t};function Bp({keyframes:t,velocity:e=0,power:s=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:h}){const f=t[0],m={done:!1,value:f},p=j=>l!==void 0&&j<l||c!==void 0&&j>c,_=j=>l===void 0?c:c===void 0||Math.abs(l-j)<Math.abs(c-j)?l:c;let N=s*e;const y=f+N,b=o===void 0?y:o(y);b!==y&&(N=b-f);const v=j=>-N*Math.exp(-j/r),x=j=>b+v(j),E=j=>{const k=v(j),O=x(j);m.done=Math.abs(k)<=d,m.value=m.done?b:O};let I,L;const C=j=>{p(m.value)&&(I=j,L=Yd({keyframes:[m.value,_(m.value)],velocity:AT(x,j,m.value),damping:i,stiffness:a,restDelta:d,restSpeed:h}))};return C(0),{calculatedDuration:null,next:j=>{let k=!1;return!L&&I===void 0&&(k=!0,E(j),C(j)),I!==void 0&&j>=I?L.next(j-I):(!k&&E(j),m)}}}function QO(t,e,s){const r=[],i=s||on.mix||kT,a=t.length-1;for(let o=0;o<a;o++){let l=i(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||Vs:e;l=Nc(c,l)}r.push(l)}return r}function YO(t,e,{clamp:s=!0,ease:r,mixer:i}={}){const a=t.length;if(Gd(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=QO(e,r,i),c=l.length,d=h=>{if(o&&h<t[0])return e[0];let f=0;if(c>1)for(;f<t.length-2&&!(h<t[f+1]);f++);const m=Gl(t[f],t[f+1],h);return l[f](m)};return s?h=>d(an(t[0],t[a-1],h)):d}function XO(t,e){const s=t[t.length-1];for(let r=1;r<=e;r++){const i=Gl(0,e,r);t.push(Ze(s,1,i))}}function JO(t){const e=[0];return XO(e,t.length-1),e}function ZO(t,e){return t.map(s=>s*e)}function eV(t,e){return t.map(()=>e||bT).splice(0,t.length-1)}function gl({duration:t=300,keyframes:e,times:s,ease:r="easeInOut"}){const i=hO(r)?r.map(Cw):Cw(r),a={done:!1,value:e[0]},o=ZO(s&&s.length===e.length?s:JO(e),t),l=YO(o,e,{ease:Array.isArray(i)?i:eV(e,i)});return{calculatedDuration:t,next:c=>(a.value=l(c),a.done=c>=t,a)}}const tV=t=>t!==null;function b0(t,{repeat:e,repeatType:s="loop"},r,i=1){const a=t.filter(tV),l=i<0||e&&s!=="loop"&&e%2===1?0:a.length-1;return!l||r===void 0?a[l]:r}const sV={decay:Bp,inertia:Bp,tween:gl,keyframes:gl,spring:Yd};function RT(t){typeof t.type=="string"&&(t.type=sV[t.type])}class w0{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,s){return this.finished.then(e,s)}}const rV=t=>t/100;class N0 extends w0{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:s}=this.options;s&&s.updatedAt!==cs.now()&&this.tick(cs.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;RT(e);const{type:s=gl,repeat:r=0,repeatDelay:i=0,repeatType:a,velocity:o=0}=e;let{keyframes:l}=e;const c=s||gl;c!==gl&&typeof l[0]!="number"&&(this.mixKeyframes=Nc(rV,kT(l[0],l[1])),l=[0,100]);const d=c({...e,keyframes:l});a==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...l].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=v0(d));const{calculatedDuration:h}=d;this.calculatedDuration=h,this.resolvedDuration=h+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=d}updateTime(e){const s=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=s}tick(e,s=!1){const{generator:r,totalDuration:i,mixKeyframes:a,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:d=0,keyframes:h,repeat:f,repeatType:m,repeatDelay:p,type:_,onUpdate:N,finalKeyframe:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),s?this.currentTime=e:this.updateTime(e);const b=this.currentTime-d*(this.playbackSpeed>=0?1:-1),v=this.playbackSpeed>=0?b<0:b>i;this.currentTime=Math.max(b,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let x=this.currentTime,E=r;if(f){const j=Math.min(this.currentTime,i)/l;let k=Math.floor(j),O=j%1;!O&&j>=1&&(O=1),O===1&&k--,k=Math.min(k,f+1),!!(k%2)&&(m==="reverse"?(O=1-O,p&&(O-=p/l)):m==="mirror"&&(E=o)),x=an(0,1,O)*l}const I=v?{done:!1,value:h[0]}:E.next(x);a&&(I.value=a(I.value));let{done:L}=I;!v&&c!==null&&(L=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&L);return C&&_!==Bp&&(I.value=b0(h,this.options,y,this.speed)),N&&N(I.value),C&&this.finish(),I}then(e,s){return this.finished.then(e,s)}get duration(){return vr(this.calculatedDuration)}get time(){return vr(this.currentTime)}set time(e){var s;e=yr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(s=this.driver)==null||s.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(cs.now());const s=this.playbackSpeed!==e;this.playbackSpeed=e,s&&(this.time=vr(this.currentTime))}play(){var i,a;if(this.isStopped)return;const{driver:e=UO,startTime:s}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(a=(i=this.options).onPlay)==null||a.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=s??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(cs.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,s;this.notifyFinished(),this.teardown(),this.state="finished",(s=(e=this.options).onComplete)==null||s.call(e)}cancel(){var e,s;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(s=(e=this.options).onCancel)==null||s.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var s;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(s=this.driver)==null||s.stop(),e.observe(this)}}function nV(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Ti=t=>t*180/Math.PI,$p=t=>{const e=Ti(Math.atan2(t[1],t[0]));return zp(e)},iV={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:$p,rotateZ:$p,skewX:t=>Ti(Math.atan(t[1])),skewY:t=>Ti(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},zp=t=>(t=t%360,t<0&&(t+=360),t),Dw=$p,Mw=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Ow=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),aV={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Mw,scaleY:Ow,scale:t=>(Mw(t)+Ow(t))/2,rotateX:t=>zp(Ti(Math.atan2(t[6],t[5]))),rotateY:t=>zp(Ti(Math.atan2(-t[2],t[0]))),rotateZ:Dw,rotate:Dw,skewX:t=>Ti(Math.atan(t[4])),skewY:t=>Ti(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function qp(t){return t.includes("scale")?1:0}function Hp(t,e){if(!t||t==="none")return qp(e);const s=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(s)r=aV,i=s;else{const l=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=iV,i=l}if(!i)return qp(e);const a=r[e],o=i[1].split(",").map(lV);return typeof a=="function"?a(o):o[a]}const oV=(t,e)=>{const{transform:s="none"}=getComputedStyle(t);return Hp(s,e)};function lV(t){return parseFloat(t.trim())}const go=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],xo=new Set(go),Vw=t=>t===po||t===ye,cV=new Set(["x","y","z"]),uV=go.filter(t=>!cV.has(t));function dV(t){const e=[];return uV.forEach(s=>{const r=t.getValue(s);r!==void 0&&(e.push([s,r.get()]),r.set(s.startsWith("scale")?1:0))}),e}const Ai={width:({x:t},{paddingLeft:e="0",paddingRight:s="0"})=>t.max-t.min-parseFloat(e)-parseFloat(s),height:({y:t},{paddingTop:e="0",paddingBottom:s="0"})=>t.max-t.min-parseFloat(e)-parseFloat(s),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Hp(e,"x"),y:(t,{transform:e})=>Hp(e,"y")};Ai.translateX=Ai.x;Ai.translateY=Ai.y;const Ri=new Set;let Wp=!1,Gp=!1,Kp=!1;function DT(){if(Gp){const t=Array.from(Ri).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),s=new Map;e.forEach(r=>{const i=dV(r);i.length&&(s.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=s.get(r);i&&i.forEach(([a,o])=>{var l;(l=r.getValue(a))==null||l.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Gp=!1,Wp=!1,Ri.forEach(t=>t.complete(Kp)),Ri.clear()}function MT(){Ri.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Gp=!0)})}function hV(){Kp=!0,MT(),DT(),Kp=!1}class j0{constructor(e,s,r,i,a,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=s,this.name=r,this.motionValue=i,this.element=a,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Ri.add(this),Wp||(Wp=!0,Ye.read(MT),Ye.resolveKeyframes(DT))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:s,element:r,motionValue:i}=this;if(e[0]===null){const a=i==null?void 0:i.get(),o=e[e.length-1];if(a!==void 0)e[0]=a;else if(r&&s){const l=r.readValue(s,o);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=o),i&&a===void 0&&i.set(e[0])}nV(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ri.delete(this)}cancel(){this.state==="scheduled"&&(Ri.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const mV=t=>t.startsWith("--");function fV(t,e,s){mV(e)?t.style.setProperty(e,s):t.style[e]=s}const pV=u0(()=>window.ScrollTimeline!==void 0),gV={};function xV(t,e){const s=u0(t);return()=>gV[e]??s()}const OT=xV(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Xo=([t,e,s,r])=>`cubic-bezier(${t}, ${e}, ${s}, ${r})`,Lw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Xo([0,.65,.55,1]),circOut:Xo([.55,0,1,.45]),backIn:Xo([.31,.01,.66,-.59]),backOut:Xo([.33,1.53,.69,.99])};function VT(t,e){if(t)return typeof t=="function"?OT()?IT(t,e):"ease-out":wT(t)?Xo(t):Array.isArray(t)?t.map(s=>VT(s,e)||Lw.easeOut):Lw[t]}function yV(t,e,s,{delay:r=0,duration:i=300,repeat:a=0,repeatType:o="loop",ease:l="easeOut",times:c}={},d=void 0){const h={[e]:s};c&&(h.offset=c);const f=VT(l,i);Array.isArray(f)&&(h.easing=f);const m={delay:r,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"};return d&&(m.pseudoElement=d),t.animate(h,m)}function LT(t){return typeof t=="function"&&"applyToOptions"in t}function vV({type:t,...e}){return LT(t)&&OT()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class bV extends w0{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:s,name:r,keyframes:i,pseudoElement:a,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=e;this.isPseudoElement=!!a,this.allowFlatten=o,this.options=e,Gd(typeof e.type!="string");const d=vV(e);this.animation=yV(s,r,i,d,a),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const h=b0(i,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(h):fV(s,r,h),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,s;(s=(e=this.animation).finish)==null||s.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,s;this.isPseudoElement||(s=(e=this.animation).commitStyles)==null||s.call(e)}get duration(){var s,r;const e=((r=(s=this.animation.effect)==null?void 0:s.getComputedTiming)==null?void 0:r.call(s).duration)||0;return vr(Number(e))}get time(){return vr(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=yr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:s}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&pV()?(this.animation.timeline=e,Vs):s(this)}}const FT={anticipate:xT,backInOut:gT,circInOut:vT};function wV(t){return t in FT}function NV(t){typeof t.ease=="string"&&wV(t.ease)&&(t.ease=FT[t.ease])}const Fw=10;class jV extends bV{constructor(e){NV(e),RT(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:s,onUpdate:r,onComplete:i,element:a,...o}=this.options;if(!s)return;if(e!==void 0){s.set(e);return}const l=new N0({...o,autoplay:!1}),c=yr(this.finishedTime??this.time);s.setWithVelocity(l.sample(c-Fw).value,l.sample(c).value,Fw),l.stop()}}const Uw=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ti.test(t)||t==="0")&&!t.startsWith("url("));function _V(t){const e=t[0];if(t.length===1)return!0;for(let s=0;s<t.length;s++)if(t[s]!==e)return!0}function EV(t,e,s,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],o=Uw(i,e),l=Uw(a,e);return!o||!l?!1:_V(t)||(s==="spring"||LT(s))&&r}function Qp(t){t.duration=0,t.type}const TV=new Set(["opacity","clipPath","filter","transform"]),CV=u0(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function SV(t){var h;const{motionValue:e,name:s,repeatDelay:r,repeatType:i,damping:a,type:o}=t;if(!(((h=e==null?void 0:e.owner)==null?void 0:h.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=e.owner.getProps();return CV()&&s&&TV.has(s)&&(s!=="transform"||!d)&&!c&&!r&&i!=="mirror"&&a!==0&&o!=="inertia"}const PV=40;class kV extends w0{constructor({autoplay:e=!0,delay:s=0,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:o="loop",keyframes:l,name:c,motionValue:d,element:h,...f}){var _;super(),this.stop=()=>{var N,y;this._animation&&(this._animation.stop(),(N=this.stopTimeline)==null||N.call(this)),(y=this.keyframeResolver)==null||y.cancel()},this.createdAt=cs.now();const m={autoplay:e,delay:s,type:r,repeat:i,repeatDelay:a,repeatType:o,name:c,motionValue:d,element:h,...f},p=(h==null?void 0:h.KeyframeResolver)||j0;this.keyframeResolver=new p(l,(N,y,b)=>this.onKeyframesResolved(N,y,m,!b),c,d,h),(_=this.keyframeResolver)==null||_.scheduleResolve()}onKeyframesResolved(e,s,r,i){this.keyframeResolver=void 0;const{name:a,type:o,velocity:l,delay:c,isHandoff:d,onUpdate:h}=r;this.resolvedAt=cs.now(),EV(e,a,o,l)||((on.instantAnimations||!c)&&(h==null||h(b0(e,r,s))),e[0]=e[e.length-1],Qp(r),r.repeat=0);const m={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>PV?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:s,...r,keyframes:e},p=!d&&SV(m)?new jV({...m,element:m.motionValue.owner.current}):new N0(m);p.finished.then(()=>this.notifyFinished()).catch(Vs),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(e,s){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),hV()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const IV=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function AV(t){const e=IV.exec(t);if(!e)return[,];const[,s,r,i]=e;return[`--${s??r}`,i]}function UT(t,e,s=1){const[r,i]=AV(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const o=a.trim();return lT(o)?parseFloat(o):o}return p0(i)?UT(i,e,s+1):i}function _0(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const BT=new Set(["width","height","top","left","right","bottom",...go]),RV={test:t=>t==="auto",parse:t=>t},$T=t=>e=>e.test(t),zT=[po,ye,br,xn,_O,jO,RV],Bw=t=>zT.find($T(t));function DV(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||uT(t):!0}const MV=new Set(["brightness","contrast","saturate","opacity"]);function OV(t){const[e,s]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=s.match(g0)||[];if(!r)return t;const i=s.replace(r,"");let a=MV.has(e)?1:0;return r!==s&&(a*=100),e+"("+a+i+")"}const VV=/\b([a-z-]*)\(.*?\)/gu,Yp={...ti,getAnimatableNone:t=>{const e=t.match(VV);return e?e.map(OV).join(" "):t}},$w={...po,transform:Math.round},LV={rotate:xn,rotateX:xn,rotateY:xn,rotateZ:xn,scale:gu,scaleX:gu,scaleY:gu,scaleZ:gu,skew:xn,skewX:xn,skewY:xn,distance:ye,translateX:ye,translateY:ye,translateZ:ye,x:ye,y:ye,z:ye,perspective:ye,transformPerspective:ye,opacity:Kl,originX:Pw,originY:Pw,originZ:ye},E0={borderWidth:ye,borderTopWidth:ye,borderRightWidth:ye,borderBottomWidth:ye,borderLeftWidth:ye,borderRadius:ye,radius:ye,borderTopLeftRadius:ye,borderTopRightRadius:ye,borderBottomRightRadius:ye,borderBottomLeftRadius:ye,width:ye,maxWidth:ye,height:ye,maxHeight:ye,top:ye,right:ye,bottom:ye,left:ye,padding:ye,paddingTop:ye,paddingRight:ye,paddingBottom:ye,paddingLeft:ye,margin:ye,marginTop:ye,marginRight:ye,marginBottom:ye,marginLeft:ye,backgroundPositionX:ye,backgroundPositionY:ye,...LV,zIndex:$w,fillOpacity:Kl,strokeOpacity:Kl,numOctaves:$w},FV={...E0,color:pt,backgroundColor:pt,outlineColor:pt,fill:pt,stroke:pt,borderColor:pt,borderTopColor:pt,borderRightColor:pt,borderBottomColor:pt,borderLeftColor:pt,filter:Yp,WebkitFilter:Yp},qT=t=>FV[t];function HT(t,e){let s=qT(t);return s!==Yp&&(s=ti),s.getAnimatableNone?s.getAnimatableNone(e):void 0}const UV=new Set(["auto","none","0"]);function BV(t,e,s){let r=0,i;for(;r<t.length&&!i;){const a=t[r];typeof a=="string"&&!UV.has(a)&&Ql(a).values.length&&(i=t[r]),r++}if(i&&s)for(const a of e)t[a]=HT(s,i)}class $V extends j0{constructor(e,s,r,i,a){super(e,s,r,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:s,name:r}=this;if(!s||!s.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let d=e[c];if(typeof d=="string"&&(d=d.trim(),p0(d))){const h=UT(d,s.current);h!==void 0&&(e[c]=h),c===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!BT.has(r)||e.length!==2)return;const[i,a]=e,o=Bw(i),l=Bw(a);if(o!==l)if(Vw(o)&&Vw(l))for(let c=0;c<e.length;c++){const d=e[c];typeof d=="string"&&(e[c]=parseFloat(d))}else Ai[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:s}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||DV(e[i]))&&r.push(i);r.length&&BV(e,r,s)}measureInitialState(){const{element:e,unresolvedKeyframes:s,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ai[r](e.measureViewportBox(),window.getComputedStyle(e.current)),s[0]=this.measuredOrigin;const i=s[s.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var l;const{element:e,name:s,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(s);i&&i.jump(this.measuredOrigin,!1);const a=r.length-1,o=r[a];r[a]=Ai[s](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,d])=>{e.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function zV(t,e,s){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const i=document.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const WT=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function qV(t){return cT(t)&&"offsetHeight"in t}const zw=30,HV=t=>!isNaN(parseFloat(t));class WV{constructor(e,s={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var a;const i=cs.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=s.owner}setCurrent(e){this.current=e,this.updatedAt=cs.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=HV(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,s){this.events[e]||(this.events[e]=new d0);const r=this.events[e].add(s);return e==="change"?()=>{r(),Ye.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,s){this.passiveEffect=e,this.stopPassiveEffect=s}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,s,r){this.set(s),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,s=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=cs.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>zw)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,zw);return dT(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(e){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=e(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,s;(e=this.dependents)==null||e.clear(),(s=this.events.destroy)==null||s.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function eo(t,e){return new WV(t,e)}const{schedule:T0,cancel:r8}=NT(queueMicrotask,!1),Hs={x:!1,y:!1};function GT(){return Hs.x||Hs.y}function GV(t){return t==="x"||t==="y"?Hs[t]?null:(Hs[t]=!0,()=>{Hs[t]=!1}):Hs.x||Hs.y?null:(Hs.x=Hs.y=!0,()=>{Hs.x=Hs.y=!1})}function KT(t,e){const s=zV(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[s,i,()=>r.abort()]}function qw(t){return!(t.pointerType==="touch"||GT())}function KV(t,e,s={}){const[r,i,a]=KT(t,s),o=l=>{if(!qw(l))return;const{target:c}=l,d=e(c,l);if(typeof d!="function"||!c)return;const h=f=>{qw(f)&&(d(f),c.removeEventListener("pointerleave",h))};c.addEventListener("pointerleave",h,i)};return r.forEach(l=>{l.addEventListener("pointerenter",o,i)}),a}const QT=(t,e)=>e?t===e?!0:QT(t,e.parentElement):!1,C0=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,QV=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function YV(t){return QV.has(t.tagName)||t.tabIndex!==-1}const Hu=new WeakSet;function Hw(t){return e=>{e.key==="Enter"&&t(e)}}function ef(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const XV=(t,e)=>{const s=t.currentTarget;if(!s)return;const r=Hw(()=>{if(Hu.has(s))return;ef(s,"down");const i=Hw(()=>{ef(s,"up")}),a=()=>ef(s,"cancel");s.addEventListener("keyup",i,e),s.addEventListener("blur",a,e)});s.addEventListener("keydown",r,e),s.addEventListener("blur",()=>s.removeEventListener("keydown",r),e)};function Ww(t){return C0(t)&&!GT()}function JV(t,e,s={}){const[r,i,a]=KT(t,s),o=l=>{const c=l.currentTarget;if(!Ww(l))return;Hu.add(c);const d=e(c,l),h=(p,_)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",m),Hu.has(c)&&Hu.delete(c),Ww(p)&&typeof d=="function"&&d(p,{success:_})},f=p=>{h(p,c===window||c===document||s.useGlobalTarget||QT(c,p.target))},m=p=>{h(p,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",m,i)};return r.forEach(l=>{(s.useGlobalTarget?window:l).addEventListener("pointerdown",o,i),qV(l)&&(l.addEventListener("focus",d=>XV(d,i)),!YV(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),a}function YT(t){return cT(t)&&"ownerSVGElement"in t}function ZV(t){return YT(t)&&t.tagName==="svg"}const Wt=t=>!!(t&&t.getVelocity),eL=[...zT,pt,ti],tL=t=>eL.find($T(t)),XT=T.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function sL(t=!0){const e=T.useContext(o0);if(e===null)return[!0,null];const{isPresent:s,onExitComplete:r,register:i}=e,a=T.useId();T.useEffect(()=>{if(t)return i(a)},[t]);const o=T.useCallback(()=>t&&r&&r(a),[a,r,t]);return!s&&r?[!1,o]:[!0]}const JT=T.createContext({strict:!1}),Gw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},to={};for(const t in Gw)to[t]={isEnabled:e=>Gw[t].some(s=>!!e[s])};function rL(t){for(const e in t)to[e]={...to[e],...t[e]}}const nL=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Xd(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||nL.has(t)}let ZT=t=>!Xd(t);function iL(t){typeof t=="function"&&(ZT=e=>e.startsWith("on")?!Xd(e):t(e))}try{iL(require("@emotion/is-prop-valid").default)}catch{}function aL(t,e,s){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(ZT(i)||s===!0&&Xd(i)||!e&&!Xd(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}const $h=T.createContext({});function zh(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Yl(t){return typeof t=="string"||Array.isArray(t)}const S0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],P0=["initial",...S0];function qh(t){return zh(t.animate)||P0.some(e=>Yl(t[e]))}function eC(t){return!!(qh(t)||t.variants)}function oL(t,e){if(qh(t)){const{initial:s,animate:r}=t;return{initial:s===!1||Yl(s)?s:void 0,animate:Yl(r)?r:void 0}}return t.inherit!==!1?e:{}}function lL(t){const{initial:e,animate:s}=oL(t,T.useContext($h));return T.useMemo(()=>({initial:e,animate:s}),[Kw(e),Kw(s)])}function Kw(t){return Array.isArray(t)?t.join(" "):t}const Xl={};function cL(t){for(const e in t)Xl[e]=t[e],f0(e)&&(Xl[e].isCSSVariable=!0)}function tC(t,{layout:e,layoutId:s}){return xo.has(t)||t.startsWith("origin")||(e||s!==void 0)&&(!!Xl[t]||t==="opacity")}const uL={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},dL=go.length;function hL(t,e,s){let r="",i=!0;for(let a=0;a<dL;a++){const o=go[a],l=t[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||s){const d=WT(l,E0[o]);if(!c){i=!1;const h=uL[o]||o;r+=`${h}(${d}) `}s&&(e[o]=d)}}return r=r.trim(),s?r=s(e,i?"":r):i&&(r="none"),r}function k0(t,e,s){const{style:r,vars:i,transformOrigin:a}=t;let o=!1,l=!1;for(const c in e){const d=e[c];if(xo.has(c)){o=!0;continue}else if(f0(c)){i[c]=d;continue}else{const h=WT(d,E0[c]);c.startsWith("origin")?(l=!0,a[c]=h):r[c]=h}}if(e.transform||(o||s?r.transform=hL(e,t.transform,s):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:h=0}=a;r.transformOrigin=`${c} ${d} ${h}`}}const I0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function sC(t,e,s){for(const r in e)!Wt(e[r])&&!tC(r,s)&&(t[r]=e[r])}function mL({transformTemplate:t},e){return T.useMemo(()=>{const s=I0();return k0(s,e,t),Object.assign({},s.vars,s.style)},[e])}function fL(t,e){const s=t.style||{},r={};return sC(r,s,t),Object.assign(r,mL(t,e)),r}function pL(t,e){const s={},r=fL(t,e);return t.drag&&t.dragListener!==!1&&(s.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(s.tabIndex=0),s.style=r,s}const gL={offset:"stroke-dashoffset",array:"stroke-dasharray"},xL={offset:"strokeDashoffset",array:"strokeDasharray"};function yL(t,e,s=1,r=0,i=!0){t.pathLength=1;const a=i?gL:xL;t[a.offset]=ye.transform(-r);const o=ye.transform(e),l=ye.transform(s);t[a.array]=`${o} ${l}`}function rC(t,{attrX:e,attrY:s,attrScale:r,pathLength:i,pathSpacing:a=1,pathOffset:o=0,...l},c,d,h){if(k0(t,l,d),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:m}=t;f.transform&&(m.transform=f.transform,delete f.transform),(m.transform||f.transformOrigin)&&(m.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),m.transform&&(m.transformBox=(h==null?void 0:h.transformBox)??"fill-box",delete f.transformBox),e!==void 0&&(f.x=e),s!==void 0&&(f.y=s),r!==void 0&&(f.scale=r),i!==void 0&&yL(f,i,a,o,!1)}const nC=()=>({...I0(),attrs:{}}),iC=t=>typeof t=="string"&&t.toLowerCase()==="svg";function vL(t,e,s,r){const i=T.useMemo(()=>{const a=nC();return rC(a,e,iC(r),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};sC(a,t.style,t),i.style={...a,...i.style}}return i}const bL=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function A0(t){return typeof t!="string"||t.includes("-")?!1:!!(bL.indexOf(t)>-1||/[A-Z]/u.test(t))}function wL(t,e,s,{latestValues:r},i,a=!1){const l=(A0(t)?vL:pL)(e,r,i,t),c=aL(e,typeof t=="string",a),d=t!==T.Fragment?{...c,...l,ref:s}:{},{children:h}=e,f=T.useMemo(()=>Wt(h)?h.get():h,[h]);return T.createElement(t,{...d,children:f})}function Qw(t){const e=[{},{}];return t==null||t.values.forEach((s,r)=>{e[0][r]=s.get(),e[1][r]=s.getVelocity()}),e}function R0(t,e,s,r){if(typeof e=="function"){const[i,a]=Qw(r);e=e(s!==void 0?s:t.custom,i,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,a]=Qw(r);e=e(s!==void 0?s:t.custom,i,a)}return e}function Wu(t){return Wt(t)?t.get():t}function NL({scrapeMotionValuesFromProps:t,createRenderState:e},s,r,i){return{latestValues:jL(s,r,i,t),renderState:e()}}function jL(t,e,s,r){const i={},a=r(t,{});for(const m in a)i[m]=Wu(a[m]);let{initial:o,animate:l}=t;const c=qh(t),d=eC(t);e&&d&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let h=s?s.initial===!1:!1;h=h||o===!1;const f=h?l:o;if(f&&typeof f!="boolean"&&!zh(f)){const m=Array.isArray(f)?f:[f];for(let p=0;p<m.length;p++){const _=R0(t,m[p]);if(_){const{transitionEnd:N,transition:y,...b}=_;for(const v in b){let x=b[v];if(Array.isArray(x)){const E=h?x.length-1:0;x=x[E]}x!==null&&(i[v]=x)}for(const v in N)i[v]=N[v]}}}return i}const aC=t=>(e,s)=>{const r=T.useContext($h),i=T.useContext(o0),a=()=>NL(t,e,r,i);return s?a():nO(a)};function D0(t,e,s){var a;const{style:r}=t,i={};for(const o in r)(Wt(r[o])||e.style&&Wt(e.style[o])||tC(o,t)||((a=s==null?void 0:s.getValue(o))==null?void 0:a.liveStyle)!==void 0)&&(i[o]=r[o]);return i}const _L=aC({scrapeMotionValuesFromProps:D0,createRenderState:I0});function oC(t,e,s){const r=D0(t,e,s);for(const i in t)if(Wt(t[i])||Wt(e[i])){const a=go.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[a]=t[i]}return r}const EL=aC({scrapeMotionValuesFromProps:oC,createRenderState:nC}),TL=Symbol.for("motionComponentSymbol");function Ea(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function CL(t,e,s){return T.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),s&&(typeof s=="function"?s(r):Ea(s)&&(s.current=r))},[e])}const M0=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),SL="framerAppearId",lC="data-"+M0(SL),cC=T.createContext({});function PL(t,e,s,r,i){var N,y;const{visualElement:a}=T.useContext($h),o=T.useContext(JT),l=T.useContext(o0),c=T.useContext(XT).reducedMotion,d=T.useRef(null);r=r||o.renderer,!d.current&&r&&(d.current=r(t,{visualState:e,parent:a,props:s,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const h=d.current,f=T.useContext(cC);h&&!h.projection&&i&&(h.type==="html"||h.type==="svg")&&kL(d.current,s,i,f);const m=T.useRef(!1);T.useInsertionEffect(()=>{h&&m.current&&h.update(s,l)});const p=s[lC],_=T.useRef(!!p&&!((N=window.MotionHandoffIsComplete)!=null&&N.call(window,p))&&((y=window.MotionHasOptimisedAnimation)==null?void 0:y.call(window,p)));return iO(()=>{h&&(m.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),h.scheduleRenderMicrotask(),_.current&&h.animationState&&h.animationState.animateChanges())}),T.useEffect(()=>{h&&(!_.current&&h.animationState&&h.animationState.animateChanges(),_.current&&(queueMicrotask(()=>{var b;(b=window.MotionHandoffMarkAsComplete)==null||b.call(window,p)}),_.current=!1))}),h}function kL(t,e,s,r){const{layoutId:i,layout:a,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:d,layoutCrossfade:h}=e;t.projection=new s(t.latestValues,e["data-framer-portal-id"]?void 0:uC(t.parent)),t.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!o||l&&Ea(l),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,crossfade:h,layoutScroll:c,layoutRoot:d})}function uC(t){if(t)return t.options.allowProjection!==!1?t.projection:uC(t.parent)}function tf(t,{forwardMotionProps:e=!1}={},s,r){s&&rL(s);const i=A0(t)?EL:_L;function a(l,c){let d;const h={...T.useContext(XT),...l,layoutId:IL(l)},{isStatic:f}=h,m=lL(l),p=i(l,f);if(!f&&a0){AL();const _=RL(h);d=_.MeasureLayout,m.visualElement=PL(t,p,h,r,_.ProjectionNode)}return n.jsxs($h.Provider,{value:m,children:[d&&m.visualElement?n.jsx(d,{visualElement:m.visualElement,...h}):null,wL(t,l,CL(p,m.visualElement,c),p,f,e)]})}a.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=T.forwardRef(a);return o[TL]=t,o}function IL({layoutId:t}){const e=T.useContext(oT).id;return e&&t!==void 0?e+"-"+t:t}function AL(t,e){T.useContext(JT).strict}function RL(t){const{drag:e,layout:s}=to;if(!e&&!s)return{};const r={...e,...s};return{MeasureLayout:e!=null&&e.isEnabled(t)||s!=null&&s.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function DL(t,e){if(typeof Proxy>"u")return tf;const s=new Map,r=(a,o)=>tf(a,o,t,e),i=(a,o)=>r(a,o);return new Proxy(i,{get:(a,o)=>o==="create"?r:(s.has(o)||s.set(o,tf(o,void 0,t,e)),s.get(o))})}function dC({top:t,left:e,right:s,bottom:r}){return{x:{min:e,max:s},y:{min:t,max:r}}}function ML({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function OL(t,e){if(!e)return t;const s=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:s.y,left:s.x,bottom:r.y,right:r.x}}function sf(t){return t===void 0||t===1}function Xp({scale:t,scaleX:e,scaleY:s}){return!sf(t)||!sf(e)||!sf(s)}function yi(t){return Xp(t)||hC(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function hC(t){return Yw(t.x)||Yw(t.y)}function Yw(t){return t&&t!=="0%"}function Jd(t,e,s){const r=t-s,i=e*r;return s+i}function Xw(t,e,s,r,i){return i!==void 0&&(t=Jd(t,i,r)),Jd(t,s,r)+e}function Jp(t,e=0,s=1,r,i){t.min=Xw(t.min,e,s,r,i),t.max=Xw(t.max,e,s,r,i)}function mC(t,{x:e,y:s}){Jp(t.x,e.translate,e.scale,e.originPoint),Jp(t.y,s.translate,s.scale,s.originPoint)}const Jw=.999999999999,Zw=1.0000000000001;function VL(t,e,s,r=!1){const i=s.length;if(!i)return;e.x=e.y=1;let a,o;for(let l=0;l<i;l++){a=s[l],o=a.projectionDelta;const{visualElement:c}=a.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Ca(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,mC(t,o)),r&&yi(a.latestValues)&&Ca(t,a.latestValues))}e.x<Zw&&e.x>Jw&&(e.x=1),e.y<Zw&&e.y>Jw&&(e.y=1)}function Ta(t,e){t.min=t.min+e,t.max=t.max+e}function e1(t,e,s,r,i=.5){const a=Ze(t.min,t.max,i);Jp(t,e,s,a,r)}function Ca(t,e){e1(t.x,e.x,e.scaleX,e.scale,e.originX),e1(t.y,e.y,e.scaleY,e.scale,e.originY)}function fC(t,e){return dC(OL(t.getBoundingClientRect(),e))}function LL(t,e,s){const r=fC(t,s),{scroll:i}=e;return i&&(Ta(r.x,i.offset.x),Ta(r.y,i.offset.y)),r}const t1=()=>({translate:0,scale:1,origin:0,originPoint:0}),Sa=()=>({x:t1(),y:t1()}),s1=()=>({min:0,max:0}),ut=()=>({x:s1(),y:s1()}),Zp={current:null},pC={current:!1};function FL(){if(pC.current=!0,!!a0)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Zp.current=t.matches;t.addEventListener("change",e),e()}else Zp.current=!1}const UL=new WeakMap;function BL(t,e,s){for(const r in e){const i=e[r],a=s[r];if(Wt(i))t.addValue(r,i);else if(Wt(a))t.addValue(r,eo(i,{owner:t}));else if(a!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,eo(o!==void 0?o:i,{owner:t}))}}for(const r in s)e[r]===void 0&&t.removeValue(r);return e}const r1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class $L{scrapeMotionValuesFromProps(e,s,r){return{}}constructor({parent:e,props:s,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:a,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=j0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=cs.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,Ye.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=s.initial?{...c}:{},this.renderState=d,this.parent=e,this.props=s,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!a,this.isControllingVariants=qh(s),this.isVariantNode=eC(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...f}=this.scrapeMotionValuesFromProps(s,{},this);for(const m in f){const p=f[m];c[m]!==void 0&&Wt(p)&&p.set(c[m])}}mount(e){this.current=e,UL.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,r)=>this.bindToMotionValue(r,s)),pC.current||FL(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Zp.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ei(this.notifyUpdate),ei(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const s=this.features[e];s&&(s.unmount(),s.isMounted=!1)}this.current=null}bindToMotionValue(e,s){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=xo.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=s.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Ye.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,s)),this.valueSubscriptions.set(e,()=>{i(),a&&a(),s.owner&&s.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in to){const s=to[e];if(!s)continue;const{isEnabled:r,Feature:i}=s;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ut()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,s){this.latestValues[e]=s}update(e,s){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let r=0;r<r1.length;r++){const i=r1[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,o=e[a];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=BL(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(e),()=>s.variantChildren.delete(e)}addValue(e,s){const r=this.values.get(e);s!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,s),this.values.set(e,s),this.latestValues[e]=s.get())}removeValue(e){this.values.delete(e);const s=this.valueSubscriptions.get(e);s&&(s(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,s){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&s!==void 0&&(r=eo(s===null?void 0:s,{owner:this}),this.addValue(e,r)),r}readValue(e,s){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(lT(r)||uT(r))?r=parseFloat(r):!tL(r)&&ti.test(s)&&(r=HT(e,s)),this.setBaseTarget(e,Wt(r)?r.get():r)),Wt(r)?r.get():r}setBaseTarget(e,s){this.baseTarget[e]=s}getBaseTarget(e){var a;const{initial:s}=this.props;let r;if(typeof s=="string"||typeof s=="object"){const o=R0(this.props,s,(a=this.presenceContext)==null?void 0:a.custom);o&&(r=o[e])}if(s&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Wt(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,s){return this.events[e]||(this.events[e]=new d0),this.events[e].add(s)}notify(e,...s){this.events[e]&&this.events[e].notify(...s)}scheduleRenderMicrotask(){T0.render(this.render)}}class gC extends $L{constructor(){super(...arguments),this.KeyframeResolver=$V}sortInstanceNodePosition(e,s){return e.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(e,s){return e.style?e.style[s]:void 0}removeValueFromRenderState(e,{vars:s,style:r}){delete s[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Wt(e)&&(this.childSubscription=e.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function xC(t,{style:e,vars:s},r,i){const a=t.style;let o;for(o in e)a[o]=e[o];i==null||i.applyProjectionStyles(a,r);for(o in s)a.setProperty(o,s[o])}function zL(t){return window.getComputedStyle(t)}class qL extends gC{constructor(){super(...arguments),this.type="html",this.renderInstance=xC}readValueFromInstance(e,s){var r;if(xo.has(s))return(r=this.projection)!=null&&r.isProjecting?qp(s):oV(e,s);{const i=zL(e),a=(f0(s)?i.getPropertyValue(s):i[s])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:s}){return fC(e,s)}build(e,s,r){k0(e,s,r.transformTemplate)}scrapeMotionValuesFromProps(e,s,r){return D0(e,s,r)}}const yC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function HL(t,e,s,r){xC(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(yC.has(i)?i:M0(i),e.attrs[i])}class WL extends gC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ut}getBaseTargetFromProps(e,s){return e[s]}readValueFromInstance(e,s){if(xo.has(s)){const r=qT(s);return r&&r.default||0}return s=yC.has(s)?s:M0(s),e.getAttribute(s)}scrapeMotionValuesFromProps(e,s,r){return oC(e,s,r)}build(e,s,r){rC(e,s,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,s,r,i){HL(e,s,r,i)}mount(e){this.isSVGTag=iC(e.tagName),super.mount(e)}}const GL=(t,e)=>A0(t)?new WL(e):new qL(e,{allowProjection:t!==T.Fragment});function Jl(t,e,s){const r=t.getProps();return R0(r,e,s!==void 0?s:r.custom,t)}const eg=t=>Array.isArray(t);function KL(t,e,s){t.hasValue(e)?t.getValue(e).set(s):t.addValue(e,eo(s))}function QL(t){return eg(t)?t[t.length-1]||0:t}function YL(t,e){const s=Jl(t,e);let{transitionEnd:r={},transition:i={},...a}=s||{};a={...a,...r};for(const o in a){const l=QL(a[o]);KL(t,o,l)}}function XL(t){return!!(Wt(t)&&t.add)}function tg(t,e){const s=t.getValue("willChange");if(XL(s))return s.add(e);if(!s&&on.WillChange){const r=new on.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function vC(t){return t.props[lC]}const JL=t=>t!==null;function ZL(t,{repeat:e,repeatType:s="loop"},r){const i=t.filter(JL),a=e&&s!=="loop"&&e%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const e7={type:"spring",stiffness:500,damping:25,restSpeed:10},t7=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),s7={type:"keyframes",duration:.8},r7={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},n7=(t,{keyframes:e})=>e.length>2?s7:xo.has(t)?t.startsWith("scale")?t7(e[1]):e7:r7;function i7({when:t,delay:e,delayChildren:s,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:l,from:c,elapsed:d,...h}){return!!Object.keys(h).length}const O0=(t,e,s,r={},i,a)=>o=>{const l=_0(r,t)||{},c=l.delay||r.delay||0;let{elapsed:d=0}=r;d=d-yr(c);const h={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-d,onUpdate:m=>{e.set(m),l.onUpdate&&l.onUpdate(m)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:a?void 0:i};i7(l)||Object.assign(h,n7(t,h)),h.duration&&(h.duration=yr(h.duration)),h.repeatDelay&&(h.repeatDelay=yr(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let f=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(Qp(h),h.delay===0&&(f=!0)),(on.instantAnimations||on.skipAnimations)&&(f=!0,Qp(h),h.delay=0),h.allowFlatten=!l.type&&!l.ease,f&&!a&&e.get()!==void 0){const m=ZL(h.keyframes,l);if(m!==void 0){Ye.update(()=>{h.onUpdate(m),h.onComplete()});return}}return l.isSync?new N0(h):new kV(h)};function a7({protectedKeys:t,needsAnimating:e},s){const r=t.hasOwnProperty(s)&&e[s]!==!0;return e[s]=!1,r}function bC(t,e,{delay:s=0,transitionOverride:r,type:i}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:o,...l}=e;r&&(a=r);const c=[],d=i&&t.animationState&&t.animationState.getState()[i];for(const h in l){const f=t.getValue(h,t.latestValues[h]??null),m=l[h];if(m===void 0||d&&a7(d,h))continue;const p={delay:s,..._0(a||{},h)},_=f.get();if(_!==void 0&&!f.isAnimating&&!Array.isArray(m)&&m===_&&!p.velocity)continue;let N=!1;if(window.MotionHandoffAnimation){const b=vC(t);if(b){const v=window.MotionHandoffAnimation(b,h,Ye);v!==null&&(p.startTime=v,N=!0)}}tg(t,h),f.start(O0(h,f,m,t.shouldReduceMotion&&BT.has(h)?{type:!1}:p,t,N));const y=f.animation;y&&c.push(y)}return o&&Promise.all(c).then(()=>{Ye.update(()=>{o&&YL(t,o)})}),c}function sg(t,e,s={}){var c;const r=Jl(t,e,s.type==="exit"?(c=t.presenceContext)==null?void 0:c.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};s.transitionOverride&&(i=s.transitionOverride);const a=r?()=>Promise.all(bC(t,r,s)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:h=0,staggerChildren:f,staggerDirection:m}=i;return o7(t,e,d,h,f,m,s)}:()=>Promise.resolve(),{when:l}=i;if(l){const[d,h]=l==="beforeChildren"?[a,o]:[o,a];return d().then(()=>h())}else return Promise.all([a(),o(s.delay)])}function o7(t,e,s=0,r=0,i=0,a=1,o){const l=[],c=t.variantChildren.size,d=(c-1)*i,h=typeof r=="function",f=h?m=>r(m,c):a===1?(m=0)=>m*i:(m=0)=>d-m*i;return Array.from(t.variantChildren).sort(l7).forEach((m,p)=>{m.notify("AnimationStart",e),l.push(sg(m,e,{...o,delay:s+(h?0:r)+f(p)}).then(()=>m.notify("AnimationComplete",e)))}),Promise.all(l)}function l7(t,e){return t.sortNodePosition(e)}function c7(t,e,s={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(a=>sg(t,a,s));r=Promise.all(i)}else if(typeof e=="string")r=sg(t,e,s);else{const i=typeof e=="function"?Jl(t,e,s.custom):e;r=Promise.all(bC(t,i,s))}return r.then(()=>{t.notify("AnimationComplete",e)})}function wC(t,e){if(!Array.isArray(e))return!1;const s=e.length;if(s!==t.length)return!1;for(let r=0;r<s;r++)if(e[r]!==t[r])return!1;return!0}const u7=P0.length;function NC(t){if(!t)return;if(!t.isControllingVariants){const s=t.parent?NC(t.parent)||{}:{};return t.props.initial!==void 0&&(s.initial=t.props.initial),s}const e={};for(let s=0;s<u7;s++){const r=P0[s],i=t.props[r];(Yl(i)||i===!1)&&(e[r]=i)}return e}const d7=[...S0].reverse(),h7=S0.length;function m7(t){return e=>Promise.all(e.map(({animation:s,options:r})=>c7(t,s,r)))}function f7(t){let e=m7(t),s=n1(),r=!0;const i=c=>(d,h)=>{var m;const f=Jl(t,h,c==="exit"?(m=t.presenceContext)==null?void 0:m.custom:void 0);if(f){const{transition:p,transitionEnd:_,...N}=f;d={...d,...N,..._}}return d};function a(c){e=c(t)}function o(c){const{props:d}=t,h=NC(t.parent)||{},f=[],m=new Set;let p={},_=1/0;for(let y=0;y<h7;y++){const b=d7[y],v=s[b],x=d[b]!==void 0?d[b]:h[b],E=Yl(x),I=b===c?v.isActive:null;I===!1&&(_=y);let L=x===h[b]&&x!==d[b]&&E;if(L&&r&&t.manuallyAnimateOnMount&&(L=!1),v.protectedKeys={...p},!v.isActive&&I===null||!x&&!v.prevProp||zh(x)||typeof x=="boolean")continue;const C=p7(v.prevProp,x);let j=C||b===c&&v.isActive&&!L&&E||y>_&&E,k=!1;const O=Array.isArray(x)?x:[x];let A=O.reduce(i(b),{});I===!1&&(A={});const{prevResolvedValues:V={}}=v,D={...V,...A},U=$=>{j=!0,m.has($)&&(k=!0,m.delete($)),v.needsAnimating[$]=!0;const H=t.getValue($);H&&(H.liveStyle=!1)};for(const $ in D){const H=A[$],W=V[$];if(p.hasOwnProperty($))continue;let G=!1;eg(H)&&eg(W)?G=!wC(H,W):G=H!==W,G?H!=null?U($):m.add($):H!==void 0&&m.has($)?U($):v.protectedKeys[$]=!0}v.prevProp=x,v.prevResolvedValues=A,v.isActive&&(p={...p,...A}),r&&t.blockInitialAnimation&&(j=!1),j&&(!(L&&C)||k)&&f.push(...O.map($=>({animation:$,options:{type:b}})))}if(m.size){const y={};if(typeof d.initial!="boolean"){const b=Jl(t,Array.isArray(d.initial)?d.initial[0]:d.initial);b&&b.transition&&(y.transition=b.transition)}m.forEach(b=>{const v=t.getBaseTarget(b),x=t.getValue(b);x&&(x.liveStyle=!0),y[b]=v??null}),f.push({animation:y})}let N=!!f.length;return r&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(N=!1),r=!1,N?e(f):Promise.resolve()}function l(c,d){var f;if(s[c].isActive===d)return Promise.resolve();(f=t.variantChildren)==null||f.forEach(m=>{var p;return(p=m.animationState)==null?void 0:p.setActive(c,d)}),s[c].isActive=d;const h=o(c);for(const m in s)s[m].protectedKeys={};return h}return{animateChanges:o,setActive:l,setAnimateFunction:a,getState:()=>s,reset:()=>{s=n1(),r=!0}}}function p7(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!wC(e,t):!1}function fi(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function n1(){return{animate:fi(!0),whileInView:fi(),whileHover:fi(),whileTap:fi(),whileDrag:fi(),whileFocus:fi(),exit:fi()}}class ci{constructor(e){this.isMounted=!1,this.node=e}update(){}}class g7 extends ci{constructor(e){super(e),e.animationState||(e.animationState=f7(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();zh(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:s}=this.node.prevProps||{};e!==s&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let x7=0;class y7 extends ci{constructor(){super(...arguments),this.id=x7++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:s}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);s&&!e&&i.then(()=>{s(this.id)})}mount(){const{register:e,onExitComplete:s}=this.node.presenceContext||{};s&&s(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const v7={animation:{Feature:g7},exit:{Feature:y7}};function Zl(t,e,s,r={passive:!0}){return t.addEventListener(e,s,r),()=>t.removeEventListener(e,s)}function Ec(t){return{point:{x:t.pageX,y:t.pageY}}}const b7=t=>e=>C0(e)&&t(e,Ec(e));function xl(t,e,s,r){return Zl(t,e,b7(s),r)}const jC=1e-4,w7=1-jC,N7=1+jC,_C=.01,j7=0-_C,_7=0+_C;function Zt(t){return t.max-t.min}function E7(t,e,s){return Math.abs(t-e)<=s}function i1(t,e,s,r=.5){t.origin=r,t.originPoint=Ze(e.min,e.max,t.origin),t.scale=Zt(s)/Zt(e),t.translate=Ze(s.min,s.max,t.origin)-t.originPoint,(t.scale>=w7&&t.scale<=N7||isNaN(t.scale))&&(t.scale=1),(t.translate>=j7&&t.translate<=_7||isNaN(t.translate))&&(t.translate=0)}function yl(t,e,s,r){i1(t.x,e.x,s.x,r?r.originX:void 0),i1(t.y,e.y,s.y,r?r.originY:void 0)}function a1(t,e,s){t.min=s.min+e.min,t.max=t.min+Zt(e)}function T7(t,e,s){a1(t.x,e.x,s.x),a1(t.y,e.y,s.y)}function o1(t,e,s){t.min=e.min-s.min,t.max=t.min+Zt(e)}function vl(t,e,s){o1(t.x,e.x,s.x),o1(t.y,e.y,s.y)}function Ps(t){return[t("x"),t("y")]}const EC=({current:t})=>t?t.ownerDocument.defaultView:null,l1=(t,e)=>Math.abs(t-e);function C7(t,e){const s=l1(t.x,e.x),r=l1(t.y,e.y);return Math.sqrt(s**2+r**2)}class TC{constructor(e,s,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:a=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=nf(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,_=C7(m.offset,{x:0,y:0})>=this.distanceThreshold;if(!p&&!_)return;const{point:N}=m,{timestamp:y}=kt;this.history.push({...N,timestamp:y});const{onStart:b,onMove:v}=this.handlers;p||(b&&b(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,m)},this.handlePointerMove=(m,p)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=rf(p,this.transformPagePoint),Ye.update(this.updatePoint,!0)},this.handlePointerUp=(m,p)=>{this.end();const{onEnd:_,onSessionEnd:N,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=nf(m.type==="pointercancel"?this.lastMoveEventInfo:rf(p,this.transformPagePoint),this.history);this.startEvent&&_&&_(m,b),N&&N(m,b)},!C0(e))return;this.dragSnapToOrigin=a,this.handlers=s,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=i||window;const l=Ec(e),c=rf(l,this.transformPagePoint),{point:d}=c,{timestamp:h}=kt;this.history=[{...d,timestamp:h}];const{onSessionStart:f}=s;f&&f(e,nf(c,this.history)),this.removeListeners=Nc(xl(this.contextWindow,"pointermove",this.handlePointerMove),xl(this.contextWindow,"pointerup",this.handlePointerUp),xl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ei(this.updatePoint)}}function rf(t,e){return e?{point:e(t.point)}:t}function c1(t,e){return{x:t.x-e.x,y:t.y-e.y}}function nf({point:t},e){return{point:t,delta:c1(t,CC(e)),offset:c1(t,S7(e)),velocity:P7(e,.1)}}function S7(t){return t[0]}function CC(t){return t[t.length-1]}function P7(t,e){if(t.length<2)return{x:0,y:0};let s=t.length-1,r=null;const i=CC(t);for(;s>=0&&(r=t[s],!(i.timestamp-r.timestamp>yr(e)));)s--;if(!r)return{x:0,y:0};const a=vr(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const o={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function k7(t,{min:e,max:s},r){return e!==void 0&&t<e?t=r?Ze(e,t,r.min):Math.max(t,e):s!==void 0&&t>s&&(t=r?Ze(s,t,r.max):Math.min(t,s)),t}function u1(t,e,s){return{min:e!==void 0?t.min+e:void 0,max:s!==void 0?t.max+s-(t.max-t.min):void 0}}function I7(t,{top:e,left:s,bottom:r,right:i}){return{x:u1(t.x,s,i),y:u1(t.y,e,r)}}function d1(t,e){let s=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([s,r]=[r,s]),{min:s,max:r}}function A7(t,e){return{x:d1(t.x,e.x),y:d1(t.y,e.y)}}function R7(t,e){let s=.5;const r=Zt(t),i=Zt(e);return i>r?s=Gl(e.min,e.max-r,t.min):r>i&&(s=Gl(t.min,t.max-i,e.min)),an(0,1,s)}function D7(t,e){const s={};return e.min!==void 0&&(s.min=e.min-t.min),e.max!==void 0&&(s.max=e.max-t.min),s}const rg=.35;function M7(t=rg){return t===!1?t=0:t===!0&&(t=rg),{x:h1(t,"left","right"),y:h1(t,"top","bottom")}}function h1(t,e,s){return{min:m1(t,e),max:m1(t,s)}}function m1(t,e){return typeof t=="number"?t:t[e]||0}const O7=new WeakMap;class V7{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ut(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:s=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=f=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(Ec(f).point)},o=(f,m)=>{const{drag:p,dragPropagation:_,onDragStart:N}=this.getProps();if(p&&!_&&(this.openDragLock&&this.openDragLock(),this.openDragLock=GV(p),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=m,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ps(b=>{let v=this.getAxisMotionValue(b).get()||0;if(br.test(v)){const{projection:x}=this.visualElement;if(x&&x.layout){const E=x.layout.layoutBox[b];E&&(v=Zt(E)*(parseFloat(v)/100))}}this.originPoint[b]=v}),N&&Ye.postRender(()=>N(f,m)),tg(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},l=(f,m)=>{this.latestPointerEvent=f,this.latestPanInfo=m;const{dragPropagation:p,dragDirectionLock:_,onDirectionLock:N,onDrag:y}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:b}=m;if(_&&this.currentDirection===null){this.currentDirection=L7(b),this.currentDirection!==null&&N&&N(this.currentDirection);return}this.updateAxis("x",m.point,b),this.updateAxis("y",m.point,b),this.visualElement.render(),y&&y(f,m)},c=(f,m)=>{this.latestPointerEvent=f,this.latestPanInfo=m,this.stop(f,m),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>Ps(f=>{var m;return this.getAnimationState(f)==="paused"&&((m=this.getAxisMotionValue(f).animation)==null?void 0:m.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new TC(e,{onSessionStart:a,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,distanceThreshold:r,contextWindow:EC(this.visualElement)})}stop(e,s){const r=e||this.latestPointerEvent,i=s||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!i||!r)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&Ye.postRender(()=>l(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:s}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(e,s,r){const{drag:i}=this.getProps();if(!r||!xu(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=k7(o,this.constraints[e],this.elastic[e])),a.set(o)}resolveConstraints(){var a;const{dragConstraints:e,dragElastic:s}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,i=this.constraints;e&&Ea(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=I7(r.layoutBox,e):this.constraints=!1,this.elastic=M7(s),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Ps(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=D7(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:s}=this.getProps();if(!e||!Ea(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=LL(r,i.root,this.visualElement.getTransformPagePoint());let o=A7(i.layout.layoutBox,a);if(s){const l=s(ML(o));this.hasMutatedConstraints=!!l,l&&(o=dC(l))}return o}startAnimation(e){const{drag:s,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=Ps(h=>{if(!xu(h,s,this.currentDirection))return;let f=c&&c[h]||{};o&&(f={min:0,max:0});const m=i?200:1e6,p=i?40:1e7,_={type:"inertia",velocity:r?e[h]:0,bounceStiffness:m,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...a,...f};return this.startAxisValueAnimation(h,_)});return Promise.all(d).then(l)}startAxisValueAnimation(e,s){const r=this.getAxisMotionValue(e);return tg(this.visualElement,e),r.start(O0(e,r,0,s,this.visualElement,!1))}stopAnimation(){Ps(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ps(e=>{var s;return(s=this.getAxisMotionValue(e).animation)==null?void 0:s.pause()})}getAnimationState(e){var s;return(s=this.getAxisMotionValue(e).animation)==null?void 0:s.state}getAxisMotionValue(e){const s=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[s];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Ps(s=>{const{drag:r}=this.getProps();if(!xu(s,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(s);if(i&&i.layout){const{min:o,max:l}=i.layout.layoutBox[s];a.set(e[s]-Ze(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:s}=this.getProps(),{projection:r}=this.visualElement;if(!Ea(s)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Ps(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();i[o]=R7({min:c,max:c},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ps(o=>{if(!xu(o,e,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(Ze(c,d,i[o]))})}addListeners(){if(!this.visualElement.current)return;O7.set(this.visualElement,this);const e=this.visualElement.current,s=xl(e,"pointerdown",c=>{const{drag:d,dragListener:h=!0}=this.getProps();d&&h&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Ea(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Ye.read(r);const o=Zl(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(Ps(h=>{const f=this.getAxisMotionValue(h);f&&(this.originPoint[h]+=c[h].translate,f.set(f.get()+c[h].translate))}),this.visualElement.render())});return()=>{o(),s(),a(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:o=rg,dragMomentum:l=!0}=e;return{...e,drag:s,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:o,dragMomentum:l}}}function xu(t,e,s){return(e===!0||e===t)&&(s===null||s===t)}function L7(t,e=10){let s=null;return Math.abs(t.y)>e?s="y":Math.abs(t.x)>e&&(s="x"),s}class F7 extends ci{constructor(e){super(e),this.removeGroupControls=Vs,this.removeListeners=Vs,this.controls=new V7(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Vs}unmount(){this.removeGroupControls(),this.removeListeners()}}const f1=t=>(e,s)=>{t&&Ye.postRender(()=>t(e,s))};class U7 extends ci{constructor(){super(...arguments),this.removePointerDownListener=Vs}onPointerDown(e){this.session=new TC(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:EC(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:s,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:f1(e),onStart:f1(s),onMove:r,onEnd:(a,o)=>{delete this.session,i&&Ye.postRender(()=>i(a,o))}}}mount(){this.removePointerDownListener=xl(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Gu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function p1(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Bo={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ye.test(t))t=parseFloat(t);else return t;const s=p1(t,e.target.x),r=p1(t,e.target.y);return`${s}% ${r}%`}},B7={correct:(t,{treeScale:e,projectionDelta:s})=>{const r=t,i=ti.parse(t);if(i.length>5)return r;const a=ti.createTransformer(t),o=typeof i[0]!="number"?1:0,l=s.x.scale*e.x,c=s.y.scale*e.y;i[0+o]/=l,i[1+o]/=c;const d=Ze(l,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=d),typeof i[3+o]=="number"&&(i[3+o]/=d),a(i)}};let g1=!1;class $7 extends T.Component{componentDidMount(){const{visualElement:e,layoutGroup:s,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=e;cL(z7),a&&(s.group&&s.group.add(a),r&&r.register&&i&&r.register(a),g1&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Gu.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:s,visualElement:r,drag:i,isPresent:a}=this.props,{projection:o}=r;return o&&(o.isPresent=a,g1=!0,i||e.layoutDependency!==s||s===void 0||e.isPresent!==a?o.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?o.promote():o.relegate()||Ye.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),T0.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:s,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function SC(t){const[e,s]=sL(),r=T.useContext(oT);return n.jsx($7,{...t,layoutGroup:r,switchLayoutGroup:T.useContext(cC),isPresent:e,safeToRemove:s})}const z7={borderRadius:{...Bo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Bo,borderTopRightRadius:Bo,borderBottomLeftRadius:Bo,borderBottomRightRadius:Bo,boxShadow:B7};function q7(t,e,s){const r=Wt(t)?t:eo(t);return r.start(O0("",r,e,s)),r.animation}const H7=(t,e)=>t.depth-e.depth;class W7{constructor(){this.children=[],this.isDirty=!1}add(e){l0(this.children,e),this.isDirty=!0}remove(e){c0(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(H7),this.isDirty=!1,this.children.forEach(e)}}function G7(t,e){const s=cs.now(),r=({timestamp:i})=>{const a=i-s;a>=e&&(ei(r),t(a-e))};return Ye.setup(r,!0),()=>ei(r)}const PC=["TopLeft","TopRight","BottomLeft","BottomRight"],K7=PC.length,x1=t=>typeof t=="string"?parseFloat(t):t,y1=t=>typeof t=="number"||ye.test(t);function Q7(t,e,s,r,i,a){i?(t.opacity=Ze(0,s.opacity??1,Y7(r)),t.opacityExit=Ze(e.opacity??1,0,X7(r))):a&&(t.opacity=Ze(e.opacity??1,s.opacity??1,r));for(let o=0;o<K7;o++){const l=`border${PC[o]}Radius`;let c=v1(e,l),d=v1(s,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||y1(c)===y1(d)?(t[l]=Math.max(Ze(x1(c),x1(d),r),0),(br.test(d)||br.test(c))&&(t[l]+="%")):t[l]=d}(e.rotate||s.rotate)&&(t.rotate=Ze(e.rotate||0,s.rotate||0,r))}function v1(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Y7=kC(0,.5,yT),X7=kC(.5,.95,Vs);function kC(t,e,s){return r=>r<t?0:r>e?1:s(Gl(t,e,r))}function b1(t,e){t.min=e.min,t.max=e.max}function Ss(t,e){b1(t.x,e.x),b1(t.y,e.y)}function w1(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function N1(t,e,s,r,i){return t-=e,t=Jd(t,1/s,r),i!==void 0&&(t=Jd(t,1/i,r)),t}function J7(t,e=0,s=1,r=.5,i,a=t,o=t){if(br.test(e)&&(e=parseFloat(e),e=Ze(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=Ze(a.min,a.max,r);t===a&&(l-=e),t.min=N1(t.min,e,s,l,i),t.max=N1(t.max,e,s,l,i)}function j1(t,e,[s,r,i],a,o){J7(t,e[s],e[r],e[i],e.scale,a,o)}const Z7=["x","scaleX","originX"],eF=["y","scaleY","originY"];function _1(t,e,s,r){j1(t.x,e,Z7,s?s.x:void 0,r?r.x:void 0),j1(t.y,e,eF,s?s.y:void 0,r?r.y:void 0)}function E1(t){return t.translate===0&&t.scale===1}function IC(t){return E1(t.x)&&E1(t.y)}function T1(t,e){return t.min===e.min&&t.max===e.max}function tF(t,e){return T1(t.x,e.x)&&T1(t.y,e.y)}function C1(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function AC(t,e){return C1(t.x,e.x)&&C1(t.y,e.y)}function S1(t){return Zt(t.x)/Zt(t.y)}function P1(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class sF{constructor(){this.members=[]}add(e){l0(this.members,e),e.scheduleRender()}remove(e){if(c0(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(e){const s=this.members.findIndex(i=>e===i);if(s===0)return!1;let r;for(let i=s;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,s){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,s&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:s,resumingFrom:r}=e;s.onExitComplete&&s.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function rF(t,e,s){let r="";const i=t.x.translate/e.x,a=t.y.translate/e.y,o=(s==null?void 0:s.z)||0;if((i||a||o)&&(r=`translate3d(${i}px, ${a}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),s){const{transformPerspective:d,rotate:h,rotateX:f,rotateY:m,skewX:p,skewY:_}=s;d&&(r=`perspective(${d}px) ${r}`),h&&(r+=`rotate(${h}deg) `),f&&(r+=`rotateX(${f}deg) `),m&&(r+=`rotateY(${m}deg) `),p&&(r+=`skewX(${p}deg) `),_&&(r+=`skewY(${_}deg) `)}const l=t.x.scale*e.x,c=t.y.scale*e.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const af=["","X","Y","Z"],nF=1e3;let iF=0;function of(t,e,s,r){const{latestValues:i}=e;i[t]&&(s[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function RC(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const s=vC(e);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:i,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(s,"transform",Ye,!(i||a))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&RC(r)}function DC({attachResizeListener:t,defaultParent:e,measureScroll:s,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},l=e==null?void 0:e()){this.id=iF++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(lF),this.nodes.forEach(hF),this.nodes.forEach(mF),this.nodes.forEach(cF)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new W7)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new d0),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=YT(o)&&!ZV(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),t){let h,f=0;const m=()=>this.root.updateBlockedByResize=!1;Ye.read(()=>{f=window.innerWidth}),t(o,()=>{const p=window.innerWidth;p!==f&&(f=p,this.root.updateBlockedByResize=!0,h&&h(),h=G7(m,250),Gu.hasAnimatedSinceResize&&(Gu.hasAnimatedSinceResize=!1,this.nodes.forEach(A1)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeLayoutChanged:m,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||d.getDefaultTransition()||yF,{onLayoutAnimationStart:N,onLayoutAnimationComplete:y}=d.getProps(),b=!this.targetLayout||!AC(this.targetLayout,p),v=!f&&m;if(this.options.layoutRoot||this.resumeFrom||v||f&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const x={..._0(_,"layout"),onPlay:N,onComplete:y};(d.shouldReduceMotion||this.options.layoutRoot)&&(x.delay=0,x.type=!1),this.startAnimation(x),this.setAnimationOrigin(h,v)}else f||A1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ei(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(fF),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&RC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const f=this.path[h];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(k1);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(I1);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(dF),this.nodes.forEach(aF),this.nodes.forEach(oF)):this.nodes.forEach(I1),this.clearAllSnapshots();const l=cs.now();kt.delta=an(0,1e3/60,l-kt.timestamp),kt.timestamp=l,kt.isProcessing=!0,Qm.update.process(kt),Qm.preRender.process(kt),Qm.render.process(kt),kt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,T0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(uF),this.sharedNodes.forEach(pF)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ye.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ye.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Zt(this.snapshot.measuredBox.x)&&!Zt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ut(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!IC(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,h=d!==this.prevTransformTemplateValue;o&&this.instance&&(l||yi(this.latestValues)||h)&&(i(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),vF(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:o}=this.options;if(!o)return ut();const l=o.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(bF))){const{scroll:h}=this.root;h&&(Ta(l.x,h.offset.x),Ta(l.y,h.offset.y))}return l}removeElementScroll(o){var c;const l=ut();if(Ss(l,o),(c=this.scroll)!=null&&c.wasRoot)return l;for(let d=0;d<this.path.length;d++){const h=this.path[d],{scroll:f,options:m}=h;h!==this.root&&f&&m.layoutScroll&&(f.wasRoot&&Ss(l,o),Ta(l.x,f.offset.x),Ta(l.y,f.offset.y))}return l}applyTransform(o,l=!1){const c=ut();Ss(c,o);for(let d=0;d<this.path.length;d++){const h=this.path[d];!l&&h.options.layoutScroll&&h.scroll&&h!==h.root&&Ca(c,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),yi(h.latestValues)&&Ca(c,h.latestValues)}return yi(this.latestValues)&&Ca(c,this.latestValues),c}removeTransform(o){const l=ut();Ss(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!yi(d.latestValues))continue;Xp(d.latestValues)&&d.updateSnapshot();const h=ut(),f=d.measurePageBox();Ss(h,f),_1(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,h)}return yi(this.latestValues)&&_1(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==kt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var m;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=kt.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ut(),this.relativeTargetOrigin=ut(),vl(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Ss(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ut(),this.targetWithTransforms=ut()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),T7(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ss(this.target,this.layout.layoutBox),mC(this.target,this.targetDelta)):Ss(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ut(),this.relativeTargetOrigin=ut(),vl(this.relativeTargetOrigin,this.target,p.target),Ss(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Xp(this.parent.latestValues)||hC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var _;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(_=this.parent)!=null&&_.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===kt.timestamp&&(c=!1),c)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;Ss(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,m=this.treeScale.y;VL(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=ut());const{target:p}=o;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(w1(this.prevProjectionDelta.x,this.projectionDelta.x),w1(this.prevProjectionDelta.y,this.projectionDelta.y)),yl(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==m||!P1(this.projectionDelta.x,this.prevProjectionDelta.x)||!P1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Sa(),this.projectionDelta=Sa(),this.projectionDeltaWithTransform=Sa()}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},h={...this.latestValues},f=Sa();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const m=ut(),p=c?c.source:void 0,_=this.layout?this.layout.source:void 0,N=p!==_,y=this.getStack(),b=!y||y.members.length<=1,v=!!(N&&!b&&this.options.crossfade===!0&&!this.path.some(xF));this.animationProgress=0;let x;this.mixTargetDelta=E=>{const I=E/1e3;R1(f.x,o.x,I),R1(f.y,o.y,I),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(vl(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),gF(this.relativeTarget,this.relativeTargetOrigin,m,I),x&&tF(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=ut()),Ss(x,this.relativeTarget)),N&&(this.animationValues=h,Q7(h,d,this.latestValues,I,v,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=I},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,c,d;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(d=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||d.stop(),this.pendingAnimation&&(ei(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ye.update(()=>{Gu.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=eo(0)),this.currentAnimation=q7(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),o.onUpdate&&o.onUpdate(h)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(nF),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:h}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&MC(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||ut();const f=Zt(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+f;const m=Zt(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+m}Ss(l,c),Ca(l,h),yl(this.projectionDeltaWithTransform,this.layoutCorrected,l,h)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new sF),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&of("z",o,d,this.animationValues);for(let h=0;h<af.length;h++)of(`rotate${af[h]}`,o,d,this.animationValues),of(`skew${af[h]}`,o,d,this.animationValues);o.render();for(const h in d)o.setStaticValue(h,d[h]),this.animationValues&&(this.animationValues[h]=d[h]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Wu(l==null?void 0:l.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Wu(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!yi(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const h=d.animationValues||d.latestValues;this.applyTransformsToTarget();let f=rF(this.projectionDeltaWithTransform,this.treeScale,h);c&&(f=c(h,f)),o.transform=f;const{x:m,y:p}=this.projectionDelta;o.transformOrigin=`${m.origin*100}% ${p.origin*100}% 0`,d.animationValues?o.opacity=d===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:o.opacity=d===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const _ in Xl){if(h[_]===void 0)continue;const{correct:N,applyTo:y,isCSSVariable:b}=Xl[_],v=f==="none"?h[_]:N(h[_],d);if(y){const x=y.length;for(let E=0;E<x;E++)o[y[E]]=v}else b?this.options.visualElement.renderState.vars[_]=v:o[_]=v}this.options.layoutId&&(o.pointerEvents=d===this?Wu(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(k1),this.root.sharedNodes.clear()}}}function aF(t){t.updateLayout()}function oF(t){var s;const e=((s=t.resumeFrom)==null?void 0:s.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:a}=t.options,o=e.source!==t.layout.source;a==="size"?Ps(f=>{const m=o?e.measuredBox[f]:e.layoutBox[f],p=Zt(m);m.min=r[f].min,m.max=m.min+p}):MC(a,e.layoutBox,r)&&Ps(f=>{const m=o?e.measuredBox[f]:e.layoutBox[f],p=Zt(r[f]);m.max=m.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+p)});const l=Sa();yl(l,r,e.layoutBox);const c=Sa();o?yl(c,t.applyTransform(i,!0),e.measuredBox):yl(c,r,e.layoutBox);const d=!IC(l);let h=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:m,layout:p}=f;if(m&&p){const _=ut();vl(_,e.layoutBox,m.layoutBox);const N=ut();vl(N,r,p.layoutBox),AC(_,N)||(h=!0),f.options.layoutRoot&&(t.relativeTarget=N,t.relativeTargetOrigin=_,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function lF(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function cF(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function uF(t){t.clearSnapshot()}function k1(t){t.clearMeasurements()}function I1(t){t.isLayoutDirty=!1}function dF(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function A1(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function hF(t){t.resolveTargetDelta()}function mF(t){t.calcProjection()}function fF(t){t.resetSkewAndRotation()}function pF(t){t.removeLeadSnapshot()}function R1(t,e,s){t.translate=Ze(e.translate,0,s),t.scale=Ze(e.scale,1,s),t.origin=e.origin,t.originPoint=e.originPoint}function D1(t,e,s,r){t.min=Ze(e.min,s.min,r),t.max=Ze(e.max,s.max,r)}function gF(t,e,s,r){D1(t.x,e.x,s.x,r),D1(t.y,e.y,s.y,r)}function xF(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const yF={duration:.45,ease:[.4,0,.1,1]},M1=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),O1=M1("applewebkit/")&&!M1("chrome/")?Math.round:Vs;function V1(t){t.min=O1(t.min),t.max=O1(t.max)}function vF(t){V1(t.x),V1(t.y)}function MC(t,e,s){return t==="position"||t==="preserve-aspect"&&!E7(S1(e),S1(s),.2)}function bF(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const wF=DC({attachResizeListener:(t,e)=>Zl(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),lf={current:void 0},OC=DC({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!lf.current){const t=new wF({});t.mount(window),t.setOptions({layoutScroll:!0}),lf.current=t}return lf.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),NF={pan:{Feature:U7},drag:{Feature:F7,ProjectionNode:OC,MeasureLayout:SC}};function L1(t,e,s){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",s==="Start");const i="onHover"+s,a=r[i];a&&Ye.postRender(()=>a(e,Ec(e)))}class jF extends ci{mount(){const{current:e}=this.node;e&&(this.unmount=KV(e,(s,r)=>(L1(this.node,r,"Start"),i=>L1(this.node,i,"End"))))}unmount(){}}class _F extends ci{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Nc(Zl(this.node.current,"focus",()=>this.onFocus()),Zl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function F1(t,e,s){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",s==="Start");const i="onTap"+(s==="End"?"":s),a=r[i];a&&Ye.postRender(()=>a(e,Ec(e)))}class EF extends ci{mount(){const{current:e}=this.node;e&&(this.unmount=JV(e,(s,r)=>(F1(this.node,r,"Start"),(i,{success:a})=>F1(this.node,i,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const ng=new WeakMap,cf=new WeakMap,TF=t=>{const e=ng.get(t.target);e&&e(t)},CF=t=>{t.forEach(TF)};function SF({root:t,...e}){const s=t||document;cf.has(s)||cf.set(s,{});const r=cf.get(s),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(CF,{root:t,...e})),r[i]}function PF(t,e,s){const r=SF(e);return ng.set(t,s),r.observe(t),()=>{ng.delete(t),r.unobserve(t)}}const kF={some:0,all:1};class IF extends ci{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:s,margin:r,amount:i="some",once:a}=e,o={root:s?s.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:kF[i]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,a&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:h,onViewportLeave:f}=this.node.getProps(),m=d?h:f;m&&m(c)};return PF(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:s}=this.node;["amount","margin","root"].some(AF(e,s))&&this.startObserver()}unmount(){}}function AF({viewport:t={}},{viewport:e={}}={}){return s=>t[s]!==e[s]}const RF={inView:{Feature:IF},tap:{Feature:EF},focus:{Feature:_F},hover:{Feature:jF}},DF={layout:{ProjectionNode:OC,MeasureLayout:SC}},MF={...v7,...RF,...NF,...DF},Xt=DL(MF,GL),OF=()=>{const[t,e]=T.useState(!1),s=()=>{e(!t)};return n.jsxs(n.Fragment,{children:[n.jsxs("button",{onClick:s,className:"fixed bottom-6 right-6 w-14 h-14 bg-gradient-to-r from-red-800 to-red-900 text-white rounded-full shadow-lg hover:from-red-900 hover:to-red-950 transition-all duration-300 z-40 flex items-center justify-center group",title:"Get Tabuloo Support",children:[t?n.jsx(mt,{className:"h-6 w-6"}):n.jsx(fl,{className:"h-6 w-6"}),!t&&n.jsx("div",{className:"absolute inset-0 rounded-full bg-red-600 animate-ping opacity-75"}),n.jsxs("div",{className:"absolute right-16 top-1/2 transform -translate-y-1/2 bg-gray-900 text-white text-sm px-3 py-2 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none whitespace-nowrap",children:["Need help? Chat with us!",n.jsx("div",{className:"absolute left-full top-1/2 transform -translate-y-1/2 w-0 h-0 border-l-8 border-l-gray-900 border-t-4 border-t-transparent border-b-4 border-b-transparent"})]})]}),n.jsx(aT,{isOpen:t,onClose:()=>e(!1)})]})},U1=()=>{const{user:t,isDefaultUsername:e}=Vt(),{restaurants:s,menuItems:r}=Us(),{addToCart:i,items:a}=bc(),o=_s(),[l,c]=T.useState(!1),[d,h]=T.useState(!1),[f,m]=T.useState(!1),[p,_]=T.useState(""),[N,y]=T.useState("all"),b=[{id:"book-table",title:"Book Table",description:"Reserve your favorite table",icon:lt,color:"bg-red-800",action:()=>c(!0)},{id:"order-food",title:"Order Food",description:"Delivery or pickup options",icon:Rs,color:"bg-red-800",action:()=>h(!0)},{id:"event-booking",title:"Event Management",description:"Organize special occasions",icon:Hi,color:"bg-red-800",action:()=>m(!0)},{id:"event-planning",title:"Event Planning",description:"Find event managers & services",icon:lt,color:"bg-red-800",action:()=>o("/event-planning")}],v=[{icon:lt,title:"Table Reservations",description:"Book your perfect dining experience with just a few clicks",color:"from-red-800 to-red-900"},{icon:Rs,title:"Food Delivery",description:"Order delicious meals for delivery or pickup",color:"from-red-800 to-red-900"},{icon:Hi,title:"Event Planning",description:"Organize memorable celebrations and corporate events",color:"from-red-800 to-red-900"},{icon:N9,title:"Premium Dining",description:"Experience world-class cuisine from top restaurants",color:"from-red-800 to-red-900"}],x=[{number:`${s.length}+`,label:"Restaurants",icon:sT},{number:"50K+",label:"Happy Customers",icon:Zn},{number:"100K+",label:"Orders Delivered",icon:Rs},{number:"4.9",label:"Average Rating",icon:Mp}],L=s.filter(j=>N==="all"||j.type===N).filter(j=>j.isOpen).slice(0,6),C=r.slice(0,10);return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-red-50 via-white to-red-100",children:[n.jsx("section",{className:"relative overflow-hidden",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-12",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12 items-center",children:[n.jsx(Xt.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.8},children:n.jsxs("div",{className:"mb-6",children:[n.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold leading-tight",children:t?n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"text-gray-900",children:"Welcome back,"}),n.jsx("br",{}),n.jsxs("span",{className:"bg-gradient-to-r from-red-800 to-red-900 bg-clip-text text-transparent",children:[t.name,"!"]})]}):n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"bg-gradient-to-r from-red-800 to-red-900 bg-clip-text text-transparent",children:"Discover"}),n.jsx("br",{}),n.jsx("span",{className:"text-gray-900",children:"Amazing Dining"}),n.jsx("br",{}),n.jsx("span",{className:"bg-gradient-to-r from-red-500 to-pink-500 bg-clip-text text-transparent",children:"Experiences"})]})}),n.jsx("p",{className:"text-lg sm:text-xl text-gray-600 mt-4 leading-relaxed",children:t?"Ready for your next amazing dining experience? Explore restaurants, book tables, or order your favorite meals.":"From intimate dinners to grand celebrations, Tabuloo connects you with the finest restaurants, seamless reservations, and unforgettable culinary journeys."}),t&&e(t.name)&&n.jsx(Xt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},className:"mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"w-8 h-8 bg-yellow-100 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-yellow-600 text-sm font-semibold",children:"!"})})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-sm font-medium text-yellow-800 mb-1",children:"Personalize Your Profile"}),n.jsx("p",{className:"text-sm text-yellow-700 mb-3",children:"We've given you a temporary username. Please update your name in your profile to personalize your experience."}),n.jsx("button",{onClick:()=>o("/profile"),className:"inline-flex items-center px-3 py-2 bg-yellow-600 hover:bg-yellow-700 text-white text-sm font-medium rounded-md transition-colors",children:"Update Profile"})]})]})})]})}),n.jsxs(Xt.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.8,delay:.2},className:"relative",children:[n.jsxs("div",{className:"relative z-10",children:[n.jsx("img",{src:"https://images.pexels.com/photos/1267320/pexels-photo-1267320.jpeg",alt:"Fine dining experience",className:"rounded-lg sm:rounded-2xl shadow-2xl"}),n.jsxs("div",{className:"absolute -bottom-4 -left-4 sm:-bottom-6 sm:-left-6 bg-white p-3 sm:p-4 rounded-lg sm:rounded-xl shadow-lg",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Mp,{className:"h-4 w-4 sm:h-5 sm:w-5 text-yellow-400 fill-current"}),n.jsx("span",{className:"font-semibold text-sm sm:text-base",children:"4.9 Rating"})]}),n.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"50,000+ Reviews"})]}),n.jsx("div",{className:"absolute -top-4 -right-4 sm:-top-6 sm:-right-6 bg-gradient-to-r from-red-800 to-red-900 text-white p-3 sm:p-4 rounded-lg sm:rounded-xl shadow-lg",children:n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"font-bold text-base sm:text-lg",children:[s.length,"+"]}),n.jsx("div",{className:"text-xs sm:text-sm",children:"Restaurants"})]})})]}),n.jsx("div",{className:"absolute top-6 left-6 sm:top-10 sm:left-10 animate-bounce",children:n.jsx("div",{className:"bg-white p-2 sm:p-3 rounded-full shadow-lg",children:n.jsx(lt,{className:"h-4 w-4 sm:h-6 sm:w-6 text-red-800"})})}),n.jsx("div",{className:"absolute bottom-12 right-6 sm:bottom-20 sm:right-10 animate-pulse",children:n.jsx("div",{className:"bg-white p-2 sm:p-3 rounded-full shadow-lg",children:n.jsx(YE,{className:"h-4 w-4 sm:h-6 sm:w-6 text-red-500"})})})]})]})})}),n.jsx("section",{className:"bg-gradient-to-r from-red-800 to-red-900 text-white py-12 sm:py-16",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 sm:gap-8",children:x.map((j,k)=>{const O=j.icon;return n.jsxs(Xt.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:k*.1},className:"text-center",children:[n.jsx(O,{className:"h-6 w-6 sm:h-8 sm:w-8 mx-auto mb-2"}),n.jsx("div",{className:"text-2xl sm:text-3xl font-bold",children:j.number}),n.jsx("div",{className:"text-red-100 text-sm sm:text-base",children:j.label})]},k)})})})}),n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-12",children:[n.jsxs("section",{className:"mb-8 sm:mb-12",children:[n.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-4 sm:mb-6",children:"Quick Actions"}),n.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:b.map(j=>{const k=j.icon;return n.jsxs("button",{onClick:j.action,className:"bg-white p-3 sm:p-4 rounded-lg shadow-sm border hover:shadow-md transition-shadow group",disabled:!t,children:[n.jsx("div",{className:`w-8 h-8 sm:w-10 sm:h-10 ${j.color} rounded-lg flex items-center justify-center mb-2 sm:mb-3 group-hover:scale-110 transition-transform`,children:n.jsx(k,{className:"h-4 w-4 sm:h-5 sm:w-5 text-white"})}),n.jsx("h3",{className:"text-sm sm:text-base font-semibold text-gray-900 mb-1",children:j.title}),n.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:j.description}),!t&&n.jsx("p",{className:"text-xs text-red-700 mt-1",children:"Sign in to use this feature"})]},j.id)})})]}),n.jsx("div",{className:"mb-6 sm:mb-8",children:n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-2 sm:space-y-0 sm:space-x-4",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(_9,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-600 mr-2"}),n.jsx("span",{className:"text-sm sm:text-base font-medium text-gray-700",children:"Filter:"})]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:[{value:"all",label:"All Places"},{value:"restaurant",label:"Restaurants"},{value:"hotel",label:"Hotels"},{value:"resort",label:"Resorts"}].map(j=>n.jsx("button",{onClick:()=>y(j.value),className:`px-3 py-1 sm:px-4 sm:py-2 rounded-lg text-xs sm:text-sm font-medium transition-colors ${N===j.value?"bg-red-800 text-white":"bg-white text-gray-700 hover:bg-gray-50 border"}`,children:j.label},j.value))})]})}),n.jsxs("section",{className:"mb-8 sm:mb-12",children:[n.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[n.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-2 sm:mb-3",children:"Featured Places"}),n.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:"Discover the best restaurants, hotels, and food places in your area"})]}),n.jsx("div",{className:"grid grid-cols-2 gap-3 sm:gap-4",children:L.map(j=>n.jsxs("div",{className:"bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow",children:[n.jsx("img",{src:j.images[0],alt:j.name,className:"w-full h-32 sm:h-40 object-cover rounded-t-lg"}),n.jsxs("div",{className:"p-3 sm:p-4",children:[n.jsxs("div",{className:"flex justify-between items-start mb-1 sm:mb-2",children:[n.jsx("h3",{className:"font-semibold text-gray-900 text-sm sm:text-base truncate",children:j.name}),n.jsx("span",{className:`px-1 py-0.5 rounded-full text-xs font-medium flex-shrink-0 ${j.isOpen?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:j.isOpen?"Open":"Closed"})]}),n.jsx("p",{className:"text-gray-600 text-xs sm:text-sm mb-1 capitalize",children:j.type}),n.jsx("p",{className:"text-gray-500 text-xs mb-2 line-clamp-2",children:j.address}),n.jsxs("div",{className:"flex justify-between items-center space-x-2",children:[n.jsx("button",{onClick:()=>{_(j.id),c(!0)},className:"bg-gradient-to-r from-red-800 to-red-900 text-white px-2 py-1 sm:px-3 sm:py-2 rounded text-xs sm:text-sm hover:from-red-900 hover:to-red-950 transition-colors flex-1 mr-1",children:"Book Table"}),n.jsx("button",{onClick:()=>{_(j.id),h(!0)},className:"bg-gradient-to-r from-red-800 to-red-900 text-white px-2 py-1 sm:px-3 sm:py-2 rounded text-xs sm:text-sm hover:from-red-900 hover:to-red-950 transition-colors flex-1",children:"Order Food"})]})]})]},j.id))})]}),n.jsxs("section",{className:"py-8 sm:py-12 bg-gray-50 rounded-lg",children:[n.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[n.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-2 sm:mb-3",children:"Popular Menu Items"}),n.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:"Explore delicious dishes from our partner restaurants"})]}),n.jsx("div",{className:"grid grid-cols-2 gap-3 sm:gap-4",children:C.map(j=>{var A;const k=s.find(V=>V.id===j.restaurantId),O=((A=a.find(V=>V.id===j.id))==null?void 0:A.quantity)||0;return n.jsxs("div",{className:"bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow",children:[n.jsx("img",{src:j.image,alt:j.name,className:"w-full h-28 sm:h-36 object-cover rounded-t-lg"}),n.jsxs("div",{className:"p-3 sm:p-4",children:[n.jsxs("div",{className:"flex items-start justify-between mb-1 sm:mb-2",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-semibold text-gray-900 text-sm sm:text-base truncate",children:j.name}),n.jsxs("p",{className:"text-gray-600 text-xs sm:text-sm",children:[j.itemCategory,"  ",j.quantity]}),k&&n.jsx("p",{className:"text-gray-500 text-xs",children:k.name})]}),n.jsx("span",{className:`w-2 h-2 sm:w-3 sm:h-3 rounded-full flex-shrink-0 ml-1 ${j.category==="veg"?"bg-green-500":"bg-red-500"}`})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("span",{className:"text-sm sm:text-base font-semibold text-gray-900",children:["",j.price]}),t?n.jsxs("button",{onClick:()=>i({id:j.id,name:j.name,price:j.price,image:j.image,restaurantId:j.restaurantId,restaurantName:(k==null?void 0:k.name)||"Unknown Restaurant",category:j.category,itemCategory:j.itemCategory}),className:"bg-gradient-to-r from-red-800 to-red-900 text-white px-2 py-1 sm:px-3 sm:py-2 rounded text-xs sm:text-sm hover:from-red-900 hover:to-red-950 transition-colors flex items-center space-x-1",children:[n.jsx(ls,{className:"h-3 w-3"}),n.jsx("span",{children:O>0?`Add (${O})`:"Add"})]}):n.jsx("button",{onClick:()=>h(!0),className:"bg-gradient-to-r from-red-800 to-red-900 text-white px-2 py-1 sm:px-3 sm:py-2 rounded text-xs sm:text-sm hover:from-red-900 hover:to-red-950 transition-colors",children:"Order"})]})]})]},j.id)})})]})]}),n.jsx("section",{id:"features",className:"py-8 sm:py-12",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[n.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-2 sm:mb-3",children:"Everything You Need for Perfect Dining"}),n.jsx("p",{className:"text-gray-600 text-sm sm:text-base max-w-2xl mx-auto",children:"From quick bites to special celebrations, we've got you covered with our comprehensive platform"})]}),n.jsx("div",{className:"grid grid-cols-2 gap-3 sm:gap-4",children:v.map((j,k)=>{const O=j.icon;return n.jsxs(Xt.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:k*.1},className:"bg-white p-3 sm:p-4 rounded-lg shadow-sm hover:shadow-md transition-shadow group",children:[n.jsx("div",{className:`w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-r ${j.color} rounded-lg flex items-center justify-center mb-2 sm:mb-3 group-hover:scale-110 transition-transform`,children:n.jsx(O,{className:"h-4 w-4 sm:h-5 sm:w-5 text-white"})}),n.jsx("h3",{className:"text-sm sm:text-base font-semibold text-gray-900 mb-1",children:j.title}),n.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-2",children:j.description}),j.title==="Table Reservations"&&n.jsx("button",{onClick:()=>c(!0),disabled:!t,className:"w-full bg-gradient-to-r from-red-800 to-red-900 text-white px-3 py-2 rounded text-xs sm:text-sm hover:from-red-900 hover:to-red-950 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:t?"Book Table":"Sign in to Book"}),j.title==="Food Delivery"&&n.jsx("button",{onClick:()=>h(!0),disabled:!t,className:"w-full bg-gradient-to-r from-red-800 to-red-900 text-white px-3 py-1 sm:px-3 sm:py-2 rounded text-xs sm:text-sm hover:from-red-900 hover:to-red-950 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:t?"Order Food":"Sign in to Order"}),j.title==="Event Planning"&&n.jsx("button",{onClick:()=>m(!0),disabled:!t,className:"w-full bg-gradient-to-r from-red-800 to-red-900 text-white px-3 py-1 sm:px-3 sm:py-2 rounded text-xs sm:text-sm hover:from-red-900 hover:to-red-950 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:t?"Plan Event":"Sign in to Plan"}),j.title==="Premium Dining"&&n.jsx("button",{onClick:()=>c(!0),disabled:!t,className:"w-full bg-gradient-to-r from-red-800 to-red-900 text-white px-3 py-2 rounded text-xs sm:text-sm hover:from-red-900 hover:to-red-950 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:t?"Book Premium":"Sign in to Book"})]},k)})})]})}),n.jsx("section",{className:"bg-gradient-to-r from-red-800 to-red-900 text-white py-12 sm:py-20",children:n.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:n.jsxs(Xt.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.8},children:[n.jsx("h2",{className:"text-2xl sm:text-4xl font-bold mb-4 sm:mb-6",children:"Ready to Start Your Culinary Journey?"}),n.jsx("p",{className:"text-lg sm:text-xl text-red-100 mb-6 sm:mb-8",children:t?"Explore our amazing features and book your next dining experience!":"Join thousands of food lovers who trust Tabuloo for their dining experiences"})]})})}),l&&n.jsx(rT,{isOpen:l,onClose:()=>{c(!1),_("")},selectedRestaurantId:p}),d&&n.jsx(nT,{isOpen:d,onClose:()=>{h(!1),_("")},selectedRestaurantId:p}),f&&n.jsx(iT,{isOpen:f,onClose:()=>{m(!1),_("")},selectedRestaurantId:p}),n.jsx(OF,{})]})},VF=()=>{const t=_s(),{user:e}=Vt(),{items:s,removeFromCart:r,updateQuantity:i,clearCart:a,getTotalPrice:o}=bc(),{addOrder:l}=Us(),[c,d]=T.useState(!1),[h,f]=T.useState(""),[m,p]=T.useState(""),[_,N]=T.useState((e==null?void 0:e.name)||""),[y,b]=T.useState("cod"),[v,x]=T.useState(null),[E,I]=T.useState(!1),[L,C]=T.useState("delivery"),[j,k]=T.useState(!1),[O,A]=T.useState("unknown");T.useEffect(()=>{U()},[]);const V=(W,G)=>{G<=0?r(W):i(W,G)},D=W=>{x(W),f(W.formattedAddress)},U=()=>{if(!navigator.permissions){A("unknown");return}navigator.permissions.query({name:"geolocation"}).then(W=>{A(W.state),W.addEventListener("change",()=>{A(W.state)})}).catch(()=>{A("unknown")})},B=async()=>{if(!navigator.geolocation){M.error("Geolocation is not supported by this browser. Please use a modern browser.");return}if(!window.isSecureContext){M.error("Location access requires a secure connection (HTTPS). Please check your connection.");return}if(!await $())return;k(!0);const G={enableHighAccuracy:!0,timeout:15e3,maximumAge:3e5};navigator.geolocation.getCurrentPosition(async re=>{try{const{latitude:ie,longitude:pe}=re.coords,ae={lat:ie,lng:pe,address:"",formattedAddress:""};try{if(window.google&&window.google.maps){const _e=new window.google.maps.Geocoder,Me=await new Promise((qe,Ee)=>{_e.geocode({location:{lat:ie,lng:pe}},(Oe,Es)=>{Es==="OK"&&Oe&&Oe[0]?qe(Oe[0]):Ee(new Error(`Geocoding failed: ${Es}`))})});ae.address=Me.formatted_address,ae.formattedAddress=Me.formatted_address,x(ae),f(ae.formattedAddress),M.success(" Current location detected and address filled!")}else ae.formattedAddress=`Location at ${ie.toFixed(6)}, ${pe.toFixed(6)}`,x(ae),f(ae.formattedAddress),M.success(" Current location detected! (Address lookup unavailable)")}catch(_e){console.warn("Geocoding failed, using coordinates:",_e),ae.formattedAddress=`Location at ${ie.toFixed(6)}, ${pe.toFixed(6)}`,x(ae),f(ae.formattedAddress),M.success(" Current location detected! (Address lookup unavailable)")}}catch(ie){console.error("Error processing location:",ie),M.error("Error processing location data. Please try again.")}finally{k(!1)}},re=>{k(!1),console.error("Geolocation error:",re);let ie="Error getting current location. Please try again.";switch(re.code){case re.PERMISSION_DENIED:ie="Location access denied. Please allow location access in your browser settings and refresh the page.";break;case re.POSITION_UNAVAILABLE:ie="Location information unavailable. Please check your device location services.";break;case re.TIMEOUT:ie="Location request timed out. Please try again.";break;default:ie=`Location error: ${re.message}`}M.error(ie)},G)},R=()=>{x(null),f(""),M.success("Location cleared")},$=async()=>{try{return(await navigator.permissions.query({name:"geolocation"})).state==="denied"?(M.error("Location permission denied. Please enable it in your browser settings."),!1):!0}catch(W){return console.warn("Could not check location permission:",W),!0}},H=async()=>{var W;if(!e){M.error("Please login to checkout");return}if(!_.trim()){M.error("Please enter your name");return}if(L==="delivery"){if(!h.trim()){M.error("Please enter delivery address");return}if(h.trim().length<10){M.error("Please enter a complete delivery address (minimum 10 characters)");return}}if(!m.trim()){M.error("Please enter phone number");return}if(!De(m)){M.error("Please enter a valid 10-digit Indian phone number");return}d(!0);try{const G={userId:e.id,restaurantId:((W=s[0])==null?void 0:W.restaurantId)||"",items:s.map(re=>({id:re.id,restaurantId:re.restaurantId,category:re.category,name:re.name,itemCategory:re.itemCategory,quantity:re.quantity.toString(),price:re.price,image:re.image,available:!0})),status:y==="cod"?"pending":"confirmed",type:L,total:o(),...L==="delivery"&&{address:h},customerName:_,customerPhone:m,createdAt:new Date,paymentMethod:y==="cod"?"cod":"card",...L==="delivery"&&v&&{location:{lat:v.lat,lng:v.lng}}};y==="cod"?(await l(G),a(),M.success("Order placed successfully! You will pay on delivery."),t("/profile")):await Za.initializePayment(G,e,async re=>{try{(await Za.verifyPayment(re.razorpay_payment_id,re.razorpay_order_id)).success?(await l(G),a(),M.success("Payment successful! Order placed."),t("/profile")):M.error("Payment verification failed. Please contact support.")}catch(ie){console.error("Payment verification error:",ie),M.error("Payment verification failed. Please contact support.")}},re=>{console.error("Payment error:",re),M.error("Payment failed. Please try again.")})}catch(G){console.error("Checkout error:",G),M.error("Failed to process checkout")}finally{d(!1)}};return s.length===0?n.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:n.jsx("div",{className:"max-w-4xl mx-auto px-4",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8 text-center",children:[n.jsx("div",{className:"text-gray-400 mb-4",children:n.jsx(Rs,{className:"h-16 w-16 mx-auto"})}),n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Your cart is empty"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Add some delicious items to get started!"}),n.jsx("button",{onClick:()=>t("/"),className:"bg-red-800 text-white px-6 py-2 rounded-lg hover:bg-red-900 transition-colors",children:"Continue Shopping"})]})})}):n.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:n.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("button",{onClick:()=>t("/"),className:"flex items-center text-gray-600 hover:text-gray-900 transition-colors",children:[n.jsx(ta,{className:"h-4 w-4 mr-2"}),"Back to Home"]}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Your Cart"}),n.jsx("button",{onClick:a,className:"text-red-600 hover:text-red-800 transition-colors",children:"Clear Cart"})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["Order Items (",s.length,")"]})}),n.jsx("div",{className:"divide-y divide-gray-200",children:s.map(W=>n.jsxs("div",{className:"p-6 flex items-center space-x-4",children:[n.jsx("img",{src:W.image,alt:W.name,className:"w-20 h-20 object-cover rounded-lg",onError:G=>{G.currentTarget.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjQiIGhlaWdodD0iNjQiIHZpZXdCb3g9IjAgMCA2NCA2NCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjY0IiBoZWlnaHQ9IjY0IiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik0zMiAyMEMyNC4yNjgxIDIwIDE4IDI2LjI2ODEgMTggMzRDMjAgMzQgMjIgMzUuMzQzMSAyMiAzOEMyMiA0MC42NTY5IDIwLjY1NjkgNDIgMTggNDJIMTZDMjQuMjY4MSA0MiAzMiAzNC4yNjgxIDMyIDI2VjIwWiIgZmlsbD0iI0QxRDVEM0EiLz4KPC9zdmc+"}}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-medium text-gray-900 text-lg",children:W.name}),n.jsx("p",{className:"text-sm text-gray-600",children:W.restaurantName}),n.jsx("p",{className:"text-sm text-gray-500",children:W.itemCategory})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("button",{onClick:()=>V(W.id,W.quantity-1),className:"p-2 rounded-full hover:bg-gray-100 transition-colors",children:n.jsx(XE,{className:"h-4 w-4"})}),n.jsx("span",{className:"w-12 text-center font-medium text-lg",children:W.quantity}),n.jsx("button",{onClick:()=>V(W.id,W.quantity+1),className:"p-2 rounded-full hover:bg-gray-100 transition-colors",children:n.jsx(ls,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"font-semibold text-gray-900 text-lg",children:["",W.price*W.quantity]}),n.jsxs("p",{className:"text-sm text-gray-600",children:["",W.price," each"]})]}),n.jsx("button",{onClick:()=>r(W.id),className:"text-red-600 hover:text-red-800 p-2 rounded-full hover:bg-red-50 transition-colors",children:n.jsx(fo,{className:"h-5 w-5"})})]},W.id))})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[n.jsx(Km,{className:"h-5 w-5 mr-2 text-red-600"}),"Order Type"]})}),n.jsx("div",{className:"p-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx("button",{onClick:()=>C("pickup"),className:`p-6 border-2 rounded-lg transition-all group ${L==="pickup"?"border-red-500 bg-red-50":"border-gray-200 hover:border-red-300"}`,children:n.jsxs("div",{className:"text-center",children:[n.jsx(Km,{className:`h-8 w-8 mx-auto mb-3 group-hover:scale-110 transition-transform ${L==="pickup"?"text-red-600":"text-gray-600"}`}),n.jsx("h4",{className:"text-base font-semibold text-gray-900 mb-2",children:"Self Pickup"}),n.jsx("p",{className:"text-gray-600 text-sm",children:"Pick up your order from the restaurant"}),n.jsx("p",{className:"text-xs text-green-600 mt-2",children:"No delivery charges"})]})}),n.jsx("button",{onClick:()=>C("delivery"),className:`p-6 border-2 rounded-lg transition-all group ${L==="delivery"?"border-red-500 bg-red-50":"border-gray-200 hover:border-red-300"}`,children:n.jsxs("div",{className:"text-center",children:[n.jsx(Wi,{className:`h-8 w-8 mx-auto mb-3 group-hover:scale-110 transition-transform ${L==="delivery"?"text-red-600":"text-gray-600"}`}),n.jsx("h4",{className:"text-base font-semibold text-gray-900 mb-2",children:"Home Delivery"}),n.jsx("p",{className:"text-gray-600 text-sm",children:"Get it delivered to your doorstep"}),n.jsx("p",{className:"text-xs text-orange-600 mt-2",children:"Delivery charges apply"})]})})]})})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[n.jsx(T9,{className:"h-5 w-5 mr-2 text-red-600"}),L==="delivery"?"Delivery Details":"Pickup Details"]})}),n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:[n.jsx(as,{className:"h-4 w-4 mr-2"}),"Full Name"]}),n.jsx("input",{type:"text",value:_,onChange:W=>N(W.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500",placeholder:"Enter your full name"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:[n.jsx(jr,{className:"h-4 w-4 mr-2"}),"Phone Number"]}),n.jsx("input",{type:"tel",value:m,onChange:W=>{const G=nn(W.target.value);p(G)},className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500",placeholder:"Enter 10-digit phone number",maxLength:10}),m&&!De(m)&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:"Please enter a valid 10-digit Indian phone number"})]})]}),L==="delivery"?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:[n.jsx(Be,{className:"h-4 w-4 mr-2"}),"Delivery Address"]}),n.jsxs("div",{className:"mb-3",children:[n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-3",children:n.jsxs("div",{className:"flex items-start space-x-2",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"w-5 h-5 bg-blue-100 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-blue-600 text-xs",children:""})})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-xs text-blue-800 font-medium mb-1",children:"Quick Setup"}),n.jsx("p",{className:"text-xs text-blue-700",children:"Click the button below to automatically detect your current location and fill in the address. Make sure to allow location access when prompted."})]})]})}),n.jsx("button",{type:"button",onClick:B,disabled:j,className:"w-full px-4 py-3 bg-gradient-to-r from-green-600 to-green-700 text-white rounded-lg hover:from-green-700 hover:to-green-800 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2 shadow-sm hover:shadow-md",children:j?n.jsxs(n.Fragment,{children:[n.jsx(C9,{className:"h-5 w-5 animate-spin"}),n.jsx("span",{className:"font-medium",children:"Detecting Location..."})]}):n.jsxs(n.Fragment,{children:[n.jsx(Be,{className:"h-5 w-5"}),n.jsx("span",{className:"font-medium",children:"Use Current Location"})]})}),n.jsxs("div",{className:"mt-2 text-xs space-y-1",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"text-gray-500",children:" Requires location permission from your browser"}),O==="granted"&&n.jsx("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:" Granted"}),O==="denied"&&n.jsx("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:" Denied"}),O==="prompt"&&n.jsx("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:" Prompt"})]}),n.jsx("p",{className:"text-gray-500",children:" Works best with GPS enabled devices"}),n.jsx("p",{className:"text-gray-500",children:" Address will be automatically filled"}),O==="denied"&&n.jsxs("div",{className:"mt-2 p-2 bg-red-50 border border-red-200 rounded text-xs text-red-700",children:[n.jsx("p",{className:"font-medium",children:"Location Access Denied"}),n.jsx("p",{children:"To use this feature, please:"}),n.jsxs("ol",{className:"list-decimal list-inside ml-2 mt-1 space-y-1",children:[n.jsx("li",{children:"Click the lock icon in your browser address bar"}),n.jsx("li",{children:'Change location permission to "Allow"'}),n.jsx("li",{children:"Refresh the page"})]})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Delivery Address"}),n.jsx("textarea",{value:h,onChange:W=>f(W.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500",rows:3,placeholder:"Enter your delivery address or use current location above"}),!v&&n.jsxs("div",{className:"text-xs text-gray-500 bg-gray-50 p-2 rounded",children:[n.jsx("p",{className:"font-medium",children:"Manual Address Input:"}),n.jsx("p",{children:"Please provide a complete address including:"}),n.jsxs("ul",{className:"list-disc list-inside ml-2 mt-1 space-y-1",children:[n.jsx("li",{children:"House/Flat number and street name"}),n.jsx("li",{children:"Area/Locality"}),n.jsx("li",{children:"City and State"}),n.jsx("li",{children:"PIN Code"})]})]})]}),v&&n.jsx("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-start",children:[n.jsx(Be,{className:"h-4 w-4 text-green-600 mr-2 mt-0.5 flex-shrink-0"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm font-medium text-green-900",children:" Current Location Detected:"}),n.jsx("p",{className:"text-sm text-green-800",children:v.formattedAddress}),n.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-xs text-green-600",children:[n.jsxs("span",{children:["Coordinates: ",v.lat.toFixed(6),", ",v.lng.toFixed(6)]}),n.jsxs("span",{className:"flex items-center",children:[n.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-1"}),"GPS Active"]})]}),n.jsx("p",{className:"text-xs text-green-600 mt-1",children:" Address automatically filled in the text area above"})]})]}),n.jsx("button",{onClick:R,className:"text-red-600 hover:text-red-800 p-1 rounded-full hover:bg-red-50 transition-colors",title:"Clear location",children:n.jsx(mt,{className:"h-4 w-4"})})]})})]}),n.jsxs("button",{onClick:()=>I(!E),className:"w-full px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center",children:[n.jsx(Be,{className:"h-4 w-4 mr-2"}),E?"Hide Map":"Show Map & Pick Location"]})]}):n.jsx("div",{className:"space-y-4",children:n.jsx("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx(Km,{className:"h-5 w-5 text-blue-600 mr-3 mt-0.5 flex-shrink-0"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm font-medium text-blue-900",children:"Self Pickup Selected"}),n.jsx("p",{className:"text-sm text-blue-800 mt-1",children:"You can pick up your order from the restaurant. No delivery address needed."})]})]})})})]}),L==="delivery"&&E&&n.jsx("div",{className:"mt-6 border border-gray-200 rounded-lg p-4 bg-gray-50",children:n.jsx(i0,{onLocationSelect:D,placeholder:"Search for your delivery address..."})}),L==="delivery"&&v&&n.jsx("div",{className:"mt-4 p-4 bg-green-50 border border-green-200 rounded-lg",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx(Be,{className:"h-5 w-5 text-green-600 mr-3 mt-0.5 flex-shrink-0"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm font-medium text-green-900",children:" Selected Location:"}),n.jsx("p",{className:"text-sm text-green-800 mt-1",children:v.formattedAddress})]})]})})]})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Payment Method"})}),n.jsx("div",{className:"p-6",children:n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsxs("label",{className:"flex items-center p-4 border-2 border-gray-200 rounded-lg hover:border-red-300 cursor-pointer transition-colors",children:[n.jsx("input",{type:"radio",value:"cod",checked:y==="cod",onChange:W=>b(W.target.value),className:"mr-3"}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(Jn,{className:"h-5 w-5 text-green-600 mr-3"}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Cash on Delivery"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Pay when you receive your order"})]})]})]}),n.jsxs("label",{className:"flex items-center p-4 border-2 border-gray-200 rounded-lg hover:border-red-300 cursor-pointer transition-colors",children:[n.jsx("input",{type:"radio",value:"razorpay",checked:y==="razorpay",onChange:W=>b(W.target.value),className:"mr-3"}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(qr,{className:"h-5 w-5 text-blue-600 mr-3"}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Pay Online"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Secure payment via Razorpay"})]})]})]})]})})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Order Summary"})}),n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Subtotal"}),n.jsxs("span",{className:"font-medium",children:["",o()]})]}),L==="delivery"&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Delivery Fee"}),n.jsx("span",{className:"font-medium",children:"40"})]}),n.jsx("div",{className:"border-t pt-3",children:n.jsxs("div",{className:"flex justify-between font-semibold text-xl",children:[n.jsx("span",{children:"Total"}),n.jsxs("span",{children:["",L==="delivery"?o()+40:o()]})]})})]}),n.jsx("button",{onClick:H,disabled:c,className:"w-full bg-red-800 text-white py-4 rounded-lg font-semibold text-lg hover:bg-red-900 transition-colors disabled:opacity-50 disabled:cursor-not-allowed mt-6",children:c?"Processing...":`Place ${L==="delivery"?"Order":"Pickup"} (${L==="delivery"?o()+40:o()})`})]})]})]})]})})},LF=()=>{const{restaurants:t,orders:e,bookings:s,addRestaurant:r,updateRestaurant:i,deleteRestaurant:a}=Us(),[o,l]=T.useState(!1),[c,d]=T.useState(!1),[h,f]=T.useState(!1),[m,p]=T.useState(null),[_,N]=T.useState(null),[y,b]=T.useState(null),[v,x]=T.useState(!1),[E,I]=T.useState({name:"",type:"restaurant",address:"",capacity:"",crowdCapacity:"",images:"",price:"",ownerUsername:"",ownerPassword:"",timings:"9:00 AM - 11:00 PM"}),L=R=>{if(R.preventDefault(),!E.name.trim()){M.error("Restaurant name is required");return}if(!E.address.trim()){M.error("Restaurant address is required");return}if(!E.capacity||parseInt(E.capacity)<=0){M.error("Please enter a valid food serving capacity");return}if(!E.crowdCapacity||parseInt(E.crowdCapacity)<=0){M.error("Please enter a valid crowd capacity");return}if(!E.price||parseFloat(E.price)<=0){M.error("Please enter a valid average price per person");return}if(!E.ownerUsername.trim()){M.error("Owner username is required");return}if(!E.ownerPassword.trim()||E.ownerPassword.length<6){M.error("Owner password must be at least 6 characters long");return}const $={name:E.name.trim(),type:E.type,address:E.address.trim(),capacity:parseInt(E.capacity),crowdCapacity:parseInt(E.crowdCapacity),images:E.images?E.images.split(",").map(H=>H.trim()).filter(H=>H):[],price:parseFloat(E.price),ownerCredentials:{username:E.ownerUsername.trim(),password:E.ownerPassword},isOpen:!0,timings:E.timings||"9:00 AM - 11:00 PM"};r($).then(()=>{l(!1),I({name:"",type:"restaurant",address:"",capacity:"",crowdCapacity:"",images:"",price:"",ownerUsername:"",ownerPassword:"",timings:"9:00 AM - 11:00 PM"}),M.success("Restaurant added successfully! Owner account has been created.")}).catch(H=>{console.error("Error adding restaurant:",H),M.error("Failed to add restaurant. Please try again.")})},C=R=>{p(R),I({name:R.name,type:R.type,address:R.address,capacity:R.capacity.toString(),crowdCapacity:R.crowdCapacity.toString(),images:R.images.join(", "),price:R.price.toString(),ownerUsername:R.ownerCredentials.username,ownerPassword:R.ownerCredentials.password,timings:R.timings}),d(!0)},j=R=>{N(R),f(!0)},k=()=>{_&&(a(_.id),f(!1),N(null),M.success("Place deleted successfully!"))},O=()=>{f(!1),N(null)},A=R=>{if(R.preventDefault(),!m)return;const $={...m,name:E.name,type:E.type,address:E.address,capacity:parseInt(E.capacity),crowdCapacity:parseInt(E.crowdCapacity),images:E.images.split(",").map(H=>H.trim()),price:parseFloat(E.price),ownerCredentials:{username:E.ownerUsername,password:E.ownerPassword},timings:E.timings};i($).then(()=>{d(!1),p(null),I({name:"",type:"restaurant",address:"",capacity:"",crowdCapacity:"",images:"",price:"",ownerUsername:"",ownerPassword:"",timings:"9:00 AM - 11:00 PM"})}).catch(H=>{console.error("Error updating restaurant:",H)})},V=()=>{d(!1),p(null),I({name:"",type:"restaurant",address:"",capacity:"",crowdCapacity:"",images:"",price:"",ownerUsername:"",ownerPassword:"",timings:"9:00 AM - 11:00 PM"})},D=(R,$)=>{const H=new Date;let W;switch($){case"today":W=new Date(H),W.setHours(0,0,0,0);break;case"month":W=new Date(H.getFullYear(),H.getMonth(),1);break;case"year":W=new Date(H.getFullYear(),0,1);break;default:W=new Date(H),W.setHours(0,0,0,0)}const G=e.filter(ae=>ae.restaurantId===R&&ae.createdAt&&new Date(ae.createdAt)>=W),re=s.filter(ae=>ae.restaurantId===R&&ae.createdAt&&new Date(ae.createdAt)>=W),ie=G.reduce((ae,_e)=>ae+_e.total,0),pe=re.reduce((ae,_e)=>ae+_e.amount,0);return{total:ie+pe,orders:ie,bookings:pe,orderCount:G.length,bookingCount:re.length}},U=R=>{const $=new Date;let H;switch(R){case"today":H=new Date($),H.setHours(0,0,0,0);break;case"month":H=new Date($.getFullYear(),$.getMonth(),1);break;case"year":H=new Date($.getFullYear(),0,1);break;default:H=new Date($),H.setHours(0,0,0,0)}const W=e.filter(pe=>pe.createdAt&&new Date(pe.createdAt)>=H),G=s.filter(pe=>pe.createdAt&&new Date(pe.createdAt)>=H),re=W.reduce((pe,ae)=>pe+ae.total,0),ie=G.reduce((pe,ae)=>pe+ae.amount,0);return{total:re+ie,orders:re,bookings:ie,orderCount:W.length,bookingCount:G.length}},B=R=>{b(R),x(!0)};return n.jsx("div",{className:"min-h-screen bg-gray-50",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8",children:[n.jsxs("div",{className:"mb-6 sm:mb-8",children:[n.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Tabuloo Admin Dashboard"}),n.jsx("p",{className:"text-gray-600 mt-2 text-sm sm:text-base",children:"Manage restaurant partnerships and create owner accounts"})]}),n.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-6 mb-6 sm:mb-8",children:[n.jsx("div",{className:"bg-white p-3 sm:p-6 rounded-lg sm:rounded-xl shadow-sm border",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 sm:p-3 bg-blue-100 rounded-lg",children:n.jsx(Zn,{className:"h-4 w-4 sm:h-6 sm:w-6 text-blue-600"})}),n.jsxs("div",{className:"ml-2 sm:ml-4",children:[n.jsx("h3",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Total Customers"}),n.jsx("p",{className:"text-lg sm:text-2xl font-bold text-blue-600",children:"1,234"})]})]})}),n.jsx("div",{className:"bg-white p-3 sm:p-6 rounded-lg sm:rounded-xl shadow-sm border",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 sm:p-3 bg-green-100 rounded-lg",children:n.jsx(Op,{className:"h-4 w-4 sm:h-6 sm:w-6 text-green-600"})}),n.jsxs("div",{className:"ml-2 sm:ml-4",children:[n.jsx("h3",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Partner Restaurants"}),n.jsx("p",{className:"text-lg sm:text-2xl font-bold text-green-600",children:t.length})]})]})}),n.jsx("div",{className:"bg-white p-3 sm:p-6 rounded-lg sm:rounded-xl shadow-sm border",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 sm:p-3 bg-purple-100 rounded-lg",children:n.jsx(Be,{className:"h-4 w-4 sm:h-6 sm:w-6 text-purple-600"})}),n.jsxs("div",{className:"ml-2 sm:ml-4",children:[n.jsx("h3",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Active Partners"}),n.jsx("p",{className:"text-lg sm:text-2xl font-bold text-purple-600",children:t.filter(R=>R.isOpen).length})]})]})}),n.jsx("div",{className:"bg-white p-3 sm:p-6 rounded-lg sm:rounded-xl shadow-sm border",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 sm:p-3 bg-yellow-100 rounded-lg",children:n.jsx(Jn,{className:"h-4 w-4 sm:h-6 sm:w-6 text-yellow-600"})}),n.jsxs("div",{className:"ml-2 sm:ml-4",children:[n.jsx("h3",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Today's Revenue"}),n.jsxs("p",{className:"text-lg sm:text-2xl font-bold text-yellow-600",children:["",U("today").total.toFixed(2)]})]})]})})]}),n.jsx("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 border border-green-200 rounded-lg sm:rounded-xl shadow-sm mb-6 sm:mb-8",children:n.jsxs("div",{className:"p-4 sm:p-6",children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx("div",{className:"p-2 sm:p-3 bg-green-100 rounded-lg",children:n.jsx(QE,{className:"h-5 w-5 sm:h-6 sm:w-6 text-green-600"})}),n.jsxs("div",{className:"ml-3",children:[n.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900",children:"Platform Revenue Overview"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Total revenue across all partner restaurants"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[n.jsx("div",{className:"bg-white p-4 rounded-lg border border-green-200 shadow-sm",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-sm font-medium text-green-700 mb-1",children:"Today's Revenue"}),n.jsxs("p",{className:"text-2xl sm:text-3xl font-bold text-green-600",children:["",U("today").total.toFixed(2)]}),n.jsxs("p",{className:"text-xs text-green-600 mt-1",children:[U("today").orderCount+U("today").bookingCount," transactions"]}),n.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:[n.jsxs("p",{children:["Orders: ",U("today").orderCount]}),n.jsxs("p",{children:["Bookings: ",U("today").bookingCount]})]})]})}),n.jsx("div",{className:"bg-white p-4 rounded-lg border border-blue-200 shadow-sm",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-sm font-medium text-blue-700 mb-1",children:"Monthly Revenue"}),n.jsxs("p",{className:"text-2xl sm:text-3xl font-bold text-blue-600",children:["",U("month").total.toFixed(2)]}),n.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:[U("month").orderCount+U("month").bookingCount," transactions"]}),n.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:[n.jsxs("p",{children:["Orders: ",U("month").orderCount]}),n.jsxs("p",{children:["Bookings: ",U("month").bookingCount]})]})]})}),n.jsx("div",{className:"bg-white p-4 rounded-lg border border-purple-200 shadow-sm",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-sm font-medium text-purple-700 mb-1",children:"Annual Revenue"}),n.jsxs("p",{className:"text-2xl sm:text-3xl font-bold text-purple-600",children:["",U("year").total.toFixed(2)]}),n.jsxs("p",{className:"text-xs text-purple-600 mt-1",children:[U("year").orderCount+U("year").bookingCount," transactions"]}),n.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:[n.jsxs("p",{children:["Orders: ",U("year").orderCount]}),n.jsxs("p",{children:["Bookings: ",U("year").bookingCount]})]})]})})]})]})}),n.jsx("div",{className:"mb-4 sm:mb-6",children:n.jsxs("button",{onClick:()=>l(!0),className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white px-6 sm:px-8 py-3 sm:py-4 rounded-lg hover:from-blue-700 hover:to-blue-800 transition-all flex items-center justify-center space-x-3 text-base sm:text-lg font-semibold shadow-lg",children:[n.jsx(ls,{className:"h-5 w-5 sm:h-6 sm:w-6"}),n.jsx("span",{children:"Add New Restaurant & Create Owner Account"})]})}),o&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl p-4 sm:p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-4 sm:mb-6",children:"Add New Restaurant & Create Owner Account"}),n.jsxs("form",{onSubmit:L,className:"space-y-3 sm:space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Restaurant Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",required:!0,value:E.name,onChange:R=>I($=>({...$,name:R.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Enter restaurant name"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Enter the official name of the restaurant"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Restaurant Type ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("select",{value:E.type,onChange:R=>I($=>({...$,type:R.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",children:[n.jsx("option",{value:"restaurant",children:"Restaurant"}),n.jsx("option",{value:"hotel",children:"Hotel"}),n.jsx("option",{value:"resort",children:"Resort"})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select the type of establishment"})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Restaurant Address ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("textarea",{required:!0,value:E.address,onChange:R=>I($=>({...$,address:R.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",rows:3,placeholder:"Enter complete restaurant address"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Include street address, city, and state"})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Food Serving Capacity ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"number",required:!0,min:"1",value:E.capacity,onChange:R=>I($=>({...$,capacity:R.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Number of people"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Maximum number of people that can be served food"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Crowd Capacity ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"number",required:!0,min:"1",value:E.crowdCapacity,onChange:R=>I($=>({...$,crowdCapacity:R.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Maximum crowd capacity"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Total capacity for events and gatherings"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Restaurant Images (comma separated URLs)"}),n.jsx("input",{type:"text",value:E.images,onChange:R=>I($=>({...$,images:R.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"https://image1.jpg, https://image2.jpg"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: Add image URLs separated by commas"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Average Price per Person () ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"number",step:"0.01",min:"0.01",required:!0,value:E.price,onChange:R=>I($=>({...$,price:R.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Average cost per person"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Typical cost per person for a meal"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Operating Hours"}),n.jsx("input",{type:"text",value:E.timings,onChange:R=>I($=>({...$,timings:R.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"e.g., 9:00 AM - 11:00 PM"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Standard operating hours (optional)"})]}),n.jsxs("div",{className:"border-t pt-4 mt-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Create Restaurant Owner Account"}),n.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"This will create login credentials for the restaurant owner to manage their restaurant."}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Owner Username ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",required:!0,value:E.ownerUsername,onChange:R=>I($=>({...$,ownerUsername:R.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Enter username for login"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This will be the login username for the restaurant owner"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Owner Password ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"password",required:!0,minLength:6,value:E.ownerPassword,onChange:R=>I($=>({...$,ownerPassword:R.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Enter password for login"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Minimum 6 characters. Owner can change this later."})]})]})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-3 pt-4",children:[n.jsx("button",{type:"button",onClick:()=>l(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800 text-sm",children:"Cancel"}),n.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 text-sm",children:"Create Restaurant & Owner Account"})]})]})]})}),c&&m&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl p-4 sm:p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4 sm:mb-6",children:[n.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Edit Restaurant & Owner Account"}),n.jsx("button",{onClick:V,className:"text-gray-400 hover:text-gray-600",children:n.jsx(mt,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),n.jsxs("form",{onSubmit:A,className:"space-y-3 sm:space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Restaurant Name"}),n.jsx("input",{type:"text",required:!0,value:E.name,onChange:R=>I($=>({...$,name:R.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Enter restaurant name"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Restaurant Type"}),n.jsxs("select",{value:E.type,onChange:R=>I($=>({...$,type:R.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",children:[n.jsx("option",{value:"restaurant",children:"Restaurant"}),n.jsx("option",{value:"hotel",children:"Hotel"}),n.jsx("option",{value:"resort",children:"Resort"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Restaurant Address"}),n.jsx("textarea",{required:!0,value:E.address,onChange:R=>I($=>({...$,address:R.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",rows:3,placeholder:"Enter complete restaurant address"})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Food Serving Capacity"}),n.jsx("input",{type:"number",required:!0,value:E.capacity,onChange:R=>I($=>({...$,capacity:R.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Number of people"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Crowd Capacity"}),n.jsx("input",{type:"number",required:!0,value:E.crowdCapacity,onChange:R=>I($=>({...$,crowdCapacity:R.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Maximum crowd capacity"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Restaurant Images (comma separated URLs)"}),n.jsx("input",{type:"text",value:E.images,onChange:R=>I($=>({...$,images:R.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"https://image1.jpg, https://image2.jpg"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Average Price per Person ()"}),n.jsx("input",{type:"number",step:"0.01",required:!0,value:E.price,onChange:R=>I($=>({...$,price:R.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Average cost per person"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Operating Hours"}),n.jsx("input",{type:"text",value:E.timings,onChange:R=>I($=>({...$,timings:R.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"e.g., 9:00 AM - 11:00 PM"})]}),n.jsxs("div",{className:"border-t pt-4 mt-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Restaurant Owner Account"}),n.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Update the login credentials for the restaurant owner."}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Owner Username"}),n.jsx("input",{type:"text",required:!0,value:E.ownerUsername,onChange:R=>I($=>({...$,ownerUsername:R.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Username for login"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This will be the login username for the restaurant owner"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Owner Password"}),n.jsx("input",{type:"password",required:!0,value:E.ownerPassword,onChange:R=>I($=>({...$,ownerPassword:R.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Password for login"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Minimum 6 characters. Owner can change this later."})]})]})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-3 pt-4",children:[n.jsx("button",{type:"button",onClick:V,className:"px-4 py-2 text-gray-600 hover:text-gray-800 text-sm",children:"Cancel"}),n.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 text-sm",children:"Update Restaurant & Owner Account"})]})]})]})}),h&&_&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl p-4 sm:p-6 w-full max-w-md",children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx("div",{className:"p-2 sm:p-3 bg-red-100 rounded-full mr-3 sm:mr-4",children:n.jsx(KE,{className:"h-5 w-5 sm:h-6 sm:w-6 text-red-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Delete Place"}),n.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"This action cannot be undone"})]})]}),n.jsxs("div",{className:"mb-4 sm:mb-6",children:[n.jsxs("p",{className:"text-sm sm:text-base text-gray-700",children:["Are you sure you want to delete ",n.jsx("strong",{children:_.name}),"?"]}),n.jsx("p",{className:"text-xs sm:text-sm text-red-600 mt-2",children:"This will also delete all associated menu items, orders, and bookings."})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-3",children:[n.jsx("button",{onClick:O,className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 text-sm",children:"Cancel"}),n.jsx("button",{onClick:k,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 text-sm",children:"Delete Place"})]})]})}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border",children:[n.jsx("div",{className:"p-4 sm:p-6 border-b",children:n.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:"Partner Restaurants"})}),n.jsx("div",{className:"p-4 sm:p-6",children:n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-6",children:t.map(R=>n.jsxs("div",{className:"border rounded-lg p-3 sm:p-4",children:[R.images[0]&&n.jsx("img",{src:R.images[0],alt:R.name,className:"w-full h-24 sm:h-32 object-cover rounded-lg mb-2 sm:mb-3"}),n.jsx("h3",{className:"font-semibold text-gray-900 text-sm sm:text-base mb-1",children:R.name}),n.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-1 sm:mb-2",children:R.type}),n.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-1 sm:mb-2 line-clamp-2",children:R.address}),n.jsxs("p",{className:"text-xs sm:text-sm font-medium text-green-600 mb-2 sm:mb-3",children:["",R.price,"/person"]}),n.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-100",children:[n.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center mb-3",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Today"}),n.jsxs("p",{className:"text-sm font-semibold text-green-600",children:["",D(R.id,"today").total.toFixed(2)]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Month"}),n.jsxs("p",{className:"text-sm font-semibold text-blue-600",children:["",D(R.id,"month").total.toFixed(2)]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Year"}),n.jsxs("p",{className:"text-sm font-semibold text-purple-600",children:["",D(R.id,"year").total.toFixed(2)]})]})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:`px-1.5 py-0.5 sm:px-2 sm:py-1 rounded-full text-xs ${R.isOpen?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:R.isOpen?"Open":"Closed"}),n.jsxs("div",{className:"flex space-x-1 sm:space-x-2",children:[n.jsx("button",{onClick:()=>B(R),className:"p-1 text-green-600 hover:text-green-800",title:"View revenue details",children:n.jsx(eT,{className:"h-3 w-3 sm:h-4 sm:w-4"})}),n.jsx("button",{onClick:()=>C(R),className:"p-1 text-blue-600 hover:text-blue-800",title:"Edit restaurant",children:n.jsx(ZE,{className:"h-3 w-3 sm:h-4 sm:w-4"})}),n.jsx("button",{onClick:()=>j(R),className:"p-1 text-red-600 hover:text-red-800",title:"Delete restaurant",children:n.jsx(fo,{className:"h-3 w-3 sm:h-4 sm:w-4"})})]})]})]})]},R.id))})})]}),v&&y&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl p-4 sm:p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg sm:text-xl font-bold text-gray-900",children:["Revenue Details - ",y.name]}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Comprehensive revenue breakdown and analytics"})]}),n.jsx("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:n.jsx(mt,{className:"h-5 w-5"})})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-6",children:[n.jsx("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-sm font-medium text-green-700 mb-1",children:"Today's Revenue"}),n.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["",D(y.id,"today").total.toFixed(2)]}),n.jsxs("p",{className:"text-xs text-green-600 mt-1",children:[D(y.id,"today").orderCount+D(y.id,"today").bookingCount," transactions"]})]})}),n.jsx("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-sm font-medium text-blue-700 mb-1",children:"Monthly Revenue"}),n.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:["",D(y.id,"month").total.toFixed(2)]}),n.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:[D(y.id,"month").orderCount+D(y.id,"month").bookingCount," transactions"]})]})}),n.jsx("div",{className:"bg-purple-50 p-4 rounded-lg border border-purple-200",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-sm font-medium text-purple-700 mb-1",children:"Annual Revenue"}),n.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:["",D(y.id,"year").total.toFixed(2)]}),n.jsxs("p",{className:"text-xs text-purple-600 mt-1",children:[D(y.id,"year").orderCount+D(y.id,"year").bookingCount," transactions"]})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[n.jsxs("h4",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[n.jsx(Jn,{className:"h-5 w-5 text-blue-600 mr-2"}),"Orders Revenue"]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Today:"}),n.jsxs("span",{className:"font-semibold text-green-600",children:["",D(y.id,"today").orders.toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"This Month:"}),n.jsxs("span",{className:"font-semibold text-blue-600",children:["",D(y.id,"month").orders.toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"This Year:"}),n.jsxs("span",{className:"font-semibold text-purple-600",children:["",D(y.id,"year").orders.toFixed(2)]})]}),n.jsx("div",{className:"pt-2 border-t border-gray-200",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Total Orders:"}),n.jsx("span",{className:"font-semibold text-gray-900",children:D(y.id,"year").orderCount})]})})]})]}),n.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[n.jsxs("h4",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[n.jsx(lt,{className:"h-5 w-5 text-purple-600 mr-2"}),"Bookings Revenue"]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Today:"}),n.jsxs("span",{className:"font-semibold text-green-600",children:["",D(y.id,"today").bookings.toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"This Month:"}),n.jsxs("span",{className:"font-semibold text-blue-600",children:["",D(y.id,"month").bookings.toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"This Year:"}),n.jsxs("span",{className:"font-semibold text-purple-600",children:["",D(y.id,"year").bookings.toFixed(2)]})]}),n.jsx("div",{className:"pt-2 border-t border-gray-200",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Total Bookings:"}),n.jsx("span",{className:"font-semibold text-gray-900",children:D(y.id,"year").bookingCount})]})})]})]})]}),n.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[n.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Restaurant Information"}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"text-gray-600",children:["Type: ",n.jsx("span",{className:"font-medium text-gray-900",children:y.type})]}),n.jsxs("p",{className:"text-gray-600",children:["Status: ",n.jsx("span",{className:`font-medium ${y.isOpen?"text-green-600":"text-red-600"}`,children:y.isOpen?"Open":"Closed"})]}),n.jsxs("p",{className:"text-gray-600",children:["Food Capacity: ",n.jsxs("span",{className:"font-medium text-gray-900",children:[y.capacity," people"]})]})]}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-gray-600",children:["Crowd Capacity: ",n.jsxs("span",{className:"font-medium text-gray-900",children:[y.crowdCapacity," people"]})]}),n.jsxs("p",{className:"text-gray-600",children:["Avg Price: ",n.jsxs("span",{className:"font-medium text-gray-900",children:["",y.price,"/person"]})]}),n.jsxs("p",{className:"text-gray-600",children:["Timings: ",n.jsx("span",{className:"font-medium text-gray-900",children:y.timings})]})]})]})]}),n.jsx("div",{className:"flex justify-end mt-6 pt-4 border-t border-gray-200",children:n.jsx("button",{onClick:()=>x(!1),className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Close"})})]})})]})})},uf=t=>{const e=new Date,s=new Date(t);if(s.toDateString()===e.toDateString())return"Today";const r=new Date(e);return r.setDate(r.getDate()-1),s.toDateString()===r.toDateString()?"Yesterday":s.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})},df=t=>{const e=new Date,s=new Date(t);if(s.toDateString()===e.toDateString())return"Today";const r=new Date(e);return r.setDate(r.getDate()-1),s.toDateString()===r.toDateString()?"Yesterday":s.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})},yu=t=>t.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}),B1=()=>{const{user:t,changeRestaurantOwnerPassword:e}=Vt(),{restaurants:s,menuItems:r,orders:i,bookings:a,addMenuItem:o,updateMenuItem:l,updateOrderStatus:c,updateBookingStatus:d,updateRestaurantStatus:h,updateMenuItemAvailability:f,deleteMenuItem:m,submitRestaurantRegistration:p}=Us(),[_,N]=T.useState(!1),[y,b]=T.useState(!1),[v,x]=T.useState(!1),[E,I]=T.useState(null),[L,C]=T.useState(null),[j,k]=T.useState("orders"),[O,A]=T.useState(!1),[V,D]=T.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[U,B]=T.useState({current:!1,new:!1,confirm:!1}),[R,$]=T.useState(new Set),[H,W]=T.useState(new Set),[G,re]=T.useState({restaurantName:"",restaurantType:"",foodServingCapacity:0,crowdCapacity:0,averagePricePerPerson:0,operatingHours:"",ownerEmail:"",ownerPhone:"",restaurantAddress:"",restaurantImages:[]}),[ie,pe]=T.useState(!1),[ae,_e]=T.useState({category:"veg",name:"",itemCategory:"",quantity:"",price:"",image:""}),Me=s.find(P=>P.id===(t==null?void 0:t.restaurantId)),qe=r.filter(P=>P.restaurantId===(t==null?void 0:t.restaurantId)),Ee=i.filter(P=>P.restaurantId===(t==null?void 0:t.restaurantId)),Oe=a.filter(P=>P.restaurantId===(t==null?void 0:t.restaurantId)),Es=P=>{if(P.preventDefault(),!ae.name||!ae.itemCategory||!ae.quantity||!ae.price){M.error("Please fill in all required fields");return}if(!(t!=null&&t.restaurantId))return;const z={restaurantId:t.restaurantId,category:ae.category,name:ae.name,itemCategory:ae.itemCategory,quantity:ae.quantity,price:parseFloat(ae.price),image:ae.image||"https://images.pexels.com/photos/1640777/pexels-photo-1640777.jpeg",available:!0};o(z),N(!1),_e({category:"veg",name:"",itemCategory:"",quantity:"",price:"",image:""})},Cr=P=>{I(P),_e({category:P.category,name:P.name,itemCategory:P.itemCategory,quantity:P.quantity,price:P.price.toString(),image:P.image}),b(!0)},cn=P=>{C(P),x(!0)},Sr=()=>{L&&(m(L.id),x(!1),C(null),M.success("Menu item deleted successfully!"))},Z=()=>{x(!1),C(null)},oe=P=>{if(P.preventDefault(),!E)return;const z={...E,category:ae.category,name:ae.name,itemCategory:ae.itemCategory,quantity:ae.quantity,price:parseFloat(ae.price),image:ae.image||E.image};l(z),b(!1),I(null),_e({category:"veg",name:"",itemCategory:"",quantity:"",price:"",image:""}),M.success("Menu item updated successfully!")},X=()=>{b(!1),I(null),_e({category:"veg",name:"",itemCategory:"",quantity:"",price:"",image:""})},F=(P,z)=>{$(Q=>new Set(Q).add(P)),c(P,z).then(()=>{W(Q=>new Set(Q).add(P)),M.success(`Order status updated to ${z}!`),setTimeout(()=>{W(Q=>{const ee=new Set(Q);return ee.delete(P),ee})},3e3)}).catch(Q=>{console.error("Error updating order status:",Q),M.error("Failed to update order status")}).finally(()=>{$(Q=>{const ee=new Set(Q);return ee.delete(P),ee})})},ne=(P,z)=>{$(Q=>new Set(Q).add(P)),d(P,z).then(()=>{W(Q=>new Set(Q).add(P)),M.success(`Booking status updated to ${z}!`),setTimeout(()=>{W(Q=>{const ee=new Set(Q);return ee.delete(P),ee})},3e3)}).catch(Q=>{console.error("Error updating booking status:",Q),M.error("Failed to update booking status")}).finally(()=>{$(Q=>{const ee=new Set(Q);return ee.delete(P),ee})})},xe=()=>{Me&&h(Me.id,!Me.isOpen).catch(P=>{console.error("Error updating restaurant status:",P)})},bt=["pastry","ice cream","tiffin","biryani","fried rice","curry","appetizer","main course","dessert","beverage","pizza","burger","sandwich"],Ts=async P=>{if(P.preventDefault(),V.newPassword!==V.confirmPassword){M.error("New passwords do not match");return}if(V.newPassword.length<6){M.error("New password must be at least 6 characters long");return}try{await e(V.newPassword),A(!1),D({currentPassword:"",newPassword:"",confirmPassword:""}),B({current:!1,new:!1,confirm:!1})}catch(z){console.error("Error changing password:",z)}},Pr=async P=>{if(P.preventDefault(),!G.restaurantName||!G.restaurantType||!G.restaurantAddress||!G.foodServingCapacity||!G.crowdCapacity||!G.averagePricePerPerson||!G.ownerEmail||!G.ownerPhone){M.error("Please fill in all required fields");return}pe(!0);try{await p({restaurantName:G.restaurantName,restaurantType:G.restaurantType,restaurantAddress:G.restaurantAddress,foodServingCapacity:G.foodServingCapacity,crowdCapacity:G.crowdCapacity,restaurantImages:G.restaurantImages,averagePricePerPerson:G.averagePricePerPerson,operatingHours:G.operatingHours,ownerEmail:G.ownerEmail,ownerPhone:G.ownerPhone});const z=G.restaurantImages&&G.restaurantImages.length>0?G.restaurantImages.join(", "):"N/A",Q=`
        <p>Hello Admin,</p>
        <p>A new restaurant registration request has been submitted. Please verify the details and respond within 24-48 hours.</p>
        <h3>Restaurant Details</h3>
        <ul>
          <li><strong>Name:</strong> ${G.restaurantName}</li>
          <li><strong>Type:</strong> ${G.restaurantType}</li>
          <li><strong>Address:</strong> ${G.restaurantAddress}</li>
          <li><strong>Food Serving Capacity:</strong> ${G.foodServingCapacity}</li>
          <li><strong>Crowd Capacity:</strong> ${G.crowdCapacity}</li>
          <li><strong>Avg Price/Person:</strong> ${G.averagePricePerPerson}</li>
          <li><strong>Operating Hours:</strong> ${G.operatingHours||"N/A"}</li>
          <li><strong>Images:</strong> ${z}</li>
        </ul>
        <h3>Owner Contact</h3>
        <ul>
          <li><strong>Email:</strong> ${G.ownerEmail}</li>
          <li><strong>Phone:</strong> ${G.ownerPhone}</li>
        </ul>
        <h3>Action Required</h3>
        <ol>
          <li>Verify the restaurant and owner's details</li>
          <li>Create owner credentials (username & password)</li>
          <li>Send credentials to owner email above</li>
        </ol>
        <p>Thank you.</p>
      `;try{const ee=await fetch("/api/send-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({to:"tablooofficial1@gmail.com",subject:"New Restaurant Registration Request",html:Q})}),he=await ee.json();if(!ee.ok||!he.ok)throw new Error((he==null?void 0:he.error)||"Email failed");M.success("Registration submitted and email notification sent to admin.")}catch(ee){console.error("Email API failed, falling back to Gmail compose:",ee);const he=encodeURIComponent("New Restaurant Registration Request"),ve=encodeURIComponent(`Hello Admin,

A new restaurant registration request has been submitted.

Restaurant: ${G.restaurantName}
Type: ${G.restaurantType}
Address: ${G.restaurantAddress}
Food Capacity: ${G.foodServingCapacity}
Crowd Capacity: ${G.crowdCapacity}
Avg Price/Person: ${G.averagePricePerPerson}
Operating Hours: ${G.operatingHours||"N/A"}
Images: ${z}

Owner Email: ${G.ownerEmail}
Owner Phone: ${G.ownerPhone}

Please verify and respond with credentials.`),je=`https://mail.google.com/mail/?view=cm&to=tablooofficial1@gmail.com&su=${he}&body=${ve}`;window.open(je,"_blank"),M.success("Registration submitted. Opened email draft to notify admin.")}re({restaurantName:"",restaurantType:"",foodServingCapacity:0,crowdCapacity:0,averagePricePerPerson:0,operatingHours:"",ownerEmail:"",ownerPhone:"",restaurantAddress:"",restaurantImages:[]})}catch(z){console.error("Error submitting registration:",z)}finally{pe(!1)}},Bs=P=>{B(z=>({...z,[P]:!z[P]}))};return t?n.jsx("div",{className:"min-h-screen bg-gray-50",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8",children:[n.jsx("div",{className:"mb-6 sm:mb-8",children:n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:Me.name}),n.jsx("p",{className:"text-gray-600 mt-2 text-sm sm:text-base",children:"Restaurant Owner Dashboard"})]}),n.jsxs("div",{className:"text-right mt-2 sm:mt-0",children:[n.jsxs("p",{className:"text-xs text-gray-500",children:["Last updated: ",new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0})]}),n.jsx("p",{className:"text-xs text-gray-400",children:"Data refreshes automatically"})]})]})}),n.jsx("div",{className:"bg-white p-4 sm:p-6 rounded-lg sm:rounded-xl shadow-sm border mb-4 sm:mb-6",children:n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[n.jsxs("div",{className:"mb-3 sm:mb-0",children:[n.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Restaurant Status"}),n.jsx("p",{className:"text-gray-600 text-sm",children:"Control your restaurant's availability"})]}),n.jsxs("button",{onClick:xe,className:`flex items-center justify-center space-x-2 px-3 py-2 rounded-lg transition-colors text-sm ${Me.isOpen?"bg-green-100 text-green-800 hover:bg-green-200":"bg-red-100 text-red-800 hover:bg-red-200"}`,children:[Me.isOpen?n.jsx(U9,{className:"h-4 w-4 sm:h-5 sm:w-5"}):n.jsx(F9,{className:"h-4 w-4 sm:h-5 sm:w-5"}),n.jsx("span",{children:Me.isOpen?"Open":"Closed"})]})]})}),n.jsx("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 border border-green-200 rounded-lg sm:rounded-xl shadow-sm mb-4 sm:mb-6",children:n.jsxs("div",{className:"p-4 sm:p-6",children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx("div",{className:"p-2 sm:p-3 bg-green-100 rounded-lg",children:n.jsx(Jn,{className:"h-5 w-5 sm:h-6 sm:w-6 text-green-600"})}),n.jsxs("div",{className:"ml-3",children:[n.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900",children:"Today's Revenue Overview"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Revenue from orders and bookings placed today"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsx("div",{className:"bg-white p-4 rounded-lg border border-green-200 shadow-sm",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Today's Total Revenue"}),n.jsxs("p",{className:"text-2xl sm:text-3xl font-bold text-green-600",children:["",(()=>{const P=new Date,z=Ee.filter(ve=>ve.createdAt&&new Date(ve.createdAt).toDateString()===P.toDateString()),Q=Oe.filter(ve=>ve.createdAt&&new Date(ve.createdAt).toDateString()===P.toDateString()),ee=z.reduce((ve,je)=>ve+je.total,0),he=Q.reduce((ve,je)=>ve+je.amount,0);return(ee+he).toFixed(2)})()]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:(()=>{const P=new Date,z=Ee.filter(ee=>ee.createdAt&&new Date(ee.createdAt).toDateString()===P.toDateString()),Q=Oe.filter(ee=>ee.createdAt&&new Date(ee.createdAt).toDateString()===P.toDateString());return`${z.length+Q.length} transactions`})()}),(()=>{const P=new Date,z=new Date(P);z.setDate(z.getDate()-1);const Q=Ee.filter(rt=>rt.createdAt&&new Date(rt.createdAt).toDateString()===P.toDateString()),ee=Oe.filter(rt=>rt.createdAt&&new Date(rt.createdAt).toDateString()===P.toDateString()),he=Q.reduce((rt,$s)=>rt+$s.total,0)+ee.reduce((rt,$s)=>rt+$s.amount,0),ve=Ee.filter(rt=>rt.createdAt&&new Date(rt.createdAt).toDateString()===z.toDateString()),je=Oe.filter(rt=>rt.createdAt&&new Date(rt.createdAt).toDateString()===z.toDateString()),Le=ve.reduce((rt,$s)=>rt+$s.total,0)+je.reduce((rt,$s)=>rt+$s.amount,0);if(Le===0)return null;const Cs=(he-Le)/Le*100,yo=Cs>=0;return n.jsxs("div",{className:`mt-2 text-xs font-medium ${yo?"text-green-600":"text-red-600"}`,children:[yo?"":""," ",Math.abs(Cs).toFixed(1),"% vs yesterday"]})})()]})}),n.jsx("div",{className:"bg-white p-4 rounded-lg border border-blue-200 shadow-sm",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Orders Revenue"}),n.jsxs("p",{className:"text-2xl sm:text-3xl font-bold text-blue-600",children:["",(()=>{const P=new Date;return Ee.filter(Q=>Q.createdAt&&new Date(Q.createdAt).toDateString()===P.toDateString()).reduce((Q,ee)=>Q+ee.total,0).toFixed(2)})()]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:(()=>{const P=new Date;return`${Ee.filter(Q=>Q.createdAt&&new Date(Q.createdAt).toDateString()===P.toDateString()).length} orders`})()})]})}),n.jsx("div",{className:"bg-white p-4 rounded-lg border border-purple-200 shadow-sm",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Bookings Revenue"}),n.jsxs("p",{className:"text-2xl sm:text-3xl font-bold text-purple-600",children:["",(()=>{const P=new Date;return Oe.filter(Q=>Q.createdAt&&new Date(Q.createdAt).toDateString()===P.toDateString()).reduce((Q,ee)=>Q+ee.amount,0).toFixed(2)})()]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:(()=>{const P=new Date;return`${Oe.filter(Q=>Q.createdAt&&new Date(Q.createdAt).toDateString()===P.toDateString()).length} bookings`})()})]})}),n.jsx("div",{className:"bg-white p-4 rounded-lg border border-orange-200 shadow-sm",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Avg Order Value"}),n.jsxs("p",{className:"text-2xl sm:text-3xl font-bold text-orange-600",children:["",(()=>{const P=new Date,z=Ee.filter(ee=>ee.createdAt&&new Date(ee.createdAt).toDateString()===P.toDateString());return z.length===0?"0.00":(z.reduce((ee,he)=>ee+he.total,0)/z.length).toFixed(2)})()]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:(()=>{const P=new Date;return Ee.filter(Q=>Q.createdAt&&new Date(Q.createdAt).toDateString()===P.toDateString()).length>0?"Per order":"No orders today"})()})]})})]}),n.jsxs("div",{className:"mt-6 pt-6 border-t border-green-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Revenue Breakdown"}),n.jsx("span",{className:"text-xs text-gray-500",children:new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),n.jsx("div",{className:"space-y-2",children:(()=>{const P=new Date,z=Ee.filter(je=>je.createdAt&&new Date(je.createdAt).toDateString()===P.toDateString()),Q=Oe.filter(je=>je.createdAt&&new Date(je.createdAt).toDateString()===P.toDateString()),ee=z.reduce((je,Le)=>je+Le.total,0),he=Q.reduce((je,Le)=>je+Le.amount,0),ve=ee+he;return ve===0?n.jsxs("div",{className:"text-center py-4 text-gray-500",children:[n.jsx(Jn,{className:"h-8 w-8 mx-auto mb-2 text-gray-300"}),n.jsx("p",{className:"text-sm",children:"No revenue generated today"})]}):n.jsxs(n.Fragment,{children:[ee>0&&n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),n.jsx("span",{className:"text-sm text-gray-600",children:"Orders"})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["",ee.toFixed(2)]}),n.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(",(ee/ve*100).toFixed(1),"%)"]})]})]}),he>0&&n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full"}),n.jsx("span",{className:"text-sm text-gray-600",children:"Bookings"})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["",he.toFixed(2)]}),n.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(",(he/ve*100).toFixed(1),"%)"]})]})]}),n.jsx("div",{className:"pt-2 border-t border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Total"}),n.jsxs("span",{className:"text-lg font-bold text-green-600",children:["",ve.toFixed(2)]})]})})]})})()})]})]})}),n.jsx("div",{className:"bg-white border border-gray-200 rounded-lg sm:rounded-xl shadow-sm mb-4 sm:mb-6",children:n.jsxs("div",{className:"p-4 sm:p-6",children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx("div",{className:"p-2 sm:p-3 bg-blue-100 rounded-lg",children:n.jsx(lt,{className:"h-5 w-5 sm:h-6 sm:w-6 text-blue-600"})}),n.jsxs("div",{className:"ml-3",children:[n.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900",children:"Weekly Revenue Comparison"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Compare this week's revenue with previous weeks"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[n.jsx("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-sm font-medium text-blue-700 mb-1",children:"This Week"}),n.jsxs("p",{className:"text-xl sm:text-2xl font-bold text-blue-800",children:["",(()=>{const P=new Date,z=new Date(P);z.setDate(P.getDate()-P.getDay()),z.setHours(0,0,0,0);const Q=Ee.filter(je=>je.createdAt&&new Date(je.createdAt)>=z),ee=Oe.filter(je=>je.createdAt&&new Date(je.createdAt)>=z),he=Q.reduce((je,Le)=>je+Le.total,0),ve=ee.reduce((je,Le)=>je+Le.amount,0);return(he+ve).toFixed(2)})()]}),n.jsx("p",{className:"text-xs text-blue-600 mt-1",children:(()=>{const P=new Date,z=new Date(P);z.setDate(P.getDate()-P.getDay()),z.setHours(0,0,0,0);const Q=Ee.filter(he=>he.createdAt&&new Date(he.createdAt)>=z),ee=Oe.filter(he=>he.createdAt&&new Date(he.createdAt)>=z);return`${Q.length+ee.length} transactions`})()})]})}),n.jsx("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Last Week"}),n.jsxs("p",{className:"text-xl sm:text-2xl font-bold text-gray-800",children:["",(()=>{const P=new Date,z=new Date(P);z.setDate(P.getDate()-P.getDay()-7),z.setHours(0,0,0,0);const Q=new Date(z);Q.setDate(z.getDate()+6),Q.setHours(23,59,59,999);const ee=Ee.filter(Le=>Le.createdAt&&new Date(Le.createdAt)>=z&&new Date(Le.createdAt)<=Q),he=Oe.filter(Le=>Le.createdAt&&new Date(Le.createdAt)>=z&&new Date(Le.createdAt)<=Q),ve=ee.reduce((Le,Cs)=>Le+Cs.total,0),je=he.reduce((Le,Cs)=>Le+Cs.amount,0);return(ve+je).toFixed(2)})()]}),n.jsx("p",{className:"text-xs text-gray-600 mt-1",children:(()=>{const P=new Date,z=new Date(P);z.setDate(P.getDate()-P.getDay()-7),z.setHours(0,0,0,0);const Q=new Date(z);Q.setDate(z.getDate()+6),Q.setHours(23,59,59,999);const ee=Ee.filter(ve=>ve.createdAt&&new Date(ve.createdAt)>=z&&new Date(ve.createdAt)<=Q),he=Oe.filter(ve=>ve.createdAt&&new Date(ve.createdAt)>=z&&new Date(ve.createdAt)<=Q);return`${ee.length+he.length} transactions`})()})]})}),n.jsx("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-sm font-medium text-green-700 mb-1",children:"Month to Date"}),n.jsxs("p",{className:"text-xl sm:text-2xl font-bold text-green-800",children:["",(()=>{const P=new Date,z=new Date(P.getFullYear(),P.getMonth(),1),Q=Ee.filter(je=>je.createdAt&&new Date(je.createdAt)>=z),ee=Oe.filter(je=>je.createdAt&&new Date(je.createdAt)>=z),he=Q.reduce((je,Le)=>je+Le.total,0),ve=ee.reduce((je,Le)=>je+Le.amount,0);return(he+ve).toFixed(2)})()]}),n.jsx("p",{className:"text-xs text-green-600 mt-1",children:(()=>{const P=new Date,z=new Date(P.getFullYear(),P.getMonth(),1),Q=Ee.filter(he=>he.createdAt&&new Date(he.createdAt)>=z),ee=Oe.filter(he=>he.createdAt&&new Date(he.createdAt)>=z);return`${Q.length+ee.length} transactions`})()})]})})]})]})}),n.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-6 mb-6 sm:mb-8",children:[n.jsx("div",{className:"bg-white p-3 sm:p-6 rounded-lg sm:rounded-xl shadow-sm border",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 sm:p-3 bg-blue-100 rounded-lg",children:n.jsx(xs,{className:"h-4 w-4 sm:h-6 sm:w-6 text-blue-600"})}),n.jsxs("div",{className:"ml-2 sm:ml-4",children:[n.jsx("h3",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Total Orders"}),n.jsx("p",{className:"text-lg sm:text-2xl font-bold text-gray-900",children:Ee.length})]})]})}),n.jsx("div",{className:"bg-white p-3 sm:p-6 rounded-lg sm:rounded-xl shadow-sm border",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 sm:p-3 bg-purple-100 rounded-lg",children:n.jsx(lt,{className:"h-4 w-4 sm:h-6 sm:w-6 text-purple-600"})}),n.jsxs("div",{className:"ml-2 sm:ml-4",children:[n.jsx("h3",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Total Bookings"}),n.jsx("p",{className:"text-lg sm:text-2xl font-bold text-gray-900",children:Oe.length})]})]})}),n.jsx("div",{className:"bg-white p-3 sm:p-6 rounded-lg sm:rounded-xl shadow-sm border",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 sm:p-3 bg-yellow-100 rounded-lg",children:n.jsx(At,{className:"h-4 w-4 sm:h-6 sm:w-6 text-yellow-600"})}),n.jsxs("div",{className:"ml-2 sm:ml-4",children:[n.jsx("h3",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Pending Orders"}),n.jsx("p",{className:"text-lg sm:text-2xl font-bold text-gray-900",children:Ee.filter(P=>P.status==="pending").length})]})]})}),n.jsx("div",{className:"bg-white p-3 sm:p-6 rounded-lg sm:rounded-xl shadow-sm border col-span-2 lg:col-span-1",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 sm:p-3 bg-green-100 rounded-lg",children:n.jsx(Zn,{className:"h-4 w-4 sm:h-6 sm:w-6 text-green-600"})}),n.jsxs("div",{className:"ml-2 sm:ml-4",children:[n.jsx("h3",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Menu Items"}),n.jsx("p",{className:"text-lg sm:text-2xl font-bold text-gray-900",children:qe.length})]})]})})]}),n.jsxs("div",{className:"bg-white rounded-lg sm:rounded-xl shadow-sm border mb-4 sm:mb-6",children:[n.jsx("div",{className:"border-b",children:n.jsx("nav",{className:"flex overflow-x-auto px-4 sm:px-6",children:[{id:"orders",label:"Orders",count:Ee.length},{id:"bookings",label:"Bookings",count:Oe.length},{id:"menu",label:"Menu",count:qe.length},{id:"settings",label:"Settings",count:null}].map(P=>n.jsxs("button",{onClick:()=>k(P.id),className:`py-3 sm:py-4 px-2 sm:px-4 border-b-2 font-medium text-xs sm:text-sm transition-colors whitespace-nowrap ${j===P.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[P.label,P.count!==null&&n.jsx("span",{className:"ml-1 sm:ml-2 bg-gray-100 text-gray-600 py-0.5 px-1.5 sm:px-2 rounded-full text-xs",children:P.count})]},P.id))})}),n.jsxs("div",{className:"p-4 sm:p-6",children:[j==="orders"&&n.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center space-y-2 sm:space-y-0",children:[n.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Recent Orders"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{className:"px-2 py-1 rounded text-xs font-medium transition-colors bg-gray-100 text-gray-700 hover:bg-gray-200",onClick:()=>{console.log("Toggle today's filter")},children:"Today Only"}),n.jsx("span",{className:"text-xs text-gray-600",children:"Sort by:"}),n.jsxs("select",{className:"px-2 py-1 border border-gray-300 rounded text-xs focus:ring-2 focus:ring-blue-500",onChange:P=>{console.log("Sort orders by:",P.target.value)},children:[n.jsx("option",{value:"newest",children:"Newest First"}),n.jsx("option",{value:"oldest",children:"Oldest First"}),n.jsx("option",{value:"status",children:"By Status"})]})]})]}),n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4",children:n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 text-center",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-lg font-bold text-blue-900",children:Ee.filter(P=>P.createdAt&&new Date(P.createdAt).toDateString()===new Date().toDateString()).length}),n.jsx("p",{className:"text-xs text-blue-700",children:"Today's Orders"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-lg font-bold text-blue-900",children:Ee.filter(P=>P.status==="pending").length}),n.jsx("p",{className:"text-xs text-blue-700",children:"Pending Orders"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-lg font-bold text-blue-900",children:Ee.filter(P=>P.status==="completed").length}),n.jsx("p",{className:"text-xs text-blue-700",children:"Completed Orders"})]}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-lg font-bold text-blue-900",children:["",Ee.filter(P=>P.createdAt&&new Date(P.createdAt).toDateString()===new Date().toDateString()).reduce((P,z)=>P+z.total,0).toFixed(2)]}),n.jsx("p",{className:"text-xs text-blue-700",children:"Today's Revenue"})]})]})}),Ee.length===0?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(xs,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600 text-sm",children:"No orders found yet."})]}):n.jsx("div",{className:"space-y-3",children:Ee.map(P=>n.jsxs("div",{className:"border rounded-lg p-3 sm:p-4",children:[n.jsxs("div",{className:"flex justify-between items-start mb-2",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[n.jsxs("h4",{className:"font-medium text-gray-900 text-sm sm:text-base",children:["Order #",P.id.slice(-6)]}),P.createdAt&&n.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[n.jsx(At,{className:"h-3 w-3 mr-1"}),uf(P.createdAt)]})]}),n.jsxs("p",{className:"text-xs sm:text-sm text-gray-600",children:[P.customerName,"  ",P.customerPhone]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"font-semibold text-gray-900 text-sm sm:text-base",children:["",P.total]}),n.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:P.type})]})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-2 sm:space-y-0",children:[n.jsxs("div",{className:"text-xs sm:text-sm text-gray-500",children:[P.createdAt&&n.jsxs("span",{className:"flex items-center",children:[n.jsx(At,{className:"h-3 w-3 mr-1"}),uf(P.createdAt)," at ",yu(P.createdAt)]}),P.statusUpdatedAt&&P.statusUpdatedAt!==P.createdAt&&n.jsxs("span",{className:"flex items-center ml-2 text-blue-600",children:[n.jsx(At,{className:"h-3 w-3 mr-1"}),"Status updated: ",uf(P.statusUpdatedAt)," at ",yu(P.statusUpdatedAt)]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs("select",{value:P.status,onChange:z=>F(P.id,z.target.value),disabled:R.has(P.id),className:`px-2 py-1 sm:px-3 sm:py-1 border border-gray-300 rounded text-xs sm:text-sm focus:ring-2 focus:ring-blue-500 ${R.has(P.id)?"opacity-50 cursor-not-allowed":""}`,children:[n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"confirmed",children:"Confirmed"}),n.jsx("option",{value:"preparing",children:"Preparing"}),n.jsx("option",{value:"ready",children:"Ready"}),n.jsx("option",{value:"delivered",children:"Delivered"}),n.jsx("option",{value:"completed",children:"Completed"})]}),R.has(P.id)&&n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),n.jsxs("span",{className:`px-1.5 py-0.5 sm:px-2 sm:py-1 rounded-full text-xs flex items-center space-x-1 ${P.status==="completed"?"bg-green-100 text-green-800":P.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"}`,children:[n.jsx("span",{children:P.status}),H.has(P.id)&&n.jsx("span",{className:"text-green-600",children:""})]})]})]})]},P.id))})]}),j==="bookings"&&n.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center space-y-2 sm:space-y-0",children:[n.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Table & Event Bookings"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{className:"px-2 py-1 rounded text-xs font-medium transition-colors bg-gray-100 text-gray-700 hover:bg-gray-200",onClick:()=>{console.log("Toggle today's filter")},children:"Today Only"}),n.jsx("span",{className:"text-xs text-gray-600",children:"Sort by:"}),n.jsxs("select",{className:"px-2 py-1 border border-gray-300 rounded text-xs focus:ring-2 focus:ring-blue-500",onChange:P=>{console.log("Sort bookings by:",P.target.value)},children:[n.jsx("option",{value:"newest",children:"Newest First"}),n.jsx("option",{value:"oldest",children:"Oldest First"}),n.jsx("option",{value:"date",children:"By Date"}),n.jsx("option",{value:"status",children:"By Status"})]})]})]}),n.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-3 mb-4",children:n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 text-center",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-lg font-bold text-purple-900",children:Oe.filter(P=>P.createdAt&&new Date(P.createdAt).toDateString()===new Date().toDateString()).length}),n.jsx("p",{className:"text-xs text-purple-700",children:"Today's Bookings"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-lg font-bold text-purple-900",children:Oe.filter(P=>P.status==="pending").length}),n.jsx("p",{className:"text-xs text-purple-700",children:"Pending Bookings"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-lg font-bold text-purple-900",children:Oe.filter(P=>P.status==="confirmed").length}),n.jsx("p",{className:"text-xs text-purple-700",children:"Confirmed Bookings"})]}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-lg font-bold text-purple-900",children:["",Oe.filter(P=>P.createdAt&&new Date(P.createdAt).toDateString()===new Date().toDateString()).reduce((P,z)=>P+z.amount,0).toFixed(2)]}),n.jsx("p",{className:"text-xs text-purple-700",children:"Today's Revenue"})]})]})}),Oe.length===0?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(lt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600 text-sm",children:"No bookings found yet."})]}):n.jsx("div",{className:"space-y-3",children:Oe.map(P=>n.jsxs("div",{className:"border rounded-lg p-3 sm:p-4",children:[n.jsxs("div",{className:"flex justify-between items-start mb-3",children:[n.jsxs("div",{className:"flex items-start space-x-2 sm:space-x-3 flex-1",children:[n.jsx("div",{className:`p-1.5 sm:p-2 rounded-lg ${P.type==="table"?"bg-blue-100":"bg-purple-100"}`,children:P.type==="table"?n.jsx(lt,{className:`h-4 w-4 sm:h-5 sm:w-5 ${P.type==="table"?"text-blue-600":"text-purple-600"}`}):n.jsx(Hi,{className:"h-4 w-4 sm:h-5 sm:w-5 text-purple-600"})}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[n.jsxs("h4",{className:"font-medium text-gray-900 text-sm sm:text-base flex items-center",children:[P.type==="table"?"Table Booking":"Event Booking"," #",P.id.slice(-6),P.occasion&&n.jsxs("span",{className:"ml-1 sm:ml-2 text-xs sm:text-sm text-gray-500",children:["(",P.occasion,")"]})]}),P.createdAt&&n.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:[n.jsx(At,{className:"h-3 w-3 mr-1"}),df(P.createdAt)]})]}),n.jsxs("div",{className:"text-xs sm:text-sm text-gray-600 space-y-1 mt-1",children:[n.jsxs("p",{className:"flex items-center",children:[n.jsx(lt,{className:"h-3 w-3 mr-1"}),P.date," at ",P.time]}),n.jsxs("p",{className:"flex items-center",children:[n.jsx(Zn,{className:"h-3 w-3 mr-1"}),P.customers," ",P.customers===1?"person":"people"]}),n.jsxs("p",{className:"flex items-center",children:[n.jsx(jr,{className:"h-3 w-3 mr-1"}),P.phone]}),P.customerNames.length>0&&n.jsxs("p",{className:"text-xs text-gray-500",children:["Names: ",P.customerNames.join(", ")]}),P.placeForEvent&&n.jsxs("p",{className:"flex items-center text-xs text-gray-500",children:[n.jsx(Be,{className:"h-3 w-3 mr-1"}),P.placeForEvent]})]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"font-semibold text-gray-900 text-sm sm:text-base",children:["",P.amount.toFixed(2)," paid"]}),n.jsxs("span",{className:`inline-block px-1.5 py-0.5 sm:px-2 sm:py-1 rounded-full text-xs flex items-center space-x-1 ${P.status==="confirmed"?"bg-green-100 text-green-800":P.status==="pending"?"bg-yellow-100 text-yellow-800":P.status==="completed"?"bg-blue-100 text-blue-800":"bg-red-100 text-red-800"}`,children:[n.jsx("span",{children:P.status}),H.has(P.id)&&n.jsx("span",{className:"text-green-600",children:""})]})]})]}),(P.specialRequests||P.description||P.foodOptions)&&n.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:n.jsxs("div",{className:"text-xs sm:text-sm text-gray-600",children:[P.description&&n.jsxs("div",{className:"mb-2",children:[n.jsx("span",{className:"font-medium text-gray-700",children:"Description: "}),P.description]}),P.foodOptions&&n.jsxs("div",{className:"mb-2",children:[n.jsx("span",{className:"font-medium text-gray-700",children:"Food Preferences: "}),P.foodOptions]}),P.specialRequests&&n.jsxs("div",{children:[n.jsx("span",{className:"font-medium text-gray-700",children:"Special Requests: "}),P.specialRequests]})]})}),n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mt-3 pt-3 border-t border-gray-100 space-y-2 sm:space-y-0",children:[n.jsxs("div",{className:"text-xs sm:text-sm text-gray-500",children:[n.jsxs("span",{className:"flex items-center",children:[n.jsx(At,{className:"h-3 w-3 mr-1"}),"Booked on ",df(P.createdAt)," at ",yu(P.createdAt)]}),P.statusUpdatedAt&&P.statusUpdatedAt!==P.createdAt&&n.jsxs("span",{className:"flex items-center ml-2 text-purple-600",children:[n.jsx(At,{className:"h-3 w-3 mr-1"}),"Status updated: ",df(P.statusUpdatedAt)," at ",yu(P.statusUpdatedAt)]}),n.jsxs("span",{className:"ml-4",children:["Payment: ",P.paymentStatus]})]}),n.jsxs("select",{value:P.status,onChange:z=>ne(P.id,z.target.value),disabled:R.has(P.id),className:`px-2 py-1 sm:px-3 sm:py-1 border border-gray-300 rounded text-xs sm:text-sm focus:ring-2 focus:ring-blue-500 ${R.has(P.id)?"opacity-50 cursor-not-allowed":""}`,children:[n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"confirmed",children:"Confirmed"}),n.jsx("option",{value:"completed",children:"Completed"}),n.jsx("option",{value:"cancelled",children:"Cancelled"})]}),R.has(P.id)&&n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-purple-600"})]})]},P.id))})]}),j==="menu"&&n.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center space-y-2 sm:space-y-0",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Menu Items"}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage your restaurant's menu items"})]}),n.jsxs("button",{onClick:()=>N(!0),className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white px-4 sm:px-6 py-2 sm:py-3 rounded-lg hover:from-blue-700 hover:to-blue-800 transition-all flex items-center justify-center space-x-2 text-sm font-medium shadow-lg",children:[n.jsx(ls,{className:"h-4 w-4 sm:h-5 sm:w-5"}),n.jsx("span",{children:"Add Menu Item"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 sm:gap-4 mb-4",children:[n.jsxs("div",{className:"bg-white p-3 rounded-lg border text-center",children:[n.jsx("p",{className:"text-lg font-bold text-gray-900",children:qe.length}),n.jsx("p",{className:"text-xs text-gray-600",children:"Total Items"})]}),n.jsxs("div",{className:"bg-white p-3 rounded-lg border text-center",children:[n.jsx("p",{className:"text-lg font-bold text-green-600",children:qe.filter(P=>P.available).length}),n.jsx("p",{className:"text-xs text-gray-600",children:"Available"})]}),n.jsxs("div",{className:"bg-white p-3 rounded-lg border text-center",children:[n.jsx("p",{className:"text-lg font-bold text-red-600",children:qe.filter(P=>!P.available).length}),n.jsx("p",{className:"text-xs text-gray-600",children:"Unavailable"})]}),n.jsxs("div",{className:"bg-white p-3 rounded-lg border text-center",children:[n.jsx("p",{className:"text-lg font-bold text-blue-600",children:qe.filter(P=>P.category==="veg").length}),n.jsx("p",{className:"text-xs text-gray-600",children:"Vegetarian"})]})]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:qe.map(P=>n.jsxs("div",{className:`border rounded-lg p-3 sm:p-4 transition-all ${P.available?"bg-white":"bg-gray-50"}`,children:[P.image&&n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:P.image,alt:P.name,className:`w-full h-24 sm:h-32 object-cover rounded-lg mb-2 sm:mb-3 transition-all ${P.available?"":"opacity-50 grayscale"}`,onError:z=>{z.currentTarget.src="https://images.pexels.com/photos/1640777/pexels-photo-1640777.jpeg"}}),!P.available&&n.jsx("div",{className:"absolute top-2 right-2 bg-red-500 text-white text-xs px-2 py-1 rounded-full font-medium",children:"Unavailable"})]}),n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:`font-medium text-gray-900 text-sm sm:text-base ${P.available?"":"line-through text-gray-500"}`,children:P.name}),n.jsxs("p",{className:"text-xs sm:text-sm text-gray-600",children:[P.itemCategory,"  ",P.quantity]})]}),n.jsx("span",{className:`w-2 h-2 sm:w-3 sm:h-3 rounded-full flex-shrink-0 ml-1 ${P.category==="veg"?"bg-green-500":"bg-red-500"}`,title:P.category==="veg"?"Vegetarian":"Non-Vegetarian"})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("p",{className:`font-semibold text-gray-900 text-sm sm:text-base ${P.available?"":"text-gray-500"}`,children:["",P.price]}),n.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[n.jsx("button",{onClick:()=>Cr(P),className:"p-1 text-blue-600 hover:text-blue-800 transition-colors",title:"Edit menu item",children:n.jsx(ZE,{className:"h-3 w-3 sm:h-4 sm:w-4"})}),n.jsx("button",{onClick:()=>cn(P),className:"p-1 text-red-600 hover:text-red-800 transition-colors",title:"Delete menu item",children:n.jsx(fo,{className:"h-3 w-3 sm:h-4 sm:w-4"})})]})]}),n.jsx("div",{className:"mt-3 pt-3 border-t",children:n.jsx("button",{onClick:()=>f(P.id,!P.available),className:`w-full flex items-center justify-center space-x-2 px-3 py-2 rounded-lg transition-all text-sm font-medium ${P.available?"bg-green-100 text-green-800 hover:bg-green-200 border border-green-300":"bg-red-100 text-red-800 hover:bg-red-200 border border-red-300"}`,title:P.available?"Click to mark as unavailable":"Click to mark as available",children:P.available?n.jsxs(n.Fragment,{children:[n.jsx(kn,{className:"h-4 w-4"}),n.jsx("span",{children:"Available"})]}):n.jsxs(n.Fragment,{children:[n.jsx(_i,{className:"h-4 w-4"}),n.jsx("span",{children:"Unavailable"})]})})})]},P.id))}),qe.length===0&&n.jsxs("div",{className:"text-center py-8",children:[n.jsx(xs,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No menu items yet"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Start building your menu by adding your first item"}),n.jsxs("button",{onClick:()=>N(!0),className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2 mx-auto",children:[n.jsx(ls,{className:"h-5 w-5"}),n.jsx("span",{children:"Add Your First Menu Item"})]})]})]}),j==="settings"&&n.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[n.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Restaurant Settings"}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:[n.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Operating Hours"}),n.jsx("input",{type:"text",value:Me.timings,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",readOnly:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Restaurant Type"}),n.jsx("input",{type:"text",value:Me.type,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-sm",readOnly:!0})]})]}),n.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Seating Capacity"}),n.jsx("input",{type:"number",value:Me.capacity,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-sm",readOnly:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Average Price"}),n.jsx("input",{type:"text",value:`${Me.price}`,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-sm",readOnly:!0})]})]})]}),n.jsx("div",{className:"border-t pt-6",children:n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"text-base font-semibold text-gray-900",children:"Account Security"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Change your login password"})]}),n.jsxs("button",{onClick:()=>A(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2 text-sm",children:[n.jsx(S9,{className:"h-4 w-4"}),n.jsx("span",{children:"Change Password"})]})]})})]})]})]}),_&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl p-4 sm:p-6 w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900",children:"Add New Menu Item"}),n.jsx("button",{onClick:()=>N(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:n.jsx(mt,{className:"h-5 w-5"})})]}),n.jsxs("form",{onSubmit:Es,className:"space-y-3 sm:space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Food Type ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("select",{value:ae.category,onChange:P=>_e(z=>({...z,category:P.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",children:[n.jsx("option",{value:"veg",children:"Vegetarian"}),n.jsx("option",{value:"non-veg",children:"Non-Vegetarian"})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select food type"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Item Category ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("select",{value:ae.itemCategory,onChange:P=>_e(z=>({...z,itemCategory:P.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",required:!0,children:[n.jsx("option",{value:"",children:"Select category"}),bt.map(P=>n.jsx("option",{value:P,children:P.charAt(0).toUpperCase()+P.slice(1)},P))]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Choose item category"})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Item Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",required:!0,value:ae.name,onChange:P=>_e(z=>({...z,name:P.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Enter item name"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Enter the name of your menu item"})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Quantity/Size ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",required:!0,value:ae.quantity,onChange:P=>_e(z=>({...z,quantity:P.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"e.g., 1 plate, 500ml"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Specify quantity or size"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Price () ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"number",step:"0.01",min:"0.01",required:!0,value:ae.price,onChange:P=>_e(z=>({...z,price:P.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"0.00"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Set item price"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Image URL"}),n.jsx("input",{type:"url",value:ae.image,onChange:P=>_e(z=>({...z,image:P.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"https://example.com/image.jpg"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: Add image URL for better presentation"})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-3 pt-4",children:[n.jsx("button",{type:"button",onClick:()=>N(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800 text-sm border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),n.jsx("button",{type:"submit",className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white px-6 py-2 rounded-lg hover:from-blue-700 hover:to-blue-800 text-sm font-medium transition-all shadow-lg",children:"Add Menu Item"})]})]})]})}),y&&E&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl p-4 sm:p-6 w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900",children:"Edit Menu Item"}),n.jsx("button",{onClick:X,className:"text-gray-400 hover:text-gray-600",children:n.jsx(mt,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),n.jsxs("form",{onSubmit:oe,className:"space-y-3 sm:space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Food Type ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("select",{value:ae.category,onChange:P=>_e(z=>({...z,category:P.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",children:[n.jsx("option",{value:"veg",children:"Vegetarian"}),n.jsx("option",{value:"non-veg",children:"Non-Vegetarian"})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select food type"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Item Category ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("select",{value:ae.itemCategory,onChange:P=>_e(z=>({...z,itemCategory:P.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",required:!0,children:[n.jsx("option",{value:"",children:"Select category"}),bt.map(P=>n.jsx("option",{value:P,children:P.charAt(0).toUpperCase()+P.slice(1)},P))]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Choose item category"})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Item Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",required:!0,value:ae.name,onChange:P=>_e(z=>({...z,name:P.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Enter item name"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Enter the name of your menu item"})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Quantity/Size ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",required:!0,value:ae.quantity,onChange:P=>_e(z=>({...z,quantity:P.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"e.g., 1 plate, 500ml"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Specify quantity or size"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Price () ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"number",step:"0.01",min:"0.01",required:!0,value:ae.price,onChange:P=>_e(z=>({...z,price:P.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Set item price"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Image URL"}),n.jsx("input",{type:"url",value:ae.image,onChange:P=>_e(z=>({...z,image:P.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"https://example.com/image.jpg"})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-3 pt-4",children:[n.jsx("button",{type:"button",onClick:X,className:"px-4 py-2 text-gray-600 hover:text-gray-800 text-sm border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),n.jsx("button",{type:"submit",className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white px-6 py-2 rounded-lg hover:from-blue-700 hover:to-blue-800 text-sm font-medium transition-all shadow-lg",children:"Update Menu Item"})]})]})]})}),v&&L&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl p-4 sm:p-6 w-full max-w-md",children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx("div",{className:"p-2 sm:p-3 bg-red-100 rounded-full mr-3 sm:mr-4",children:n.jsx(KE,{className:"h-5 w-5 sm:h-6 sm:w-6 text-red-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Delete Menu Item"}),n.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"This action cannot be undone"})]})]}),n.jsxs("div",{className:"mb-4 sm:mb-6",children:[n.jsxs("p",{className:"text-sm sm:text-base text-gray-700",children:["Are you sure you want to delete ",n.jsx("strong",{children:L.name}),"?"]}),n.jsx("p",{className:"text-xs sm:text-sm text-red-600 mt-2",children:"This menu item will be permanently removed from your restaurant."})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-3",children:[n.jsx("button",{onClick:Z,className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 text-sm",children:"Cancel"}),n.jsx("button",{onClick:Sr,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 text-sm",children:"Delete Item"})]})]})}),O&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl p-4 sm:p-6 w-full max-w-md",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Change Password"}),n.jsx("button",{onClick:()=>A(!1),className:"text-gray-400 hover:text-gray-600",children:n.jsx(mt,{className:"h-5 w-5"})})]}),n.jsxs("form",{onSubmit:Ts,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Password"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:U.current?"text":"password",required:!0,value:V.currentPassword,onChange:P=>D(z=>({...z,currentPassword:P.target.value})),className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Enter current password"}),n.jsx("button",{type:"button",onClick:()=>Bs("current"),className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",children:U.current?n.jsx(_i,{className:"h-4 w-4"}):n.jsx(kn,{className:"h-4 w-4"})})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"New Password"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:U.new?"text":"password",required:!0,value:V.newPassword,onChange:P=>D(z=>({...z,newPassword:P.target.value})),className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Enter new password"}),n.jsx("button",{type:"button",onClick:()=>Bs("new"),className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",children:U.new?n.jsx(_i,{className:"h-4 w-4"}):n.jsx(kn,{className:"h-4 w-4"})})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm New Password"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:U.confirm?"text":"password",required:!0,value:V.confirmPassword,onChange:P=>D(z=>({...z,confirmPassword:P.target.value})),className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Confirm new password"}),n.jsx("button",{type:"button",onClick:()=>Bs("confirm"),className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",children:U.confirm?n.jsx(_i,{className:"h-4 w-4"}):n.jsx(kn,{className:"h-4 w-4"})})]})]}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[n.jsx("button",{type:"button",onClick:()=>A(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800 text-sm",children:"Cancel"}),n.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 text-sm",children:"Change Password"})]})]})]})})]})}):n.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:n.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Restaurant Registration"}),n.jsx("p",{className:"text-lg text-gray-600",children:"If you haven't registered your restaurant yet, please fill out the form below to request collaboration with us."}),n.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Our admin team will review your application and respond within 24-48 hours via email."})]}),n.jsx("div",{className:"mb-8",children:n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("svg",{className:"h-5 w-5 text-blue-400",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),n.jsxs("div",{className:"ml-3",children:[n.jsx("h3",{className:"text-sm font-medium text-blue-800",children:"Already Have Restaurant Owner Credentials?"}),n.jsx("p",{className:"text-sm text-blue-700",children:"You can log in directly to access your restaurant dashboard."})]})]}),n.jsx("button",{onClick:()=>window.location.href="/auth?role=restaurant_owner",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium",children:"Login Here"})]})})}),n.jsx("div",{className:"bg-white rounded-xl shadow-lg border p-6 sm:p-8",children:n.jsxs("form",{onSubmit:Pr,className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Restaurant Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",required:!0,value:G.restaurantName,onChange:P=>re(z=>({...z,restaurantName:P.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Enter restaurant name"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Enter the official name of the restaurant"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Restaurant Type ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("select",{required:!0,value:G.restaurantType,onChange:P=>re(z=>({...z,restaurantType:P.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[n.jsx("option",{value:"",children:"Select the type of establishment"}),n.jsx("option",{value:"restaurant",children:"Restaurant"}),n.jsx("option",{value:"hotel",children:"Hotel"}),n.jsx("option",{value:"resort",children:"Resort"})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Food Serving Capacity ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"number",required:!0,min:"1",value:G.foodServingCapacity,onChange:P=>re(z=>({...z,foodServingCapacity:parseInt(P.target.value)||0})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Number of people"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Maximum number of people that can be served food"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Crowd Capacity ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"number",required:!0,min:"1",value:G.crowdCapacity,onChange:P=>re(z=>({...z,crowdCapacity:parseInt(P.target.value)||0})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Maximum crowd capacity"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Total capacity for events and gatherings"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Average Price per Person () ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"number",required:!0,min:"0.01",step:"0.01",value:G.averagePricePerPerson,onChange:P=>re(z=>({...z,averagePricePerPerson:parseFloat(P.target.value)||0})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Average cost per person"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Typical cost per person for a meal"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Operating Hours"}),n.jsx("input",{type:"text",value:G.operatingHours,onChange:P=>re(z=>({...z,operatingHours:P.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"9:00 AM - 11:00 PM"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Standard operating hours (optional)"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Owner Email ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"email",required:!0,value:G.ownerEmail,onChange:P=>re(z=>({...z,ownerEmail:P.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Enter your email address"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Admin will respond to this email"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Owner Phone ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"tel",required:!0,value:G.ownerPhone,onChange:P=>re(z=>({...z,ownerPhone:P.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Enter your phone number"})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Restaurant Address ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("textarea",{required:!0,rows:3,value:G.restaurantAddress,onChange:P=>re(z=>({...z,restaurantAddress:P.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Enter complete restaurant address"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Include street address, city, and state"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Restaurant Images (comma separated URLs)"}),n.jsx("textarea",{rows:2,value:G.restaurantImages.join(", "),onChange:P=>re(z=>({...z,restaurantImages:P.target.value.split(",").map(Q=>Q.trim()).filter(Q=>Q)})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"https://image1.jpg, https://image2.jpg"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: Add image URLs separated by commas"})]}),n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("svg",{className:"h-5 w-5 text-blue-400",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),n.jsxs("div",{className:"ml-3",children:[n.jsx("h3",{className:"text-sm font-medium text-blue-800",children:"Important Information"}),n.jsxs("div",{className:"mt-2 text-sm text-blue-700",children:[n.jsxs("p",{children:[" Admin email: ",n.jsx("strong",{children:"tablooofficial1@gmail.com"})]}),n.jsx("p",{children:" Response time: 24-48 hours"}),n.jsx("p",{children:" After approval, you'll receive login credentials via email"}),n.jsx("p",{children:" You can change your password after logging in"})]})]})]})}),n.jsx("div",{className:"flex justify-center pt-4",children:n.jsx("button",{type:"submit",disabled:ie,className:"bg-gradient-to-r from-orange-500 to-red-500 text-white px-8 py-3 rounded-lg hover:from-orange-600 hover:to-red-600 transition-all disabled:opacity-50 disabled:cursor-not-allowed font-medium",children:ie?"Submitting...":"Submit Registration Request"})})]})}),n.jsx("div",{className:"mt-8 text-center",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Already Have an Account?"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"If you already have restaurant owner credentials, you can log in to access your dashboard."}),n.jsx("button",{onClick:()=>window.location.href="/auth?role=restaurant_owner",className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Login to Restaurant Dashboard"})]})})]})})},FF=()=>{const{user:t}=Vt();Us();const[e,s]=T.useState((t==null?void 0:t.isOnline)||!1),[r,i]=T.useState(null),[a,o]=T.useState([]);T.useState(null);const[l,c]=T.useState(!1);T.useEffect(()=>{const N=[{id:"1",orderId:"ORD001",customerName:"John Doe",customerPhone:"+91 98765 43210",customerAddress:"123 Main St, City Center, Bangalore",restaurantName:"Spice Garden",restaurantAddress:"456 Food Court, Mall Road, Bangalore",items:[{name:"Butter Chicken",quantity:2,price:350},{name:"Naan",quantity:4,price:30}],totalAmount:820,deliveryFee:50,status:"assigned",assignedAt:new Date,estimatedDeliveryTime:new Date(Date.now()+27e5),specialInstructions:"Please deliver to the main gate"},{id:"2",orderId:"ORD002",customerName:"Jane Smith",customerPhone:"+91 98765 43211",customerAddress:"789 Park Avenue, Downtown, Bangalore",restaurantName:"Pizza Palace",restaurantAddress:"321 Shopping Complex, High Street, Bangalore",items:[{name:"Margherita Pizza",quantity:1,price:450},{name:"Garlic Bread",quantity:1,price:120}],totalAmount:620,deliveryFee:40,status:"picked_up",assignedAt:new Date(Date.now()-18e5),pickedUpAt:new Date(Date.now()-9e5),estimatedDeliveryTime:new Date(Date.now()+12e5),specialInstructions:"Ring the bell twice"}];o(N)},[]),T.useEffect(()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(N=>{const{latitude:y,longitude:b}=N.coords;i({latitude:y,longitude:b})},N=>{console.error("Error getting location:",N),M.error("Unable to get your location")})},[]),T.useEffect(()=>{let N;return e&&r&&(N=setInterval(()=>{const y=r.latitude+(Math.random()-.5)*.001,b=r.longitude+(Math.random()-.5)*.001;i({latitude:y,longitude:b})},1e4)),()=>{N&&clearInterval(N)}},[e,r]);const d=()=>{s(!e),M.success(e?"You are now offline":"You are now online")},h=(N,y)=>{o(v=>v.map(x=>x.id===N?{...x,status:y,...y==="picked_up"&&{pickedUpAt:new Date},...y==="delivered"&&{deliveredAt:new Date}}:x));const b=a.find(v=>v.id===N);b&&M.success(`Order ${b.orderId} status updated to ${y.replace("_"," ")}`)},f=N=>{switch(N){case"assigned":return"bg-blue-100 text-blue-800";case"picked_up":return"bg-yellow-100 text-yellow-800";case"on_way":return"bg-purple-100 text-purple-800";case"delivered":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},m=N=>{switch(N){case"assigned":return n.jsx(xs,{className:"h-4 w-4"});case"picked_up":return n.jsx(Wi,{className:"h-4 w-4"});case"on_way":return n.jsx(Hd,{className:"h-4 w-4"});case"delivered":return n.jsx(qi,{className:"h-4 w-4"});default:return n.jsx(xs,{className:"h-4 w-4"})}},_=(()=>{const N=new Date,y=new Date(N.getTime()-7*24*60*60*1e3),b=new Date(N.getFullYear(),N.getMonth(),1),v=a.filter(L=>L.status==="delivered"),x=v.reduce((L,C)=>L+C.deliveryFee,0),E=v.filter(L=>L.deliveredAt&&L.deliveredAt>=y).reduce((L,C)=>L+C.deliveryFee,0),I=v.filter(L=>L.deliveredAt&&L.deliveredAt>=b).reduce((L,C)=>L+C.deliveryFee,0);return{total:x,thisWeek:E,thisMonth:I}})();return!t||t.role!=="delivery_boy"?n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx(xs,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),n.jsx("h2",{className:"text-xl font-semibold text-gray-600",children:"Access Denied"}),n.jsx("p",{className:"text-gray-500",children:"This dashboard is only for delivery personnel."})]})}):n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:"bg-white shadow-sm border-b",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"flex justify-between items-center py-4",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(xs,{className:"h-8 w-8 text-red-600"}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Delivery Dashboard"})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Location:"}),r?n.jsxs("span",{className:"text-sm font-medium text-green-600",children:[r.latitude.toFixed(4),", ",r.longitude.toFixed(4)]}):n.jsx("span",{className:"text-sm text-red-600",children:"Getting location..."})]}),n.jsxs("button",{onClick:d,className:`flex items-center space-x-2 px-4 py-2 rounded-lg font-medium transition-colors ${e?"bg-green-100 text-green-700 hover:bg-green-200":"bg-red-100 text-red-700 hover:bg-red-200"}`,children:[e?n.jsx(q9,{className:"h-4 w-4"}):n.jsx(z9,{className:"h-4 w-4"}),n.jsx("span",{children:e?"Online":"Offline"})]})]})]})})}),n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[n.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[n.jsx(Jn,{className:"h-5 w-5 text-green-600 mr-2"}),"Earnings Summary"]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{className:"text-center",children:[n.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["",_.total]}),n.jsx("p",{className:"text-sm text-gray-600",children:"Total Earnings"})]}),n.jsxs("div",{className:"text-center",children:[n.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:["",_.thisMonth]}),n.jsx("p",{className:"text-sm text-gray-600",children:"This Month"})]}),n.jsxs("div",{className:"text-center",children:[n.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:["",_.thisWeek]}),n.jsx("p",{className:"text-sm text-gray-600",children:"This Week"})]})]})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[n.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Assigned Orders"})}),n.jsx("div",{className:"divide-y divide-gray-200",children:a.length===0?n.jsxs("div",{className:"p-6 text-center text-gray-500",children:[n.jsx(xs,{className:"h-12 w-12 mx-auto mb-3 text-gray-300"}),n.jsx("p",{children:"No orders assigned yet"}),n.jsx("p",{className:"text-sm",children:"Stay online to receive orders"})]}):a.map(N=>{var y;return n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex justify-between items-start mb-4",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"font-medium text-gray-900",children:["Order #",N.orderId]}),n.jsx("p",{className:"text-sm text-gray-600",children:N.restaurantName})]}),n.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${f(N.status)}`,children:[m(N.status),n.jsx("span",{className:"ml-1",children:N.status.replace("_"," ").toUpperCase()})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[n.jsxs("div",{children:[n.jsxs("h4",{className:"text-sm font-medium text-gray-700 mb-2 flex items-center",children:[n.jsx(as,{className:"h-4 w-4 mr-2"}),"Customer Details"]}),n.jsx("p",{className:"text-sm text-gray-900",children:N.customerName}),n.jsx("p",{className:"text-sm text-gray-600",children:N.customerPhone}),n.jsx("p",{className:"text-sm text-gray-600",children:N.customerAddress})]}),n.jsxs("div",{children:[n.jsxs("h4",{className:"text-sm font-medium text-gray-700 mb-2 flex items-center",children:[n.jsx(Be,{className:"h-4 w-4 mr-2"}),"Restaurant"]}),n.jsx("p",{className:"text-sm text-gray-900",children:N.restaurantName}),n.jsx("p",{className:"text-sm text-gray-600",children:N.restaurantAddress})]})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Order Items"}),n.jsx("div",{className:"space-y-1",children:N.items.map((b,v)=>n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsxs("span",{children:[b.quantity,"x ",b.name]}),n.jsxs("span",{className:"text-gray-600",children:["",b.price]})]},v))}),n.jsxs("div",{className:"border-t pt-2 mt-2",children:[n.jsxs("div",{className:"flex justify-between text-sm font-medium",children:[n.jsx("span",{children:"Total:"}),n.jsxs("span",{children:["",N.totalAmount]})]}),n.jsxs("div",{className:"flex justify-between text-sm text-green-600",children:[n.jsx("span",{children:"Delivery Fee:"}),n.jsxs("span",{children:["",N.deliveryFee]})]})]})]}),N.specialInstructions&&n.jsxs("div",{className:"mb-4 p-3 bg-yellow-50 rounded-lg",children:[n.jsx("h4",{className:"text-sm font-medium text-yellow-800 mb-1",children:"Special Instructions"}),n.jsx("p",{className:"text-sm text-yellow-700",children:N.specialInstructions})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[n.jsx(At,{className:"h-4 w-4"}),n.jsxs("span",{children:["ETA: ",(y=N.estimatedDeliveryTime)==null?void 0:y.toLocaleTimeString()]})]}),n.jsxs("div",{className:"flex space-x-2",children:[N.status==="assigned"&&n.jsx("button",{onClick:()=>h(N.id,"picked_up"),className:"px-3 py-2 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700 transition-colors",children:"Mark Picked Up"}),N.status==="picked_up"&&n.jsx("button",{onClick:()=>h(N.id,"on_way"),className:"px-3 py-2 bg-purple-600 text-white text-sm rounded-lg hover:bg-purple-700 transition-colors",children:"Start Delivery"}),N.status==="on_way"&&n.jsx("button",{onClick:()=>h(N.id,"delivered"),className:"px-3 py-2 bg-green-600 text-white text-sm rounded-lg hover:bg-green-700 transition-colors",children:"Mark Delivered"})]})]})]},N.id)})})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("button",{onClick:()=>c(!l),className:"w-full flex items-center justify-center space-x-2 px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[n.jsx(M9,{className:"h-4 w-4"}),n.jsx("span",{children:l?"Hide Map":"Show Live Map"})]}),n.jsxs("button",{className:"w-full flex items-center justify-center space-x-2 px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[n.jsx(Hd,{className:"h-4 w-4"}),n.jsx("span",{children:"Update Location"})]}),n.jsxs("button",{className:"w-full flex items-center justify-center space-x-2 px-4 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:[n.jsx(xs,{className:"h-4 w-4"}),n.jsx("span",{children:"View All Orders"})]})]})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Today's Stats"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-gray-600",children:"Orders Assigned"}),n.jsx("span",{className:"font-semibold text-blue-600",children:a.filter(N=>N.assignedAt.toDateString()===new Date().toDateString()).length})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-gray-600",children:"Orders Delivered"}),n.jsx("span",{className:"font-semibold text-green-600",children:a.filter(N=>{var y;return N.status==="delivered"&&((y=N.deliveredAt)==null?void 0:y.toDateString())===new Date().toDateString()}).length})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-gray-600",children:"Today's Earnings"}),n.jsxs("span",{className:"font-semibold text-green-600",children:["",a.filter(N=>{var y;return N.status==="delivered"&&((y=N.deliveredAt)==null?void 0:y.toDateString())===new Date().toDateString()}).reduce((N,y)=>N+y.deliveryFee,0)]})]})]})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Profile"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",children:n.jsx(as,{className:"h-5 w-5 text-red-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:t.name}),n.jsx("p",{className:"text-sm text-gray-600",children:"Delivery Partner"})]})]}),t.vehicleDetails&&n.jsxs("div",{className:"pt-3 border-t",children:[n.jsxs("p",{className:"text-sm text-gray-600",children:["Vehicle: ",t.vehicleDetails.type]}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Number: ",t.vehicleDetails.number]})]})]})]})]})]}),l&&n.jsxs("div",{className:"mt-6 bg-white rounded-lg shadow-sm p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Live Location Tracking"}),n.jsx("div",{className:"bg-gray-100 rounded-lg h-96 flex items-center justify-center",children:n.jsxs("div",{className:"text-center text-gray-500",children:[n.jsx(Be,{className:"h-16 w-16 mx-auto mb-3 text-gray-300"}),n.jsx("p",{children:"Google Maps integration would be here"}),n.jsx("p",{className:"text-sm",children:"Showing real-time location updates"}),r&&n.jsxs("p",{className:"text-xs mt-2",children:["Current: ",r.latitude.toFixed(6),", ",r.longitude.toFixed(6)]})]})})]})]})]})},UF=({onSave:t,onCancel:e,initialData:s,isEditing:r=!1})=>{const[i,a]=T.useState((s==null?void 0:s.label)||""),[o,l]=T.useState((s==null?void 0:s.location)||{lat:0,lng:0,address:"",formattedAddress:""}),[c,d]=T.useState((s==null?void 0:s.details)||{street:"",city:"",state:"",pincode:"",landmark:"",addressType:"home"}),h=m=>{if(l(m),m.formattedAddress){const p=m.formattedAddress.split(", ");if(p.length>=3){const _={...c};_.street=p[0]||"",p.length>=2&&(_.city=p[p.length-3]||""),p.length>=2&&(_.state=p[p.length-2]||"");const N=p[p.length-1];N&&/^\d{6}$/.test(N)&&(_.pincode=N),d(_)}}},f=()=>{if(!i.trim()){alert("Please enter an address label");return}const m=o.formattedAddress&&o.lat!==0&&o.lng!==0,p=c.street&&c.city&&c.state&&c.pincode;if(!m&&!p){alert("Please either select a location on the map OR fill in the address details manually");return}t({label:i,details:c,location:m?o:void 0})};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:r?"Edit Address":"Add New Address"}),n.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:n.jsx(mt,{className:"h-5 w-5"})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address Label *"}),n.jsx("input",{type:"text",value:i,onChange:m=>a(m.target.value),placeholder:"e.g., Home, Work, Office",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address Type *"}),n.jsxs("select",{value:c.addressType,onChange:m=>d({...c,addressType:m.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"home",children:"Home"}),n.jsx("option",{value:"work",children:"Work"}),n.jsx("option",{value:"office",children:"Office"}),n.jsx("option",{value:"other",children:"Other"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Location on Map (Optional)"}),n.jsxs("div",{className:"mb-2 text-xs text-gray-600",children:[" ",n.jsx("strong",{children:"You can either:"}),n.jsxs("ul",{className:"mt-1 ml-4 list-disc",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Option 1:"})," Select a location on the map (auto-fills address details)"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Option 2:"})," Skip the map and fill in address details manually below"]})]}),n.jsx("p",{className:"mt-2 text-blue-600",children:n.jsx("strong",{children:"How to use the map:"})}),n.jsxs("ul",{className:"mt-1 ml-4 list-disc",children:[n.jsx("li",{children:"Type your address in the search box above the map"}),n.jsx("li",{children:"Click anywhere on the map to select a location"}),n.jsx("li",{children:'Use the "Use Current Location" button'})]})]}),n.jsx(i0,{onLocationSelect:h,initialLocation:o.lat!==0?o:void 0,placeholder:"Search for your address..."})]}),n.jsxs("div",{children:[n.jsx("div",{className:"mb-3 p-3 bg-blue-50 border border-blue-200 rounded-md",children:n.jsxs("p",{className:"text-sm text-blue-800",children:[n.jsx("strong",{children:" Address Details:"})," Fill in your address details below."]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Street Address *"}),n.jsx("input",{type:"text",value:c.street,onChange:m=>d({...c,street:m.target.value}),placeholder:"House/Flat number, Street name",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City *"}),n.jsx("input",{type:"text",value:c.city,onChange:m=>d({...c,city:m.target.value}),placeholder:"City name",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"State *"}),n.jsx("input",{type:"text",value:c.state,onChange:m=>d({...c,state:m.target.value}),placeholder:"State name",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pincode *"}),n.jsx("input",{type:"text",value:c.pincode,onChange:m=>d({...c,pincode:m.target.value}),placeholder:"6-digit pincode",maxLength:6,pattern:"[0-9]{6}",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Landmark (Optional)"}),n.jsx("input",{type:"text",value:c.landmark,onChange:m=>d({...c,landmark:m.target.value}),placeholder:"e.g., Near Metro Station, Behind Mall",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(c.street||c.city||c.state||c.pincode||o.formattedAddress)&&n.jsx("div",{className:"p-3 bg-green-50 border border-green-200 rounded-md",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx(Be,{className:"h-4 w-4 text-green-600 mr-2 mt-0.5 flex-shrink-0"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm font-medium text-green-900",children:" Address Preview:"}),o.formattedAddress?n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-green-800 font-medium",children:["From Map: ",o.formattedAddress]}),c.street&&n.jsxs("p",{className:"text-sm text-green-700 mt-1",children:["Manual Details: ",c.street,", ",c.city,", ",c.state," ",c.pincode,c.landmark&&` (${c.landmark})`]})]}):n.jsxs("p",{className:"text-sm text-green-800",children:[c.street&&`${c.street}, `,c.city&&`${c.city}, `,c.state&&`${c.state} `,c.pincode&&`${c.pincode}`,c.landmark&&` (${c.landmark})`]})]})]})}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsx("button",{onClick:f,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 font-medium",children:r?"Update Address":"Save Address"}),n.jsx("button",{onClick:e,className:"flex-1 px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400 font-medium",children:"Cancel"})]})]})},BF=()=>{const{user:t,updateUser:e,isDefaultUsername:s}=Vt(),{orders:r,bookings:i}=Us(),[a,o]=T.useState("profile"),[l,c]=T.useState(!1),[d,h]=T.useState(!1),[f,m]=T.useState({name:(t==null?void 0:t.name)||"",email:(t==null?void 0:t.email)||"",phone:(t==null?void 0:t.phone)||""}),[p,_]=T.useState({name:(t==null?void 0:t.name)||"",email:(t==null?void 0:t.email)||"",phone:(t==null?void 0:t.phone)||""}),[N,y]=T.useState([]),[b,v]=T.useState(!1),[x,E]=T.useState(null);T.useEffect(()=>{if(t){const U={name:t.name||"",email:t.email||"",phone:t.phone||""};m(U),_(U)}},[t]);const I=r.filter(U=>U.userId===(t==null?void 0:t.id)),L=i.filter(U=>U.userId===(t==null?void 0:t.id)),C=()=>f.name!==p.name||f.phone!==p.phone||f.email!==p.email,j=()=>f.name.trim()?f.name.trim().length<2?(M.error("Name must be at least 2 characters long"),!1):f.phone&&!De(f.phone)?(M.error("Please enter a valid 10-digit Indian phone number"),!1):f.email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(f.email)?(M.error("Please enter a valid email address"),!1):!0:(M.error("Name is required"),!1),k=async()=>{if(j()){h(!0);try{const U={};if(f.name!==p.name&&(U.name=f.name.trim()),f.phone!==p.phone&&(U.phone=f.phone||null),f.email!==p.email&&(U.email=f.email||null),Object.keys(U).length===0){M.info("No changes to save"),c(!1);return}await e(U)&&(_({name:f.name,email:f.email,phone:f.phone}),c(!1),M.success("Profile updated successfully!"))}catch(U){console.error("Error updating profile:",U),M.error("Failed to update profile. Please try again.")}finally{h(!1)}}},O=()=>{m(p),c(!1)},A=U=>{if(x)y(B=>B.map(R=>R.id===x.id?{...U,id:R.id,isDefault:R.isDefault}:R)),E(null);else{const B={...U,id:Date.now().toString(),isDefault:N.length===0};y(R=>[...R,B])}v(!1)},V=U=>{confirm("Are you sure you want to delete this address?")&&y(B=>B.filter(R=>R.id!==U))},D=U=>{y(B=>B.map(R=>({...R,isDefault:R.id===U})))};return t?n.jsx("div",{className:"min-h-screen bg-gray-50",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8",children:[n.jsxs("div",{className:"mb-6 sm:mb-8",children:[n.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"My Profile"}),n.jsx("p",{className:"text-gray-600 mt-2 text-sm sm:text-base",children:"Manage your account and view your activity"})]}),s(t.name)&&n.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"w-8 h-8 bg-red-100 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-red-600 text-sm font-semibold",children:"!"})})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-sm font-medium text-red-800 mb-1",children:"Update Your Profile Name"}),n.jsx("p",{className:"text-sm text-red-700 mb-3",children:"You're currently using a temporary username. Please update your name below to personalize your profile and improve your experience."}),n.jsx("div",{className:"flex items-center space-x-2",children:n.jsxs("span",{className:"text-xs text-red-600 bg-red-100 px-2 py-1 rounded",children:["Current: ",t.name]})})]})]})}),n.jsx("div",{className:"lg:hidden mb-6",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:[n.jsxs("div",{className:"text-center mb-4",children:[n.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-2",children:n.jsx(as,{className:"h-6 w-6 text-blue-600"})}),n.jsx("h3",{className:"font-semibold text-gray-900 text-sm",children:t.name}),n.jsx("p",{className:"text-xs text-gray-600",children:t.phone||t.email})]}),n.jsx("div",{className:"grid grid-cols-2 gap-2",children:[{id:"profile",label:"Profile",icon:as,count:null},{id:"orders",label:"Orders",icon:xs,count:I.length},{id:"bookings",label:"Bookings",icon:lt,count:L.length},{id:"addresses",label:"Addresses",icon:Be,count:N.length},{id:"wallet",label:"Wallet",icon:Hr,count:null}].map(U=>{const B=U.icon;return n.jsxs("button",{onClick:()=>o(U.id),className:`flex flex-col items-center p-2 rounded-lg text-xs transition-colors ${a===U.id?"bg-blue-50 text-blue-600 border border-blue-200":"text-gray-700 hover:bg-gray-50"}`,children:[n.jsx(B,{className:"h-4 w-4 mb-1"}),n.jsx("span",{className:"text-center",children:U.label}),U.count!==null&&n.jsx("span",{className:"bg-gray-100 text-gray-600 text-xs px-1 py-0.5 rounded-full mt-1",children:U.count})]},U.id)})})]})}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4 sm:gap-6",children:[n.jsx("div",{className:"hidden lg:block lg:col-span-1",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[n.jsxs("div",{className:"text-center mb-6",children:[n.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-3",children:n.jsx(as,{className:"h-8 w-8 text-blue-600"})}),n.jsx("h3",{className:"font-semibold text-gray-900",children:t.name}),n.jsx("p",{className:"text-sm text-gray-600",children:t.phone||t.email})]}),n.jsx("nav",{className:"space-y-2",children:[{id:"profile",label:"Profile Info",icon:as,count:null},{id:"orders",label:"My Orders",icon:xs,count:I.length},{id:"bookings",label:"My Bookings",icon:lt,count:L.length},{id:"addresses",label:"Addresses",icon:Be,count:N.length},{id:"wallet",label:"Wallet",icon:Hr,count:null}].map(U=>{const B=U.icon;return n.jsxs("button",{onClick:()=>o(U.id),className:`w-full flex items-center justify-between p-3 rounded-lg text-left transition-colors ${a===U.id?"bg-blue-50 text-blue-600 border border-blue-200":"text-gray-700 hover:bg-gray-50"}`,children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(B,{className:"h-4 w-4 mr-3"}),n.jsx("span",{children:U.label})]}),U.count!==null&&n.jsx("span",{className:"bg-gray-100 text-gray-600 text-xs px-2 py-1 rounded-full",children:U.count})]},U.id)})})]})}),n.jsx("div",{className:"lg:col-span-3",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border",children:[a==="profile"&&n.jsxs("div",{className:"p-4 sm:p-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-4 sm:mb-6",children:[n.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-2 sm:mb-0",children:"Profile Information"}),n.jsx("div",{className:"flex items-center space-x-2",children:l?n.jsxs(n.Fragment,{children:[n.jsxs("button",{onClick:O,disabled:d,className:"flex items-center justify-center space-x-2 px-3 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 text-sm disabled:opacity-50",children:[n.jsx(mt,{className:"h-4 w-4"}),n.jsx("span",{children:"Cancel"})]}),n.jsx("button",{onClick:k,disabled:d||!C(),className:"flex items-center justify-center space-x-2 px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:d?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),n.jsx("span",{children:"Updating..."})]}):n.jsxs(n.Fragment,{children:[n.jsx(O9,{className:"h-4 w-4"}),n.jsx("span",{children:"Save Changes"})]})})]}):n.jsxs("button",{onClick:()=>c(!0),className:"flex items-center justify-center space-x-2 px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm",children:[n.jsx(D9,{className:"h-4 w-4"}),n.jsx("span",{children:"Edit Profile"})]})})]}),n.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(as,{className:"h-4 w-4 inline mr-1"}),"Full Name *",s(f.name)&&n.jsx("span",{className:"ml-2 inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:"Temporary"})]}),l?n.jsx("input",{type:"text",value:f.name,onChange:U=>m(B=>({...B,name:U.target.value})),placeholder:s(f.name)?"Enter your real name":"Enter your name",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 text-sm ${s(f.name)?"border-yellow-300 bg-yellow-50 focus:ring-yellow-500":"border-gray-300"}`}):n.jsxs("div",{className:"relative",children:[n.jsx("p",{className:`px-3 py-2 rounded-lg text-sm ${s(f.name)?"bg-yellow-50 text-yellow-800 border border-yellow-200":"bg-gray-50 text-gray-900"}`,children:f.name}),s(f.name)&&n.jsx("div",{className:"absolute -top-2 -right-2",children:n.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 border border-yellow-200",children:"Temporary"})})]}),l&&f.name.trim().length>0&&f.name.trim().length<2&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:"Name must be at least 2 characters long"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(wc,{className:"h-4 w-4 inline mr-1"}),"Email Address"]}),l?n.jsx("input",{type:"email",value:f.email,onChange:U=>m(B=>({...B,email:U.target.value})),placeholder:"Enter your email address",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm"}):n.jsx("p",{className:"text-gray-900 px-3 py-2 bg-gray-50 rounded-lg text-sm",children:f.email||"Not provided"}),l&&f.email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(f.email)&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:"Please enter a valid email address"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(jr,{className:"h-4 w-4 inline mr-1"}),"Phone Number"]}),l?n.jsxs("div",{children:[n.jsx("input",{type:"tel",value:f.phone,onChange:U=>{const B=nn(U.target.value);m(R=>({...R,phone:B}))},placeholder:"Enter 10-digit phone number",maxLength:10,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm"}),f.phone&&!De(f.phone)&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:"Please enter a valid 10-digit Indian phone number"})]}):n.jsx("p",{className:"text-gray-900 px-3 py-2 bg-gray-50 rounded-lg text-sm",children:f.phone||"Not provided"})]}),l&&C()&&n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[n.jsx("h4",{className:"font-medium text-blue-900 text-sm mb-2",children:"Changes to be saved:"}),n.jsxs("div",{className:"text-xs text-blue-700 space-y-1",children:[f.name!==p.name&&n.jsxs("p",{children:[" Name: ",p.name,"  ",f.name]}),f.phone!==p.phone&&n.jsxs("p",{children:[" Phone: ",p.phone||"Not set","  ",f.phone||"Not set"]}),f.email!==p.email&&n.jsxs("p",{children:[" Email: ",p.email||"Not set","  ",f.email||"Not set"]})]})]})]})]}),a==="orders"&&n.jsxs("div",{className:"p-4 sm:p-6",children:[n.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-4 sm:mb-6",children:"My Orders"}),I.length===0?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(xs,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600 text-sm",children:"No orders found"})]}):n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:I.map(U=>n.jsxs("div",{className:"border rounded-lg p-3 sm:p-4",children:[n.jsxs("div",{className:"flex justify-between items-start mb-2 sm:mb-3",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("h3",{className:"font-medium text-gray-900 text-sm sm:text-base",children:["Order #",U.id.slice(-6)]}),n.jsxs("p",{className:"text-xs sm:text-sm text-gray-600",children:[n.jsx(At,{className:"h-3 w-3 sm:h-4 sm:w-4 inline mr-1"}),U.createdAt.toLocaleDateString()]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"font-semibold text-gray-900 text-sm sm:text-base",children:["",U.total.toFixed(2)]}),n.jsx("span",{className:`inline-block px-1 py-0.5 sm:px-2 sm:py-1 rounded-full text-xs ${U.status==="completed"?"bg-green-100 text-green-800":U.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"}`,children:U.status})]})]}),n.jsxs("div",{className:"text-xs sm:text-sm text-gray-600",children:[n.jsxs("p",{children:["Type: ",U.type==="delivery"?"Home Delivery":"Self Pickup"]}),n.jsxs("p",{children:["Items: ",U.items.length," item(s)"]}),U.address&&n.jsxs("p",{className:"truncate",children:["Address: ",U.address]})]})]},U.id))})]}),a==="bookings"&&n.jsxs("div",{className:"p-4 sm:p-6",children:[n.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-4 sm:mb-6",children:"My Bookings"}),L.length===0?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(lt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600 text-sm",children:"No bookings found"})]}):n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:L.map(U=>n.jsxs("div",{className:"border rounded-lg p-3 sm:p-4",children:[n.jsxs("div",{className:"flex justify-between items-start mb-2 sm:mb-3",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("h3",{className:"font-medium text-gray-900 text-sm sm:text-base",children:[U.type==="table"?"Table Booking":"Event Booking"," #",U.id.slice(-6)]}),n.jsxs("p",{className:"text-xs sm:text-sm text-gray-600",children:[n.jsx(At,{className:"h-3 w-3 sm:h-4 sm:w-4 inline mr-1"}),U.date," at ",U.time]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"font-semibold text-gray-900 text-sm sm:text-base",children:["",U.amount.toFixed(2)," paid"]}),n.jsx("span",{className:`inline-block px-1 py-0.5 sm:px-2 sm:py-1 rounded-full text-xs ${U.status==="confirmed"?"bg-green-100 text-green-800":U.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:U.status})]})]}),n.jsxs("div",{className:"text-xs sm:text-sm text-gray-600",children:[n.jsxs("p",{children:["Customers: ",U.customers]}),n.jsxs("p",{children:["Phone: ",U.phone]}),n.jsxs("p",{children:["Payment: ",U.paymentStatus==="paid"?"Advance Paid":"Pending"]})]})]},U.id))})]}),a==="addresses"&&n.jsxs("div",{className:"p-4 sm:p-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-4 sm:mb-6",children:[n.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-2 sm:mb-0",children:"Saved Addresses"}),n.jsxs("button",{onClick:()=>v(!0),className:"px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm flex items-center space-x-2",children:[n.jsx(ls,{className:"h-4 w-4"}),n.jsx("span",{children:"Add New Address"})]})]}),N.length===0?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(Be,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No addresses saved"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Add your first address to get started"}),n.jsx("button",{onClick:()=>v(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Add Address"})]}):n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:N.map(U=>{var B,R;return n.jsx("div",{className:"border rounded-lg p-3 sm:p-4",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("h3",{className:"font-medium text-gray-900 text-sm sm:text-base mr-2",children:U.label}),U.isDefault&&n.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs px-1 py-0.5 rounded-full",children:"Default"})]}),n.jsxs("p",{className:"text-gray-600 flex items-start text-xs sm:text-sm",children:[n.jsx(Be,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 mt-0.5 text-gray-400 flex-shrink-0"}),n.jsxs("span",{className:"line-clamp-2",children:[((B=U.location)==null?void 0:B.formattedAddress)||`${U.details.street}, ${U.details.city}, ${U.details.state} ${U.details.pincode}`,U.details.landmark&&!((R=U.location)!=null&&R.formattedAddress)&&` (${U.details.landmark})`]})]})]}),n.jsxs("div",{className:"flex flex-col space-y-1 ml-2",children:[n.jsx("button",{onClick:()=>{E(U),v(!0)},className:"text-blue-600 hover:text-blue-700 text-xs sm:text-sm",children:"Edit"}),n.jsx("button",{onClick:()=>V(U.id),className:"text-red-600 hover:text-red-700 text-xs sm:text-sm",children:"Delete"}),!U.isDefault&&n.jsx("button",{onClick:()=>D(U.id),className:"text-green-600 hover:text-green-700 text-xs sm:text-sm",children:"Set Default"})]})]})},U.id)})})]}),a==="wallet"&&n.jsx("div",{className:"p-4 sm:p-6",children:n.jsx("div",{className:"text-center py-12 sm:py-16",children:n.jsxs("div",{className:"max-w-md mx-auto",children:[n.jsx("div",{className:"w-20 h-20 sm:w-24 sm:h-24 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-6",children:n.jsx(Hr,{className:"h-10 w-10 sm:h-12 sm:w-12 text-white"})}),n.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"Coming Soon!"}),n.jsx("p",{className:"text-gray-600 text-base sm:text-lg mb-6 leading-relaxed",children:"We're working hard to bring you an amazing digital wallet experience. Stay tuned for exciting features like secure payments, instant transfers, and much more!"}),n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 sm:p-6 mb-6",children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-3 text-sm sm:text-base",children:"What's Coming:"}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 text-xs sm:text-sm",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),n.jsx("span",{className:"text-gray-600",children:"Secure Digital Wallet"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),n.jsx("span",{className:"text-gray-600",children:"Instant Money Transfer"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),n.jsx("span",{className:"text-gray-600",children:"Bill Payments"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),n.jsx("span",{className:"text-gray-600",children:"Transaction History"})]})]})]}),n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[n.jsx("p",{className:"text-blue-800 text-sm mb-3",children:"Get notified when the wallet launches!"}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("input",{type:"email",placeholder:"Enter your email",className:"flex-1 px-3 py-2 border border-blue-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),n.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 text-sm font-medium transition-colors",children:"Notify Me"})]})]})]})})})]})})]}),b&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsx("div",{className:"bg-white rounded-xl p-4 sm:p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:n.jsx(UF,{onSave:A,onCancel:()=>{v(!1),E(null)},initialData:x,isEditing:!!x})})})]})}):n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Please log in"}),n.jsx("p",{className:"text-gray-600 mt-2",children:"You need to be logged in to view your profile."})]})})},$F=()=>{const t=_s();return n.jsx("div",{className:"min-h-screen bg-gray-50",children:n.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[n.jsxs("div",{className:"mb-8",children:[n.jsxs("button",{onClick:()=>t(-1),className:"flex items-center text-red-800 hover:text-red-900 mb-4 transition-colors",children:[n.jsx(ta,{className:"h-5 w-5 mr-2"}),"Back"]}),n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Privacy Policy"}),n.jsx("p",{className:"text-gray-600",children:"Effective Date: December 2024"})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8 space-y-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"1. Introduction"}),n.jsx("p",{className:"text-gray-700 leading-relaxed",children:'Welcome to Tabuloo. We value your privacy and are committed to protecting your personal data. This Privacy Policy describes how Tabuloo collects, uses, shares, and protects information about users of our mobile application and website ("Platform").'})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"2. Information We Collect"}),n.jsx("p",{className:"text-gray-700 mb-4",children:"We may collect the following types of data:"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"a. Personal Information"}),n.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-1 ml-4",children:[n.jsx("li",{children:"Name"}),n.jsx("li",{children:"Phone number"}),n.jsx("li",{children:"Email address"}),n.jsx("li",{children:"Date of birth (optional)"}),n.jsx("li",{children:"Location (only with permission)"})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"b. Transactional & Booking Data"}),n.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-1 ml-4",children:[n.jsx("li",{children:"Orders placed"}),n.jsx("li",{children:"Table booking details"}),n.jsx("li",{children:"Pickup time and location"}),n.jsx("li",{children:"Event registrations"})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"c. Device & Usage Data"}),n.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-1 ml-4",children:[n.jsx("li",{children:"IP address"}),n.jsx("li",{children:"Device type"}),n.jsx("li",{children:"App usage behavior"}),n.jsx("li",{children:"Cookies and log files"})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"d. Payment Data"}),n.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-1 ml-4",children:[n.jsx("li",{children:"Partial card/UPI information (processed securely by payment gateways like Razorpay)"}),n.jsx("li",{children:"Transaction history"})]}),n.jsx("p",{className:"text-sm text-gray-600 mt-2 italic",children:"Note: We do not store your full card or UPI credentials."})]})]})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"3. How We Use Your Information"}),n.jsx("p",{className:"text-gray-700 mb-4",children:"Your data is used strictly to improve your experience and fulfill services. Specifically, we use your information to:"}),n.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2 ml-4",children:[n.jsx("li",{children:"Provide order delivery, table reservations, and event booking services"}),n.jsx("li",{children:"Communicate offers, confirmations, and alerts"}),n.jsx("li",{children:"Process payments securely"}),n.jsx("li",{children:"Personalize recommendations and UX"}),n.jsx("li",{children:"Ensure platform security and prevent fraud"})]})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"4. How We Share Your Information"}),n.jsx("p",{className:"text-gray-700 mb-4",children:"We do not sell your data to any third parties. However, we may share your data with:"}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full border border-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-900 border-b",children:"Entity"}),n.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-900 border-b",children:"Purpose"})]})}),n.jsxs("tbody",{className:"text-sm text-gray-700",children:[n.jsxs("tr",{children:[n.jsx("td",{className:"px-4 py-2 border-b",children:"Restaurant Partners"}),n.jsx("td",{className:"px-4 py-2 border-b",children:"To fulfill your orders and reservations"})]}),n.jsxs("tr",{children:[n.jsx("td",{className:"px-4 py-2 border-b",children:"Payment Gateways"}),n.jsx("td",{className:"px-4 py-2 border-b",children:"For secure payment processing"})]}),n.jsxs("tr",{children:[n.jsx("td",{className:"px-4 py-2 border-b",children:"SMS/Email Providers"}),n.jsx("td",{className:"px-4 py-2 border-b",children:"To send notifications or updates"})]}),n.jsxs("tr",{children:[n.jsx("td",{className:"px-4 py-2 border-b",children:"Legal Authorities"}),n.jsx("td",{className:"px-4 py-2 border-b",children:"Only when required by law (e.g., fraud investigation)"})]})]})]})})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"5. User Rights"}),n.jsx("p",{className:"text-gray-700 mb-4",children:"You have the right to:"}),n.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2 ml-4",children:[n.jsx("li",{children:"Access your personal data"}),n.jsx("li",{children:"Request data correction or deletion"}),n.jsx("li",{children:"Withdraw consent for marketing"}),n.jsx("li",{children:"Request account deletion (by contacting: support@tabuloo.com)"})]})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"6. Cookies & Tracking"}),n.jsx("p",{className:"text-gray-700 mb-4",children:"We may use cookies, device identifiers, and tracking tools to:"}),n.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2 ml-4",children:[n.jsx("li",{children:"Save login sessions"}),n.jsx("li",{children:"Analyze user behavior to improve performance"})]}),n.jsx("p",{className:"text-gray-700 mt-4",children:"You can control cookie settings in your browser/app permissions."})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"7. Data Security"}),n.jsx("p",{className:"text-gray-700 mb-4",children:"We implement strict security measures:"}),n.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2 ml-4",children:[n.jsx("li",{children:"SSL encryption"}),n.jsx("li",{children:"Two-factor authentication (for merchants/admins)"}),n.jsx("li",{children:"Secure API communication"}),n.jsx("li",{children:"Limited internal access to sensitive data"})]}),n.jsx("p",{className:"text-gray-700 mt-4",children:"However, no system is 100% secure. You use the Platform at your own risk."})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"8. Children's Privacy"}),n.jsx("p",{className:"text-gray-700",children:"Tabuloo is not intended for use by persons under the age of 13. We do not knowingly collect data from minors."})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"9. Changes to This Policy"}),n.jsx("p",{className:"text-gray-700",children:"We may update this Privacy Policy from time to time. Any changes will be reflected on this page with an updated effective date. Continued use of the app after changes implies your agreement."})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"10. Contact Us"}),n.jsx("p",{className:"text-gray-700 mb-4",children:"If you have questions about this policy or your data, contact us at:"}),n.jsxs("div",{className:"space-y-2 text-gray-700",children:[n.jsx("p",{children:" Email: support@tabuloo.com"}),n.jsx("p",{children:" Address: [Your Registered Office Address]"}),n.jsx("p",{children:" Phone: [Customer Care Number]"})]})]})]})]})})},zF=()=>{const t=_s();return n.jsx("div",{className:"min-h-screen bg-gray-50",children:n.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[n.jsxs("div",{className:"mb-8",children:[n.jsxs("button",{onClick:()=>t(-1),className:"flex items-center text-red-800 hover:text-red-900 mb-4 transition-colors",children:[n.jsx(ta,{className:"h-5 w-5 mr-2"}),"Back"]}),n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Terms & Conditions"}),n.jsx("p",{className:"text-gray-600",children:"Company Name: Tabuloo"})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8 space-y-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"1. Acceptance of Terms"}),n.jsx("p",{className:"text-gray-700 leading-relaxed",children:`By accessing or using Tabuloo's mobile application or website ("Platform"), you agree to be bound by these Terms & Conditions ("Terms"). If you do not agree, please do not use the Platform.`})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"2. Services Provided"}),n.jsx("p",{className:"text-gray-700 mb-4",children:"Tabuloo offers:"}),n.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2 ml-4",children:[n.jsx("li",{children:"Online food ordering and pickup"}),n.jsx("li",{children:"Table reservations at partner restaurants"}),n.jsx("li",{children:"Event booking and group dining coordination"}),n.jsx("li",{children:"Pre-ordering and dine-in scheduling with friends"})]}),n.jsx("p",{className:"text-gray-700 mt-4",children:"We act as a facilitator between you and restaurants; we do not own or control the restaurants listed on our platform."})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"3. User Accounts"}),n.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2 ml-4",children:[n.jsx("li",{children:"You must be at least 13 years old to use Tabuloo."}),n.jsx("li",{children:"You are responsible for maintaining the confidentiality of your login credentials."}),n.jsx("li",{children:"You agree to provide accurate and updated information during registration and use."})]})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"4. Ordering & Payments"}),n.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2 ml-4",children:[n.jsx("li",{children:"Orders can be placed for dine-in, pickup, or future scheduling."}),n.jsx("li",{children:"All payments must be made through our integrated payment partners (e.g., Razorpay)."}),n.jsx("li",{children:"Prices are shown inclusive of applicable taxes and platform fees."}),n.jsx("li",{children:"Restaurants are solely responsible for food preparation, quality, and service."})]})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"5. Cancellations & Refunds"}),n.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2 ml-4",children:[n.jsx("li",{children:"Table Booking: Cancellable up to 2 hours in advance (refund policy applies)."}),n.jsx("li",{children:"Food Orders: Non-refundable once accepted by the restaurant."}),n.jsx("li",{children:"Events: Refunds depend on event type, partner policy, and timing."})]}),n.jsx("p",{className:"text-gray-700 mt-4",children:"Tabuloo may offer goodwill credits in special cases at its sole discretion."})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"6. User Conduct"}),n.jsx("p",{className:"text-gray-700 mb-4",children:"You agree not to:"}),n.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2 ml-4",children:[n.jsx("li",{children:"Abuse, harass, threaten, or impersonate others"}),n.jsx("li",{children:"Interfere with app functionality or misuse the platform"}),n.jsx("li",{children:"Attempt unauthorized access to systems or accounts"}),n.jsx("li",{children:"Use Tabuloo for any unlawful purpose"})]}),n.jsx("p",{className:"text-gray-700 mt-4",children:"Violations may lead to account suspension or legal action."})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"7. Intellectual Property"}),n.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2 ml-4",children:[n.jsx("li",{children:"All content on Tabuloo (logos, branding, UI, etc.) is owned by or licensed to us."}),n.jsx("li",{children:"You may not reproduce, copy, or redistribute any part of the platform without permission."})]})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"8. Partner Restaurant Responsibilities"}),n.jsx("p",{className:"text-gray-700 mb-4",children:"Restaurants listed on Tabuloo are responsible for:"}),n.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2 ml-4",children:[n.jsx("li",{children:"Accuracy of menus, pricing, and availability"}),n.jsx("li",{children:"Hygiene and FSSAI compliance"}),n.jsx("li",{children:"Order fulfillment and customer service"}),n.jsx("li",{children:"Complying with local and national laws"})]})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"9. Limitation of Liability"}),n.jsx("p",{className:"text-gray-700 mb-4",children:"Tabuloo is not liable for:"}),n.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2 ml-4",children:[n.jsx("li",{children:"Food-related issues (allergies, delays, quality)"}),n.jsx("li",{children:"Restaurant closures or operational failures"}),n.jsx("li",{children:"External delivery services or third-party apps"}),n.jsx("li",{children:"Any indirect, incidental, or consequential damages"})]})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"10. Modifications to Terms"}),n.jsx("p",{className:"text-gray-700",children:"We may revise these Terms from time to time. Updates will be posted on our platform with an effective date. Continued use of the app constitutes your acceptance of the updated Terms."})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"11. Termination"}),n.jsx("p",{className:"text-gray-700",children:"Tabuloo reserves the right to suspend or terminate your access if you violate these Terms or engage in fraudulent or abusive activity."})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"12. Governing Law"}),n.jsx("p",{className:"text-gray-700",children:"These Terms shall be governed by and interpreted under the laws of India, and any disputes will be subject to the jurisdiction of courts in Bangalore."})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"13. Contact Us"}),n.jsx("p",{className:"text-gray-700 mb-4",children:"For questions, complaints, or support:"}),n.jsxs("div",{className:"space-y-2 text-gray-700",children:[n.jsx("p",{children:" Email: support@tabuloo.com"}),n.jsx("p",{children:" Phone: [Insert support number]"}),n.jsx("p",{children:" Office Address: [Insert registered office address]"})]})]}),n.jsx("div",{className:"mt-8 p-4 bg-gray-50 rounded-lg",children:n.jsx("p",{className:"text-gray-700 font-medium",children:"By using Tabuloo, you agree to all the terms outlined above."})})]})]})})},qF=()=>{const t=_s();return n.jsx("div",{className:"min-h-screen bg-gray-50",children:n.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[n.jsxs("div",{className:"mb-8",children:[n.jsxs("button",{onClick:()=>t(-1),className:"flex items-center text-red-800 hover:text-red-900 mb-4 transition-colors",children:[n.jsx(ta,{className:"h-5 w-5 mr-2"}),"Back"]}),n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Refund Policy"}),n.jsx("p",{className:"text-gray-600",children:"Last Updated: December 2024"})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8 space-y-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Overview"}),n.jsx("p",{className:"text-gray-700 leading-relaxed",children:"At Tabuloo, we strive to provide excellent service and ensure customer satisfaction. This refund policy outlines the conditions under which refunds are available for our various services."})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"1. Table Bookings"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Cancellation Timeline"}),n.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2 ml-4",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"More than 2 hours before booking:"})," 100% refund"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"1-2 hours before booking:"})," 50% refund"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Less than 1 hour before booking:"})," No refund"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"No-show:"})," No refund"]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Restaurant Cancellations"}),n.jsx("p",{className:"text-gray-700",children:"If a restaurant cancels your booking due to unforeseen circumstances (closure, special events, etc.), you will receive a 100% refund or the option to reschedule."})]})]})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"2. Food Orders"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"General Policy"}),n.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2 ml-4",children:[n.jsx("li",{children:"Food orders are generally non-refundable once accepted by the restaurant"}),n.jsx("li",{children:"Exceptions may apply for quality issues or incorrect orders"}),n.jsx("li",{children:"Pre-orders can be cancelled up to 30 minutes before pickup time"})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Quality Issues"}),n.jsx("p",{className:"text-gray-700",children:"If you receive food that is clearly spoiled, contaminated, or significantly different from what was ordered, contact our support team within 2 hours of receiving the order. We will work with the restaurant to provide a refund or replacement."})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Wrong Orders"}),n.jsx("p",{className:"text-gray-700",children:"If you receive the wrong order, contact us immediately. We will coordinate with the restaurant to provide the correct order or a full refund."})]})]})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"3. Event Bookings"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Cancellation Policy"}),n.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2 ml-4",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"More than 48 hours before event:"})," 100% refund"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"24-48 hours before event:"})," 75% refund"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"12-24 hours before event:"})," 50% refund"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Less than 12 hours before event:"})," No refund"]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Special Events"}),n.jsx("p",{className:"text-gray-700",children:"For special events, corporate bookings, or large group reservations, specific terms may apply. These will be clearly communicated at the time of booking."})]})]})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"4. Platform Fees"}),n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Service Charges"}),n.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2 ml-4",children:[n.jsx("li",{children:"Platform fees are non-refundable unless the entire order is cancelled"}),n.jsx("li",{children:"Processing fees charged by payment gateways are non-refundable"}),n.jsx("li",{children:"In case of full refunds, platform fees will be refunded"})]})]})})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"5. Refund Processing"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Timeline"}),n.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2 ml-4",children:[n.jsx("li",{children:"Refunds are processed within 5-7 business days"}),n.jsx("li",{children:"Credit card refunds may take 7-10 business days to appear on your statement"}),n.jsx("li",{children:"UPI refunds are typically processed within 24-48 hours"})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Refund Method"}),n.jsx("p",{className:"text-gray-700",children:"Refunds will be processed through the same payment method used for the original transaction. If that method is no longer available, we will contact you to arrange an alternative refund method."})]})]})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"6. Dispute Resolution"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"How to Request a Refund"}),n.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2 ml-4",children:[n.jsx("li",{children:"Contact our support team via email: support@tabuloo.com"}),n.jsx("li",{children:"Include your order/booking ID and reason for refund"}),n.jsx("li",{children:"Provide any relevant photos or documentation"}),n.jsx("li",{children:"We will review your request within 24 hours"})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Appeals"}),n.jsx("p",{className:"text-gray-700",children:"If your refund request is denied, you may appeal the decision by providing additional information or documentation. Our team will review your appeal within 48 hours."})]})]})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"7. Exceptions"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Force Majeure"}),n.jsx("p",{className:"text-gray-700",children:"In cases of natural disasters, government orders, or other force majeure events, refund policies may be adjusted. We will communicate any changes promptly."})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Goodwill Refunds"}),n.jsx("p",{className:"text-gray-700",children:"Tabuloo may offer goodwill refunds or credits in special circumstances at our sole discretion, even when standard refund policies do not apply."})]})]})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"8. Contact Information"}),n.jsxs("div",{className:"space-y-2 text-gray-700",children:[n.jsx("p",{children:" Email: support@tabuloo.com"}),n.jsx("p",{children:" Phone: [Customer Care Number]"}),n.jsx("p",{children:" Support Hours: 9:00 AM - 9:00 PM (IST)"}),n.jsx("p",{children:" Address: [Your Registered Office Address]"})]})]}),n.jsxs("div",{className:"mt-8 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[n.jsx("h3",{className:"text-lg font-semibold text-yellow-800 mb-2",children:"Important Note"}),n.jsx("p",{className:"text-yellow-700",children:"This refund policy is subject to change. Any updates will be posted on our platform with an updated effective date. Continued use of our services constitutes acceptance of the updated policy."})]})]})]})})},HF=()=>{const t=_s();return n.jsx("div",{className:"min-h-screen bg-gray-50",children:n.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[n.jsxs("div",{className:"mb-8",children:[n.jsxs("button",{onClick:()=>t(-1),className:"flex items-center text-red-800 hover:text-red-900 mb-4 transition-colors",children:[n.jsx(ta,{className:"h-5 w-5 mr-2"}),"Back"]}),n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Shipping & Delivery Policy"}),n.jsx("p",{className:"text-gray-600",children:"Last Updated: December 2024"})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8 space-y-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"1. Overview"}),n.jsx("p",{className:"text-gray-700 leading-relaxed",children:"At Tabuloo, we understand the importance of timely delivery and excellent service. This shipping and delivery policy outlines our delivery standards, timeframes, and service areas for both food delivery and table reservations."})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"2. Food Delivery Service"}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Delivery Areas"}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[n.jsx("h4",{className:"font-semibold text-green-800 mb-2",children:"Primary Service Areas"}),n.jsxs("ul",{className:"text-sm text-green-700 space-y-1",children:[n.jsx("li",{children:" Madanapalle City"}),n.jsx("li",{children:" Devalam Extation"}),n.jsx("li",{children:" Chittoor City"}),n.jsx("li",{children:" Palamaner"}),n.jsx("li",{children:" Punganur"}),n.jsx("li",{children:" Thamballapalle"})]})]}),n.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg border border-yellow-200",children:[n.jsx("h4",{className:"font-semibold text-yellow-800 mb-2",children:"Extended Areas"}),n.jsxs("ul",{className:"text-sm text-yellow-700 space-y-1",children:[n.jsx("li",{children:" Tirupati"}),n.jsx("li",{children:" Puttur"}),n.jsx("li",{children:" Vayalpad"}),n.jsx("li",{children:" Kuppam"})]}),n.jsx("p",{className:"text-xs text-yellow-600 mt-2",children:"* Additional delivery fee may apply"})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Delivery Timeframes"}),n.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[n.jsx(At,{className:"h-8 w-8 text-blue-600 mx-auto mb-2"}),n.jsx("h4",{className:"font-semibold text-blue-800",children:"Standard Delivery"}),n.jsx("p",{className:"text-sm text-blue-700",children:"30-45 minutes"})]}),n.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[n.jsx(Wi,{className:"h-8 w-8 text-green-600 mx-auto mb-2"}),n.jsx("h4",{className:"font-semibold text-green-800",children:"Express Delivery"}),n.jsx("p",{className:"text-sm text-green-700",children:"20-30 minutes"})]}),n.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[n.jsx(Wd,{className:"h-8 w-8 text-purple-600 mx-auto mb-2"}),n.jsx("h4",{className:"font-semibold text-purple-800",children:"Scheduled Delivery"}),n.jsx("p",{className:"text-sm text-purple-700",children:"Pre-booked time"})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Delivery Charges"}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full border border-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-900 border-b",children:"Distance"}),n.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-900 border-b",children:"Standard Fee"}),n.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-900 border-b",children:"Express Fee"}),n.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-900 border-b",children:"Free Delivery"})]})}),n.jsxs("tbody",{className:"text-sm text-gray-700",children:[n.jsxs("tr",{children:[n.jsx("td",{className:"px-4 py-2 border-b",children:"0-3 km"}),n.jsx("td",{className:"px-4 py-2 border-b",children:"30"}),n.jsx("td",{className:"px-4 py-2 border-b",children:"50"}),n.jsx("td",{className:"px-4 py-2 border-b",children:"Orders above 200"})]}),n.jsxs("tr",{children:[n.jsx("td",{className:"px-4 py-2 border-b",children:"3-5 km"}),n.jsx("td",{className:"px-4 py-2 border-b",children:"50"}),n.jsx("td",{className:"px-4 py-2 border-b",children:"70"}),n.jsx("td",{className:"px-4 py-2 border-b",children:"Orders above 300"})]}),n.jsxs("tr",{children:[n.jsx("td",{className:"px-4 py-2 border-b",children:"5-8 km"}),n.jsx("td",{className:"px-4 py-2 border-b",children:"70"}),n.jsx("td",{className:"px-4 py-2 border-b",children:"90"}),n.jsx("td",{className:"px-4 py-2 border-b",children:"Orders above 500"})]}),n.jsxs("tr",{children:[n.jsx("td",{className:"px-4 py-2 border-b",children:"8+ km"}),n.jsx("td",{className:"px-4 py-2 border-b",children:"100"}),n.jsx("td",{className:"px-4 py-2 border-b",children:"120"}),n.jsx("td",{className:"px-4 py-2 border-b",children:"Not available"})]})]})]})})]})]})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"3. Table Reservation Service"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Reservation Timeframes"}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[n.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:"Advance Booking"}),n.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[n.jsx("li",{children:" Up to 30 days in advance"}),n.jsx("li",{children:" Preferred for special occasions"}),n.jsx("li",{children:" Guaranteed table availability"})]})]}),n.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[n.jsx("h4",{className:"font-semibold text-green-800 mb-2",children:"Same Day Booking"}),n.jsxs("ul",{className:"text-sm text-green-700 space-y-1",children:[n.jsx("li",{children:" Available up to 2 hours before"}),n.jsx("li",{children:" Subject to availability"}),n.jsx("li",{children:" Real-time table status"})]})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Reservation Policies"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(qi,{className:"h-5 w-5 text-green-600 mt-0.5"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"Table Holding"}),n.jsx("p",{className:"text-sm text-gray-700",children:"Your table will be held for 15 minutes beyond your scheduled time."})]})]}),n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(qi,{className:"h-5 w-5 text-green-600 mt-0.5"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"Group Bookings"}),n.jsx("p",{className:"text-sm text-gray-700",children:"Special arrangements available for groups of 8+ people with advance notice."})]})]}),n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(v9,{className:"h-5 w-5 text-yellow-600 mt-0.5"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"No-Show Policy"}),n.jsx("p",{className:"text-sm text-gray-700",children:"Repeated no-shows may result in booking restrictions."})]})]})]})]})]})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"4. Delivery Standards"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Food Safety & Packaging"}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg",children:[n.jsx("h4",{className:"font-semibold text-orange-800 mb-2",children:"Temperature Control"}),n.jsxs("ul",{className:"text-sm text-orange-700 space-y-1",children:[n.jsx("li",{children:" Hot food maintained at 60C+"}),n.jsx("li",{children:" Cold items kept at 4C or below"}),n.jsx("li",{children:" Insulated delivery bags"}),n.jsx("li",{children:" Temperature monitoring"})]})]}),n.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[n.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:"Packaging Standards"}),n.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[n.jsx("li",{children:" Tamper-evident packaging"}),n.jsx("li",{children:" Leak-proof containers"}),n.jsx("li",{children:" Eco-friendly materials"}),n.jsx("li",{children:" Proper labeling"})]})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Delivery Partner Standards"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(Wd,{className:"h-5 w-5 text-green-600 mt-0.5"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"Safety Protocols"}),n.jsx("p",{className:"text-sm text-gray-700",children:"All delivery partners follow strict hygiene and safety protocols."})]})]}),n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(Be,{className:"h-5 w-5 text-blue-600 mt-0.5"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"Real-time Tracking"}),n.jsx("p",{className:"text-sm text-gray-700",children:"Track your order in real-time through our app."})]})]}),n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(At,{className:"h-5 w-5 text-purple-600 mt-0.5"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"Contactless Delivery"}),n.jsx("p",{className:"text-sm text-gray-700",children:"Contactless delivery option available for all orders."})]})]})]})]})]})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"5. Service Hours"}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Food Delivery"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[n.jsx("span",{className:"font-medium",children:"Monday - Friday"}),n.jsx("span",{className:"text-gray-700",children:"10:00 AM - 11:00 PM"})]}),n.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[n.jsx("span",{className:"font-medium",children:"Saturday - Sunday"}),n.jsx("span",{className:"text-gray-700",children:"9:00 AM - 12:00 AM"})]}),n.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[n.jsx("span",{className:"font-medium",children:"Public Holidays"}),n.jsx("span",{className:"text-gray-700",children:"10:00 AM - 11:00 PM"})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Table Reservations"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[n.jsx("span",{className:"font-medium",children:"Advance Booking"}),n.jsx("span",{className:"text-gray-700",children:"24/7 Online"})]}),n.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[n.jsx("span",{className:"font-medium",children:"Same Day Booking"}),n.jsx("span",{className:"text-gray-700",children:"Until 8:00 PM"})]}),n.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[n.jsx("span",{className:"font-medium",children:"Customer Support"}),n.jsx("span",{className:"text-gray-700",children:"9:00 AM - 9:00 PM"})]})]})]})]})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"6. Delivery Issues & Support"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Common Issues"}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"bg-red-50 p-4 rounded-lg",children:[n.jsx("h4",{className:"font-semibold text-red-800 mb-2",children:"Late Delivery"}),n.jsx("p",{className:"text-sm text-red-700",children:"If your order is delayed by more than 15 minutes, contact us immediately for compensation."})]}),n.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[n.jsx("h4",{className:"font-semibold text-yellow-800 mb-2",children:"Wrong Order"}),n.jsx("p",{className:"text-sm text-yellow-700",children:"Report incorrect items within 30 minutes of delivery for immediate replacement."})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Contact Information"}),n.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[n.jsx("p",{className:"text-sm text-blue-800 mb-3",children:"For delivery-related issues, contact our support team:"}),n.jsxs("div",{className:"space-y-2 text-sm text-blue-700",children:[n.jsx("p",{children:" Email: delivery@tabuloo.com"}),n.jsx("p",{children:" Phone: +91 91009 33477"}),n.jsx("p",{children:" Support Hours: 9:00 AM - 9:00 PM (IST)"})]})]})]})]})]}),n.jsxs("div",{className:"mt-8 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[n.jsx("h3",{className:"text-lg font-semibold text-yellow-800 mb-2",children:"Important Notes"}),n.jsxs("ul",{className:"text-sm text-yellow-700 space-y-1",children:[n.jsx("li",{children:" Delivery times may vary during peak hours and adverse weather conditions"}),n.jsx("li",{children:" Some restaurants may have different delivery areas and timeframes"}),n.jsx("li",{children:" Table reservations are subject to restaurant availability"}),n.jsx("li",{children:" We reserve the right to modify delivery areas and charges based on operational requirements"})]})]})]})]})})},WF=()=>{const t=_s();return n.jsx("div",{className:"min-h-screen bg-gray-50",children:n.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[n.jsxs("div",{className:"mb-8",children:[n.jsxs("button",{onClick:()=>t(-1),className:"flex items-center text-red-800 hover:text-red-900 mb-4 transition-colors",children:[n.jsx(ta,{className:"h-5 w-5 mr-2"}),"Back"]}),n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"About Tabuloo"}),n.jsx("p",{className:"text-gray-600",children:"Revolutionizing the dining experience"})]}),n.jsx("div",{className:"bg-gradient-to-r from-red-800 to-red-900 rounded-lg p-8 text-white mb-8",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Our Mission"}),n.jsx("p",{className:"text-lg leading-relaxed",children:"To connect food lovers with exceptional dining experiences through innovative technology, making every meal memorable and every reservation seamless."})]})}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8 space-y-8",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Our Story"}),n.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"Founded in 2024, Tabuloo emerged from a simple observation: dining out should be effortless and enjoyable. We noticed that despite the digital age, booking tables, ordering food, and coordinating group events remained fragmented and often frustrating experiences."}),n.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Our team of food enthusiasts and technology experts came together to create a comprehensive platform that streamlines every aspect of the dining journey. From individual table bookings to large event coordination, Tabuloo serves as the bridge between diners and restaurants, ensuring both parties have the best possible experience."})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"What We Do"}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Table Reservations"}),n.jsx("p",{className:"text-gray-700",children:"Instant table booking at partner restaurants with real-time availability and flexible scheduling options."})]}),n.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Food Ordering"}),n.jsx("p",{className:"text-gray-700",children:"Pre-order meals for pickup or dine-in, with customizable options and dietary preferences."})]}),n.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Event Management"}),n.jsx("p",{className:"text-gray-700",children:"Coordinate group dining experiences, corporate events, and special celebrations with ease."})]}),n.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Social Dining"}),n.jsx("p",{className:"text-gray-700",children:"Connect with friends, plan group outings, and share dining experiences seamlessly."})]})]})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-6",children:"Our Values"}),n.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"bg-red-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(Zn,{className:"h-8 w-8 text-red-800"})}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Community First"}),n.jsx("p",{className:"text-gray-700",children:"We believe in building strong relationships between diners, restaurants, and our platform."})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"bg-red-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(Vp,{className:"h-8 w-8 text-red-800"})}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Innovation"}),n.jsx("p",{className:"text-gray-700",children:"Continuously improving our technology to provide the best possible user experience."})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"bg-red-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(b9,{className:"h-8 w-8 text-red-800"})}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Quality"}),n.jsx("p",{className:"text-gray-700",children:"Partnering only with restaurants that meet our high standards for food and service."})]})]})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Our Impact"}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 p-6 rounded-lg",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"For Diners"}),n.jsxs("ul",{className:"text-gray-700 space-y-2",children:[n.jsx("li",{children:" Seamless booking experience"}),n.jsx("li",{children:" Time-saving pre-ordering"}),n.jsx("li",{children:" Better dining coordination"}),n.jsx("li",{children:" Access to exclusive offers"})]})]}),n.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-6 rounded-lg",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"For Restaurants"}),n.jsxs("ul",{className:"text-gray-700 space-y-2",children:[n.jsx("li",{children:" Increased table utilization"}),n.jsx("li",{children:" Reduced no-shows"}),n.jsx("li",{children:" Better customer insights"}),n.jsx("li",{children:" Streamlined operations"})]})]})]})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Our Technology"}),n.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"Tabuloo leverages cutting-edge technology to provide a seamless dining experience:"}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Real-time Integration"}),n.jsx("p",{className:"text-gray-700 text-sm",children:"Live synchronization with restaurant systems for accurate availability and instant confirmations."})]}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Smart Recommendations"}),n.jsx("p",{className:"text-gray-700 text-sm",children:"AI-powered suggestions based on your preferences, location, and dining history."})]}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Secure Payments"}),n.jsx("p",{className:"text-gray-700 text-sm",children:"Multiple payment options with bank-grade security and fraud protection."})]}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Mobile-First Design"}),n.jsx("p",{className:"text-gray-700 text-sm",children:"Optimized for mobile devices with intuitive navigation and fast loading times."})]})]})]}),n.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 p-6 rounded-lg",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Our Vision"}),n.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"We envision a world where dining out is always effortless, enjoyable, and memorable. Our goal is to become the go-to platform for all dining-related activities, from casual meals to grand celebrations."}),n.jsxs("div",{className:"flex items-center justify-center",children:[n.jsx(E9,{className:"h-8 w-8 text-red-800 mr-3"}),n.jsx("span",{className:"text-gray-700 font-medium",children:"Expanding across India and beyond, one table at a time."})]})]}),n.jsxs("div",{className:"text-center bg-red-50 p-6 rounded-lg",children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Get in Touch"}),n.jsx("p",{className:"text-gray-700 mb-4",children:"Have questions about Tabuloo? We'd love to hear from you!"}),n.jsx("button",{onClick:()=>t("/contact"),className:"bg-gradient-to-r from-red-800 to-red-900 text-white px-6 py-3 rounded-lg hover:from-red-900 hover:to-red-950 transition-all font-medium",children:"Contact Us"})]})]})]})})},GF=()=>{const t=_s(),[e,s]=T.useState({name:"",email:"",phone:"",subject:"",message:""}),[r,i]=T.useState(!1),a=l=>{const{name:c,value:d}=l.target;s(h=>({...h,[c]:d}))},o=async l=>{l.preventDefault(),i(!0),setTimeout(()=>{M.success("Thank you for your message! We'll get back to you soon."),s({name:"",email:"",phone:"",subject:"",message:""}),i(!1)},2e3)};return n.jsx("div",{className:"min-h-screen bg-gray-50",children:n.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[n.jsxs("div",{className:"mb-8",children:[n.jsxs("button",{onClick:()=>t(-1),className:"flex items-center text-red-800 hover:text-red-900 mb-4 transition-colors",children:[n.jsx(ta,{className:"h-5 w-5 mr-2"}),"Back"]}),n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Contact Us"}),n.jsx("p",{className:"text-gray-600",children:"We'd love to hear from you. Get in touch with us!"})]}),n.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Get in Touch"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-start space-x-4",children:[n.jsx("div",{className:"bg-red-100 p-3 rounded-full",children:n.jsx(wc,{className:"h-6 w-6 text-red-800"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:"Email"}),n.jsx("p",{className:"text-gray-700",children:"support@tabuloo.com"}),n.jsx("p",{className:"text-gray-700",children:"business@tabuloo.com"})]})]}),n.jsxs("div",{className:"flex items-start space-x-4",children:[n.jsx("div",{className:"bg-red-100 p-3 rounded-full",children:n.jsx(jr,{className:"h-6 w-6 text-red-800"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:"Phone"}),n.jsx("p",{className:"text-gray-700",children:"+91 91009 33477"})]})]}),n.jsxs("div",{className:"flex items-start space-x-4",children:[n.jsx("div",{className:"bg-red-100 p-3 rounded-full",children:n.jsx(Be,{className:"h-6 w-6 text-red-800"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:"Office Address"}),n.jsxs("p",{className:"text-gray-700",children:["Tabuloo Technologies Pvt. Ltd.",n.jsx("br",{}),"6-237-98-79, Devalam Extation",n.jsx("br",{}),"Madanapalle, Madanapalle",n.jsx("br",{}),"Chittoor- 517325",n.jsx("br",{}),"Andhra Pradesh, India"]})]})]}),n.jsxs("div",{className:"flex items-start space-x-4",children:[n.jsx("div",{className:"bg-red-100 p-3 rounded-full",children:n.jsx(At,{className:"h-6 w-6 text-red-800"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:"Business Hours"}),n.jsx("p",{className:"text-gray-700",children:"Monday - Friday: 9:00 AM - 6:00 PM"}),n.jsx("p",{className:"text-gray-700",children:"Saturday: 10:00 AM - 4:00 PM"}),n.jsx("p",{className:"text-gray-700",children:"Sunday: Closed"})]})]})]})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"How Can We Help?"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Customer Support"}),n.jsx("p",{className:"text-gray-700 text-sm",children:"For order issues, refunds, and general inquiries"})]}),n.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Restaurant Partnerships"}),n.jsx("p",{className:"text-gray-700 text-sm",children:"For restaurants interested in partnering with us"})]}),n.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Technical Support"}),n.jsx("p",{className:"text-gray-700 text-sm",children:"For app issues, bugs, and technical problems"})]}),n.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Business Inquiries"}),n.jsx("p",{className:"text-gray-700 text-sm",children:"For partnerships, investments, and business opportunities"})]})]})]}),n.jsxs("div",{className:"bg-gradient-to-r from-red-800 to-red-900 rounded-lg p-6 text-white",children:[n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Quick Help"}),n.jsx("p",{className:"mb-4",children:"Find answers to common questions in our FAQ section."}),n.jsx("button",{onClick:()=>t("/faq"),className:"bg-white text-red-800 px-4 py-2 rounded-lg font-medium hover:bg-gray-100 transition-colors",children:"View FAQ"})]})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Send us a Message"}),n.jsxs("form",{onSubmit:o,className:"space-y-4",children:[n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name *"}),n.jsx("input",{type:"text",id:"name",name:"name",value:e.name,onChange:a,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Enter your full name"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address *"}),n.jsx("input",{type:"email",id:"email",name:"email",value:e.email,onChange:a,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Enter your email"})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),n.jsx("input",{type:"tel",id:"phone",name:"phone",value:e.phone,onChange:a,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Enter your phone number"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-700 mb-1",children:"Subject *"}),n.jsxs("select",{id:"subject",name:"subject",value:e.subject,onChange:a,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent",children:[n.jsx("option",{value:"",children:"Select a subject"}),n.jsx("option",{value:"general",children:"General Inquiry"}),n.jsx("option",{value:"support",children:"Customer Support"}),n.jsx("option",{value:"partnership",children:"Restaurant Partnership"}),n.jsx("option",{value:"technical",children:"Technical Issue"}),n.jsx("option",{value:"business",children:"Business Inquiry"}),n.jsx("option",{value:"feedback",children:"Feedback"}),n.jsx("option",{value:"other",children:"Other"})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-1",children:"Message *"}),n.jsx("textarea",{id:"message",name:"message",value:e.message,onChange:a,required:!0,rows:6,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Tell us how we can help you..."})]}),n.jsx("button",{type:"submit",disabled:r,className:"w-full bg-gradient-to-r from-red-800 to-red-900 text-white py-3 px-6 rounded-lg font-medium hover:from-red-900 hover:to-red-950 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:r?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Sending..."]}):n.jsxs(n.Fragment,{children:[n.jsx(A9,{className:"h-5 w-5 mr-2"}),"Send Message"]})})]})]})]}),n.jsxs("div",{className:"mt-8 bg-white rounded-lg shadow-sm p-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Follow Us"}),n.jsxs("div",{className:"flex space-x-4",children:[n.jsxs("a",{href:"#",className:"bg-blue-600 text-white p-3 rounded-full hover:bg-blue-700 transition-colors",children:[n.jsx("span",{className:"sr-only",children:"Facebook"}),n.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})})]}),n.jsxs("a",{href:"#",className:"bg-pink-600 text-white p-3 rounded-full hover:bg-pink-700 transition-colors",children:[n.jsx("span",{className:"sr-only",children:"Instagram"}),n.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M12.017 0C5.396 0 .029 5.367.029 11.987c0 6.62 5.367 11.987 11.988 11.987 6.62 0 11.987-5.367 11.987-11.987C24.014 5.367 18.637.001 12.017.001zM8.449 16.988c-1.297 0-2.448-.49-3.323-1.297C4.198 14.895 3.708 13.744 3.708 12.447s.49-2.448 1.297-3.323c.875-.807 2.026-1.297 3.323-1.297s2.448.49 3.323 1.297c.807.875 1.297 2.026 1.297 3.323s-.49 2.448-1.297 3.323c-.875.807-2.026 1.297-3.323 1.297zm7.718-1.297c-.875.807-2.026 1.297-3.323 1.297s-2.448-.49-3.323-1.297c-.807-.875-1.297-2.026-1.297-3.323s.49-2.448 1.297-3.323c.875-.807 2.026-1.297 3.323-1.297s2.448.49 3.323 1.297c.807.875 1.297 2.026 1.297 3.323s-.49 2.448-1.297 3.323z"})})]}),n.jsxs("a",{href:"#",className:"bg-blue-400 text-white p-3 rounded-full hover:bg-blue-500 transition-colors",children:[n.jsx("span",{className:"sr-only",children:"Twitter"}),n.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"})})]}),n.jsxs("a",{href:"#",className:"bg-blue-700 text-white p-3 rounded-full hover:bg-blue-800 transition-colors",children:[n.jsx("span",{className:"sr-only",children:"LinkedIn"}),n.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})})]})]})]})]})})},KF=({isOpen:t,onClose:e})=>{const{user:s}=Vt(),{addEventRequirement:r}=Us(),[i,a]=T.useState({eventType:"wedding",eventDate:"",location:"",guestCount:50,budget:{min:1e4,max:5e4,currency:"INR"},notes:"",priority:"medium"}),[o,l]=T.useState([]),[c,d]=T.useState(!1),[h,f]=T.useState({}),m=[{value:"wedding",label:"Wedding",icon:""},{value:"birthday",label:"Birthday",icon:""},{value:"corporate",label:"Corporate",icon:""},{value:"parties",label:"Parties",icon:""},{value:"others",label:"Others",icon:""}],p=[{value:"low",label:"Low",color:"text-green-600"},{value:"medium",label:"Medium",color:"text-yellow-600"},{value:"high",label:"High",color:"text-red-600"}],_=(x,E)=>{if(x.includes(".")){const[I,L]=x.split(".");a(C=>({...C,[I]:{...C[I],[L]:E}}))}else a(I=>({...I,[x]:E}));h[x]&&f(I=>({...I,[x]:""}))},N=x=>{const I=Array.from(x.target.files||[]).filter(L=>L.size>5*1024*1024?(M.error(`${L.name} is too large. Maximum size is 5MB.`),!1):L.type.startsWith("image/")?!0:(M.error(`${L.name} is not an image file.`),!1));if(o.length+I.length>5){M.error("Maximum 5 images allowed.");return}l(L=>[...L,...I])},y=x=>{l(E=>E.filter((I,L)=>L!==x))},b=()=>{const x={};return i.eventDate?new Date(i.eventDate)<=new Date&&(x.eventDate="Event date must be in the future"):x.eventDate="Event date is required",i.location.trim()||(x.location="Location is required"),i.guestCount<1&&(x.guestCount="Guest count must be at least 1"),i.budget.min<0&&(x.budgetMin="Minimum budget cannot be negative"),i.budget.max<i.budget.min&&(x.budgetMax="Maximum budget must be greater than minimum budget"),i.notes.trim()||(x.notes="Please provide some details about your event"),f(x),Object.keys(x).length===0},v=async x=>{if(x.preventDefault(),!!b()){if(!s){M.error("Please sign in to post a requirement");return}d(!0);try{const E=o.map(L=>new Promise(C=>{const j=new FileReader;j.onload=()=>C(j.result),j.readAsDataURL(L)})),I=await Promise.all(E);await r({userId:s.uid,eventType:i.eventType,eventDate:i.eventDate,location:i.location,guestCount:i.guestCount,budget:i.budget,notes:i.notes,images:I,status:"open",priority:i.priority}),M.success("Event requirement posted successfully!"),e(),a({eventType:"wedding",eventDate:"",location:"",guestCount:50,budget:{min:1e4,max:5e4,currency:"INR"},notes:"",priority:"medium"}),l([]),f({})}catch(E){console.error("Error posting requirement:",E),M.error("Failed to post requirement. Please try again.")}finally{d(!1)}}};return t?n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center p-6 border-b sticky top-0 bg-white",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Post Your Event Requirement"}),n.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",disabled:c,children:n.jsx(mt,{className:"h-6 w-6"})})]}),n.jsxs("form",{onSubmit:v,className:"p-6 space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Event Type *"}),n.jsx("div",{className:"grid grid-cols-5 gap-3",children:m.map(x=>n.jsxs("button",{type:"button",onClick:()=>_("eventType",x.value),className:`p-3 rounded-lg border-2 transition-colors text-center ${i.eventType===x.value?"border-red-500 bg-red-50 text-red-700":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:[n.jsx("div",{className:"text-2xl mb-1",children:x.icon}),n.jsx("div",{className:"text-xs font-medium",children:x.label})]},x.value))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Event Date *"}),n.jsxs("div",{className:"relative",children:[n.jsx(lt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),n.jsx("input",{type:"date",value:i.eventDate,onChange:x=>_("eventDate",x.target.value),className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 ${h.eventDate?"border-red-500":"border-gray-300"}`,min:new Date().toISOString().split("T")[0]})]}),h.eventDate&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.eventDate})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location *"}),n.jsxs("div",{className:"relative",children:[n.jsx(Be,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),n.jsx("input",{type:"text",value:i.location,onChange:x=>_("location",x.target.value),placeholder:"Enter event location",className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 ${h.location?"border-red-500":"border-gray-300"}`})]}),h.location&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.location})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Expected Guest Count *"}),n.jsxs("div",{className:"relative",children:[n.jsx(Zn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),n.jsx("input",{type:"number",value:i.guestCount,onChange:x=>_("guestCount",parseInt(x.target.value)),min:"1",max:"1000",className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 ${h.guestCount?"border-red-500":"border-gray-300"}`})]}),h.guestCount&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.guestCount})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Budget Range *"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Minimum Budget"}),n.jsxs("div",{className:"relative",children:[n.jsx(Jn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),n.jsx("input",{type:"number",value:i.budget.min,onChange:x=>_("budget.min",parseInt(x.target.value)),min:"0",className:`w-full pl-8 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 ${h.budgetMin?"border-red-500":"border-gray-300"}`})]}),h.budgetMin&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.budgetMin})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Maximum Budget"}),n.jsxs("div",{className:"relative",children:[n.jsx(Jn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),n.jsx("input",{type:"number",value:i.budget.max,onChange:x=>_("budget.max",parseInt(x.target.value)),min:"0",className:`w-full pl-8 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 ${h.budgetMax?"border-red-500":"border-gray-300"}`})]}),h.budgetMax&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.budgetMax})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority Level"}),n.jsx("div",{className:"grid grid-cols-3 gap-3",children:p.map(x=>n.jsx("button",{type:"button",onClick:()=>_("priority",x.value),className:`p-3 rounded-lg border-2 transition-colors text-center ${i.priority===x.value?"border-red-500 bg-red-50 text-red-700":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:n.jsx("div",{className:`font-medium ${x.color}`,children:x.label})},x.value))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Event Details *"}),n.jsxs("div",{className:"relative",children:[n.jsx(j9,{className:"absolute left-3 top-3 text-gray-400 h-5 w-5"}),n.jsx("textarea",{value:i.notes,onChange:x=>_("notes",x.target.value),placeholder:"Describe your event, special requirements, theme, etc.",rows:4,className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 resize-none ${h.notes?"border-red-500":"border-gray-300"}`})]}),h.notes&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.notes})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Event Images (Optional)"}),n.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[n.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:N,className:"hidden",id:"image-upload",disabled:o.length>=5}),n.jsxs("label",{htmlFor:"image-upload",className:`cursor-pointer inline-flex flex-col items-center ${o.length>=5?"opacity-50 cursor-not-allowed":"hover:text-red-600"}`,children:[n.jsx(tT,{className:"h-8 w-8 mb-2"}),n.jsx("span",{className:"text-sm text-gray-600",children:o.length>=5?"Maximum 5 images uploaded":"Click to upload images (max 5)"}),n.jsx("span",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG up to 5MB each"})]})]}),o.length>0&&n.jsx("div",{className:"mt-4",children:n.jsx("div",{className:"grid grid-cols-5 gap-2",children:o.map((x,E)=>n.jsxs("div",{className:"relative group",children:[n.jsx("img",{src:URL.createObjectURL(x),alt:`Preview ${E+1}`,className:"w-full h-20 object-cover rounded-lg"}),n.jsx("button",{type:"button",onClick:()=>y(E),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:n.jsx(mt,{className:"h-4 w-4"})})]},E))})})]}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[n.jsx("button",{type:"button",onClick:e,className:"px-6 py-3 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",disabled:c,children:"Cancel"}),n.jsx("button",{type:"submit",disabled:c,className:"px-6 py-3 bg-red-600 hover:bg-red-700 text-white rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:c?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),n.jsx("span",{children:"Posting..."})]}):n.jsx(n.Fragment,{children:n.jsx("span",{children:"Post Requirement"})})})]})]})]})}):null},QF=({isOpen:t,onClose:e})=>{const{user:s}=Vt(),{addEventManager:r}=Us(),[i,a]=T.useState({businessName:"",description:"",experience:1,location:"",contactInfo:{phone:"",email:"",website:""},services:[],pricing:{basePrice:1e4,packages:[]}}),[o,l]=T.useState([]),[c,d]=T.useState(!1),[h,f]=T.useState({}),m=(v,x)=>{if(v.includes(".")){const[E,I]=v.split(".");a(L=>({...L,[E]:{...L[E],[I]:x}}))}else a(E=>({...E,[v]:x}));h[v]&&f(E=>({...E,[v]:""}))},p=()=>{a(v=>({...v,services:[...v.services,{name:"",description:"",price:0,duration:""}]}))},_=(v,x,E)=>{a(I=>({...I,services:I.services.map((L,C)=>C===v?{...L,[x]:E}:L)}))},N=v=>{a(x=>({...x,services:x.services.filter((E,I)=>I!==v)}))},y=()=>{const v={};return i.businessName.trim()||(v.businessName="Business name is required"),i.description.trim()||(v.description="Description is required"),i.location.trim()||(v.location="Location is required"),i.contactInfo.phone.trim()||(v.phone="Phone number is required"),i.contactInfo.email.trim()||(v.email="Email is required"),f(v),Object.keys(v).length===0},b=async v=>{if(v.preventDefault(),!!y()){if(!s){M.error("Please sign in to post your service");return}d(!0);try{const x=await Promise.all(o.map(E=>new Promise(I=>{const L=new FileReader;L.onload=()=>I(L.result),L.readAsDataURL(E)})));await r({userId:s.id,businessName:i.businessName,description:i.description,categories:[],experience:i.experience,location:i.location,contactInfo:i.contactInfo,portfolio:{images:x,videos:[],pastEvents:[]},services:i.services,availability:{dates:[],timeSlots:[]},pricing:i.pricing,rating:0,reviews:0,verified:!1,featured:!1,status:"pending"}),M.success("Event manager profile created successfully! Pending admin approval."),e(),a({businessName:"",description:"",experience:1,location:"",contactInfo:{phone:"",email:"",website:""},services:[],pricing:{basePrice:1e4,packages:[]}}),l([]),f({})}catch(x){console.error("Error creating event manager profile:",x),M.error("Failed to create profile. Please try again.")}finally{d(!1)}}};return t?n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Create Event Manager Profile"}),n.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",disabled:c,children:n.jsx(mt,{className:"h-6 w-6"})})]}),n.jsxs("form",{onSubmit:b,className:"p-6 space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Name *"}),n.jsxs("div",{className:"relative",children:[n.jsx(n0,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),n.jsx("input",{type:"text",value:i.businessName,onChange:v=>m("businessName",v.target.value),placeholder:"Enter your business name",className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 ${h.businessName?"border-red-500":"border-gray-300"}`})]}),h.businessName&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.businessName})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Description *"}),n.jsx("textarea",{value:i.description,onChange:v=>m("description",v.target.value),placeholder:"Describe your business, expertise, and what makes you unique",rows:4,className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 resize-none ${h.description?"border-red-500":"border-gray-300"}`}),h.description&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.description})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Years of Experience"}),n.jsx("input",{type:"number",value:i.experience,onChange:v=>m("experience",parseInt(v.target.value)),min:"0",max:"50",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location *"}),n.jsxs("div",{className:"relative",children:[n.jsx(Be,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),n.jsx("input",{type:"text",value:i.location,onChange:v=>m("location",v.target.value),placeholder:"Enter your location",className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 ${h.location?"border-red-500":"border-gray-300"}`})]}),h.location&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.location})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number *"}),n.jsxs("div",{className:"relative",children:[n.jsx(jr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),n.jsx("input",{type:"tel",value:i.contactInfo.phone,onChange:v=>m("contactInfo.phone",v.target.value),placeholder:"Enter phone number",className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 ${h.phone?"border-red-500":"border-gray-300"}`})]}),h.phone&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.phone})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),n.jsxs("div",{className:"relative",children:[n.jsx(wc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),n.jsx("input",{type:"email",value:i.contactInfo.email,onChange:v=>m("contactInfo.email",v.target.value),placeholder:"Enter email address",className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 ${h.email?"border-red-500":"border-gray-300"}`})]}),h.email&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.email})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Services"}),n.jsxs("button",{type:"button",onClick:p,className:"inline-flex items-center px-3 py-2 bg-red-600 hover:bg-red-700 text-white text-sm font-medium rounded-lg transition-colors",children:[n.jsx(ls,{className:"h-4 w-4 mr-2"}),"Add Service"]})]}),i.services.length===0?n.jsx("div",{className:"text-center py-8 text-gray-500",children:n.jsx("p",{children:'No services added yet. Click "Add Service" to get started.'})}):n.jsx("div",{className:"space-y-4",children:i.services.map((v,x)=>n.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[n.jsxs("div",{className:"flex justify-between items-start mb-3",children:[n.jsxs("h4",{className:"font-medium text-gray-900",children:["Service ",x+1]}),n.jsx("button",{type:"button",onClick:()=>N(x),className:"text-red-500 hover:text-red-700 transition-colors",children:n.jsx(fo,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Service Name"}),n.jsx("input",{type:"text",value:v.name,onChange:E=>_(x,"name",E.target.value),placeholder:"e.g., Wedding Planning",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Duration"}),n.jsx("input",{type:"text",value:v.duration,onChange:E=>_(x,"duration",E.target.value),placeholder:"e.g., 6 months",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"})]})]}),n.jsxs("div",{className:"mt-3",children:[n.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Description"}),n.jsx("textarea",{value:v.description,onChange:E=>_(x,"description",E.target.value),placeholder:"Describe what this service includes",rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 resize-none"})]}),n.jsxs("div",{className:"mt-3",children:[n.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Price ()"}),n.jsx("input",{type:"number",value:v.price,onChange:E=>_(x,"price",parseInt(E.target.value)),placeholder:"0",min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"})]})]},x))})]}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[n.jsx("button",{type:"button",onClick:e,className:"px-6 py-3 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",disabled:c,children:"Cancel"}),n.jsx("button",{type:"submit",disabled:c,className:"px-6 py-3 bg-red-600 hover:bg-red-700 text-white rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:c?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),n.jsx("span",{children:"Creating Profile..."})]}):n.jsx(n.Fragment,{children:n.jsx("span",{children:"Create Profile"})})})]})]})]})}):null},YF=()=>{Vt();const{eventRequirements:t,eventManagers:e}=Us(),[s,r]=T.useState("customer"),[i,a]=T.useState(!1),[o,l]=T.useState(!1),[c,d]=T.useState(""),[h,f]=T.useState("all"),m=[{id:"all",name:"All Events",icon:lt,count:t.length},{id:"wedding",name:"Wedding",icon:YE,count:t.filter(y=>y.eventType==="wedding").length},{id:"birthday",name:"Birthday",icon:lt,count:t.filter(y=>y.eventType==="birthday").length},{id:"corporate",name:"Corporate",icon:n0,count:t.filter(y=>y.eventType==="corporate").length},{id:"parties",name:"Parties",icon:Hi,count:t.filter(y=>y.eventType==="parties").length},{id:"others",name:"Others",icon:R9,count:t.filter(y=>y.eventType==="others").length}],_=(h==="all"?e.filter(y=>y.status==="approved"):e.filter(y=>y.status==="approved"&&y.categories.includes(h))).filter(y=>y.featured).slice(0,6).map(y=>({id:y.id,name:y.businessName,category:y.categories.join(" & "),location:y.location,rating:y.rating,reviews:y.reviews,experience:`${y.experience}+ years`,startingPrice:`${y.pricing.basePrice.toLocaleString()}`,image:y.portfolio.images[0]||"/api/placeholder/300/200",verified:y.verified,featured:y.featured})),N=y=>{y.preventDefault(),console.log("Searching for:",c)};return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:"bg-gradient-to-r from-red-800 to-red-900 text-white",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Xt.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-4xl sm:text-5xl md:text-6xl font-bold mb-6",children:"Event Planning Made Simple"}),n.jsx(Xt.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"text-xl sm:text-2xl text-red-100 mb-8 max-w-3xl mx-auto",children:"Connect with professional event managers or post your requirements. From intimate gatherings to grand celebrations, we've got you covered."}),n.jsx(Xt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"max-w-2xl mx-auto",children:n.jsxs("form",{onSubmit:N,className:"flex",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(Dp,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),n.jsx("input",{type:"text",value:c,onChange:y=>d(y.target.value),placeholder:"Search for event managers, services, or requirements...",className:"w-full pl-10 pr-4 py-3 text-gray-900 rounded-l-lg focus:outline-none focus:ring-2 focus:ring-red-500"})]}),n.jsx("button",{type:"submit",className:"px-6 py-3 bg-red-600 hover:bg-red-700 text-white font-medium rounded-r-lg transition-colors",children:"Search"})]})})]})})}),n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n.jsx("div",{className:"flex justify-center mb-8",children:n.jsxs("div",{className:"bg-white rounded-lg p-1 shadow-sm",children:[n.jsx("button",{onClick:()=>r("customer"),className:`px-6 py-3 rounded-md font-medium transition-colors ${s==="customer"?"bg-red-600 text-white shadow-sm":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:" I Need Event Manager"}),n.jsx("button",{onClick:()=>r("manager"),className:`px-6 py-3 rounded-md font-medium transition-colors ${s==="manager"?"bg-red-600 text-white shadow-sm":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:" I'm an Event Manager"})]})}),s==="customer"&&n.jsxs("div",{className:"space-y-8",children:[n.jsxs(Xt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"bg-white rounded-xl shadow-sm border p-6",children:[n.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center",children:[n.jsx(Vp,{className:"h-6 w-6 mr-2 text-red-600"})," Key Features"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[n.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-3",children:n.jsx(ls,{className:"h-8 w-8 text-red-600"})}),n.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Post a Requirement"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Like OLX ad: Event type, date, location, guest count, budget, notes, and optional images."})]}),n.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[n.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-3",children:n.jsx(Dp,{className:"h-8 w-8 text-blue-600"})}),n.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Browse Managers"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Search & filter by location, budget, event type, ratings."})]}),n.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[n.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3",children:n.jsx(kn,{className:"h-8 w-8 text-green-600"})}),n.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Ad Detail Page"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Manager profile, services, past events, photos/videos, price packages."})]}),n.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[n.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-3",children:n.jsx(fl,{className:"h-8 w-8 text-purple-600"})}),n.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Chat & Call"}),n.jsx("p",{className:"text-sm text-gray-600",children:"In-app chat (similar to OLX) to negotiate and discuss."})]}),n.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[n.jsx("div",{className:"w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-3",children:n.jsx(lt,{className:"h-8 w-8 text-yellow-600"})}),n.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Book Now"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Secure booking with integrated payment gateway (Razorpay/Stripe)."})]}),n.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[n.jsx("div",{className:"w-16 h-16 bg-indigo-100 rounded-full flex items-center justify-center mx-auto mb-3",children:n.jsx(lt,{className:"h-8 w-8 text-indigo-600"})}),n.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Track Events"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Timeline & reminders."})]})]})]}),n.jsx(Xt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"text-center",children:n.jsxs("button",{onClick:()=>a(!0),className:"inline-flex items-center px-8 py-4 bg-red-600 hover:bg-red-700 text-white font-semibold rounded-lg text-lg transition-colors shadow-lg hover:shadow-xl",children:[n.jsx(ls,{className:"h-6 w-6 mr-2"}),"Post Your Requirement"]})}),n.jsxs(Xt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"bg-white rounded-xl shadow-sm border p-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Event Categories"}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:m.map(y=>n.jsx("button",{onClick:()=>f(y.id),className:`p-4 rounded-lg border-2 transition-colors ${h===y.id?"border-red-500 bg-red-50 text-red-700":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:n.jsxs("div",{className:"text-center",children:[n.jsx(y.icon,{className:"h-8 w-8 mx-auto mb-2 text-gray-600"}),n.jsx("p",{className:"font-medium text-sm",children:y.name}),n.jsxs("p",{className:"text-xs text-gray-500",children:[y.count," services"]})]})},y.id))})]}),n.jsxs(Xt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},className:"bg-white rounded-xl shadow-sm border p-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Featured Event Managers"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:_.map(y=>n.jsxs("div",{className:"border rounded-lg overflow-hidden hover:shadow-lg transition-shadow",children:[n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:y.image,alt:y.name,className:"w-full h-48 object-cover"}),y.featured&&n.jsx("div",{className:"absolute top-2 left-2 bg-yellow-500 text-white px-2 py-1 rounded-full text-xs font-medium",children:"Featured"}),y.verified&&n.jsx("div",{className:"absolute top-2 right-2 bg-blue-500 text-white p-1 rounded-full",children:n.jsx(w9,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:y.name}),n.jsxs("div",{className:"flex items-center text-yellow-500",children:[n.jsx(Mp,{className:"h-4 w-4 fill-current"}),n.jsx("span",{className:"ml-1 text-sm font-medium",children:y.rating})]})]}),n.jsx("p",{className:"text-sm text-gray-600 mb-2",children:y.category}),n.jsxs("p",{className:"text-sm text-gray-600 mb-2 flex items-center",children:[n.jsx(Be,{className:"h-4 w-4 mr-1"}),y.location]}),n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("span",{className:"text-sm text-gray-500",children:[y.experience," experience"]}),n.jsxs("span",{className:"text-sm text-gray-500",children:[y.reviews," reviews"]})]}),n.jsx("div",{className:"flex items-center justify-between mb-3",children:n.jsxs("span",{className:"text-sm font-medium text-green-600",children:["Starting from ",y.startingPrice]})}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{className:"flex-1 bg-red-600 hover:bg-red-700 text-white py-2 px-3 rounded-lg text-sm font-medium transition-colors",children:"View Profile"}),n.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white p-2 rounded-lg transition-colors",children:n.jsx(fl,{className:"h-4 w-4"})})]})]})]},y.id))})]})]}),s==="manager"&&n.jsxs("div",{className:"space-y-8",children:[n.jsxs(Xt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"bg-white rounded-xl shadow-sm border p-6",children:[n.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center",children:[n.jsx(Vp,{className:"h-6 w-6 mr-2 text-red-600"})," Key Features"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[n.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-3",children:n.jsx(B9,{className:"h-8 w-8 text-red-600"})}),n.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Create Verified Profile"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Build trust with verified credentials and professional portfolio."})]}),n.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[n.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-3",children:n.jsx(ls,{className:"h-8 w-8 text-blue-600"})}),n.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Post Services"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Like OLX seller ad: portfolio, categories, packages, availability, pricing."})]}),n.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[n.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3",children:n.jsx(eT,{className:"h-8 w-8 text-green-600"})}),n.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Receive Leads"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Get direct leads from customers posting requirements."})]}),n.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[n.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-3",children:n.jsx(fl,{className:"h-8 w-8 text-purple-600"})}),n.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Chat with Customers"}),n.jsx("p",{className:"text-sm text-gray-600",children:"In-app communication to discuss requirements and negotiate."})]}),n.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[n.jsx("div",{className:"w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-3",children:n.jsx(V9,{className:"h-8 w-8 text-yellow-600"})}),n.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Manage Bookings"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Accept/Reject offers and manage your event calendar."})]}),n.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[n.jsx("div",{className:"w-16 h-16 bg-indigo-100 rounded-full flex items-center justify-center mx-auto mb-3",children:n.jsx(QE,{className:"h-8 w-8 text-indigo-600"})}),n.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Payments Dashboard"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Track earnings with commission cuts clearly shown."})]})]})]}),n.jsx(Xt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"text-center",children:n.jsxs("button",{onClick:()=>l(!0),className:"inline-flex items-center px-8 py-4 bg-red-600 hover:bg-red-700 text-white font-semibold rounded-lg text-lg transition-colors shadow-lg hover:shadow-xl",children:[n.jsx(ls,{className:"h-6 w-6 mr-2"}),"Post Your Service"]})})]})]}),n.jsx(KF,{isOpen:i,onClose:()=>a(!1)}),n.jsx(QF,{isOpen:o,onClose:()=>l(!1)})]})},XF=()=>{const{user:t,loading:e}=Vt();return e?n.jsx(rO,{}):n.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[n.jsx(tO,{}),n.jsx("main",{className:"flex-1",children:n.jsxs(_I,{children:[n.jsx(ps,{path:"/",element:(t==null?void 0:t.role)==="public_user"?n.jsx(U1,{}):(t==null?void 0:t.role)==="admin"?n.jsx(LF,{}):(t==null?void 0:t.role)==="restaurant_owner"?n.jsx(B1,{}):(t==null?void 0:t.role)==="delivery_boy"?n.jsx(FF,{}):n.jsx(U1,{})}),n.jsx(ps,{path:"/cart",element:t&&t.role==="public_user"?n.jsx(VF,{}):n.jsx(Rm,{to:"/",replace:!0})}),n.jsx(ps,{path:"/profile",element:t&&t.role==="public_user"?n.jsx(BF,{}):n.jsx(Rm,{to:"/",replace:!0})}),n.jsx(ps,{path:"/restaurant-owner",element:n.jsx(B1,{})}),n.jsx(ps,{path:"/privacy-policy",element:n.jsx($F,{})}),n.jsx(ps,{path:"/terms-conditions",element:n.jsx(zF,{})}),n.jsx(ps,{path:"/refund-policy",element:n.jsx(qF,{})}),n.jsx(ps,{path:"/shipping-policy",element:n.jsx(HF,{})}),n.jsx(ps,{path:"/about-us",element:n.jsx(WF,{})}),n.jsx(ps,{path:"/contact-us",element:n.jsx(GF,{})}),n.jsx(ps,{path:"/event-planning",element:n.jsx(YF,{})}),n.jsx(ps,{path:"*",element:n.jsx(Rm,{to:"/",replace:!0})})]})}),n.jsx(sO,{})]})};function JF(){return n.jsx(f9,{children:n.jsx(p9,{children:n.jsx(g9,{children:n.jsxs(GI,{children:[n.jsx(XF,{}),n.jsx(W4,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"},success:{style:{background:"#10B981"}},error:{style:{background:"#EF4444"}}}})]})})})})}class ZF extends T.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,s){console.error("Error caught by boundary:",e,s)}render(){return this.state.hasError?n.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center p-4",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Something went wrong"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"We're sorry, but something unexpected happened. Please try refreshing the page."}),n.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Refresh Page"})]})}):this.props.children}}t2(document.getElementById("root")).render(n.jsx(T.StrictMode,{children:n.jsx(ZF,{children:n.jsx(JF,{})})}));
